function M4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bN={exports:{}},Km={},kN={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=Symbol.for("react.element"),_4=Symbol.for("react.portal"),R4=Symbol.for("react.fragment"),D4=Symbol.for("react.strict_mode"),I4=Symbol.for("react.profiler"),P4=Symbol.for("react.provider"),$4=Symbol.for("react.context"),F4=Symbol.for("react.forward_ref"),L4=Symbol.for("react.suspense"),j4=Symbol.for("react.memo"),z4=Symbol.for("react.lazy"),Bk=Symbol.iterator;function B4(e){return e===null||typeof e!="object"?null:(e=Bk&&e[Bk]||e["@@iterator"],typeof e=="function"?e:null)}var xN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ON=Object.assign,EN={};function Ic(e,t,n){this.props=e,this.context=t,this.refs=EN,this.updater=n||xN}Ic.prototype.isReactComponent={};Ic.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ic.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function CN(){}CN.prototype=Ic.prototype;function hw(e,t,n){this.props=e,this.context=t,this.refs=EN,this.updater=n||xN}var dw=hw.prototype=new CN;dw.constructor=hw;ON(dw,Ic.prototype);dw.isPureReactComponent=!0;var Uk=Array.isArray,NN=Object.prototype.hasOwnProperty,mw={current:null},TN={key:!0,ref:!0,__self:!0,__source:!0};function AN(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)NN.call(t,r)&&!TN.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var u=Array(l),f=0;f<l;f++)u[f]=arguments[f+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Pp,type:e,key:i,ref:s,props:o,_owner:mw.current}}function U4(e,t){return{$$typeof:Pp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pp}function V4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vk=/\/+/g;function Ry(e,t){return typeof e=="object"&&e!==null&&e.key!=null?V4(""+e.key):t.toString(36)}function pd(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Pp:case _4:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Ry(s,0):r,Uk(o)?(n="",e!=null&&(n=e.replace(Vk,"$&/")+"/"),pd(o,t,n,"",function(f){return f})):o!=null&&(gw(o)&&(o=U4(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Vk,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Uk(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+Ry(i,l);s+=pd(i,t,n,u,o)}else if(u=B4(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+Ry(i,l++),s+=pd(i,t,n,u,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Fh(e,t,n){if(e==null)return e;var r=[],o=0;return pd(e,r,"","",function(i){return t.call(n,i,o++)}),r}function H4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gr={current:null},hd={transition:null},q4={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:hd,ReactCurrentOwner:mw};function MN(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:Fh,forEach:function(e,t,n){Fh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fh(e,function(){t++}),t},toArray:function(e){return Fh(e,function(t){return t})||[]},only:function(e){if(!gw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Dt.Component=Ic;Dt.Fragment=R4;Dt.Profiler=I4;Dt.PureComponent=hw;Dt.StrictMode=D4;Dt.Suspense=L4;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q4;Dt.act=MN;Dt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ON({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=mw.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)NN.call(t,u)&&!TN.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:Pp,type:e.type,key:o,ref:i,props:r,_owner:s}};Dt.createContext=function(e){return e={$$typeof:$4,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:P4,_context:e},e.Consumer=e};Dt.createElement=AN;Dt.createFactory=function(e){var t=AN.bind(null,e);return t.type=e,t};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(e){return{$$typeof:F4,render:e}};Dt.isValidElement=gw;Dt.lazy=function(e){return{$$typeof:z4,_payload:{_status:-1,_result:e},_init:H4}};Dt.memo=function(e,t){return{$$typeof:j4,type:e,compare:t===void 0?null:t}};Dt.startTransition=function(e){var t=hd.transition;hd.transition={};try{e()}finally{hd.transition=t}};Dt.unstable_act=MN;Dt.useCallback=function(e,t){return Gr.current.useCallback(e,t)};Dt.useContext=function(e){return Gr.current.useContext(e)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(e){return Gr.current.useDeferredValue(e)};Dt.useEffect=function(e,t){return Gr.current.useEffect(e,t)};Dt.useId=function(){return Gr.current.useId()};Dt.useImperativeHandle=function(e,t,n){return Gr.current.useImperativeHandle(e,t,n)};Dt.useInsertionEffect=function(e,t){return Gr.current.useInsertionEffect(e,t)};Dt.useLayoutEffect=function(e,t){return Gr.current.useLayoutEffect(e,t)};Dt.useMemo=function(e,t){return Gr.current.useMemo(e,t)};Dt.useReducer=function(e,t,n){return Gr.current.useReducer(e,t,n)};Dt.useRef=function(e){return Gr.current.useRef(e)};Dt.useState=function(e){return Gr.current.useState(e)};Dt.useSyncExternalStore=function(e,t,n){return Gr.current.useSyncExternalStore(e,t,n)};Dt.useTransition=function(){return Gr.current.useTransition()};Dt.version="18.3.1";kN.exports=Dt;var Gt=kN.exports;const Wl=pw(Gt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W4=Gt,K4=Symbol.for("react.element"),G4=Symbol.for("react.fragment"),J4=Object.prototype.hasOwnProperty,Q4=W4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y4={key:!0,ref:!0,__self:!0,__source:!0};function _N(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)J4.call(t,r)&&!Y4.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:K4,type:e,key:i,ref:s,props:o,_owner:Q4.current}}Km.Fragment=G4;Km.jsx=_N;Km.jsxs=_N;bN.exports=Km;var un=bN.exports,mv={},RN={exports:{}},_o={},DN={exports:{}},IN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(fe,J){var T=fe.length;fe.push(J);e:for(;0<T;){var le=T-1>>>1,xe=fe[le];if(0<o(xe,J))fe[le]=J,fe[T]=xe,T=le;else break e}}function n(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var J=fe[0],T=fe.pop();if(T!==J){fe[0]=T;e:for(var le=0,xe=fe.length,C=xe>>>1;le<C;){var _=2*(le+1)-1,P=fe[_],L=_+1,pe=fe[L];if(0>o(P,T))L<xe&&0>o(pe,P)?(fe[le]=pe,fe[L]=T,le=L):(fe[le]=P,fe[_]=T,le=_);else if(L<xe&&0>o(pe,T))fe[le]=pe,fe[L]=T,le=L;else break e}}return J}function o(fe,J){var T=fe.sortIndex-J.sortIndex;return T!==0?T:fe.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],f=[],p=1,h=null,d=3,g=!1,y=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(fe){for(var J=n(f);J!==null;){if(J.callback===null)r(f);else if(J.startTime<=fe)r(f),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(f)}}function D(fe){if(b=!1,x(fe),!y)if(n(u)!==null)y=!0,re(F);else{var J=n(f);J!==null&&He(D,J.startTime-fe)}}function F(fe,J){y=!1,b&&(b=!1,v(j),j=-1),g=!0;var T=d;try{for(x(J),h=n(u);h!==null&&(!(h.expirationTime>J)||fe&&!Se());){var le=h.callback;if(typeof le=="function"){h.callback=null,d=h.priorityLevel;var xe=le(h.expirationTime<=J);J=e.unstable_now(),typeof xe=="function"?h.callback=xe:h===n(u)&&r(u),x(J)}else r(u);h=n(u)}if(h!==null)var C=!0;else{var _=n(f);_!==null&&He(D,_.startTime-J),C=!1}return C}finally{h=null,d=T,g=!1}}var I=!1,V=null,j=-1,te=5,se=-1;function Se(){return!(e.unstable_now()-se<te)}function me(){if(V!==null){var fe=e.unstable_now();se=fe;var J=!0;try{J=V(!0,fe)}finally{J?W():(I=!1,V=null)}}else I=!1}var W;if(typeof k=="function")W=function(){k(me)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,U=G.port2;G.port1.onmessage=me,W=function(){U.postMessage(null)}}else W=function(){N(me,0)};function re(fe){V=fe,I||(I=!0,W())}function He(fe,J){j=N(function(){fe(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(fe){fe.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,re(F))},e.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<fe?Math.floor(1e3/fe):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(fe){switch(d){case 1:case 2:case 3:var J=3;break;default:J=d}var T=d;d=J;try{return fe()}finally{d=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(fe,J){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var T=d;d=fe;try{return J()}finally{d=T}},e.unstable_scheduleCallback=function(fe,J,T){var le=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?le+T:le):T=le,fe){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=T+xe,fe={id:p++,callback:J,priorityLevel:fe,startTime:T,expirationTime:xe,sortIndex:-1},T>le?(fe.sortIndex=T,t(f,fe),n(u)===null&&fe===n(f)&&(b?(v(j),j=-1):b=!0,He(D,T-le))):(fe.sortIndex=xe,t(u,fe),y||g||(y=!0,re(F))),fe},e.unstable_shouldYield=Se,e.unstable_wrapCallback=function(fe){var J=d;return function(){var T=d;d=J;try{return fe.apply(this,arguments)}finally{d=T}}}})(IN);DN.exports=IN;var Z4=DN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X4=Gt,Mo=Z4;function De(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PN=new Set,lp={};function tu(e,t){gc(e,t),gc(e+"Capture",t)}function gc(e,t){for(lp[e]=t,e=0;e<t.length;e++)PN.add(t[e])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gv=Object.prototype.hasOwnProperty,e$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hk={},qk={};function t$(e){return gv.call(qk,e)?!0:gv.call(Hk,e)?!1:e$.test(e)?qk[e]=!0:(Hk[e]=!0,!1)}function n$(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r$(e,t,n,r){if(t===null||typeof t>"u"||n$(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jr(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kr[e]=new Jr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kr[t]=new Jr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kr[e]=new Jr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kr[e]=new Jr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kr[e]=new Jr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kr[e]=new Jr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kr[e]=new Jr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kr[e]=new Jr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kr[e]=new Jr(e,5,!1,e.toLowerCase(),null,!1,!1)});var yw=/[\-:]([a-z])/g;function vw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yw,vw);kr[t]=new Jr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yw,vw);kr[t]=new Jr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yw,vw);kr[t]=new Jr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kr[e]=new Jr(e,1,!1,e.toLowerCase(),null,!1,!1)});kr.xlinkHref=new Jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kr[e]=new Jr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ww(e,t,n,r){var o=kr.hasOwnProperty(t)?kr[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r$(t,n,o,r)&&(n=null),r||o===null?t$(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fs=X4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lh=Symbol.for("react.element"),Wu=Symbol.for("react.portal"),Ku=Symbol.for("react.fragment"),Sw=Symbol.for("react.strict_mode"),yv=Symbol.for("react.profiler"),$N=Symbol.for("react.provider"),FN=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),vv=Symbol.for("react.suspense"),wv=Symbol.for("react.suspense_list"),kw=Symbol.for("react.memo"),hl=Symbol.for("react.lazy"),LN=Symbol.for("react.offscreen"),Wk=Symbol.iterator;function vf(e){return e===null||typeof e!="object"?null:(e=Wk&&e[Wk]||e["@@iterator"],typeof e=="function"?e:null)}var _n=Object.assign,Dy;function $f(e){if(Dy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Dy=t&&t[1]||""}return`
`+Dy+e}var Iy=!1;function Py(e,t){if(!e||Iy)return"";Iy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var u=`
`+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=l);break}}}finally{Iy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$f(e):""}function o$(e){switch(e.tag){case 5:return $f(e.type);case 16:return $f("Lazy");case 13:return $f("Suspense");case 19:return $f("SuspenseList");case 0:case 2:case 15:return e=Py(e.type,!1),e;case 11:return e=Py(e.type.render,!1),e;case 1:return e=Py(e.type,!0),e;default:return""}}function Sv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ku:return"Fragment";case Wu:return"Portal";case yv:return"Profiler";case Sw:return"StrictMode";case vv:return"Suspense";case wv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case FN:return(e.displayName||"Context")+".Consumer";case $N:return(e._context.displayName||"Context")+".Provider";case bw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kw:return t=e.displayName||null,t!==null?t:Sv(e.type)||"Memo";case hl:t=e._payload,e=e._init;try{return Sv(e(t))}catch{}}return null}function i$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sv(t);case 8:return t===Sw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ul(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s$(e){var t=jN(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jh(e){e._valueTracker||(e._valueTracker=s$(e))}function zN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jN(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bv(e,t){var n=t.checked;return _n({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Kk(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ul(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function BN(e,t){t=t.checked,t!=null&&ww(e,"checked",t,!1)}function kv(e,t){BN(e,t);var n=Ul(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xv(e,t.type,n):t.hasOwnProperty("defaultValue")&&xv(e,t.type,Ul(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gk(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xv(e,t,n){(t!=="number"||qd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ff=Array.isArray;function ic(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ul(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ov(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return _n({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jk(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(De(92));if(Ff(n)){if(1<n.length)throw Error(De(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ul(n)}}function UN(e,t){var n=Ul(t.value),r=Ul(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ev(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zh,HN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zh=zh||document.createElement("div"),zh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ap(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l$=["Webkit","ms","Moz","O"];Object.keys(qf).forEach(function(e){l$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qf[t]=qf[e]})});function qN(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qf.hasOwnProperty(e)&&qf[e]?(""+t).trim():t+"px"}function WN(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=qN(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var a$=_n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cv(e,t){if(t){if(a$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function Nv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tv=null;function xw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Av=null,sc=null,lc=null;function Yk(e){if(e=Lp(e)){if(typeof Av!="function")throw Error(De(280));var t=e.stateNode;t&&(t=Zm(t),Av(e.stateNode,e.type,t))}}function KN(e){sc?lc?lc.push(e):lc=[e]:sc=e}function GN(){if(sc){var e=sc,t=lc;if(lc=sc=null,Yk(e),t)for(e=0;e<t.length;e++)Yk(t[e])}}function JN(e,t){return e(t)}function QN(){}var $y=!1;function YN(e,t,n){if($y)return e(t,n);$y=!0;try{return JN(e,t,n)}finally{$y=!1,(sc!==null||lc!==null)&&(QN(),GN())}}function up(e,t){var n=e.stateNode;if(n===null)return null;var r=Zm(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(De(231,t,typeof n));return n}var Mv=!1;if(Ds)try{var wf={};Object.defineProperty(wf,"passive",{get:function(){Mv=!0}}),window.addEventListener("test",wf,wf),window.removeEventListener("test",wf,wf)}catch{Mv=!1}function u$(e,t,n,r,o,i,s,l,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var Wf=!1,Wd=null,Kd=!1,_v=null,c$={onError:function(e){Wf=!0,Wd=e}};function f$(e,t,n,r,o,i,s,l,u){Wf=!1,Wd=null,u$.apply(c$,arguments)}function p$(e,t,n,r,o,i,s,l,u){if(f$.apply(this,arguments),Wf){if(Wf){var f=Wd;Wf=!1,Wd=null}else throw Error(De(198));Kd||(Kd=!0,_v=f)}}function nu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ZN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zk(e){if(nu(e)!==e)throw Error(De(188))}function h$(e){var t=e.alternate;if(!t){if(t=nu(e),t===null)throw Error(De(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Zk(o),e;if(i===r)return Zk(o),t;i=i.sibling}throw Error(De(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?e:t}function XN(e){return e=h$(e),e!==null?e2(e):null}function e2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=e2(e);if(t!==null)return t;e=e.sibling}return null}var t2=Mo.unstable_scheduleCallback,Xk=Mo.unstable_cancelCallback,d$=Mo.unstable_shouldYield,m$=Mo.unstable_requestPaint,zn=Mo.unstable_now,g$=Mo.unstable_getCurrentPriorityLevel,Ow=Mo.unstable_ImmediatePriority,n2=Mo.unstable_UserBlockingPriority,Gd=Mo.unstable_NormalPriority,y$=Mo.unstable_LowPriority,r2=Mo.unstable_IdlePriority,Gm=null,Hi=null;function v$(e){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(Gm,e,void 0,(e.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:b$,w$=Math.log,S$=Math.LN2;function b$(e){return e>>>=0,e===0?32:31-(w$(e)/S$|0)|0}var Bh=64,Uh=4194304;function Lf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=Lf(l):(i&=s,i!==0&&(r=Lf(i)))}else s=n&~o,s!==0?r=Lf(s):i!==0&&(r=Lf(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hi(t),o=1<<n,r|=e[n],t&=~o;return r}function k$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-hi(i),l=1<<s,u=o[s];u===-1?(!(l&n)||l&r)&&(o[s]=k$(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Rv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function o2(){var e=Bh;return Bh<<=1,!(Bh&4194240)&&(Bh=64),e}function Fy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $p(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hi(t),e[t]=n}function O$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-hi(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Ew(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hi(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var sn=0;function i2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var s2,Cw,l2,a2,u2,Dv=!1,Vh=[],_l=null,Rl=null,Dl=null,cp=new Map,fp=new Map,vl=[],E$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ex(e,t){switch(e){case"focusin":case"focusout":_l=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Dl=null;break;case"pointerover":case"pointerout":cp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fp.delete(t.pointerId)}}function Sf(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Lp(t),t!==null&&Cw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function C$(e,t,n,r,o){switch(t){case"focusin":return _l=Sf(_l,e,t,n,r,o),!0;case"dragenter":return Rl=Sf(Rl,e,t,n,r,o),!0;case"mouseover":return Dl=Sf(Dl,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return cp.set(i,Sf(cp.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,fp.set(i,Sf(fp.get(i)||null,e,t,n,r,o)),!0}return!1}function c2(e){var t=Ra(e.target);if(t!==null){var n=nu(t);if(n!==null){if(t=n.tag,t===13){if(t=ZN(n),t!==null){e.blockedOn=t,u2(e.priority,function(){l2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Iv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Tv=r,n.target.dispatchEvent(r),Tv=null}else return t=Lp(n),t!==null&&Cw(t),e.blockedOn=n,!1;t.shift()}return!0}function tx(e,t,n){dd(e)&&n.delete(t)}function N$(){Dv=!1,_l!==null&&dd(_l)&&(_l=null),Rl!==null&&dd(Rl)&&(Rl=null),Dl!==null&&dd(Dl)&&(Dl=null),cp.forEach(tx),fp.forEach(tx)}function bf(e,t){e.blockedOn===t&&(e.blockedOn=null,Dv||(Dv=!0,Mo.unstable_scheduleCallback(Mo.unstable_NormalPriority,N$)))}function pp(e){function t(o){return bf(o,e)}if(0<Vh.length){bf(Vh[0],e);for(var n=1;n<Vh.length;n++){var r=Vh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_l!==null&&bf(_l,e),Rl!==null&&bf(Rl,e),Dl!==null&&bf(Dl,e),cp.forEach(t),fp.forEach(t),n=0;n<vl.length;n++)r=vl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vl.length&&(n=vl[0],n.blockedOn===null);)c2(n),n.blockedOn===null&&vl.shift()}var ac=Fs.ReactCurrentBatchConfig,Qd=!0;function T$(e,t,n,r){var o=sn,i=ac.transition;ac.transition=null;try{sn=1,Nw(e,t,n,r)}finally{sn=o,ac.transition=i}}function A$(e,t,n,r){var o=sn,i=ac.transition;ac.transition=null;try{sn=4,Nw(e,t,n,r)}finally{sn=o,ac.transition=i}}function Nw(e,t,n,r){if(Qd){var o=Iv(e,t,n,r);if(o===null)Ky(e,t,r,Yd,n),ex(e,r);else if(C$(o,e,t,n,r))r.stopPropagation();else if(ex(e,r),t&4&&-1<E$.indexOf(e)){for(;o!==null;){var i=Lp(o);if(i!==null&&s2(i),i=Iv(e,t,n,r),i===null&&Ky(e,t,r,Yd,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Ky(e,t,r,null,n)}}var Yd=null;function Iv(e,t,n,r){if(Yd=null,e=xw(r),e=Ra(e),e!==null)if(t=nu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ZN(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yd=e,null}function f2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g$()){case Ow:return 1;case n2:return 4;case Gd:case y$:return 16;case r2:return 536870912;default:return 16}default:return 16}}var Ol=null,Tw=null,md=null;function p2(){if(md)return md;var e,t=Tw,n=t.length,r,o="value"in Ol?Ol.value:Ol.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return md=o.slice(e,1<r?1-r:void 0)}function gd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hh(){return!0}function nx(){return!1}function Ro(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Hh:nx,this.isPropagationStopped=nx,this}return _n(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hh)},persist:function(){},isPersistent:Hh}),t}var Pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aw=Ro(Pc),Fp=_n({},Pc,{view:0,detail:0}),M$=Ro(Fp),Ly,jy,kf,Jm=_n({},Fp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kf&&(kf&&e.type==="mousemove"?(Ly=e.screenX-kf.screenX,jy=e.screenY-kf.screenY):jy=Ly=0,kf=e),Ly)},movementY:function(e){return"movementY"in e?e.movementY:jy}}),rx=Ro(Jm),_$=_n({},Jm,{dataTransfer:0}),R$=Ro(_$),D$=_n({},Fp,{relatedTarget:0}),zy=Ro(D$),I$=_n({},Pc,{animationName:0,elapsedTime:0,pseudoElement:0}),P$=Ro(I$),$$=_n({},Pc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),F$=Ro($$),L$=_n({},Pc,{data:0}),ox=Ro(L$),j$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=B$[e])?!!t[e]:!1}function Mw(){return U$}var V$=_n({},Fp,{key:function(e){if(e.key){var t=j$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mw,charCode:function(e){return e.type==="keypress"?gd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),H$=Ro(V$),q$=_n({},Jm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ix=Ro(q$),W$=_n({},Fp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mw}),K$=Ro(W$),G$=_n({},Pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),J$=Ro(G$),Q$=_n({},Jm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Y$=Ro(Q$),Z$=[9,13,27,32],_w=Ds&&"CompositionEvent"in window,Kf=null;Ds&&"documentMode"in document&&(Kf=document.documentMode);var X$=Ds&&"TextEvent"in window&&!Kf,h2=Ds&&(!_w||Kf&&8<Kf&&11>=Kf),sx=" ",lx=!1;function d2(e,t){switch(e){case"keyup":return Z$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gu=!1;function eF(e,t){switch(e){case"compositionend":return m2(t);case"keypress":return t.which!==32?null:(lx=!0,sx);case"textInput":return e=t.data,e===sx&&lx?null:e;default:return null}}function tF(e,t){if(Gu)return e==="compositionend"||!_w&&d2(e,t)?(e=p2(),md=Tw=Ol=null,Gu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return h2&&t.locale!=="ko"?null:t.data;default:return null}}var nF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ax(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nF[e.type]:t==="textarea"}function g2(e,t,n,r){KN(r),t=Zd(t,"onChange"),0<t.length&&(n=new Aw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gf=null,hp=null;function rF(e){N2(e,0)}function Qm(e){var t=Yu(e);if(zN(t))return e}function oF(e,t){if(e==="change")return t}var y2=!1;if(Ds){var By;if(Ds){var Uy="oninput"in document;if(!Uy){var ux=document.createElement("div");ux.setAttribute("oninput","return;"),Uy=typeof ux.oninput=="function"}By=Uy}else By=!1;y2=By&&(!document.documentMode||9<document.documentMode)}function cx(){Gf&&(Gf.detachEvent("onpropertychange",v2),hp=Gf=null)}function v2(e){if(e.propertyName==="value"&&Qm(hp)){var t=[];g2(t,hp,e,xw(e)),YN(rF,t)}}function iF(e,t,n){e==="focusin"?(cx(),Gf=t,hp=n,Gf.attachEvent("onpropertychange",v2)):e==="focusout"&&cx()}function sF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qm(hp)}function lF(e,t){if(e==="click")return Qm(t)}function aF(e,t){if(e==="input"||e==="change")return Qm(t)}function uF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yi=typeof Object.is=="function"?Object.is:uF;function dp(e,t){if(yi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!gv.call(t,o)||!yi(e[o],t[o]))return!1}return!0}function fx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function px(e,t){var n=fx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fx(n)}}function w2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?w2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function S2(){for(var e=window,t=qd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qd(e.document)}return t}function Rw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cF(e){var t=S2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&w2(n.ownerDocument.documentElement,n)){if(r!==null&&Rw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=px(n,i);var s=px(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fF=Ds&&"documentMode"in document&&11>=document.documentMode,Ju=null,Pv=null,Jf=null,$v=!1;function hx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$v||Ju==null||Ju!==qd(r)||(r=Ju,"selectionStart"in r&&Rw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jf&&dp(Jf,r)||(Jf=r,r=Zd(Pv,"onSelect"),0<r.length&&(t=new Aw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ju)))}function qh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qu={animationend:qh("Animation","AnimationEnd"),animationiteration:qh("Animation","AnimationIteration"),animationstart:qh("Animation","AnimationStart"),transitionend:qh("Transition","TransitionEnd")},Vy={},b2={};Ds&&(b2=document.createElement("div").style,"AnimationEvent"in window||(delete Qu.animationend.animation,delete Qu.animationiteration.animation,delete Qu.animationstart.animation),"TransitionEvent"in window||delete Qu.transitionend.transition);function Ym(e){if(Vy[e])return Vy[e];if(!Qu[e])return e;var t=Qu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in b2)return Vy[e]=t[n];return e}var k2=Ym("animationend"),x2=Ym("animationiteration"),O2=Ym("animationstart"),E2=Ym("transitionend"),C2=new Map,dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kl(e,t){C2.set(e,t),tu(t,[e])}for(var Hy=0;Hy<dx.length;Hy++){var qy=dx[Hy],pF=qy.toLowerCase(),hF=qy[0].toUpperCase()+qy.slice(1);Kl(pF,"on"+hF)}Kl(k2,"onAnimationEnd");Kl(x2,"onAnimationIteration");Kl(O2,"onAnimationStart");Kl("dblclick","onDoubleClick");Kl("focusin","onFocus");Kl("focusout","onBlur");Kl(E2,"onTransitionEnd");gc("onMouseEnter",["mouseout","mouseover"]);gc("onMouseLeave",["mouseout","mouseover"]);gc("onPointerEnter",["pointerout","pointerover"]);gc("onPointerLeave",["pointerout","pointerover"]);tu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tu("onBeforeInput",["compositionend","keypress","textInput","paste"]);tu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dF=new Set("cancel close invalid load scroll toggle".split(" ").concat(jf));function mx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,p$(r,t,void 0,e),e.currentTarget=null}function N2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==i&&o.isPropagationStopped())break e;mx(o,l,f),i=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,f=l.currentTarget,l=l.listener,u!==i&&o.isPropagationStopped())break e;mx(o,l,f),i=u}}}if(Kd)throw e=_v,Kd=!1,_v=null,e}function vn(e,t){var n=t[Bv];n===void 0&&(n=t[Bv]=new Set);var r=e+"__bubble";n.has(r)||(T2(t,e,2,!1),n.add(r))}function Wy(e,t,n){var r=0;t&&(r|=4),T2(n,e,r,t)}var Wh="_reactListening"+Math.random().toString(36).slice(2);function mp(e){if(!e[Wh]){e[Wh]=!0,PN.forEach(function(n){n!=="selectionchange"&&(dF.has(n)||Wy(n,!1,e),Wy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wh]||(t[Wh]=!0,Wy("selectionchange",!1,t))}}function T2(e,t,n,r){switch(f2(t)){case 1:var o=T$;break;case 4:o=A$;break;default:o=Nw}n=o.bind(null,t,n,e),o=void 0,!Mv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ky(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Ra(l),s===null)return;if(u=s.tag,u===5||u===6){r=i=s;continue e}l=l.parentNode}}r=r.return}YN(function(){var f=i,p=xw(n),h=[];e:{var d=C2.get(e);if(d!==void 0){var g=Aw,y=e;switch(e){case"keypress":if(gd(n)===0)break e;case"keydown":case"keyup":g=H$;break;case"focusin":y="focus",g=zy;break;case"focusout":y="blur",g=zy;break;case"beforeblur":case"afterblur":g=zy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=rx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=R$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=K$;break;case k2:case x2:case O2:g=P$;break;case E2:g=J$;break;case"scroll":g=M$;break;case"wheel":g=Y$;break;case"copy":case"cut":case"paste":g=F$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ix}var b=(t&4)!==0,N=!b&&e==="scroll",v=b?d!==null?d+"Capture":null:d;b=[];for(var k=f,x;k!==null;){x=k;var D=x.stateNode;if(x.tag===5&&D!==null&&(x=D,v!==null&&(D=up(k,v),D!=null&&b.push(gp(k,D,x)))),N)break;k=k.return}0<b.length&&(d=new g(d,y,null,n,p),h.push({event:d,listeners:b}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==Tv&&(y=n.relatedTarget||n.fromElement)&&(Ra(y)||y[Is]))break e;if((g||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=f,y=y?Ra(y):null,y!==null&&(N=nu(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=f),g!==y)){if(b=rx,D="onMouseLeave",v="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(b=ix,D="onPointerLeave",v="onPointerEnter",k="pointer"),N=g==null?d:Yu(g),x=y==null?d:Yu(y),d=new b(D,k+"leave",g,n,p),d.target=N,d.relatedTarget=x,D=null,Ra(p)===f&&(b=new b(v,k+"enter",y,n,p),b.target=x,b.relatedTarget=N,D=b),N=D,g&&y)t:{for(b=g,v=y,k=0,x=b;x;x=$u(x))k++;for(x=0,D=v;D;D=$u(D))x++;for(;0<k-x;)b=$u(b),k--;for(;0<x-k;)v=$u(v),x--;for(;k--;){if(b===v||v!==null&&b===v.alternate)break t;b=$u(b),v=$u(v)}b=null}else b=null;g!==null&&gx(h,d,g,b,!1),y!==null&&N!==null&&gx(h,N,y,b,!0)}}e:{if(d=f?Yu(f):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var F=oF;else if(ax(d))if(y2)F=aF;else{F=sF;var I=iF}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(F=lF);if(F&&(F=F(e,f))){g2(h,F,n,p);break e}I&&I(e,d,f),e==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&xv(d,"number",d.value)}switch(I=f?Yu(f):window,e){case"focusin":(ax(I)||I.contentEditable==="true")&&(Ju=I,Pv=f,Jf=null);break;case"focusout":Jf=Pv=Ju=null;break;case"mousedown":$v=!0;break;case"contextmenu":case"mouseup":case"dragend":$v=!1,hx(h,n,p);break;case"selectionchange":if(fF)break;case"keydown":case"keyup":hx(h,n,p)}var V;if(_w)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Gu?d2(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(h2&&n.locale!=="ko"&&(Gu||j!=="onCompositionStart"?j==="onCompositionEnd"&&Gu&&(V=p2()):(Ol=p,Tw="value"in Ol?Ol.value:Ol.textContent,Gu=!0)),I=Zd(f,j),0<I.length&&(j=new ox(j,e,null,n,p),h.push({event:j,listeners:I}),V?j.data=V:(V=m2(n),V!==null&&(j.data=V)))),(V=X$?eF(e,n):tF(e,n))&&(f=Zd(f,"onBeforeInput"),0<f.length&&(p=new ox("onBeforeInput","beforeinput",null,n,p),h.push({event:p,listeners:f}),p.data=V))}N2(h,t)})}function gp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zd(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=up(e,n),i!=null&&r.unshift(gp(e,i,o)),i=up(e,t),i!=null&&r.push(gp(e,i,o))),e=e.return}return r}function $u(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gx(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,f=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&f!==null&&(l=f,o?(u=up(n,i),u!=null&&s.unshift(gp(n,u,l))):o||(u=up(n,i),u!=null&&s.push(gp(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var mF=/\r\n?/g,gF=/\u0000|\uFFFD/g;function yx(e){return(typeof e=="string"?e:""+e).replace(mF,`
`).replace(gF,"")}function Kh(e,t,n){if(t=yx(t),yx(e)!==t&&n)throw Error(De(425))}function Xd(){}var Fv=null,Lv=null;function jv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zv=typeof setTimeout=="function"?setTimeout:void 0,yF=typeof clearTimeout=="function"?clearTimeout:void 0,vx=typeof Promise=="function"?Promise:void 0,vF=typeof queueMicrotask=="function"?queueMicrotask:typeof vx<"u"?function(e){return vx.resolve(null).then(e).catch(wF)}:zv;function wF(e){setTimeout(function(){throw e})}function Gy(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),pp(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);pp(t)}function Il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $c=Math.random().toString(36).slice(2),zi="__reactFiber$"+$c,yp="__reactProps$"+$c,Is="__reactContainer$"+$c,Bv="__reactEvents$"+$c,SF="__reactListeners$"+$c,bF="__reactHandles$"+$c;function Ra(e){var t=e[zi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Is]||n[zi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wx(e);e!==null;){if(n=e[zi])return n;e=wx(e)}return t}e=n,n=e.parentNode}return null}function Lp(e){return e=e[zi]||e[Is],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function Zm(e){return e[yp]||null}var Uv=[],Zu=-1;function Gl(e){return{current:e}}function wn(e){0>Zu||(e.current=Uv[Zu],Uv[Zu]=null,Zu--)}function mn(e,t){Zu++,Uv[Zu]=e.current,e.current=t}var Vl={},Ir=Gl(Vl),lo=Gl(!1),qa=Vl;function yc(e,t){var n=e.type.contextTypes;if(!n)return Vl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ao(e){return e=e.childContextTypes,e!=null}function em(){wn(lo),wn(Ir)}function Sx(e,t,n){if(Ir.current!==Vl)throw Error(De(168));mn(Ir,t),mn(lo,n)}function A2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(De(108,i$(e)||"Unknown",o));return _n({},n,r)}function tm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vl,qa=Ir.current,mn(Ir,e),mn(lo,lo.current),!0}function bx(e,t,n){var r=e.stateNode;if(!r)throw Error(De(169));n?(e=A2(e,t,qa),r.__reactInternalMemoizedMergedChildContext=e,wn(lo),wn(Ir),mn(Ir,e)):wn(lo),mn(lo,n)}var Os=null,Xm=!1,Jy=!1;function M2(e){Os===null?Os=[e]:Os.push(e)}function kF(e){Xm=!0,M2(e)}function Jl(){if(!Jy&&Os!==null){Jy=!0;var e=0,t=sn;try{var n=Os;for(sn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Os=null,Xm=!1}catch(o){throw Os!==null&&(Os=Os.slice(e+1)),t2(Ow,Jl),o}finally{sn=t,Jy=!1}}return null}var Xu=[],ec=0,nm=null,rm=0,Bo=[],Uo=0,Wa=null,Cs=1,Ns="";function Na(e,t){Xu[ec++]=rm,Xu[ec++]=nm,nm=e,rm=t}function _2(e,t,n){Bo[Uo++]=Cs,Bo[Uo++]=Ns,Bo[Uo++]=Wa,Wa=e;var r=Cs;e=Ns;var o=32-hi(r)-1;r&=~(1<<o),n+=1;var i=32-hi(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Cs=1<<32-hi(t)+o|n<<o|r,Ns=i+e}else Cs=1<<i|n<<o|r,Ns=e}function Dw(e){e.return!==null&&(Na(e,1),_2(e,1,0))}function Iw(e){for(;e===nm;)nm=Xu[--ec],Xu[ec]=null,rm=Xu[--ec],Xu[ec]=null;for(;e===Wa;)Wa=Bo[--Uo],Bo[Uo]=null,Ns=Bo[--Uo],Bo[Uo]=null,Cs=Bo[--Uo],Bo[Uo]=null}var No=null,Eo=null,bn=!1,ui=null;function R2(e,t){var n=Ko(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,No=e,Eo=Il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,No=e,Eo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wa!==null?{id:Cs,overflow:Ns}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ko(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,No=e,Eo=null,!0):!1;default:return!1}}function Vv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hv(e){if(bn){var t=Eo;if(t){var n=t;if(!kx(e,t)){if(Vv(e))throw Error(De(418));t=Il(n.nextSibling);var r=No;t&&kx(e,t)?R2(r,n):(e.flags=e.flags&-4097|2,bn=!1,No=e)}}else{if(Vv(e))throw Error(De(418));e.flags=e.flags&-4097|2,bn=!1,No=e}}}function xx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;No=e}function Gh(e){if(e!==No)return!1;if(!bn)return xx(e),bn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jv(e.type,e.memoizedProps)),t&&(t=Eo)){if(Vv(e))throw D2(),Error(De(418));for(;t;)R2(e,t),t=Il(t.nextSibling)}if(xx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Eo=Il(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Eo=null}}else Eo=No?Il(e.stateNode.nextSibling):null;return!0}function D2(){for(var e=Eo;e;)e=Il(e.nextSibling)}function vc(){Eo=No=null,bn=!1}function Pw(e){ui===null?ui=[e]:ui.push(e)}var xF=Fs.ReactCurrentBatchConfig;function xf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,e))}return e}function Jh(e,t){throw e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ox(e){var t=e._init;return t(e._payload)}function I2(e){function t(v,k){if(e){var x=v.deletions;x===null?(v.deletions=[k],v.flags|=16):x.push(k)}}function n(v,k){if(!e)return null;for(;k!==null;)t(v,k),k=k.sibling;return null}function r(v,k){for(v=new Map;k!==null;)k.key!==null?v.set(k.key,k):v.set(k.index,k),k=k.sibling;return v}function o(v,k){return v=Ll(v,k),v.index=0,v.sibling=null,v}function i(v,k,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<k?(v.flags|=2,k):x):(v.flags|=2,k)):(v.flags|=1048576,k)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,k,x,D){return k===null||k.tag!==6?(k=n0(x,v.mode,D),k.return=v,k):(k=o(k,x),k.return=v,k)}function u(v,k,x,D){var F=x.type;return F===Ku?p(v,k,x.props.children,D,x.key):k!==null&&(k.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===hl&&Ox(F)===k.type)?(D=o(k,x.props),D.ref=xf(v,k,x),D.return=v,D):(D=xd(x.type,x.key,x.props,null,v.mode,D),D.ref=xf(v,k,x),D.return=v,D)}function f(v,k,x,D){return k===null||k.tag!==4||k.stateNode.containerInfo!==x.containerInfo||k.stateNode.implementation!==x.implementation?(k=r0(x,v.mode,D),k.return=v,k):(k=o(k,x.children||[]),k.return=v,k)}function p(v,k,x,D,F){return k===null||k.tag!==7?(k=La(x,v.mode,D,F),k.return=v,k):(k=o(k,x),k.return=v,k)}function h(v,k,x){if(typeof k=="string"&&k!==""||typeof k=="number")return k=n0(""+k,v.mode,x),k.return=v,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Lh:return x=xd(k.type,k.key,k.props,null,v.mode,x),x.ref=xf(v,null,k),x.return=v,x;case Wu:return k=r0(k,v.mode,x),k.return=v,k;case hl:var D=k._init;return h(v,D(k._payload),x)}if(Ff(k)||vf(k))return k=La(k,v.mode,x,null),k.return=v,k;Jh(v,k)}return null}function d(v,k,x,D){var F=k!==null?k.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return F!==null?null:l(v,k,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lh:return x.key===F?u(v,k,x,D):null;case Wu:return x.key===F?f(v,k,x,D):null;case hl:return F=x._init,d(v,k,F(x._payload),D)}if(Ff(x)||vf(x))return F!==null?null:p(v,k,x,D,null);Jh(v,x)}return null}function g(v,k,x,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(x)||null,l(k,v,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Lh:return v=v.get(D.key===null?x:D.key)||null,u(k,v,D,F);case Wu:return v=v.get(D.key===null?x:D.key)||null,f(k,v,D,F);case hl:var I=D._init;return g(v,k,x,I(D._payload),F)}if(Ff(D)||vf(D))return v=v.get(x)||null,p(k,v,D,F,null);Jh(k,D)}return null}function y(v,k,x,D){for(var F=null,I=null,V=k,j=k=0,te=null;V!==null&&j<x.length;j++){V.index>j?(te=V,V=null):te=V.sibling;var se=d(v,V,x[j],D);if(se===null){V===null&&(V=te);break}e&&V&&se.alternate===null&&t(v,V),k=i(se,k,j),I===null?F=se:I.sibling=se,I=se,V=te}if(j===x.length)return n(v,V),bn&&Na(v,j),F;if(V===null){for(;j<x.length;j++)V=h(v,x[j],D),V!==null&&(k=i(V,k,j),I===null?F=V:I.sibling=V,I=V);return bn&&Na(v,j),F}for(V=r(v,V);j<x.length;j++)te=g(V,v,j,x[j],D),te!==null&&(e&&te.alternate!==null&&V.delete(te.key===null?j:te.key),k=i(te,k,j),I===null?F=te:I.sibling=te,I=te);return e&&V.forEach(function(Se){return t(v,Se)}),bn&&Na(v,j),F}function b(v,k,x,D){var F=vf(x);if(typeof F!="function")throw Error(De(150));if(x=F.call(x),x==null)throw Error(De(151));for(var I=F=null,V=k,j=k=0,te=null,se=x.next();V!==null&&!se.done;j++,se=x.next()){V.index>j?(te=V,V=null):te=V.sibling;var Se=d(v,V,se.value,D);if(Se===null){V===null&&(V=te);break}e&&V&&Se.alternate===null&&t(v,V),k=i(Se,k,j),I===null?F=Se:I.sibling=Se,I=Se,V=te}if(se.done)return n(v,V),bn&&Na(v,j),F;if(V===null){for(;!se.done;j++,se=x.next())se=h(v,se.value,D),se!==null&&(k=i(se,k,j),I===null?F=se:I.sibling=se,I=se);return bn&&Na(v,j),F}for(V=r(v,V);!se.done;j++,se=x.next())se=g(V,v,j,se.value,D),se!==null&&(e&&se.alternate!==null&&V.delete(se.key===null?j:se.key),k=i(se,k,j),I===null?F=se:I.sibling=se,I=se);return e&&V.forEach(function(me){return t(v,me)}),bn&&Na(v,j),F}function N(v,k,x,D){if(typeof x=="object"&&x!==null&&x.type===Ku&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Lh:e:{for(var F=x.key,I=k;I!==null;){if(I.key===F){if(F=x.type,F===Ku){if(I.tag===7){n(v,I.sibling),k=o(I,x.props.children),k.return=v,v=k;break e}}else if(I.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===hl&&Ox(F)===I.type){n(v,I.sibling),k=o(I,x.props),k.ref=xf(v,I,x),k.return=v,v=k;break e}n(v,I);break}else t(v,I);I=I.sibling}x.type===Ku?(k=La(x.props.children,v.mode,D,x.key),k.return=v,v=k):(D=xd(x.type,x.key,x.props,null,v.mode,D),D.ref=xf(v,k,x),D.return=v,v=D)}return s(v);case Wu:e:{for(I=x.key;k!==null;){if(k.key===I)if(k.tag===4&&k.stateNode.containerInfo===x.containerInfo&&k.stateNode.implementation===x.implementation){n(v,k.sibling),k=o(k,x.children||[]),k.return=v,v=k;break e}else{n(v,k);break}else t(v,k);k=k.sibling}k=r0(x,v.mode,D),k.return=v,v=k}return s(v);case hl:return I=x._init,N(v,k,I(x._payload),D)}if(Ff(x))return y(v,k,x,D);if(vf(x))return b(v,k,x,D);Jh(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,k!==null&&k.tag===6?(n(v,k.sibling),k=o(k,x),k.return=v,v=k):(n(v,k),k=n0(x,v.mode,D),k.return=v,v=k),s(v)):n(v,k)}return N}var wc=I2(!0),P2=I2(!1),om=Gl(null),im=null,tc=null,$w=null;function Fw(){$w=tc=im=null}function Lw(e){var t=om.current;wn(om),e._currentValue=t}function qv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function uc(e,t){im=e,$w=tc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(so=!0),e.firstContext=null)}function Qo(e){var t=e._currentValue;if($w!==e)if(e={context:e,memoizedValue:t,next:null},tc===null){if(im===null)throw Error(De(308));tc=e,im.dependencies={lanes:0,firstContext:e}}else tc=tc.next=e;return t}var Da=null;function jw(e){Da===null?Da=[e]:Da.push(e)}function $2(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,jw(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ps(e,r)}function Ps(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dl=!1;function zw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ps(e,n)}return o=r.interleaved,o===null?(t.next=t,jw(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ps(e,n)}function yd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ew(e,n)}}function Ex(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sm(e,t,n,r){var o=e.updateQueue;dl=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var u=l,f=u.next;u.next=null,s===null?i=f:s.next=f,s=u;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==s&&(l===null?p.firstBaseUpdate=f:l.next=f,p.lastBaseUpdate=u))}if(i!==null){var h=o.baseState;s=0,p=f=u=null,l=i;do{var d=l.lane,g=l.eventTime;if((r&d)===d){p!==null&&(p=p.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(d=t,g=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){h=y.call(g,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,d=typeof y=="function"?y.call(g,h,d):y,d==null)break e;h=_n({},h,d);break e;case 2:dl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(f=p=g,u=h):p=p.next=g,s|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(p===null&&(u=h),o.baseState=u,o.firstBaseUpdate=f,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Ga|=s,e.lanes=s,e.memoizedState=h}}function Cx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(De(191,o));o.call(r)}}}var jp={},qi=Gl(jp),vp=Gl(jp),wp=Gl(jp);function Ia(e){if(e===jp)throw Error(De(174));return e}function Bw(e,t){switch(mn(wp,t),mn(vp,e),mn(qi,jp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ev(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ev(t,e)}wn(qi),mn(qi,t)}function Sc(){wn(qi),wn(vp),wn(wp)}function L2(e){Ia(wp.current);var t=Ia(qi.current),n=Ev(t,e.type);t!==n&&(mn(vp,e),mn(qi,n))}function Uw(e){vp.current===e&&(wn(qi),wn(vp))}var Nn=Gl(0);function lm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qy=[];function Vw(){for(var e=0;e<Qy.length;e++)Qy[e]._workInProgressVersionPrimary=null;Qy.length=0}var vd=Fs.ReactCurrentDispatcher,Yy=Fs.ReactCurrentBatchConfig,Ka=0,Mn=null,er=null,ar=null,am=!1,Qf=!1,Sp=0,OF=0;function Tr(){throw Error(De(321))}function Hw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yi(e[n],t[n]))return!1;return!0}function qw(e,t,n,r,o,i){if(Ka=i,Mn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vd.current=e===null||e.memoizedState===null?TF:AF,e=n(r,o),Qf){i=0;do{if(Qf=!1,Sp=0,25<=i)throw Error(De(301));i+=1,ar=er=null,t.updateQueue=null,vd.current=MF,e=n(r,o)}while(Qf)}if(vd.current=um,t=er!==null&&er.next!==null,Ka=0,ar=er=Mn=null,am=!1,t)throw Error(De(300));return e}function Ww(){var e=Sp!==0;return Sp=0,e}function $i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Mn.memoizedState=ar=e:ar=ar.next=e,ar}function Yo(){if(er===null){var e=Mn.alternate;e=e!==null?e.memoizedState:null}else e=er.next;var t=ar===null?Mn.memoizedState:ar.next;if(t!==null)ar=t,er=e;else{if(e===null)throw Error(De(310));er=e,e={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},ar===null?Mn.memoizedState=ar=e:ar=ar.next=e}return ar}function bp(e,t){return typeof t=="function"?t(e):t}function Zy(e){var t=Yo(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=er,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,u=null,f=i;do{var p=f.lane;if((Ka&p)===p)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var h={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(l=u=h,s=r):u=u.next=h,Mn.lanes|=p,Ga|=p}f=f.next}while(f!==null&&f!==i);u===null?s=r:u.next=l,yi(r,t.memoizedState)||(so=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Mn.lanes|=i,Ga|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xy(e){var t=Yo(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);yi(i,t.memoizedState)||(so=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function j2(){}function z2(e,t){var n=Mn,r=Yo(),o=t(),i=!yi(r.memoizedState,o);if(i&&(r.memoizedState=o,so=!0),r=r.queue,Kw(V2.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ar!==null&&ar.memoizedState.tag&1){if(n.flags|=2048,kp(9,U2.bind(null,n,r,o,t),void 0,null),ur===null)throw Error(De(349));Ka&30||B2(n,t,o)}return o}function B2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Mn.updateQueue,t===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function U2(e,t,n,r){t.value=n,t.getSnapshot=r,H2(t)&&q2(e)}function V2(e,t,n){return n(function(){H2(t)&&q2(e)})}function H2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yi(e,n)}catch{return!0}}function q2(e){var t=Ps(e,1);t!==null&&di(t,e,1,-1)}function Nx(e){var t=$i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:e},t.queue=e,e=e.dispatch=NF.bind(null,Mn,e),[t.memoizedState,e]}function kp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Mn.updateQueue,t===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function W2(){return Yo().memoizedState}function wd(e,t,n,r){var o=$i();Mn.flags|=e,o.memoizedState=kp(1|t,n,void 0,r===void 0?null:r)}function eg(e,t,n,r){var o=Yo();r=r===void 0?null:r;var i=void 0;if(er!==null){var s=er.memoizedState;if(i=s.destroy,r!==null&&Hw(r,s.deps)){o.memoizedState=kp(t,n,i,r);return}}Mn.flags|=e,o.memoizedState=kp(1|t,n,i,r)}function Tx(e,t){return wd(8390656,8,e,t)}function Kw(e,t){return eg(2048,8,e,t)}function K2(e,t){return eg(4,2,e,t)}function G2(e,t){return eg(4,4,e,t)}function J2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Q2(e,t,n){return n=n!=null?n.concat([e]):null,eg(4,4,J2.bind(null,t,e),n)}function Gw(){}function Y2(e,t){var n=Yo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Z2(e,t){var n=Yo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function X2(e,t,n){return Ka&21?(yi(n,t)||(n=o2(),Mn.lanes|=n,Ga|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,so=!0),e.memoizedState=n)}function EF(e,t){var n=sn;sn=n!==0&&4>n?n:4,e(!0);var r=Yy.transition;Yy.transition={};try{e(!1),t()}finally{sn=n,Yy.transition=r}}function eT(){return Yo().memoizedState}function CF(e,t,n){var r=Fl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tT(e))nT(t,n);else if(n=$2(e,t,n,r),n!==null){var o=Hr();di(n,e,r,o),rT(n,t,r)}}function NF(e,t,n){var r=Fl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tT(e))nT(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,yi(l,s)){var u=t.interleaved;u===null?(o.next=o,jw(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=$2(e,t,o,r),n!==null&&(o=Hr(),di(n,e,r,o),rT(n,t,r))}}function tT(e){var t=e.alternate;return e===Mn||t!==null&&t===Mn}function nT(e,t){Qf=am=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ew(e,n)}}var um={readContext:Qo,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},TF={readContext:Qo,useCallback:function(e,t){return $i().memoizedState=[e,t===void 0?null:t],e},useContext:Qo,useEffect:Tx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,wd(4194308,4,J2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wd(4194308,4,e,t)},useInsertionEffect:function(e,t){return wd(4,2,e,t)},useMemo:function(e,t){var n=$i();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=$i();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=CF.bind(null,Mn,e),[r.memoizedState,e]},useRef:function(e){var t=$i();return e={current:e},t.memoizedState=e},useState:Nx,useDebugValue:Gw,useDeferredValue:function(e){return $i().memoizedState=e},useTransition:function(){var e=Nx(!1),t=e[0];return e=EF.bind(null,e[1]),$i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Mn,o=$i();if(bn){if(n===void 0)throw Error(De(407));n=n()}else{if(n=t(),ur===null)throw Error(De(349));Ka&30||B2(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Tx(V2.bind(null,r,i,e),[e]),r.flags|=2048,kp(9,U2.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=$i(),t=ur.identifierPrefix;if(bn){var n=Ns,r=Cs;n=(r&~(1<<32-hi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=OF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AF={readContext:Qo,useCallback:Y2,useContext:Qo,useEffect:Kw,useImperativeHandle:Q2,useInsertionEffect:K2,useLayoutEffect:G2,useMemo:Z2,useReducer:Zy,useRef:W2,useState:function(){return Zy(bp)},useDebugValue:Gw,useDeferredValue:function(e){var t=Yo();return X2(t,er.memoizedState,e)},useTransition:function(){var e=Zy(bp)[0],t=Yo().memoizedState;return[e,t]},useMutableSource:j2,useSyncExternalStore:z2,useId:eT,unstable_isNewReconciler:!1},MF={readContext:Qo,useCallback:Y2,useContext:Qo,useEffect:Kw,useImperativeHandle:Q2,useInsertionEffect:K2,useLayoutEffect:G2,useMemo:Z2,useReducer:Xy,useRef:W2,useState:function(){return Xy(bp)},useDebugValue:Gw,useDeferredValue:function(e){var t=Yo();return er===null?t.memoizedState=e:X2(t,er.memoizedState,e)},useTransition:function(){var e=Xy(bp)[0],t=Yo().memoizedState;return[e,t]},useMutableSource:j2,useSyncExternalStore:z2,useId:eT,unstable_isNewReconciler:!1};function li(e,t){if(e&&e.defaultProps){t=_n({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:_n({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tg={isMounted:function(e){return(e=e._reactInternals)?nu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hr(),o=Fl(e),i=_s(r,o);i.payload=t,n!=null&&(i.callback=n),t=Pl(e,i,o),t!==null&&(di(t,e,o,r),yd(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hr(),o=Fl(e),i=_s(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Pl(e,i,o),t!==null&&(di(t,e,o,r),yd(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hr(),r=Fl(e),o=_s(n,r);o.tag=2,t!=null&&(o.callback=t),t=Pl(e,o,r),t!==null&&(di(t,e,r,n),yd(t,e,r))}};function Ax(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!dp(n,r)||!dp(o,i):!0}function oT(e,t,n){var r=!1,o=Vl,i=t.contextType;return typeof i=="object"&&i!==null?i=Qo(i):(o=ao(t)?qa:Ir.current,r=t.contextTypes,i=(r=r!=null)?yc(e,o):Vl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tg.enqueueReplaceState(t,t.state,null)}function Kv(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},zw(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Qo(i):(i=ao(t)?qa:Ir.current,o.context=yc(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Wv(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&tg.enqueueReplaceState(o,o.state,null),sm(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function bc(e,t){try{var n="",r=t;do n+=o$(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function e0(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var _F=typeof WeakMap=="function"?WeakMap:Map;function iT(e,t,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fm||(fm=!0,o1=r),Gv(e,t)},n}function sT(e,t,n){n=_s(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Gv(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Gv(e,t),typeof r!="function"&&($l===null?$l=new Set([this]):$l.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function _x(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new _F;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=qF.bind(null,e,t,n),t.then(e,e))}function Rx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dx(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_s(-1,1),t.tag=2,Pl(n,t,1))),n.lanes|=1),e)}var RF=Fs.ReactCurrentOwner,so=!1;function Ur(e,t,n,r){t.child=e===null?P2(t,null,n,r):wc(t,e.child,n,r)}function Ix(e,t,n,r,o){n=n.render;var i=t.ref;return uc(t,o),r=qw(e,t,n,r,i,o),n=Ww(),e!==null&&!so?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$s(e,t,o)):(bn&&n&&Dw(t),t.flags|=1,Ur(e,t,r,o),t.child)}function Px(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!nS(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,lT(e,t,i,r,o)):(e=xd(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:dp,n(s,r)&&e.ref===t.ref)return $s(e,t,o)}return t.flags|=1,e=Ll(i,r),e.ref=t.ref,e.return=t,t.child=e}function lT(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(dp(i,r)&&e.ref===t.ref)if(so=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(so=!0);else return t.lanes=e.lanes,$s(e,t,o)}return Jv(e,t,n,r,o)}function aT(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(rc,ko),ko|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mn(rc,ko),ko|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,mn(rc,ko),ko|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,mn(rc,ko),ko|=r;return Ur(e,t,o,n),t.child}function uT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jv(e,t,n,r,o){var i=ao(n)?qa:Ir.current;return i=yc(t,i),uc(t,o),n=qw(e,t,n,r,i,o),r=Ww(),e!==null&&!so?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$s(e,t,o)):(bn&&r&&Dw(t),t.flags|=1,Ur(e,t,n,o),t.child)}function $x(e,t,n,r,o){if(ao(n)){var i=!0;tm(t)}else i=!1;if(uc(t,o),t.stateNode===null)Sd(e,t),oT(t,n,r),Kv(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var u=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=Qo(f):(f=ao(n)?qa:Ir.current,f=yc(t,f));var p=n.getDerivedStateFromProps,h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==f)&&Mx(t,s,r,f),dl=!1;var d=t.memoizedState;s.state=d,sm(t,r,s,o),u=t.memoizedState,l!==r||d!==u||lo.current||dl?(typeof p=="function"&&(Wv(t,n,p,r),u=t.memoizedState),(l=dl||Ax(t,n,l,r,d,u,f))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=f,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,F2(e,t),l=t.memoizedProps,f=t.type===t.elementType?l:li(t.type,l),s.props=f,h=t.pendingProps,d=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Qo(u):(u=ao(n)?qa:Ir.current,u=yc(t,u));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||d!==u)&&Mx(t,s,r,u),dl=!1,d=t.memoizedState,s.state=d,sm(t,r,s,o);var y=t.memoizedState;l!==h||d!==y||lo.current||dl?(typeof g=="function"&&(Wv(t,n,g,r),y=t.memoizedState),(f=dl||Ax(t,n,f,r,d,y,u)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=u,r=f):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Qv(e,t,n,r,i,o)}function Qv(e,t,n,r,o,i){uT(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&bx(t,n,!1),$s(e,t,i);r=t.stateNode,RF.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=wc(t,e.child,null,i),t.child=wc(t,null,l,i)):Ur(e,t,l,i),t.memoizedState=r.state,o&&bx(t,n,!0),t.child}function cT(e){var t=e.stateNode;t.pendingContext?Sx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sx(e,t.context,!1),Bw(e,t.containerInfo)}function Fx(e,t,n,r,o){return vc(),Pw(o),t.flags|=256,Ur(e,t,n,r),t.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Zv(e){return{baseLanes:e,cachePool:null,transitions:null}}function fT(e,t,n){var r=t.pendingProps,o=Nn.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),mn(Nn,o&1),e===null)return Hv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=og(s,r,0,null),e=La(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zv(n),t.memoizedState=Yv,e):Jw(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return DF(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ll(o,u),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Ll(l,i):(i=La(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Zv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Yv,r}return i=e.child,e=i.sibling,r=Ll(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Jw(e,t){return t=og({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qh(e,t,n,r){return r!==null&&Pw(r),wc(t,e.child,null,n),e=Jw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function DF(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=e0(Error(De(422))),Qh(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=og({mode:"visible",children:r.children},o,0,null),i=La(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&wc(t,e.child,null,s),t.child.memoizedState=Zv(s),t.memoizedState=Yv,i);if(!(t.mode&1))return Qh(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(De(419)),r=e0(i,r,void 0),Qh(e,t,s,r)}if(l=(s&e.childLanes)!==0,so||l){if(r=ur,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ps(e,o),di(r,e,o,-1))}return tS(),r=e0(Error(De(421))),Qh(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=WF.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Eo=Il(o.nextSibling),No=t,bn=!0,ui=null,e!==null&&(Bo[Uo++]=Cs,Bo[Uo++]=Ns,Bo[Uo++]=Wa,Cs=e.id,Ns=e.overflow,Wa=t),t=Jw(t,r.children),t.flags|=4096,t)}function Lx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qv(e.return,t,n)}function t0(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function pT(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ur(e,t,r.children,n),r=Nn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lx(e,n,t);else if(e.tag===19)Lx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mn(Nn,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&lm(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),t0(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&lm(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}t0(t,!0,n,null,i);break;case"together":t0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $s(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ga|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,n=Ll(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ll(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function IF(e,t,n){switch(t.tag){case 3:cT(t),vc();break;case 5:L2(t);break;case 1:ao(t.type)&&tm(t);break;case 4:Bw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;mn(om,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mn(Nn,Nn.current&1),t.flags|=128,null):n&t.child.childLanes?fT(e,t,n):(mn(Nn,Nn.current&1),e=$s(e,t,n),e!==null?e.sibling:null);mn(Nn,Nn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return pT(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),mn(Nn,Nn.current),r)break;return null;case 22:case 23:return t.lanes=0,aT(e,t,n)}return $s(e,t,n)}var hT,Xv,dT,mT;hT=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xv=function(){};dT=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ia(qi.current);var i=null;switch(n){case"input":o=bv(e,o),r=bv(e,r),i=[];break;case"select":o=_n({},o,{value:void 0}),r=_n({},r,{value:void 0}),i=[];break;case"textarea":o=Ov(e,o),r=Ov(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xd)}Cv(n,r);var s;n=null;for(f in o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var l=o[f];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(lp.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in r){var u=r[f];if(l=o!=null?o[f]:void 0,r.hasOwnProperty(f)&&u!==l&&(u!=null||l!=null))if(f==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(i||(i=[]),i.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(lp.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&vn("scroll",e),i||l===u||(i=[])):(i=i||[]).push(f,u))}n&&(i=i||[]).push("style",n);var f=i;(t.updateQueue=f)&&(t.flags|=4)}};mT=function(e,t,n,r){n!==r&&(t.flags|=4)};function Of(e,t){if(!bn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ar(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function PF(e,t,n){var r=t.pendingProps;switch(Iw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(t),null;case 1:return ao(t.type)&&em(),Ar(t),null;case 3:return r=t.stateNode,Sc(),wn(lo),wn(Ir),Vw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Gh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ui!==null&&(l1(ui),ui=null))),Xv(e,t),Ar(t),null;case 5:Uw(t);var o=Ia(wp.current);if(n=t.type,e!==null&&t.stateNode!=null)dT(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(De(166));return Ar(t),null}if(e=Ia(qi.current),Gh(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[zi]=t,r[yp]=i,e=(t.mode&1)!==0,n){case"dialog":vn("cancel",r),vn("close",r);break;case"iframe":case"object":case"embed":vn("load",r);break;case"video":case"audio":for(o=0;o<jf.length;o++)vn(jf[o],r);break;case"source":vn("error",r);break;case"img":case"image":case"link":vn("error",r),vn("load",r);break;case"details":vn("toggle",r);break;case"input":Kk(r,i),vn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},vn("invalid",r);break;case"textarea":Jk(r,i),vn("invalid",r)}Cv(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Kh(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Kh(r.textContent,l,e),o=["children",""+l]):lp.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&vn("scroll",r)}switch(n){case"input":jh(r),Gk(r,i,!0);break;case"textarea":jh(r),Qk(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xd)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VN(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[zi]=t,e[yp]=r,hT(e,t,!1,!1),t.stateNode=e;e:{switch(s=Nv(n,r),n){case"dialog":vn("cancel",e),vn("close",e),o=r;break;case"iframe":case"object":case"embed":vn("load",e),o=r;break;case"video":case"audio":for(o=0;o<jf.length;o++)vn(jf[o],e);o=r;break;case"source":vn("error",e),o=r;break;case"img":case"image":case"link":vn("error",e),vn("load",e),o=r;break;case"details":vn("toggle",e),o=r;break;case"input":Kk(e,r),o=bv(e,r),vn("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=_n({},r,{value:void 0}),vn("invalid",e);break;case"textarea":Jk(e,r),o=Ov(e,r),vn("invalid",e);break;default:o=r}Cv(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?WN(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&HN(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ap(e,u):typeof u=="number"&&ap(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(lp.hasOwnProperty(i)?u!=null&&i==="onScroll"&&vn("scroll",e):u!=null&&ww(e,i,u,s))}switch(n){case"input":jh(e),Gk(e,r,!1);break;case"textarea":jh(e),Qk(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ul(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ic(e,!!r.multiple,i,!1):r.defaultValue!=null&&ic(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ar(t),null;case 6:if(e&&t.stateNode!=null)mT(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(De(166));if(n=Ia(wp.current),Ia(qi.current),Gh(t)){if(r=t.stateNode,n=t.memoizedProps,r[zi]=t,(i=r.nodeValue!==n)&&(e=No,e!==null))switch(e.tag){case 3:Kh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kh(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zi]=t,t.stateNode=r}return Ar(t),null;case 13:if(wn(Nn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bn&&Eo!==null&&t.mode&1&&!(t.flags&128))D2(),vc(),t.flags|=98560,i=!1;else if(i=Gh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(De(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(De(317));i[zi]=t}else vc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ar(t),i=!1}else ui!==null&&(l1(ui),ui=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?nr===0&&(nr=3):tS())),t.updateQueue!==null&&(t.flags|=4),Ar(t),null);case 4:return Sc(),Xv(e,t),e===null&&mp(t.stateNode.containerInfo),Ar(t),null;case 10:return Lw(t.type._context),Ar(t),null;case 17:return ao(t.type)&&em(),Ar(t),null;case 19:if(wn(Nn),i=t.memoizedState,i===null)return Ar(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Of(i,!1);else{if(nr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=lm(e),s!==null){for(t.flags|=128,Of(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mn(Nn,Nn.current&1|2),t.child}e=e.sibling}i.tail!==null&&zn()>kc&&(t.flags|=128,r=!0,Of(i,!1),t.lanes=4194304)}else{if(!r)if(e=lm(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Of(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!bn)return Ar(t),null}else 2*zn()-i.renderingStartTime>kc&&n!==1073741824&&(t.flags|=128,r=!0,Of(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=zn(),t.sibling=null,n=Nn.current,mn(Nn,r?n&1|2:n&1),t):(Ar(t),null);case 22:case 23:return eS(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ko&1073741824&&(Ar(t),t.subtreeFlags&6&&(t.flags|=8192)):Ar(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function $F(e,t){switch(Iw(t),t.tag){case 1:return ao(t.type)&&em(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sc(),wn(lo),wn(Ir),Vw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uw(t),null;case 13:if(wn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));vc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wn(Nn),null;case 4:return Sc(),null;case 10:return Lw(t.type._context),null;case 22:case 23:return eS(),null;case 24:return null;default:return null}}var Yh=!1,_r=!1,FF=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function nc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(e,t,r)}else n.current=null}function e1(e,t,n){try{n()}catch(r){Pn(e,t,r)}}var jx=!1;function LF(e,t){if(Fv=Qd,e=S2(),Rw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,f=0,p=0,h=e,d=null;t:for(;;){for(var g;h!==n||o!==0&&h.nodeType!==3||(l=s+o),h!==i||r!==0&&h.nodeType!==3||(u=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)d=h,h=g;for(;;){if(h===e)break t;if(d===n&&++f===o&&(l=s),d===i&&++p===r&&(u=s),(g=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lv={focusedElem:e,selectionRange:n},Qd=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,N=y.memoizedState,v=t.stateNode,k=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:li(t.type,b),N);v.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(D){Pn(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return y=jx,jx=!1,y}function Yf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&e1(t,n,i)}o=o.next}while(o!==r)}}function ng(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function t1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gT(e){var t=e.alternate;t!==null&&(e.alternate=null,gT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zi],delete t[yp],delete t[Bv],delete t[SF],delete t[bF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yT(e){return e.tag===5||e.tag===3||e.tag===4}function zx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function n1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xd));else if(r!==4&&(e=e.child,e!==null))for(n1(e,t,n),e=e.sibling;e!==null;)n1(e,t,n),e=e.sibling}function r1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(r1(e,t,n),e=e.sibling;e!==null;)r1(e,t,n),e=e.sibling}var gr=null,ai=!1;function al(e,t,n){for(n=n.child;n!==null;)vT(e,t,n),n=n.sibling}function vT(e,t,n){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(Gm,n)}catch{}switch(n.tag){case 5:_r||nc(n,t);case 6:var r=gr,o=ai;gr=null,al(e,t,n),gr=r,ai=o,gr!==null&&(ai?(e=gr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gr.removeChild(n.stateNode));break;case 18:gr!==null&&(ai?(e=gr,n=n.stateNode,e.nodeType===8?Gy(e.parentNode,n):e.nodeType===1&&Gy(e,n),pp(e)):Gy(gr,n.stateNode));break;case 4:r=gr,o=ai,gr=n.stateNode.containerInfo,ai=!0,al(e,t,n),gr=r,ai=o;break;case 0:case 11:case 14:case 15:if(!_r&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&e1(n,t,s),o=o.next}while(o!==r)}al(e,t,n);break;case 1:if(!_r&&(nc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Pn(n,t,l)}al(e,t,n);break;case 21:al(e,t,n);break;case 22:n.mode&1?(_r=(r=_r)||n.memoizedState!==null,al(e,t,n),_r=r):al(e,t,n);break;default:al(e,t,n)}}function Bx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FF),t.forEach(function(r){var o=KF.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function si(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:gr=l.stateNode,ai=!1;break e;case 3:gr=l.stateNode.containerInfo,ai=!0;break e;case 4:gr=l.stateNode.containerInfo,ai=!0;break e}l=l.return}if(gr===null)throw Error(De(160));vT(i,s,o),gr=null,ai=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(f){Pn(o,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)wT(t,e),t=t.sibling}function wT(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(si(t,e),Pi(e),r&4){try{Yf(3,e,e.return),ng(3,e)}catch(b){Pn(e,e.return,b)}try{Yf(5,e,e.return)}catch(b){Pn(e,e.return,b)}}break;case 1:si(t,e),Pi(e),r&512&&n!==null&&nc(n,n.return);break;case 5:if(si(t,e),Pi(e),r&512&&n!==null&&nc(n,n.return),e.flags&32){var o=e.stateNode;try{ap(o,"")}catch(b){Pn(e,e.return,b)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&BN(o,i),Nv(l,s);var f=Nv(l,i);for(s=0;s<u.length;s+=2){var p=u[s],h=u[s+1];p==="style"?WN(o,h):p==="dangerouslySetInnerHTML"?HN(o,h):p==="children"?ap(o,h):ww(o,p,h,f)}switch(l){case"input":kv(o,i);break;case"textarea":UN(o,i);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ic(o,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?ic(o,!!i.multiple,i.defaultValue,!0):ic(o,!!i.multiple,i.multiple?[]:"",!1))}o[yp]=i}catch(b){Pn(e,e.return,b)}}break;case 6:if(si(t,e),Pi(e),r&4){if(e.stateNode===null)throw Error(De(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(b){Pn(e,e.return,b)}}break;case 3:if(si(t,e),Pi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pp(t.containerInfo)}catch(b){Pn(e,e.return,b)}break;case 4:si(t,e),Pi(e);break;case 13:si(t,e),Pi(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Zw=zn())),r&4&&Bx(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(_r=(f=_r)||p,si(t,e),_r=f):si(t,e),Pi(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(Ye=e,p=e.child;p!==null;){for(h=Ye=p;Ye!==null;){switch(d=Ye,g=d.child,d.tag){case 0:case 11:case 14:case 15:Yf(4,d,d.return);break;case 1:nc(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Pn(r,n,b)}}break;case 5:nc(d,d.return);break;case 22:if(d.memoizedState!==null){Vx(h);continue}}g!==null?(g.return=d,Ye=g):Vx(h)}p=p.sibling}e:for(p=null,h=e;;){if(h.tag===5){if(p===null){p=h;try{o=h.stateNode,f?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=qN("display",s))}catch(b){Pn(e,e.return,b)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(b){Pn(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:si(t,e),Pi(e),r&4&&Bx(e);break;case 21:break;default:si(t,e),Pi(e)}}function Pi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yT(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(ap(o,""),r.flags&=-33);var i=zx(e);r1(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=zx(e);n1(e,l,s);break;default:throw Error(De(161))}}catch(u){Pn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jF(e,t,n){Ye=e,ST(e)}function ST(e,t,n){for(var r=(e.mode&1)!==0;Ye!==null;){var o=Ye,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Yh;if(!s){var l=o.alternate,u=l!==null&&l.memoizedState!==null||_r;l=Yh;var f=_r;if(Yh=s,(_r=u)&&!f)for(Ye=o;Ye!==null;)s=Ye,u=s.child,s.tag===22&&s.memoizedState!==null?Hx(o):u!==null?(u.return=s,Ye=u):Hx(o);for(;i!==null;)Ye=i,ST(i),i=i.sibling;Ye=o,Yh=l,_r=f}Ux(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ye=i):Ux(e)}}function Ux(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_r||ng(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_r)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:li(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Cx(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cx(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&pp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}_r||t.flags&512&&t1(t)}catch(d){Pn(t,t.return,d)}}if(t===e){Ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function Vx(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function Hx(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ng(4,t)}catch(u){Pn(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){Pn(t,o,u)}}var i=t.return;try{t1(t)}catch(u){Pn(t,i,u)}break;case 5:var s=t.return;try{t1(t)}catch(u){Pn(t,s,u)}}}catch(u){Pn(t,t.return,u)}if(t===e){Ye=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ye=l;break}Ye=t.return}}var zF=Math.ceil,cm=Fs.ReactCurrentDispatcher,Qw=Fs.ReactCurrentOwner,Go=Fs.ReactCurrentBatchConfig,Wt=0,ur=null,Gn=null,br=0,ko=0,rc=Gl(0),nr=0,xp=null,Ga=0,rg=0,Yw=0,Zf=null,io=null,Zw=0,kc=1/0,ks=null,fm=!1,o1=null,$l=null,Zh=!1,El=null,pm=0,Xf=0,i1=null,bd=-1,kd=0;function Hr(){return Wt&6?zn():bd!==-1?bd:bd=zn()}function Fl(e){return e.mode&1?Wt&2&&br!==0?br&-br:xF.transition!==null?(kd===0&&(kd=o2()),kd):(e=sn,e!==0||(e=window.event,e=e===void 0?16:f2(e.type)),e):1}function di(e,t,n,r){if(50<Xf)throw Xf=0,i1=null,Error(De(185));$p(e,n,r),(!(Wt&2)||e!==ur)&&(e===ur&&(!(Wt&2)&&(rg|=n),nr===4&&wl(e,br)),uo(e,r),n===1&&Wt===0&&!(t.mode&1)&&(kc=zn()+500,Xm&&Jl()))}function uo(e,t){var n=e.callbackNode;x$(e,t);var r=Jd(e,e===ur?br:0);if(r===0)n!==null&&Xk(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xk(n),t===1)e.tag===0?kF(qx.bind(null,e)):M2(qx.bind(null,e)),vF(function(){!(Wt&6)&&Jl()}),n=null;else{switch(i2(r)){case 1:n=Ow;break;case 4:n=n2;break;case 16:n=Gd;break;case 536870912:n=r2;break;default:n=Gd}n=TT(n,bT.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bT(e,t){if(bd=-1,kd=0,Wt&6)throw Error(De(327));var n=e.callbackNode;if(cc()&&e.callbackNode!==n)return null;var r=Jd(e,e===ur?br:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hm(e,r);else{t=r;var o=Wt;Wt|=2;var i=xT();(ur!==e||br!==t)&&(ks=null,kc=zn()+500,Fa(e,t));do try{VF();break}catch(l){kT(e,l)}while(!0);Fw(),cm.current=i,Wt=o,Gn!==null?t=0:(ur=null,br=0,t=nr)}if(t!==0){if(t===2&&(o=Rv(e),o!==0&&(r=o,t=s1(e,o))),t===1)throw n=xp,Fa(e,0),wl(e,r),uo(e,zn()),n;if(t===6)wl(e,r);else{if(o=e.current.alternate,!(r&30)&&!BF(o)&&(t=hm(e,r),t===2&&(i=Rv(e),i!==0&&(r=i,t=s1(e,i))),t===1))throw n=xp,Fa(e,0),wl(e,r),uo(e,zn()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(De(345));case 2:Ta(e,io,ks);break;case 3:if(wl(e,r),(r&130023424)===r&&(t=Zw+500-zn(),10<t)){if(Jd(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Hr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=zv(Ta.bind(null,e,io,ks),t);break}Ta(e,io,ks);break;case 4:if(wl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-hi(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=zn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zF(r/1960))-r,10<r){e.timeoutHandle=zv(Ta.bind(null,e,io,ks),r);break}Ta(e,io,ks);break;case 5:Ta(e,io,ks);break;default:throw Error(De(329))}}}return uo(e,zn()),e.callbackNode===n?bT.bind(null,e):null}function s1(e,t){var n=Zf;return e.current.memoizedState.isDehydrated&&(Fa(e,t).flags|=256),e=hm(e,t),e!==2&&(t=io,io=n,t!==null&&l1(t)),e}function l1(e){io===null?io=e:io.push.apply(io,e)}function BF(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!yi(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wl(e,t){for(t&=~Yw,t&=~rg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hi(t),r=1<<n;e[n]=-1,t&=~r}}function qx(e){if(Wt&6)throw Error(De(327));cc();var t=Jd(e,0);if(!(t&1))return uo(e,zn()),null;var n=hm(e,t);if(e.tag!==0&&n===2){var r=Rv(e);r!==0&&(t=r,n=s1(e,r))}if(n===1)throw n=xp,Fa(e,0),wl(e,t),uo(e,zn()),n;if(n===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ta(e,io,ks),uo(e,zn()),null}function Xw(e,t){var n=Wt;Wt|=1;try{return e(t)}finally{Wt=n,Wt===0&&(kc=zn()+500,Xm&&Jl())}}function Ja(e){El!==null&&El.tag===0&&!(Wt&6)&&cc();var t=Wt;Wt|=1;var n=Go.transition,r=sn;try{if(Go.transition=null,sn=1,e)return e()}finally{sn=r,Go.transition=n,Wt=t,!(Wt&6)&&Jl()}}function eS(){ko=rc.current,wn(rc)}function Fa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yF(n)),Gn!==null)for(n=Gn.return;n!==null;){var r=n;switch(Iw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&em();break;case 3:Sc(),wn(lo),wn(Ir),Vw();break;case 5:Uw(r);break;case 4:Sc();break;case 13:wn(Nn);break;case 19:wn(Nn);break;case 10:Lw(r.type._context);break;case 22:case 23:eS()}n=n.return}if(ur=e,Gn=e=Ll(e.current,null),br=ko=t,nr=0,xp=null,Yw=rg=Ga=0,io=Zf=null,Da!==null){for(t=0;t<Da.length;t++)if(n=Da[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Da=null}return e}function kT(e,t){do{var n=Gn;try{if(Fw(),vd.current=um,am){for(var r=Mn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}am=!1}if(Ka=0,ar=er=Mn=null,Qf=!1,Sp=0,Qw.current=null,n===null||n.return===null){nr=1,xp=t,Gn=null;break}e:{var i=e,s=n.return,l=n,u=t;if(t=br,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,p=l,h=p.tag;if(!(p.mode&1)&&(h===0||h===11||h===15)){var d=p.alternate;d?(p.updateQueue=d.updateQueue,p.memoizedState=d.memoizedState,p.lanes=d.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=Rx(s);if(g!==null){g.flags&=-257,Dx(g,s,l,i,t),g.mode&1&&_x(i,f,t),t=g,u=f;var y=t.updateQueue;if(y===null){var b=new Set;b.add(u),t.updateQueue=b}else y.add(u);break e}else{if(!(t&1)){_x(i,f,t),tS();break e}u=Error(De(426))}}else if(bn&&l.mode&1){var N=Rx(s);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Dx(N,s,l,i,t),Pw(bc(u,l));break e}}i=u=bc(u,l),nr!==4&&(nr=2),Zf===null?Zf=[i]:Zf.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=iT(i,u,t);Ex(i,v);break e;case 1:l=u;var k=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof k.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($l===null||!$l.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var D=sT(i,l,t);Ex(i,D);break e}}i=i.return}while(i!==null)}ET(n)}catch(F){t=F,Gn===n&&n!==null&&(Gn=n=n.return);continue}break}while(!0)}function xT(){var e=cm.current;return cm.current=um,e===null?um:e}function tS(){(nr===0||nr===3||nr===2)&&(nr=4),ur===null||!(Ga&268435455)&&!(rg&268435455)||wl(ur,br)}function hm(e,t){var n=Wt;Wt|=2;var r=xT();(ur!==e||br!==t)&&(ks=null,Fa(e,t));do try{UF();break}catch(o){kT(e,o)}while(!0);if(Fw(),Wt=n,cm.current=r,Gn!==null)throw Error(De(261));return ur=null,br=0,nr}function UF(){for(;Gn!==null;)OT(Gn)}function VF(){for(;Gn!==null&&!d$();)OT(Gn)}function OT(e){var t=NT(e.alternate,e,ko);e.memoizedProps=e.pendingProps,t===null?ET(e):Gn=t,Qw.current=null}function ET(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$F(n,t),n!==null){n.flags&=32767,Gn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nr=6,Gn=null;return}}else if(n=PF(n,t,ko),n!==null){Gn=n;return}if(t=t.sibling,t!==null){Gn=t;return}Gn=t=e}while(t!==null);nr===0&&(nr=5)}function Ta(e,t,n){var r=sn,o=Go.transition;try{Go.transition=null,sn=1,HF(e,t,n,r)}finally{Go.transition=o,sn=r}return null}function HF(e,t,n,r){do cc();while(El!==null);if(Wt&6)throw Error(De(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(O$(e,i),e===ur&&(Gn=ur=null,br=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zh||(Zh=!0,TT(Gd,function(){return cc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Go.transition,Go.transition=null;var s=sn;sn=1;var l=Wt;Wt|=4,Qw.current=null,LF(e,n),wT(n,e),cF(Lv),Qd=!!Fv,Lv=Fv=null,e.current=n,jF(n),m$(),Wt=l,sn=s,Go.transition=i}else e.current=n;if(Zh&&(Zh=!1,El=e,pm=o),i=e.pendingLanes,i===0&&($l=null),v$(n.stateNode),uo(e,zn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(fm)throw fm=!1,e=o1,o1=null,e;return pm&1&&e.tag!==0&&cc(),i=e.pendingLanes,i&1?e===i1?Xf++:(Xf=0,i1=e):Xf=0,Jl(),null}function cc(){if(El!==null){var e=i2(pm),t=Go.transition,n=sn;try{if(Go.transition=null,sn=16>e?16:e,El===null)var r=!1;else{if(e=El,El=null,pm=0,Wt&6)throw Error(De(331));var o=Wt;for(Wt|=4,Ye=e.current;Ye!==null;){var i=Ye,s=i.child;if(Ye.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var f=l[u];for(Ye=f;Ye!==null;){var p=Ye;switch(p.tag){case 0:case 11:case 15:Yf(8,p,i)}var h=p.child;if(h!==null)h.return=p,Ye=h;else for(;Ye!==null;){p=Ye;var d=p.sibling,g=p.return;if(gT(p),p===f){Ye=null;break}if(d!==null){d.return=g,Ye=d;break}Ye=g}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}Ye=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ye=s;else e:for(;Ye!==null;){if(i=Ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yf(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ye=v;break e}Ye=i.return}}var k=e.current;for(Ye=k;Ye!==null;){s=Ye;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,Ye=x;else e:for(s=k;Ye!==null;){if(l=Ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ng(9,l)}}catch(F){Pn(l,l.return,F)}if(l===s){Ye=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,Ye=D;break e}Ye=l.return}}if(Wt=o,Jl(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(Gm,e)}catch{}r=!0}return r}finally{sn=n,Go.transition=t}}return!1}function Wx(e,t,n){t=bc(n,t),t=iT(e,t,1),e=Pl(e,t,1),t=Hr(),e!==null&&($p(e,1,t),uo(e,t))}function Pn(e,t,n){if(e.tag===3)Wx(e,e,n);else for(;t!==null;){if(t.tag===3){Wx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($l===null||!$l.has(r))){e=bc(n,e),e=sT(t,e,1),t=Pl(t,e,1),e=Hr(),t!==null&&($p(t,1,e),uo(t,e));break}}t=t.return}}function qF(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Hr(),e.pingedLanes|=e.suspendedLanes&n,ur===e&&(br&n)===n&&(nr===4||nr===3&&(br&130023424)===br&&500>zn()-Zw?Fa(e,0):Yw|=n),uo(e,t)}function CT(e,t){t===0&&(e.mode&1?(t=Uh,Uh<<=1,!(Uh&130023424)&&(Uh=4194304)):t=1);var n=Hr();e=Ps(e,t),e!==null&&($p(e,t,n),uo(e,n))}function WF(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),CT(e,n)}function KF(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(t),CT(e,n)}var NT;NT=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lo.current)so=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return so=!1,IF(e,t,n);so=!!(e.flags&131072)}else so=!1,bn&&t.flags&1048576&&_2(t,rm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Sd(e,t),e=t.pendingProps;var o=yc(t,Ir.current);uc(t,n),o=qw(null,t,r,e,o,n);var i=Ww();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ao(r)?(i=!0,tm(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,zw(t),o.updater=tg,t.stateNode=o,o._reactInternals=t,Kv(t,r,e,n),t=Qv(null,t,r,!0,i,n)):(t.tag=0,bn&&i&&Dw(t),Ur(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Sd(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=JF(r),e=li(r,e),o){case 0:t=Jv(null,t,r,e,n);break e;case 1:t=$x(null,t,r,e,n);break e;case 11:t=Ix(null,t,r,e,n);break e;case 14:t=Px(null,t,r,li(r.type,e),n);break e}throw Error(De(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:li(r,o),Jv(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:li(r,o),$x(e,t,r,o,n);case 3:e:{if(cT(t),e===null)throw Error(De(387));r=t.pendingProps,i=t.memoizedState,o=i.element,F2(e,t),sm(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=bc(Error(De(423)),t),t=Fx(e,t,r,n,o);break e}else if(r!==o){o=bc(Error(De(424)),t),t=Fx(e,t,r,n,o);break e}else for(Eo=Il(t.stateNode.containerInfo.firstChild),No=t,bn=!0,ui=null,n=P2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vc(),r===o){t=$s(e,t,n);break e}Ur(e,t,r,n)}t=t.child}return t;case 5:return L2(t),e===null&&Hv(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,jv(r,o)?s=null:i!==null&&jv(r,i)&&(t.flags|=32),uT(e,t),Ur(e,t,s,n),t.child;case 6:return e===null&&Hv(t),null;case 13:return fT(e,t,n);case 4:return Bw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wc(t,null,r,n):Ur(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:li(r,o),Ix(e,t,r,o,n);case 7:return Ur(e,t,t.pendingProps,n),t.child;case 8:return Ur(e,t,t.pendingProps.children,n),t.child;case 12:return Ur(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,mn(om,r._currentValue),r._currentValue=s,i!==null)if(yi(i.value,s)){if(i.children===o.children&&!lo.current){t=$s(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=_s(-1,n&-n),u.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?u.next=u:(u.next=p.next,p.next=u),f.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),qv(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(De(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),qv(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ur(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,uc(t,n),o=Qo(o),r=r(o),t.flags|=1,Ur(e,t,r,n),t.child;case 14:return r=t.type,o=li(r,t.pendingProps),o=li(r.type,o),Px(e,t,r,o,n);case 15:return lT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:li(r,o),Sd(e,t),t.tag=1,ao(r)?(e=!0,tm(t)):e=!1,uc(t,n),oT(t,r,o),Kv(t,r,o,n),Qv(null,t,r,!0,e,n);case 19:return pT(e,t,n);case 22:return aT(e,t,n)}throw Error(De(156,t.tag))};function TT(e,t){return t2(e,t)}function GF(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ko(e,t,n,r){return new GF(e,t,n,r)}function nS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function JF(e){if(typeof e=="function")return nS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bw)return 11;if(e===kw)return 14}return 2}function Ll(e,t){var n=e.alternate;return n===null?(n=Ko(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xd(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")nS(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ku:return La(n.children,o,i,t);case Sw:s=8,o|=8;break;case yv:return e=Ko(12,n,t,o|2),e.elementType=yv,e.lanes=i,e;case vv:return e=Ko(13,n,t,o),e.elementType=vv,e.lanes=i,e;case wv:return e=Ko(19,n,t,o),e.elementType=wv,e.lanes=i,e;case LN:return og(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $N:s=10;break e;case FN:s=9;break e;case bw:s=11;break e;case kw:s=14;break e;case hl:s=16,r=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return t=Ko(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function La(e,t,n,r){return e=Ko(7,e,r,t),e.lanes=n,e}function og(e,t,n,r){return e=Ko(22,e,r,t),e.elementType=LN,e.lanes=n,e.stateNode={isHidden:!1},e}function n0(e,t,n){return e=Ko(6,e,null,t),e.lanes=n,e}function r0(e,t,n){return t=Ko(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QF(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fy(0),this.expirationTimes=Fy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fy(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function rS(e,t,n,r,o,i,s,l,u){return e=new QF(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ko(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zw(i),e}function YF(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function AT(e){if(!e)return Vl;e=e._reactInternals;e:{if(nu(e)!==e||e.tag!==1)throw Error(De(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ao(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(e.tag===1){var n=e.type;if(ao(n))return A2(e,n,t)}return t}function MT(e,t,n,r,o,i,s,l,u){return e=rS(n,r,!0,e,o,i,s,l,u),e.context=AT(null),n=e.current,r=Hr(),o=Fl(n),i=_s(r,o),i.callback=t??null,Pl(n,i,o),e.current.lanes=o,$p(e,o,r),uo(e,r),e}function ig(e,t,n,r){var o=t.current,i=Hr(),s=Fl(o);return n=AT(n),t.context===null?t.context=n:t.pendingContext=n,t=_s(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pl(o,t,s),e!==null&&(di(e,o,s,i),yd(e,o,s)),s}function dm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function oS(e,t){Kx(e,t),(e=e.alternate)&&Kx(e,t)}function ZF(){return null}var _T=typeof reportError=="function"?reportError:function(e){console.error(e)};function iS(e){this._internalRoot=e}sg.prototype.render=iS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));ig(e,t,null,null)};sg.prototype.unmount=iS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ja(function(){ig(null,e,null,null)}),t[Is]=null}};function sg(e){this._internalRoot=e}sg.prototype.unstable_scheduleHydration=function(e){if(e){var t=a2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vl.length&&t!==0&&t<vl[n].priority;n++);vl.splice(n,0,e),n===0&&c2(e)}};function sS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gx(){}function XF(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var f=dm(s);i.call(f)}}var s=MT(t,r,e,0,null,!1,!1,"",Gx);return e._reactRootContainer=s,e[Is]=s.current,mp(e.nodeType===8?e.parentNode:e),Ja(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var f=dm(u);l.call(f)}}var u=rS(e,0,!1,null,null,!1,!1,"",Gx);return e._reactRootContainer=u,e[Is]=u.current,mp(e.nodeType===8?e.parentNode:e),Ja(function(){ig(t,u,n,r)}),u}function ag(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var u=dm(s);l.call(u)}}ig(t,s,e,o)}else s=XF(n,t,e,o,r);return dm(s)}s2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Lf(t.pendingLanes);n!==0&&(Ew(t,n|1),uo(t,zn()),!(Wt&6)&&(kc=zn()+500,Jl()))}break;case 13:Ja(function(){var r=Ps(e,1);if(r!==null){var o=Hr();di(r,e,1,o)}}),oS(e,1)}};Cw=function(e){if(e.tag===13){var t=Ps(e,134217728);if(t!==null){var n=Hr();di(t,e,134217728,n)}oS(e,134217728)}};l2=function(e){if(e.tag===13){var t=Fl(e),n=Ps(e,t);if(n!==null){var r=Hr();di(n,e,t,r)}oS(e,t)}};a2=function(){return sn};u2=function(e,t){var n=sn;try{return sn=e,t()}finally{sn=n}};Av=function(e,t,n){switch(t){case"input":if(kv(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Zm(r);if(!o)throw Error(De(90));zN(r),kv(r,o)}}}break;case"textarea":UN(e,n);break;case"select":t=n.value,t!=null&&ic(e,!!n.multiple,t,!1)}};JN=Xw;QN=Ja;var eL={usingClientEntryPoint:!1,Events:[Lp,Yu,Zm,KN,GN,Xw]},Ef={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tL={bundleType:Ef.bundleType,version:Ef.version,rendererPackageName:Ef.rendererPackageName,rendererConfig:Ef.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=XN(e),e===null?null:e.stateNode},findFiberByHostInstance:Ef.findFiberByHostInstance||ZF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{Gm=Xh.inject(tL),Hi=Xh}catch{}}_o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eL;_o.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sS(t))throw Error(De(200));return YF(e,t,null,n)};_o.createRoot=function(e,t){if(!sS(e))throw Error(De(299));var n=!1,r="",o=_T;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=rS(e,1,!1,null,null,n,!1,r,o),e[Is]=t.current,mp(e.nodeType===8?e.parentNode:e),new iS(t)};_o.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=XN(t),e=e===null?null:e.stateNode,e};_o.flushSync=function(e){return Ja(e)};_o.hydrate=function(e,t,n){if(!lg(t))throw Error(De(200));return ag(null,e,t,!0,n)};_o.hydrateRoot=function(e,t,n){if(!sS(e))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=_T;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=MT(t,null,e,1,n??null,o,!1,i,s),e[Is]=t.current,mp(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new sg(t)};_o.render=function(e,t,n){if(!lg(t))throw Error(De(200));return ag(null,e,t,!1,n)};_o.unmountComponentAtNode=function(e){if(!lg(e))throw Error(De(40));return e._reactRootContainer?(Ja(function(){ag(null,null,e,!1,function(){e._reactRootContainer=null,e[Is]=null})}),!0):!1};_o.unstable_batchedUpdates=Xw;_o.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!lg(n))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return ag(e,t,n,!1,r)};_o.version="18.3.1-next-f1338f8080-20240426";function RT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RT)}catch(e){console.error(e)}}RT(),RN.exports=_o;var DT=RN.exports;const nL=pw(DT);var Jx=DT;mv.createRoot=Jx.createRoot,mv.hydrateRoot=Jx.hydrateRoot;var ep={},zp={},Qa={},IT=xl&&xl.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Qa,"__esModule",{value:!0});Qa.ApplicationDefaultError=Qa.ApplicationError=void 0;var PT=function(e){IT(t,e);function t(n){var r=this.constructor,o=e.call(this,n)||this,i=r.prototype;return Object.setPrototypeOf(o,i),o}return t}(Error);Qa.ApplicationError=PT;var rL=function(e){IT(t,e);function t(n){var r=e.call(this,"Something went wrong.")||this;return r.originalError=n,r}return t}(PT);Qa.ApplicationDefaultError=rL;var oL=xl&&xl.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(zp,"__esModule",{value:!0});zp.ApplicationCancelError=void 0;zp.buildApplicationCancelTokenSource=sL;var iL=Qa,$T=function(e){oL(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(iL.ApplicationError);zp.ApplicationCancelError=$T;function sL(){var e=null,t=!1,n=new Promise(function(s){e=s}),r=function(s){if(!e)throw new Error("Promise initialization failed");t=!0,e({message:s||"The process was cancelled."})},o=function(){if(t)throw new $T},i={promise:n,throwIfRequested:o};return{cancel:r,token:i}}var FT={};Object.defineProperty(FT,"__esModule",{value:!0});var LT={};Object.defineProperty(LT,"__esModule",{value:!0});var jT={};Object.defineProperty(jT,"__esModule",{value:!0});var zT={};Object.defineProperty(zT,"__esModule",{value:!0});var xc={},Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.EntryPointDataTypesEnum=Oc.EntryPointTypesEnum=void 0;var Qx;(function(e){e.CONVERSATION_LINK_DROPDOWN="CONVERSATION_LINK_DROPDOWN",e.MESSAGE_MORE_DROPDOWN="MESSAGE_MORE_DROPDOWN",e.SIDE_PANEL="SIDE_PANEL",e.URL="URL",e.COMPOSER_TOOLBAR="COMPOSER_TOOLBAR",e.CONTACT_HANDLE="CONTACT_HANDLE"})(Qx||(Oc.EntryPointTypesEnum=Qx={}));var Yx;(function(e){e.PHONE="phone"})(Yx||(Oc.EntryPointDataTypesEnum=Yx={}));Object.defineProperty(xc,"__esModule",{value:!0});xc.EntryPointNotificationTypesEnum=xc.ApplicationAuthenticationStatusesEnum=void 0;var Zx;(function(e){e.AUTHORIZED="authorized"})(Zx||(xc.ApplicationAuthenticationStatusesEnum=Zx={}));var Xx;(function(e){e.INCOMING_CALL="INCOMING_CALL"})(Xx||(xc.EntryPointNotificationTypesEnum=Xx={}));var BT={};Object.defineProperty(BT,"__esModule",{value:!0});var UT={};Object.defineProperty(UT,"__esModule",{value:!0});var ug={};Object.defineProperty(ug,"__esModule",{value:!0});ug.HttpVerbsEnum=void 0;var eO;(function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE"})(eO||(ug.HttpVerbsEnum=eO={}));var cg={};Object.defineProperty(cg,"__esModule",{value:!0});cg.applicationCompanyId=void 0;cg.applicationCompanyId="company";var VT={};Object.defineProperty(VT,"__esModule",{value:!0});var HT={};Object.defineProperty(HT,"__esModule",{value:!0});var qT={};Object.defineProperty(qT,"__esModule",{value:!0});var WT={};Object.defineProperty(WT,"__esModule",{value:!0});var KT={};Object.defineProperty(KT,"__esModule",{value:!0});var GT={};Object.defineProperty(GT,"__esModule",{value:!0});var JT={};Object.defineProperty(JT,"__esModule",{value:!0});var QT={};Object.defineProperty(QT,"__esModule",{value:!0});var fg={};Object.defineProperty(fg,"__esModule",{value:!0});fg.WidgetTypesEnum=void 0;var tO;(function(e){e.BLOCK="BLOCK",e.LAYER="LAYER"})(tO||(fg.WidgetTypesEnum=tO={}));(function(e){var t=xl&&xl.__createBinding||(Object.create?function(o,i,s,l){l===void 0&&(l=s);var u=Object.getOwnPropertyDescriptor(i,s);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(o,l,u)}:function(o,i,s,l){l===void 0&&(l=s),o[l]=i[s]}),n=xl&&xl.__exportStar||function(o,i){for(var s in o)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,o,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.getBridge=r;function r(){return window.buildBridge("2.0.0")}n(zp,e),n(FT,e),n(LT,e),n(jT,e),n(zT,e),n(xc,e),n(BT,e),n(UT,e),n(Oc,e),n(Qa,e),n(ug,e),n(cg,e),n(VT,e),n(HT,e),n(qT,e),n(WT,e),n(KT,e),n(GT,e),n(JT,e),n(QT,e),n(fg,e)})(ep);var YT=function(t,n){var r="000000000"+t;return r.substr(r.length-n)},lL=YT,aL=typeof window=="object"?window:self,uL=Object.keys(aL).length,cL=navigator.mimeTypes?navigator.mimeTypes.length:0,fL=lL((cL+navigator.userAgent.length).toString(36)+uL.toString(36),4),pL=function(){return fL},a1,nO=typeof window<"u"&&(window.crypto||window.msCrypto)||typeof self<"u"&&self.crypto;if(nO){var hL=Math.pow(2,32)-1;a1=function(){return Math.abs(nO.getRandomValues(new Uint32Array(1))[0]/hL)}}else a1=Math.random;var dL=a1,mm=pL,ZT=YT,mL=dL,Cf=0,lS=4,gm=36,XT=Math.pow(gm,lS);function u1(){return ZT((mL()*XT<<0).toString(gm),lS)}function eA(){return Cf=Cf<XT?Cf:0,Cf++,Cf-1}function Bp(){var e="c",t=new Date().getTime().toString(gm),n=ZT(eA().toString(gm),lS),r=mm(),o=u1()+u1();return e+t+n+r+o}Bp.slug=function(){var t=new Date().getTime().toString(36),n=eA().toString(36).slice(-4),r=mm().slice(0,1)+mm().slice(-1),o=u1().slice(-2);return t.slice(-2)+n+r+o};Bp.isCuid=function(t){return typeof t!="string"?!1:!!t.startsWith("c")};Bp.isSlug=function(t){if(typeof t!="string")return!1;var n=t.length;return n>=7&&n<=10};Bp.fingerprint=mm;var gL=Bp;const yL=pw(gL);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var c1=function(e,t){return c1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},c1(e,t)};function rr(e,t){c1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function ym(e){return typeof e=="function"}var rO=!1,ji={set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;""+t.stack}rO=e},get useDeprecatedSynchronousErrorHandling(){return rO}};function zf(e){setTimeout(function(){throw e},0)}var vm={closed:!0,next:function(e){},error:function(e){if(ji.useDeprecatedSynchronousErrorHandling)throw e;zf(e)},complete:function(){}},tA=function(){return Array.isArray||function(e){return e&&typeof e.length=="number"}}();function vL(e){return e!==null&&typeof e=="object"}var wL=function(){function e(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e}(),Od=wL,Ki=function(){function e(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,r=n._parentOrParents,o=n._ctorUnsubscribe,i=n._unsubscribe,s=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(r!==null)for(var l=0;l<r.length;++l){var u=r[l];u.remove(this)}if(ym(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(h){t=h instanceof Od?oO(h.errors):[h]}}if(tA(s))for(var l=-1,f=s.length;++l<f;){var p=s[l];if(vL(p))try{p.unsubscribe()}catch(d){t=t||[],d instanceof Od?t=t.concat(oO(d.errors)):t.push(d)}}if(t)throw new Od(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;n=new e,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(o===null)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else if(o.indexOf(this)===-1)o.push(this);else return n;var i=this._subscriptions;return i===null?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(t){var n=this._subscriptions;if(n){var r=n.indexOf(t);r!==-1&&n.splice(r,1)}},e.EMPTY=function(t){return t.closed=!0,t}(new e),e}();function oO(e){return e.reduce(function(t,n){return t.concat(n instanceof Od?n.errors:n)},[])}var wm=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),mi=function(e){rr(t,e);function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=vm;break;case 1:if(!n){i.destination=vm;break}if(typeof n=="object"){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new iO(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new iO(i,n,r,o);break}return i}return t.prototype[wm]=function(){return this},t.create=function(n,r,o){var i=new t(n,r,o);return i.syncErrorThrowable=!1,i},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=n,this},t}(Ki),iO=function(e){rr(t,e);function t(n,r,o,i){var s=e.call(this)||this;s._parentSubscriber=n;var l,u=s;return ym(r)?l=r:r&&(l=r.next,o=r.error,i=r.complete,r!==vm&&(u=Object.create(r),ym(u.unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=l,s._error=o,s._complete=i,s}return t.prototype.next=function(n){if(!this.isStopped&&this._next){var r=this._parentSubscriber;!ji.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?this.__tryOrUnsub(this._next,n):this.__tryOrSetError(r,this._next,n)&&this.unsubscribe()}},t.prototype.error=function(n){if(!this.isStopped){var r=this._parentSubscriber,o=ji.useDeprecatedSynchronousErrorHandling;if(this._error)!o||!r.syncErrorThrowable?(this.__tryOrUnsub(this._error,n),this.unsubscribe()):(this.__tryOrSetError(r,this._error,n),this.unsubscribe());else if(r.syncErrorThrowable)o?(r.syncErrorValue=n,r.syncErrorThrown=!0):zf(n),this.unsubscribe();else{if(this.unsubscribe(),o)throw n;zf(n)}}},t.prototype.complete=function(){var n=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var o=function(){return n._complete.call(n._context)};!ji.useDeprecatedSynchronousErrorHandling||!r.syncErrorThrowable?(this.__tryOrUnsub(o),this.unsubscribe()):(this.__tryOrSetError(r,o),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(n,r){try{n.call(this._context,r)}catch(o){if(this.unsubscribe(),ji.useDeprecatedSynchronousErrorHandling)throw o;zf(o)}},t.prototype.__tryOrSetError=function(n,r,o){if(!ji.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{r.call(this._context,o)}catch(i){return ji.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=i,n.syncErrorThrown=!0,!0):(zf(i),!0)}return!1},t.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._context=null,this._parentSubscriber=null,n.unsubscribe()},t}(mi);function SL(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;r&&r instanceof mi?e=r:e=null}return!0}function bL(e,t,n){if(e){if(e instanceof mi)return e;if(e[wm])return e[wm]()}return!e&&!t&&!n?new mi(vm):new mi(e,t,n)}var kL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function xL(e){return e}function OL(e){return e.length===0?xL:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var vi=function(){function e(t){this._isScalar=!1,t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this.operator,i=bL(t,n,r);if(o?i.add(o.call(i,this.source)):i.add(this.source||ji.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),ji.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){ji.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),SL(t)?t.error(n):console.warn(n)}},e.prototype.forEach=function(t,n){var r=this;return n=sO(n),new n(function(o,i){var s;s=r.subscribe(function(l){try{t(l)}catch(u){i(u),s&&s.unsubscribe()}},i,o)})},e.prototype._subscribe=function(t){var n=this.source;return n&&n.subscribe(t)},e.prototype[kL]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this:OL(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=sO(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function sO(e){if(e||(e=Promise),!e)throw new Error("no Promise impl found");return e}var EL=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Uu=EL,nA=function(e){rr(t,e);function t(n,r){var o=e.call(this)||this;return o.subject=n,o.subscriber=r,o.closed=!1,o}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,r=n.observers;if(this.subject=null,!(!r||r.length===0||n.isStopped||n.closed)){var o=r.indexOf(this.subscriber);o!==-1&&r.splice(o,1)}}},t}(Ki),rA=function(e){rr(t,e);function t(n){var r=e.call(this,n)||this;return r.destination=n,r}return t}(mi),Sm=function(e){rr(t,e);function t(){var n=e.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype[wm]=function(){return new rA(this)},t.prototype.lift=function(n){var r=new lO(this,this);return r.operator=n,r},t.prototype.next=function(n){if(this.closed)throw new Uu;if(!this.isStopped)for(var r=this.observers,o=r.length,i=r.slice(),s=0;s<o;s++)i[s].next(n)},t.prototype.error=function(n){if(this.closed)throw new Uu;this.hasError=!0,this.thrownError=n,this.isStopped=!0;for(var r=this.observers,o=r.length,i=r.slice(),s=0;s<o;s++)i[s].error(n);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Uu;this.isStopped=!0;for(var n=this.observers,r=n.length,o=n.slice(),i=0;i<r;i++)o[i].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(n){if(this.closed)throw new Uu;return e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){if(this.closed)throw new Uu;return this.hasError?(n.error(this.thrownError),Ki.EMPTY):this.isStopped?(n.complete(),Ki.EMPTY):(this.observers.push(n),new nA(this,n))},t.prototype.asObservable=function(){var n=new vi;return n.source=this,n},t.create=function(n,r){return new lO(n,r)},t}(vi),lO=function(e){rr(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r=this.destination;r&&r.next&&r.next(n)},t.prototype.error=function(n){var r=this.destination;r&&r.error&&this.destination.error(n)},t.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},t.prototype._subscribe=function(n){var r=this.source;return r?this.source.subscribe(n):Ki.EMPTY},t}(Sm);function CL(){return function(t){return t.lift(new NL(t))}}var NL=function(){function e(t){this.connectable=t}return e.prototype.call=function(t,n){var r=this.connectable;r._refCount++;var o=new TL(t,r),i=n.subscribe(o);return o.closed||(o.connection=r.connect()),i},e}(),TL=function(e){rr(t,e);function t(n,r){var o=e.call(this,n)||this;return o.connectable=r,o}return t.prototype._unsubscribe=function(){var n=this.connectable;if(!n){this.connection=null;return}this.connectable=null;var r=n._refCount;if(r<=0){this.connection=null;return}if(n._refCount=r-1,r>1){this.connection=null;return}var o=this.connection,i=n._connection;this.connection=null,i&&(!o||i===o)&&i.unsubscribe()},t}(mi),AL=function(e){rr(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._refCount=0,o._isComplete=!1,o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,n=this._connection=new Ki,n.add(this.source.subscribe(new _L(this.getSubject(),this))),n.closed&&(this._connection=null,n=Ki.EMPTY)),n},t.prototype.refCount=function(){return CL()(this)},t}(vi),ML=function(){var e=AL.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),_L=function(e){rr(t,e);function t(n,r){var o=e.call(this,n)||this;return o.connectable=r,o}return t.prototype._error=function(n){this._unsubscribe(),e.prototype._error.call(this,n)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._connection;n._refCount=0,n._subject=null,n._connection=null,r&&r.unsubscribe()}},t}(rA),RL=function(e){rr(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Ki),DL=function(e){rr(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(i,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return r;clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i=void 0;try{this.work(n)}catch(s){o=!0,i=!!s&&s||new Error(s)}if(o)return this.unsubscribe(),i},t.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,o=r.actions,i=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,i!==-1&&o.splice(i,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},t}(RL),IL=function(e){rr(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?e.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},t.prototype.execute=function(n,r){return r>0||this.closed?e.prototype.execute.call(this,n,r):this._execute(n,r)},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0||o===null&&this.delay>0?e.prototype.requestAsyncId.call(this,n,r,o):n.flush(this)},t}(DL),aO=function(){function e(t,n){n===void 0&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,t).schedule(r,n)},e.now=function(){return Date.now()},e}(),PL=function(e){rr(t,e);function t(n,r){r===void 0&&(r=aO.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return t.prototype.schedule=function(n,r,o){return r===void 0&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(n){var r=this.actions;if(this.active){r.push(n);return}var o;this.active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(aO),$L=function(e){rr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(PL),FL=new $L(IL),LL=FL,jL=new vi(function(e){return e.complete()});function zL(e){return e?BL(e):jL}function BL(e){return new vi(function(t){return e.schedule(function(){return t.complete()})})}function UL(e){return e&&typeof e.schedule=="function"}var VL=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function HL(e,t){return new vi(function(n){var r=new Ki,o=0;return r.add(t.schedule(function(){if(o===e.length){n.complete();return}n.next(e[o++]),n.closed||r.add(this.schedule())})),r})}function qL(e,t){return new vi(VL(e))}function WL(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return UL(n)?(e.pop(),HL(e,n)):qL(e)}function KL(e,t){return new vi(function(n){return n.error(e)})}var o0=function(){function e(t,n,r){this.kind=t,this.value=n,this.error=r,this.hasValue=t==="N"}return e.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},e.prototype.do=function(t,n,r){var o=this.kind;switch(o){case"N":return t&&t(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}},e.prototype.accept=function(t,n,r){return t&&typeof t.next=="function"?this.observe(t):this.do(t,n,r)},e.prototype.toObservable=function(){var t=this.kind;switch(t){case"N":return WL(this.value);case"E":return KL(this.error);case"C":return zL()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return typeof t<"u"?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),GL=function(e){rr(t,e);function t(n,r,o){o===void 0&&(o=0);var i=e.call(this,n)||this;return i.scheduler=r,i.delay=o,i}return t.dispatch=function(n){var r=n.notification,o=n.destination;r.observe(o),this.unsubscribe()},t.prototype.scheduleMessage=function(n){var r=this.destination;r.add(this.scheduler.schedule(t.dispatch,this.delay,new JL(n,this.destination)))},t.prototype._next=function(n){this.scheduleMessage(o0.createNext(n))},t.prototype._error=function(n){this.scheduleMessage(o0.createError(n)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o0.createComplete()),this.unsubscribe()},t}(mi),JL=function(){function e(t,n){this.notification=t,this.destination=n}return e}(),QL=function(e){rr(t,e);function t(n,r,o){n===void 0&&(n=Number.POSITIVE_INFINITY),r===void 0&&(r=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=o,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=n<1?1:n,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return t.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}e.prototype.next.call(this,n)},t.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new YL(this._getNow(),n)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){var r=this._infiniteTimeWindow,o=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=o.length,l;if(this.closed)throw new Uu;if(this.isStopped||this.hasError?l=Ki.EMPTY:(this.observers.push(n),l=new nA(this,n)),i&&n.add(n=new GL(n,i)),r)for(var u=0;u<s&&!n.closed;u++)n.next(o[u]);else for(var u=0;u<s&&!n.closed;u++)n.next(o[u].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),l},t.prototype._getNow=function(){return(this.scheduler||LL).now()},t.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),r=this._bufferSize,o=this._windowTime,i=this._events,s=i.length,l=0;l<s&&!(n-i[l].time<o);)l++;return s>r&&(l=Math.max(l,s-r)),l>0&&i.splice(0,l),i},t}(Sm),YL=function(){function e(t,n){this.time=t,this.value=n}return e}(),ZL=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),XL=ZL;function bm(e,t){return function(r){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new ej(e,t))}}var ej=function(){function e(t,n){this.project=t,this.thisArg=n}return e.prototype.call=function(t,n){return n.subscribe(new tj(t,this.project,this.thisArg))},e}(),tj=function(e){rr(t,e);function t(n,r,o){var i=e.call(this,n)||this;return i.project=r,i.count=0,i.thisArg=o||i,i}return t.prototype._next=function(n){var r;try{r=this.project.call(this.thisArg,n,this.count++)}catch(o){this.destination.error(o);return}this.destination.next(r)},t}(mi);function oA(e,t,n,r){return ym(n)&&(r=n,n=void 0),r?oA(e,t,n).pipe(bm(function(o){return tA(o)?r.apply(void 0,o):r(o)})):new vi(function(o){function i(s){arguments.length>1?o.next(Array.prototype.slice.call(arguments)):o.next(s)}iA(e,t,i,o,n)})}function iA(e,t,n,r,o){var i;if(oj(e)){var s=e;e.addEventListener(t,n,o),i=function(){return s.removeEventListener(t,n,o)}}else if(rj(e)){var l=e;e.on(t,n),i=function(){return l.off(t,n)}}else if(nj(e)){var u=e;e.addListener(t,n),i=function(){return u.removeListener(t,n)}}else if(e&&e.length)for(var f=0,p=e.length;f<p;f++)iA(e[f],t,n,r,o);else throw new TypeError("Invalid event target");r.add(i)}function nj(e){return e&&typeof e.addListener=="function"&&typeof e.removeListener=="function"}function rj(e){return e&&typeof e.on=="function"&&typeof e.off=="function"}function oj(e){return e&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"}function i0(e,t){return function(r){return r.lift(new ij(e,t))}}var ij=function(){function e(t,n){this.predicate=t,this.thisArg=n}return e.prototype.call=function(t,n){return n.subscribe(new sj(t,this.predicate,this.thisArg))},e}(),sj=function(e){rr(t,e);function t(n,r,o){var i=e.call(this,n)||this;return i.predicate=r,i.thisArg=o,i.count=0,i}return t.prototype._next=function(n){var r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(o){this.destination.error(o);return}r&&this.destination.next(n)},t}(mi);function f1(e){return function(t){return t.lift(new lj(e))}}var lj=function(){function e(t){if(this.total=t,this.total<0)throw new XL}return e.prototype.call=function(t,n){return n.subscribe(new aj(t,this.total))},e}(),aj=function(e){rr(t,e);function t(n,r){var o=e.call(this,n)||this;return o.total=r,o.count=0,o}return t.prototype._next=function(n){var r=this.total,o=++this.count;o<=r&&(this.destination.next(n),o===r&&(this.destination.complete(),this.unsubscribe()))},t}(mi);function p1(e,t){return function(r){var o;typeof e=="function"?o=e:o=function(){return e};var i=Object.create(r,ML);return i.source=r,i.subjectFactory=o,i}}function uj(e){return p1(e?function(){return new Sm}:new Sm)}function cj(e,t,n,r){var o=new QL(e,t,r);return function(i){return p1(function(){return o})(i)}}var km=function(){return km=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},km.apply(this,arguments)};function fj(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(p){try{f(r.next(p))}catch(h){s(h)}}function u(p){try{f(r.throw(p))}catch(h){s(h)}}function f(p){p.done?i(p.value):o(p.value).then(l,u)}f((r=r.apply(e,[])).next())})}function pj(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=l(0),s.throw=l(1),s.return=l(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(f){return function(p){return u([f,p])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(p){f=[6,p],o=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Ts;(function(e){e.CONTEXT_UPDATE="context_update",e.FUNCTION_CALL="function_call",e.FUNCTION_CANCEL="function_cancel",e.FUNCTION_RESULT="function_result",e.FUNCTION_ERROR="function_error"})(Ts||(Ts={}));var hj="@frontapp/ui-sdk#WebViewBridge.handshake";function dj(e){return e.type===Ts.CONTEXT_UPDATE}function mj(e){return e.type===Ts.FUNCTION_RESULT||e.type===Ts.FUNCTION_ERROR}function gj(){var e=this,t=new vi(function(l){return yj().subscribe(l)}).pipe(uj(),uO()),n=t.pipe(i0(dj),cj(1),uO()),r=function(l,u,f,p,h){return l.postMessage({type:Ts.FUNCTION_CALL,id:u,contextId:f,name:p,args:h}),t.pipe(i0(mj),i0(function(d){return d.id===u}),bm(function(d){switch(d.type){case Ts.FUNCTION_RESULT:return d.value;case Ts.FUNCTION_ERROR:default:throw new Error(String(d.error))}}),f1(1))},o=function(l,u){l.postMessage({type:Ts.FUNCTION_CANCEL,id:u})},i=n.pipe(bm(function(l){var u=l.port,f=l.context;return new Proxy(f,{get:function(p,h){var d=String(h),g=p.functionArities[d];return h in p||!Number.isInteger(g)?p[h]:function(){for(var y=[],b=0;b<arguments.length;b++)y[b]=arguments[b];var N=yL(),v=g-1,k=y[v],x=y.slice(0,v);return new Promise(function(D,F){var I=r(u,N,f.id,d,x).subscribe({next:D,error:F});k&&k.promise.then(function(){I.closed||(I.unsubscribe(),F(new ep.ApplicationCancelError),o(u,N))})})}}})})),s={contextUpdates:i,buildCancelTokenSource:ep.buildApplicationCancelTokenSource,isCancelError:function(l){return l instanceof ep.ApplicationCancelError}};return new Proxy(s,{get:function(l,u){return u in l?l[u]:function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];return new Promise(function(h,d){i.pipe(f1(1)).subscribe({next:function(g){return fj(e,void 0,void 0,function(){var y,b,N,v;return pj(this,function(k){switch(k.label){case 0:if(y=g[u],y===void 0)return b="".concat(String(u)," is not a valid function for context ").concat(g.type,"."),d(new ReferenceError(b)),[2];k.label=1;case 1:return k.trys.push([1,3,,4]),N=h,[4,y.apply(void 0,f)];case 2:return N.apply(void 0,[k.sent()]),[3,4];case 3:return v=k.sent(),d(v),[3,4];case 4:return[2]}})})},error:d})})}}})}function yj(){var e=window.parent,t=new MessageChannel,n=t.port1,r=t.port2,o=oA(n,"message").pipe(bm(function(i){return km(km({},i.data),{port:n})}));return n.start(),e.postMessage(hj,"*",[r]),o}function uO(){return function(e){return vj(e)?new vi(function(t){var n=e.subscribe(t);return e.connect(),n}):e}}function vj(e){return typeof e.connect=="function"}var Gi=gj(),wj=Gi.buildCancelTokenSource,sA=Gi.contextUpdates,Sj=Gi.isCancelError;typeof window<"u"&&sA.pipe(f1(1)).subscribe();function lA(){window.parent!==window.self&&window.addEventListener("click",function(e){if(e.button===0){var t=e.target,n=t instanceof window.HTMLElement?t.closest("a"):null;if(!(!n||!n.href)&&!(n.target!=="_blank"&&!n.href.startsWith("mailto:"))){var r=new URL(n.href,window.location.href);e.preventDefault(),Gi.openUrl(r.href)}}})}function bj(){if(window.parent!==window.self){lA();var e=window.open;window.open=function(n,r,o){if(n==null||r!=null&&r!=="_blank")return e(n,r,o);var i=new URL(n,window.location.href);return Gi.openUrl(i.href),null}}}const aA=M4({__proto__:null,buildCancelTokenSource:wj,contextUpdates:sA,default:Gi,delegateAnchorClicksToFront:lA,delegateNewWindowsToFront:bj,isCancelError:Sj},[ep]);console.log("Imported Front SDK:",aA);console.log("Front SDK keys:",Object.keys(aA));const uA={setSize:e=>{console.log(" MOCK Front.setSize:",e),console.log(" Using MOCK - Real Front SDK not available!")},contextUpdates:{subscribe:e=>(console.log(" MOCK Front.contextUpdates.subscribe"),console.log(" Using MOCK - Real Front SDK not available!"),console.log(" This means window.Front was never injected by Front app"),console.log(" Possible causes:"),console.log('   1. Plugin type in Front settings is not "Composer"'),console.log("   2. Front has a bug/issue with SDK injection"),console.log("   3. Browser extension blocking injection"),console.log("   4. CSP or iframe sandbox restrictions"),()=>console.log("Mock unsubscribe"))},updateDraft:async(e,t)=>(console.error(" CANNOT INSERT - Using mock Front SDK"),console.log("Mock would have called updateDraft with:",{draftId:e,options:t}),console.log("Table HTML:",t.content.body),alert(` Cannot insert table - Front SDK not loaded!

The real Front SDK (window.Front) was not injected by Front app.

Check console for troubleshooting steps.`),Promise.reject(new Error("Mock Front SDK cannot insert into real draft")))},pg=Gi||window.Front||uA;console.log("Using Front SDK:",pg);console.log("Is FrontSDK.default?",pg===Gi);console.log("Is window.Front?",pg===window.Front);const cA=Gt.createContext({context:null,Front:null,isReady:!1}),fA=()=>Gt.useContext(cA),kj=({children:e})=>{const[t,n]=Gt.useState(null),[r,o]=Gt.useState(!1);Gt.useEffect(()=>{let l=0;const u=20;let f;const p=()=>{l++,console.log(`Checking for Front SDK... (attempt ${l}/${u})`),console.log("FrontSDK.default:",Gi),console.log("window.Front:",window.Front),console.log("window.location:",window.location.href),console.log("Is in iframe?:",window!==window.top),console.log("Parent origin:",window!==window.top?document.referrer:"N/A");const h=Gi||window.Front;if(h){console.log(" Front SDK found!"),clearInterval(f),i(h);return}l>=u&&(console.warn(" Front SDK not available - Using mock for development"),console.log("The Front SDK is only available when this plugin is loaded inside Front."),console.log("IMPORTANT: In Front settings, make sure:"),console.log('1. Plugin type is set to "Composer"'),console.log("2. The plugin URL is correct"),console.log("3. You are opening this from the composer toolbar"),console.log("window object keys:",Object.keys(window).filter(d=>d.toLowerCase().includes("front"))),clearInterval(f),i(uA))};return p(),f=setInterval(p,200),()=>clearInterval(f)},[]);const i=l=>{try{console.log(" Front SDK detected - Initializing..."),console.log("Available Front methods:",Object.keys(l)),l.setSize({width:800,height:700}),console.log("Subscribing to Front.contextUpdates...");const u=l.contextUpdates.subscribe(f=>{console.log(" Front context updated:",f),console.log("Context type:",f==null?void 0:f.type),console.log("Has draft?:",!!(f!=null&&f.draft)),f!=null&&f.draft?(console.log(" Composer context detected with draft:",f.draft),console.log("Draft ID:",f.draft.id)):console.log(" No draft found in context. Make sure to open this plugin from the composer toolbar."),n(f),o(!0)});console.log(" Front SDK initialized successfully"),console.log("Subscription created:",!!u)}catch(u){console.error(" Error initializing Front SDK:",u),o(!0)}},s=window.Front||pg;return un.jsx(cA.Provider,{value:{context:t,Front:s,isReady:r},children:e})};var xj=Object.defineProperty,Oj=(e,t,n)=>t in e?xj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nf=(e,t,n)=>Oj(e,typeof t!="symbol"?t+"":t,n),ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h1={exports:{}},Tf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cO;function Ej(){if(cO)return Tf;cO=1;var e=Wl,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(l,u,f){var p,h={},d=null,g=null;f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),u.ref!==void 0&&(g=u.ref);for(p in u)r.call(u,p)&&!i.hasOwnProperty(p)&&(h[p]=u[p]);if(l&&l.defaultProps)for(p in u=l.defaultProps,u)h[p]===void 0&&(h[p]=u[p]);return{$$typeof:t,type:l,key:d,ref:g,props:h,_owner:o.current}}return Tf.Fragment=n,Tf.jsx=s,Tf.jsxs=s,Tf}var Af={},fO;function Cj(){if(fO)return Af;fO=1;var e={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return e.NODE_ENV!=="production"&&function(){var t=Wl,n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),b=Symbol.iterator,N="@@iterator";function v(z){if(z===null||typeof z!="object")return null;var _e=b&&z[b]||z[N];return typeof _e=="function"?_e:null}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function x(z){{for(var _e=arguments.length,Ue=new Array(_e>1?_e-1:0),ot=1;ot<_e;ot++)Ue[ot-1]=arguments[ot];D("error",z,Ue)}}function D(z,_e,Ue){{var ot=k.ReactDebugCurrentFrame,Ft=ot.getStackAddendum();Ft!==""&&(_e+="%s",Ue=Ue.concat([Ft]));var Bt=Ue.map(function(Tt){return String(Tt)});Bt.unshift("Warning: "+_e),Function.prototype.apply.call(console[z],console,Bt)}}var F=!1,I=!1,V=!1,j=!1,te=!1,se;se=Symbol.for("react.module.reference");function Se(z){return!!(typeof z=="string"||typeof z=="function"||z===o||z===s||te||z===i||z===p||z===h||j||z===y||F||I||V||typeof z=="object"&&z!==null&&(z.$$typeof===g||z.$$typeof===d||z.$$typeof===l||z.$$typeof===u||z.$$typeof===f||z.$$typeof===se||z.getModuleId!==void 0))}function me(z,_e,Ue){var ot=z.displayName;if(ot)return ot;var Ft=_e.displayName||_e.name||"";return Ft!==""?Ue+"("+Ft+")":Ue}function W(z){return z.displayName||"Context"}function G(z){if(z==null)return null;if(typeof z.tag=="number"&&x("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof z=="function")return z.displayName||z.name||null;if(typeof z=="string")return z;switch(z){case o:return"Fragment";case r:return"Portal";case s:return"Profiler";case i:return"StrictMode";case p:return"Suspense";case h:return"SuspenseList"}if(typeof z=="object")switch(z.$$typeof){case u:var _e=z;return W(_e)+".Consumer";case l:var Ue=z;return W(Ue._context)+".Provider";case f:return me(z,z.render,"ForwardRef");case d:var ot=z.displayName||null;return ot!==null?ot:G(z.type)||"Memo";case g:{var Ft=z,Bt=Ft._payload,Tt=Ft._init;try{return G(Tt(Bt))}catch{return null}}}return null}var U=Object.assign,re=0,He,fe,J,T,le,xe,C;function _(){}_.__reactDisabledLog=!0;function P(){{if(re===0){He=console.log,fe=console.info,J=console.warn,T=console.error,le=console.group,xe=console.groupCollapsed,C=console.groupEnd;var z={configurable:!0,enumerable:!0,value:_,writable:!0};Object.defineProperties(console,{info:z,log:z,warn:z,error:z,group:z,groupCollapsed:z,groupEnd:z})}re++}}function L(){{if(re--,re===0){var z={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:U({},z,{value:He}),info:U({},z,{value:fe}),warn:U({},z,{value:J}),error:U({},z,{value:T}),group:U({},z,{value:le}),groupCollapsed:U({},z,{value:xe}),groupEnd:U({},z,{value:C})})}re<0&&x("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var pe=k.ReactCurrentDispatcher,oe;function ce(z,_e,Ue){{if(oe===void 0)try{throw Error()}catch(Ft){var ot=Ft.stack.trim().match(/\n( *(at )?)/);oe=ot&&ot[1]||""}return`
`+oe+z}}var Ce=!1,Pe;{var ie=typeof WeakMap=="function"?WeakMap:Map;Pe=new ie}function Y(z,_e){if(!z||Ce)return"";{var Ue=Pe.get(z);if(Ue!==void 0)return Ue}var ot;Ce=!0;var Ft=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Bt;Bt=pe.current,pe.current=null,P();try{if(_e){var Tt=function(){throw Error()};if(Object.defineProperty(Tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Tt,[])}catch(Un){ot=Un}Reflect.construct(z,[],Tt)}else{try{Tt.call()}catch(Un){ot=Un}z.call(Tt.prototype)}}else{try{throw Error()}catch(Un){ot=Un}z()}}catch(Un){if(Un&&ot&&typeof Un.stack=="string"){for(var wt=Un.stack.split(`
`),xn=ot.stack.split(`
`),on=wt.length-1,cn=xn.length-1;on>=1&&cn>=0&&wt[on]!==xn[cn];)cn--;for(;on>=1&&cn>=0;on--,cn--)if(wt[on]!==xn[cn]){if(on!==1||cn!==1)do if(on--,cn--,cn<0||wt[on]!==xn[cn]){var On=`
`+wt[on].replace(" at new "," at ");return z.displayName&&On.includes("<anonymous>")&&(On=On.replace("<anonymous>",z.displayName)),typeof z=="function"&&Pe.set(z,On),On}while(on>=1&&cn>=0);break}}}finally{Ce=!1,pe.current=Bt,L(),Error.prepareStackTrace=Ft}var Do=z?z.displayName||z.name:"",xr=Do?ce(Do):"";return typeof z=="function"&&Pe.set(z,xr),xr}function ge(z,_e,Ue){return Y(z,!1)}function he(z){var _e=z.prototype;return!!(_e&&_e.isReactComponent)}function Qe(z,_e,Ue){if(z==null)return"";if(typeof z=="function")return Y(z,he(z));if(typeof z=="string")return ce(z);switch(z){case p:return ce("Suspense");case h:return ce("SuspenseList")}if(typeof z=="object")switch(z.$$typeof){case f:return ge(z.render);case d:return Qe(z.type,_e,Ue);case g:{var ot=z,Ft=ot._payload,Bt=ot._init;try{return Qe(Bt(Ft),_e,Ue)}catch{}}}return""}var Ze=Object.prototype.hasOwnProperty,ye={},ee=k.ReactDebugCurrentFrame;function $e(z){if(z){var _e=z._owner,Ue=Qe(z.type,z._source,_e?_e.type:null);ee.setExtraStackFrame(Ue)}else ee.setExtraStackFrame(null)}function Ke(z,_e,Ue,ot,Ft){{var Bt=Function.call.bind(Ze);for(var Tt in z)if(Bt(z,Tt)){var wt=void 0;try{if(typeof z[Tt]!="function"){var xn=Error((ot||"React class")+": "+Ue+" type `"+Tt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof z[Tt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw xn.name="Invariant Violation",xn}wt=z[Tt](_e,Tt,ot,Ue,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(on){wt=on}wt&&!(wt instanceof Error)&&($e(Ft),x("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ot||"React class",Ue,Tt,typeof wt),$e(null)),wt instanceof Error&&!(wt.message in ye)&&(ye[wt.message]=!0,$e(Ft),x("Failed %s type: %s",Ue,wt.message),$e(null))}}}var kt=Array.isArray;function Xe(z){return kt(z)}function q(z){{var _e=typeof Symbol=="function"&&Symbol.toStringTag,Ue=_e&&z[Symbol.toStringTag]||z.constructor.name||"Object";return Ue}}function Z(z){try{return B(z),!1}catch{return!0}}function B(z){return""+z}function ne(z){if(Z(z))return x("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",q(z)),B(z)}var be=k.ReactCurrentOwner,Fe={key:!0,ref:!0,__self:!0,__source:!0},Le,et;function pt(z){if(Ze.call(z,"ref")){var _e=Object.getOwnPropertyDescriptor(z,"ref").get;if(_e&&_e.isReactWarning)return!1}return z.ref!==void 0}function gt(z){if(Ze.call(z,"key")){var _e=Object.getOwnPropertyDescriptor(z,"key").get;if(_e&&_e.isReactWarning)return!1}return z.key!==void 0}function nn(z,_e){typeof z.ref=="string"&&be.current}function kn(z,_e){{var Ue=function(){Le||(Le=!0,x("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",_e))};Ue.isReactWarning=!0,Object.defineProperty(z,"key",{get:Ue,configurable:!0})}}function rn(z,_e){{var Ue=function(){et||(et=!0,x("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",_e))};Ue.isReactWarning=!0,Object.defineProperty(z,"ref",{get:Ue,configurable:!0})}}var Bn=function(z,_e,Ue,ot,Ft,Bt,Tt){var wt={$$typeof:n,type:z,key:_e,ref:Ue,props:Tt,_owner:Bt};return wt._store={},Object.defineProperty(wt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(wt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ot}),Object.defineProperty(wt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Ft}),Object.freeze&&(Object.freeze(wt.props),Object.freeze(wt)),wt};function pn(z,_e,Ue,ot,Ft){{var Bt,Tt={},wt=null,xn=null;Ue!==void 0&&(ne(Ue),wt=""+Ue),gt(_e)&&(ne(_e.key),wt=""+_e.key),pt(_e)&&(xn=_e.ref,nn(_e));for(Bt in _e)Ze.call(_e,Bt)&&!Fe.hasOwnProperty(Bt)&&(Tt[Bt]=_e[Bt]);if(z&&z.defaultProps){var on=z.defaultProps;for(Bt in on)Tt[Bt]===void 0&&(Tt[Bt]=on[Bt])}if(wt||xn){var cn=typeof z=="function"?z.displayName||z.name||"Unknown":z;wt&&kn(Tt,cn),xn&&rn(Tt,cn)}return Bn(z,wt,xn,Ft,ot,be.current,Tt)}}var pr=k.ReactCurrentOwner,es=k.ReactDebugCurrentFrame;function Qr(z){if(z){var _e=z._owner,Ue=Qe(z.type,z._source,_e?_e.type:null);es.setExtraStackFrame(Ue)}else es.setExtraStackFrame(null)}var Zo;Zo=!1;function hr(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function Si(){{if(pr.current){var z=G(pr.current.type);if(z)return`

Check the render method of \``+z+"`."}return""}}function ts(z){return""}var ns={};function bi(z){{var _e=Si();if(!_e){var Ue=typeof z=="string"?z:z.displayName||z.name;Ue&&(_e=`

Check the top-level render call using <`+Ue+">.")}return _e}}function Ls(z,_e){{if(!z._store||z._store.validated||z.key!=null)return;z._store.validated=!0;var Ue=bi(_e);if(ns[Ue])return;ns[Ue]=!0;var ot="";z&&z._owner&&z._owner!==pr.current&&(ot=" It was passed a child from "+G(z._owner.type)+"."),Qr(z),x('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Ue,ot),Qr(null)}}function js(z,_e){{if(typeof z!="object")return;if(Xe(z))for(var Ue=0;Ue<z.length;Ue++){var ot=z[Ue];hr(ot)&&Ls(ot,_e)}else if(hr(z))z._store&&(z._store.validated=!0);else if(z){var Ft=v(z);if(typeof Ft=="function"&&Ft!==z.entries)for(var Bt=Ft.call(z),Tt;!(Tt=Bt.next()).done;)hr(Tt.value)&&Ls(Tt.value,_e)}}}function ea(z){{var _e=z.type;if(_e==null||typeof _e=="string")return;var Ue;if(typeof _e=="function")Ue=_e.propTypes;else if(typeof _e=="object"&&(_e.$$typeof===f||_e.$$typeof===d))Ue=_e.propTypes;else return;if(Ue){var ot=G(_e);Ke(Ue,z.props,"prop",ot,z)}else if(_e.PropTypes!==void 0&&!Zo){Zo=!0;var Ft=G(_e);x("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Ft||"Unknown")}typeof _e.getDefaultProps=="function"&&!_e.getDefaultProps.isReactClassApproved&&x("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function ki(z){{for(var _e=Object.keys(z.props),Ue=0;Ue<_e.length;Ue++){var ot=_e[Ue];if(ot!=="children"&&ot!=="key"){Qr(z),x("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ot),Qr(null);break}}z.ref!==null&&(Qr(z),x("Invalid attribute `ref` supplied to `React.Fragment`."),Qr(null))}}var zs={};function xi(z,_e,Ue,ot,Ft,Bt){{var Tt=Se(z);if(!Tt){var wt="";(z===void 0||typeof z=="object"&&z!==null&&Object.keys(z).length===0)&&(wt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var xn=ts();xn?wt+=xn:wt+=Si();var on;z===null?on="null":Xe(z)?on="array":z!==void 0&&z.$$typeof===n?(on="<"+(G(z.type)||"Unknown")+" />",wt=" Did you accidentally export a JSX literal instead of a component?"):on=typeof z,x("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",on,wt)}var cn=pn(z,_e,Ue,Ft,Bt);if(cn==null)return cn;if(Tt){var On=_e.children;if(On!==void 0)if(ot)if(Xe(On)){for(var Do=0;Do<On.length;Do++)js(On[Do],z);Object.freeze&&Object.freeze(On)}else x("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else js(On,z)}if(Ze.call(_e,"key")){var xr=G(z),Un=Object.keys(_e).filter(function(Ei){return Ei!=="key"}),Oi=Un.length>0?"{key: someKey, "+Un.join(": ..., ")+": ...}":"{key: someKey}";if(!zs[xr+Oi]){var Bs=Un.length>0?"{"+Un.join(": ..., ")+": ...}":"{}";x(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Oi,xr,Bs,xr),zs[xr+Oi]=!0}}return z===o?ki(cn):ea(cn),cn}}function ta(z,_e,Ue){return xi(z,_e,Ue,!0)}function rs(z,_e,Ue){return xi(z,_e,Ue,!1)}var na=rs,ou=ta;Af.Fragment=o,Af.jsx=na,Af.jsxs=ou}(),Af}var Nj={};Nj.NODE_ENV==="production"?h1.exports=Ej():h1.exports=Cj();var qt=h1.exports;function yr(e){this.content=e}yr.prototype={constructor:yr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return o==-1?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new yr(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new yr(n)},addToStart:function(e,t){return new yr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new yr(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(i==-1?o.length:i,0,t,n),new yr(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=yr.from(e),e.size?new yr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=yr.from(e),e.size?new yr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=yr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};yr.from=function(e){if(e instanceof yr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new yr(t)};function pA(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){let s=pA(o.content,i.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function hA(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let s=e.child(--o),l=t.child(--i),u=s.nodeSize;if(s==l){n-=u,r-=u;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let f=0,p=Math.min(s.text.length,l.text.length);for(;f<p&&s.text[s.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let f=hA(s.content,l.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class je{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,o=0,i){for(let s=0,l=0;l<n;s++){let u=this.content[s],f=l+u.nodeSize;if(f>t&&r(u,o+l,i||null,s)!==!1&&u.content.size){let p=l+1;u.nodesBetween(Math.max(0,t-p),Math.min(u.content.size,n-p),r,o+p)}l=f}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,o){let i="",s=!0;return this.nodesBetween(t,n,(l,u)=>{let f=l.isText?l.text.slice(Math.max(t,u)-u,n-u):l.isLeaf?o?typeof o=="function"?o(l):o:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&f||l.isTextblock)&&r&&(s?s=!1:i+=r),i+=f},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)o.push(t.content[i]);return new je(o,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],o=0;if(n>t)for(let i=0,s=0;s<n;i++){let l=this.content[i],u=s+l.nodeSize;u>t&&((s<t||u>n)&&(l.isText?l=l.cut(Math.max(0,t-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,t-s-1),Math.min(l.content.size,n-s-1))),r.push(l),o+=l.nodeSize),s=u}return new je(r,o)}cutByIndex(t,n){return t==n?je.empty:t==0&&n==this.content.length?this:new je(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[t]=n,new je(o,i)}addToStart(t){return new je([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new je(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];t(o,r,n),r+=o.nodeSize}}findDiffStart(t,n=0){return pA(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return hA(this,t,n,r)}findIndex(t,n=-1){if(t==0)return ed(0,t);if(t==this.size)return ed(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,o=0;;r++){let i=this.child(r),s=o+i.nodeSize;if(s>=t)return s==t||n>0?ed(r+1,s):ed(r,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return je.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new je(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return je.empty;let n,r=0;for(let o=0;o<t.length;o++){let i=t[o];r+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(n||(n=t.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new je(n||t,r)}static from(t){if(!t)return je.empty;if(t instanceof je)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new je([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}je.empty=new je([],0);const s0={index:0,offset:0};function ed(e,t){return s0.index=e,s0.offset=t,s0}function xm(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!xm(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!xm(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class tn{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let o=0;o<t.length;o++){let i=t[o];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,o));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&xm(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return tn.none;if(t instanceof tn)return[t];let n=t.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}}tn.none=[];class Om extends Error{}class We{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=mA(this.content,t+this.openStart,n);return r&&new We(r,this.openStart,this.openEnd)}removeBetween(t,n){return new We(dA(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return We.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new We(je.fromJSON(t,n.content),r,o)}static maxOpen(t,n=!0){let r=0,o=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new We(t,r,o)}}We.empty=new We(je.empty,0,0);function dA(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:l}=e.findIndex(n);if(o==t||i.isText){if(l!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(dA(i.content,t-o-1,n-o-1)))}function mA(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),s=e.maybeChild(o);if(i==t||s.isText)return e.cut(0,t).append(n).append(e.cut(t));let l=mA(s.content,t-i-1,n);return l&&e.replaceChild(o,s.copy(l))}function Tj(e,t,n){if(n.openStart>e.depth)throw new Om("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Om("Inconsistent open depths");return gA(e,t,n,0)}function gA(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let s=gA(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,l=s.content;return za(s,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:s,end:l}=Aj(n,e);return za(i,vA(e,s,l,t,r))}else return za(i,Em(e,t,r))}function yA(e,t){if(!t.type.compatibleContent(e.type))throw new Om("Cannot join "+t.type.name+" onto "+e.type.name)}function d1(e,t,n){let r=e.node(n);return yA(r,t.node(n)),r}function ja(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function tp(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(ja(e.nodeAfter,r),i++));for(let l=i;l<s;l++)ja(o.child(l),r);t&&t.depth==n&&t.textOffset&&ja(t.nodeBefore,r)}function za(e,t){return e.type.checkContent(t),e.copy(t)}function vA(e,t,n,r,o){let i=e.depth>o&&d1(e,t,o+1),s=r.depth>o&&d1(n,r,o+1),l=[];return tp(null,e,o,l),i&&s&&t.index(o)==n.index(o)?(yA(i,s),ja(za(i,vA(e,t,n,r,o+1)),l)):(i&&ja(za(i,Em(e,t,o+1)),l),tp(t,n,o,l),s&&ja(za(s,Em(n,r,o+1)),l)),tp(r,null,o,l),new je(l)}function Em(e,t,n){let r=[];if(tp(null,e,n,r),e.depth>n){let o=d1(e,t,n+1);ja(za(o,Em(e,t,n+1)),r)}return tp(t,null,n,r),new je(r)}function Aj(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)r=t.node(o).copy(je.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}class Op{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=t.child(n);return r?t.child(n).cut(r):o}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)o+=r.child(i).nodeSize;return o}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return tn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),o=t.maybeChild(n);if(!r){let l=r;r=o,o=l}let i=r.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Rj(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let s=t;;){let{index:l,offset:u}=s.content.findIndex(i),f=i-u;if(r.push(s,l,o+u),!f||(s=s.child(l),s.isText))break;i=f-1,o+=u+1}return new Op(n,r,i)}static resolveCached(t,n){let r=pO.get(t);if(r)for(let i=0;i<r.elts.length;i++){let s=r.elts[i];if(s.pos==n)return s}else pO.set(t,r=new Mj);let o=r.elts[r.i]=Op.resolve(t,n);return r.i=(r.i+1)%_j,o}}class Mj{constructor(){this.elts=[],this.i=0}}const _j=12,pO=new WeakMap;class Rj{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Dj=Object.create(null);class Wi{constructor(t,n,r,o=tn.none){this.type=t,this.attrs=n,this.marks=o,this.content=r||je.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,o=0){this.content.nodesBetween(t,n,r,o,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,o){return this.content.textBetween(t,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&xm(this.attrs,n||t.defaultAttrs||Dj)&&tn.sameSet(this.marks,r||tn.none)}copy(t=null){return t==this.content?this:new Wi(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Wi(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return We.empty;let o=this.resolve(t),i=this.resolve(n),s=r?0:o.sharedDepth(n),l=o.start(s),u=o.node(s).content.cut(o.pos-l,i.pos-l);return new We(u,o.depth-s,i.depth-s)}replace(t,n,r){return Tj(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(o==t||n.isText)return n;t-=o+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(t){return Op.resolveCached(this,t)}resolveNoCache(t){return Op.resolve(this,t)}rangeHasMark(t,n,r){let o=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),wA(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=je.empty,o=0,i=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,o,i),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=o;u<i;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(t,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(t).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=tn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!tn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let o=je.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}}Wi.prototype.text=void 0;class Cm extends Wi{constructor(t,n,r,o){if(super(t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wA(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Cm(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Cm(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function wA(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Ya{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Ij(t,n);if(r.next==null)return Ya.empty;let o=SA(r);r.next&&r.err("Unexpected trailing text");let i=Bj(zj(o));return Uj(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(t.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let o=[this];function i(s,l){let u=s.matchFragment(t,r);if(u&&(!n||u.validEnd))return je.from(l.map(f=>f.createAndFill()));for(let f=0;f<s.next.length;f++){let{type:p,next:h}=s.next[f];if(!(p.isText||p.hasRequiredAttrs())&&o.indexOf(h)==-1){o.push(h);let d=i(h,l.concat(p));if(d)return d}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(t)){let s=[];for(let l=o;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!o.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:o}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let o=0;o<r.next.length;o++)t.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),t.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)i+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return i}).join(`
`)}}Ya.empty=new Ya(!0);class Ij{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function SA(e){let t=[];do t.push(Pj(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Pj(e){let t=[];do t.push($j(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function $j(e){let t=jj(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Fj(e,t);else break;return t}function hO(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Fj(e,t){let n=hO(e),r=n;return e.eat(",")&&(e.next!="}"?r=hO(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Lj(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let i in n){let s=n[i];s.isInGroup(t)&&o.push(s)}return o.length==0&&e.err("No node type or group '"+t+"' found"),o}function jj(e){if(e.eat("(")){let t=SA(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Lj(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function zj(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(s,l,u){let f={term:u,to:l};return t[s].push(f),f}function o(s,l){s.forEach(u=>u.to=l)}function i(s,l){if(s.type=="choice")return s.exprs.reduce((u,f)=>u.concat(i(f,l)),[]);if(s.type=="seq")for(let u=0;;u++){let f=i(s.exprs[u],l);if(u==s.exprs.length-1)return f;o(f,l=n())}else if(s.type=="star"){let u=n();return r(l,u),o(i(s.expr,u),u),[r(u)]}else if(s.type=="plus"){let u=n();return o(i(s.expr,l),u),o(i(s.expr,u),u),[r(u)]}else{if(s.type=="opt")return[r(l)].concat(i(s.expr,l));if(s.type=="range"){let u=l;for(let f=0;f<s.min;f++){let p=n();o(i(s.expr,u),p),u=p}if(s.max==-1)o(i(s.expr,u),u);else for(let f=s.min;f<s.max;f++){let p=n();r(u,p),o(i(s.expr,u),p),u=p}return[r(u)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function bA(e,t){return t-e}function dO(e,t){let n=[];return r(t),n.sort(bA);function r(o){let i=e[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let s=0;s<i.length;s++){let{term:l,to:u}=i[s];!l&&n.indexOf(u)==-1&&r(u)}}}function Bj(e){let t=Object.create(null);return n(dO(e,0));function n(r){let o=[];r.forEach(s=>{e[s].forEach(({term:l,to:u})=>{if(!l)return;let f;for(let p=0;p<o.length;p++)o[p][0]==l&&(f=o[p][1]);dO(e,u).forEach(p=>{f||o.push([l,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let i=t[r.join(",")]=new Ya(r.indexOf(e.length-1)>-1);for(let s=0;s<o.length;s++){let l=o[s][1].sort(bA);i.next.push({type:o[s][0],next:t[l.join(",")]||n(l)})}return i}}function Uj(e,t){for(let n=0,r=[e];n<r.length;n++){let o=r[n],i=!o.validEnd,s=[];for(let l=0;l<o.next.length;l++){let{type:u,next:f}=o.next[l];s.push(u.name),i&&!(u.isText||u.hasRequiredAttrs())&&(i=!1),r.indexOf(f)==-1&&r.push(f)}i&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function kA(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function xA(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(o===void 0){let i=e[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function OA(e,t,n,r){for(let o in t)if(!(o in e))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in e){let i=e[o];i.validate&&i.validate(t[o])}}function EA(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Hj(e,r,t[r]);return n}let mO=class CA{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=EA(t,r.attrs),this.defaultAttrs=kA(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ya.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:xA(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Wi(this,this.computeAttrs(t),je.from(n),tn.setFrom(r))}createChecked(t=null,n,r){return n=je.from(n),this.checkContent(n),new Wi(this,this.computeAttrs(t),n,tn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=je.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(je.empty,!0);return i?new Wi(this,t,n.append(i),tn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){OA(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:tn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,s)=>r[i]=new CA(i,n,s));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Vj(e,t,n){let r=n.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${i}`)}}class Hj{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Vj(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class hg{constructor(t,n,r,o){this.name=t,this.rank=n,this.schema=r,this.spec=o,this.attrs=EA(t,o.attrs),this.excluded=null;let i=kA(this.attrs);this.instance=i?new tn(this,i):null}create(t=null){return!t&&this.instance?this.instance:new tn(this,xA(this.attrs,t))}static compile(t,n){let r=Object.create(null),o=0;return t.forEach((i,s)=>r[i]=new hg(i,o++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){OA(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}let NA=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=yr.from(e.nodes),t.marks=yr.from(e.marks||{}),this.nodes=mO.compile(this.spec.nodes,this),this.marks=hg.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],i=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=n[i]||(n[i]=Ya.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?gO(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],i=o.spec.excludes;o.excluded=i==null?[o]:i==""?[]:gO(this,i.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof mO){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new Cm(n,n.defaultAttrs,e,tn.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Wi.fromJSON(this,e)}markFromJSON(e){return tn.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}};function gO(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(let l in e.marks){let u=e.marks[l];(o=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function qj(e){return e.tag!=null}function Wj(e){return e.style!=null}class Ep{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(qj(o))this.tags.push(o);else if(Wj(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=t.nodes[o.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new vO(this,n,!1);return r.addAll(t,tn.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new vO(this,n,!0);return r.addAll(t,tn.none,n.from,n.to),We.maxOpen(r.finish())}matchTag(t,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(Jj(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(t);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(t,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],l=s.style;if(!(l.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(s.getAttrs){let u=s.getAttrs(n);if(u===!1)continue;s.attrs=u||void 0}return s}}}static schemaRules(t){let n=[];function r(o){let i=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<i)break}n.splice(s,0,o)}for(let o in t.marks){let i=t.marks[o].spec.parseDOM;i&&i.forEach(s=>{r(s=wO(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in t.nodes){let i=t.nodes[o].spec.parseDOM;i&&i.forEach(s=>{r(s=wO(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Ep(t,Ep.schemaRules(t)))}}const TA={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Kj={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},AA={ol:!0,ul:!0},Cp=1,m1=2,Ed=4;function yO(e,t,n){return t!=null?(t?Cp:0)|(t==="full"?m1:0):e&&e.whitespace=="pre"?Cp|m1:n&-5}class td{constructor(t,n,r,o,i,s){this.type=t,this.attrs=n,this.marks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=tn.none,this.match=i||(s&Ed?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(je.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(t.type))?(this.match=r,o):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Cp)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=je.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(je.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!TA.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class vO{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,i,s=yO(null,n.preserveWhitespace,0)|(r?Ed:0);o?i=new td(o.type,o.attrs,tn.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new td(null,null,tn.none,!0,null,s):i=new td(t.schema.topNodeType,null,tn.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,o=this.top,i=o.options&m1?"full":this.localPreserveWS||(o.options&Cp)>0;if(i==="full"||o.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],l=t.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let o=this.localPreserveWS,i=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),l;AA.hasOwnProperty(s)&&this.parser.normalizeLists&&Gj(t);let u=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,r));e:if(u?u.ignore:Kj.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(t=u.skip);let f,p=this.needsBlock;if(TA.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),f=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let h=u&&u.skip?n:this.readStyles(t,n);h&&this.addAll(t,h),f&&this.sync(i),this.needsBlock=p}else{let f=this.readStyles(t,n);f&&this.addElementByRule(t,u,f,u.consuming===!1?l:void 0)}this.localPreserveWS=o}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=r.getPropertyValue(i);if(s)for(let l=void 0;;){let u=this.parser.matchStyle(i,s,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(f=>!u.clearMark(f)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(t,n,r,o){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let u=this.enter(s,n.attrs||null,r,n.preserveWhitespace);u&&(i=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let l=this.top;if(s&&s.isLeaf)this.findInside(t);else if(o)this.addElement(t,r,o);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=t;typeof n.contentElement=="string"?u=t.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(t):n.contentElement&&(u=n.contentElement),this.findAround(t,u,!0),this.addAll(u,r),this.findAround(t,u,!1)}i&&this.sync(l)&&this.open--}addAll(t,n,r,o){let i=r||0;for(let s=r?t.childNodes[r]:t.firstChild,l=o==null?null:t.childNodes[o];s!=l;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s,n);this.findAtPoint(t,i)}findPlace(t,n,r){let o,i;for(let s=this.open,l=0;s>=0;s--){let u=this.nodes[s],f=u.findWrapping(t);if(f&&(!o||o.length>f.length+l)&&(o=f,i=u,!f.length))break;if(u.solid){if(r)break;l+=2}}if(!o)return null;this.sync(i);for(let s=0;s<o.length;s++)n=this.enterInner(o[s],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let o=this.findPlace(t,n,r);if(o){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let s=tn.none;for(let l of o.concat(t.marks))(i.type?i.type.allowsMarkType(l.type):SO(l.type,t.type))&&(s=l.addToSet(s));return i.content.push(t.mark(s)),!0}return!1}enter(t,n,r,o){let i=this.findPlace(t.create(n),r,!1);return i&&(i=this.enterInner(t,n,r,!0,o)),i}enterInner(t,n,r,o=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let l=yO(t,i,s.options);s.options&Ed&&s.content.length==0&&(l|=Ed);let u=tn.none;return r=r.filter(f=>(s.type?s.type.allowsMarkType(f.type):SO(f.type,t))?(u=f.addToSet(u),!1):!0),this.nodes.push(new td(t,n,u,o,null,l)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Cp)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)t+=r[o].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&t.nodeType==1&&t.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=(l,u)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;u>=i;u--)if(s(l-1,u))return!0;return!1}else{let p=u>0||u==0&&o?this.nodes[u].type:r&&u>=i?r.node(u-i).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;u--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Gj(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&AA.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function Jj(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function wO(e){let t={};for(let n in e)t[n]=e[n];return t}function SO(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],s=l=>{i.push(l);for(let u=0;u<l.edgeCount;u++){let{type:f,next:p}=l.edge(u);if(f==t||i.indexOf(p)<0&&s(p))return!0}};if(s(o.contentMatch))return!0}}class Fc{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=l0(n).createDocumentFragment());let o=r,i=[];return t.forEach(s=>{if(i.length||s.marks.length){let l=0,u=0;for(;l<i.length&&u<s.marks.length;){let f=s.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(i[l][0])||f.type.spec.spanning===!1)break;l++,u++}for(;l<i.length;)o=i.pop()[1];for(;u<s.marks.length;){let f=s.marks[u++],p=this.serializeMark(f,s.isInline,n);p&&(i.push([f,o]),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:o}=Cd(l0(n),this.nodes[t.type.name](t),null,t.attrs);if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,o)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let o=t.marks.length-1;o>=0;o--){let i=this.serializeMark(t.marks[o],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let o=this.marks[t.type.name];return o&&Cd(l0(r),o(t,n),null,t.attrs)}static renderSpec(t,n,r=null,o){return Cd(t,n,r,o)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Fc(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=bO(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return bO(t.marks)}}function bO(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function l0(e){return e.document||window.document}const kO=new WeakMap;function Qj(e){let t=kO.get(e);return t===void 0&&kO.set(e,t=Yj(e)),t}function Yj(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(e),t}function Cd(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let o=t[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=Qj(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let l,u=n?e.createElementNS(n,o):e.createElement(o),f=t[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let h in f)if(f[h]!=null){let d=h.indexOf(" ");d>0?u.setAttributeNS(h.slice(0,d),h.slice(d+1),f[h]):u.setAttribute(h,f[h])}}for(let h=p;h<t.length;h++){let d=t[h];if(d===0){if(h<t.length-1||h>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:g,contentDOM:y}=Cd(e,d,n,r);if(u.appendChild(g),y){if(l)throw new RangeError("Multiple content holes");l=y}}}return{dom:u,contentDOM:l}}const MA=65535,_A=Math.pow(2,16);function Zj(e,t){return e+t*_A}function xO(e){return e&MA}function Xj(e){return(e-(e&MA))/_A}const RA=1,DA=2,Nd=4,IA=8;class g1{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&IA)>0}get deletedBefore(){return(this.delInfo&(RA|Nd))>0}get deletedAfter(){return(this.delInfo&(DA|Nd))>0}get deletedAcross(){return(this.delInfo&Nd)>0}}class xo{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&xo.empty)return xo.empty}recover(t){let n=0,r=xO(t);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+Xj(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?o:0);if(u>t)break;let f=this.ranges[l+i],p=this.ranges[l+s],h=u+f;if(t<=h){let d=f?t==u?-1:t==h?1:n:n,g=u+o+(d<0?0:p);if(r)return g;let y=t==(n<0?u:h)?null:Zj(l/3,t-u),b=t==u?DA:t==h?RA:Nd;return(n<0?t!=u:t!=h)&&(b|=IA),new g1(g,b,y)}o+=p-f}return r?t+o:new g1(t+o,0,null)}touches(t,n){let r=0,o=xO(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>t)break;let f=this.ranges[l+i],p=u+f;if(t<=p&&l==o*3)return!0;r+=this.ranges[l+s]-f}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],l=s-(this.inverted?i:0),u=s+(this.inverted?0:i),f=this.ranges[o+n],p=this.ranges[o+r];t(l,l+f,u,u+p),i+=p-f}}invert(){return new xo(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?xo.empty:new xo(t<0?[0,-t,0]:[0,0,t])}}xo.empty=new xo([]);class Np{constructor(t,n,r=0,o=t?t.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Np(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let o=t.getMirror(n);this.appendMap(t._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let o=t.getMirror(n);this.appendMap(t._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let t=new Np;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let o=0;for(let i=this.from;i<this.to;i++){let s=this._maps[i],l=s.mapResult(t,n);if(l.recover!=null){let u=this.getMirror(i);if(u!=null&&u>i&&u<this.to){i=u,t=this._maps[u].recover(l.recover);continue}}o|=l.delInfo,t=l.pos}return r?t:new g1(t,o,null)}}const a0=Object.create(null);class $r{getMap(){return xo.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=a0[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in a0)throw new RangeError("Duplicate use of step JSON ID "+t);return a0[t]=n,n.prototype.jsonID=t,n}}class Jn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Jn(t,null)}static fail(t){return new Jn(null,t)}static fromReplace(t,n,r,o){try{return Jn.ok(t.replace(n,r,o))}catch(i){if(i instanceof Om)return Jn.fail(i.message);throw i}}}function uS(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(uS(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return je.fromArray(r)}class Cl extends $r{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new We(uS(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return Jn.fromReplace(t,this.from,this.to,i)}invert(){return new Ui(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Cl(n.pos,r.pos,this.mark)}merge(t){return t instanceof Cl&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Cl(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Cl(n.from,n.to,t.markFromJSON(n.mark))}}$r.jsonID("addMark",Cl);class Ui extends $r{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new We(uS(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),t),n.openStart,n.openEnd);return Jn.fromReplace(t,this.from,this.to,r)}invert(){return new Cl(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ui(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ui&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ui(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ui(n.from,n.to,t.markFromJSON(n.mark))}}$r.jsonID("removeMark",Ui);class Nl extends $r{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Jn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Jn.fromReplace(t,this.pos,this.pos+1,new We(je.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new Nl(this.pos,n.marks[o]);return new Nl(this.pos,this.mark)}}return new Za(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Nl(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Nl(n.pos,t.markFromJSON(n.mark))}}$r.jsonID("addNodeMark",Nl);class Za extends $r{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Jn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Jn.fromReplace(t,this.pos,this.pos+1,new We(je.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Nl(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Za(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Za(n.pos,t.markFromJSON(n.mark))}}$r.jsonID("removeNodeMark",Za);class Rr extends $r{constructor(t,n,r,o=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=o}apply(t){return this.structure&&y1(t,this.from,this.to)?Jn.fail("Structure replace would overwrite content"):Jn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new xo([this.from,this.to-this.from,this.slice.size])}invert(t){return new Rr(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Rr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Rr)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?We.empty:new We(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Rr(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?We.empty:new We(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Rr(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Rr(n.from,n.to,We.fromJSON(t,n.slice),!!n.structure)}}$r.jsonID("replace",Rr);class To extends $r{constructor(t,n,r,o,i,s,l=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=l}apply(t){if(this.structure&&(y1(t,this.from,this.gapFrom)||y1(t,this.gapTo,this.to)))return Jn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Jn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Jn.fromReplace(t,this.from,this.to,r):Jn.fail("Content does not fit in gap")}getMap(){return new xo([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new To(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new To(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new To(n.from,n.to,n.gapFrom,n.gapTo,We.fromJSON(t,n.slice),n.insert,!!n.structure)}}$r.jsonID("replaceAround",To);function y1(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function e6(e,t,n,r){let o=[],i=[],s,l;e.doc.nodesBetween(t,n,(u,f,p)=>{if(!u.isInline)return;let h=u.marks;if(!r.isInSet(h)&&p.type.allowsMarkType(r.type)){let d=Math.max(f,t),g=Math.min(f+u.nodeSize,n),y=r.addToSet(h);for(let b=0;b<h.length;b++)h[b].isInSet(y)||(s&&s.to==d&&s.mark.eq(h[b])?s.to=g:o.push(s=new Ui(d,g,h[b])));l&&l.to==d?l.to=g:i.push(l=new Cl(d,g,r))}}),o.forEach(u=>e.step(u)),i.forEach(u=>e.step(u))}function t6(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,(s,l)=>{if(!s.isInline)return;i++;let u=null;if(r instanceof hg){let f=s.marks,p;for(;p=r.isInSet(f);)(u||(u=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(s.marks)&&(u=[r]):u=s.marks;if(u&&u.length){let f=Math.min(l+s.nodeSize,n);for(let p=0;p<u.length;p++){let h=u[p],d;for(let g=0;g<o.length;g++){let y=o[g];y.step==i-1&&h.eq(o[g].style)&&(d=y)}d?(d.to=f,d.step=i):o.push({style:h,from:Math.max(l,t),to:f,step:i})}}}),o.forEach(s=>e.step(new Ui(s.from,s.to,s.style)))}function cS(e,t,n,r=n.contentMatch,o=!0){let i=e.doc.nodeAt(t),s=[],l=t+1;for(let u=0;u<i.childCount;u++){let f=i.child(u),p=l+f.nodeSize,h=r.matchType(f.type);if(!h)s.push(new Rr(l,p,We.empty));else{r=h;for(let d=0;d<f.marks.length;d++)n.allowsMarkType(f.marks[d].type)||e.step(new Ui(l,p,f.marks[d]));if(o&&f.isText&&n.whitespace!="pre"){let d,g=/\r?\n|\r/g,y;for(;d=g.exec(f.text);)y||(y=new We(je.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),s.push(new Rr(l+d.index,l+d.index+d[0].length,y))}}l=p}if(!r.validEnd){let u=r.fillBefore(je.empty,!0);e.replace(l,l,new We(u,0,0))}for(let u=s.length-1;u>=0;u--)e.step(s[u])}function n6(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function fS(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(n==0||r.type.spec.isolating||!n6(r,o,i))break}return null}function r6(e,t,n){let{$from:r,$to:o,depth:i}=t,s=r.before(i+1),l=o.after(i+1),u=s,f=l,p=je.empty,h=0;for(let y=i,b=!1;y>n;y--)b||r.index(y)>0?(b=!0,p=je.from(r.node(y).copy(p)),h++):u--;let d=je.empty,g=0;for(let y=i,b=!1;y>n;y--)b||o.after(y+1)<o.end(y)?(b=!0,d=je.from(o.node(y).copy(d)),g++):f++;e.step(new To(u,f,s,l,new We(p.append(d),h,g),p.size-h,!0))}function o6(e,t,n){let r=je.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=je.from(n[s].type.create(n[s].attrs,r))}let o=t.start,i=t.end;e.step(new To(o,i,o,i,new We(r,0,0),n.length,!0))}function i6(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(s,l)=>{let u=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(r,u)&&s6(e.doc,e.mapping.slice(i).map(l),r)){let f=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",y=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!y?f=!1:!g&&y&&(f=!0)}f===!1&&$A(e,s,l,i),cS(e,e.mapping.slice(i).map(l,1),r,void 0,f===null);let p=e.mapping.slice(i),h=p.map(l,1),d=p.map(l+s.nodeSize,1);return e.step(new To(h,d,h+1,d-1,new We(je.from(r.create(u,null,s.marks)),0,0),1,!0)),f===!0&&PA(e,s,l,i),!1}})}function PA(e,t,n,r){t.forEach((o,i)=>{if(o.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(o.text);){let u=e.mapping.slice(r).map(n+1+i+s.index);e.replaceWith(u,u+1,t.type.schema.linebreakReplacement.create())}}})}function $A(e,t,n,r){t.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=e.mapping.slice(r).map(n+1+i);e.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function s6(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function l6(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new To(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new We(je.from(s),0,0),1,!0))}function Td(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let f=o.depth-1,p=n-2;f>i;f--,p--){let h=o.node(f),d=o.index(f);if(h.type.spec.isolating)return!1;let g=h.content.cutByIndex(d,h.childCount),y=r&&r[p+1];y&&(g=g.replaceChild(0,y.type.create(y.attrs)));let b=r&&r[p]||h;if(!h.canReplace(d+1,h.childCount)||!b.type.validContent(g))return!1}let l=o.indexAfter(i),u=r&&r[0];return o.node(i).canReplaceWith(l,l,u?u.type:o.node(i+1).type)}function a6(e,t,n=1,r){let o=e.doc.resolve(t),i=je.empty,s=je.empty;for(let l=o.depth,u=o.depth-n,f=n-1;l>u;l--,f--){i=je.from(o.node(l).copy(i));let p=r&&r[f];s=je.from(p?p.type.create(p.attrs,s):o.node(l).copy(s))}e.step(new Rr(t,t,new We(i.append(s),n,n),!0))}function FA(e,t){let n=e.resolve(t),r=n.index();return c6(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function u6(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let i=t.child(o),s=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!e.type.allowsMarks(i.marks))return!1}return n.validEnd}function c6(e,t){return!!(e&&t&&!e.isLeaf&&u6(e,t))}function f6(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,i=e.doc.resolve(t-n),s=i.node().type;if(o&&s.inlineContent){let p=s.whitespace=="pre",h=!!s.contentMatch.matchType(o);p&&!h?r=!1:!p&&h&&(r=!0)}let l=e.steps.length;if(r===!1){let p=e.doc.resolve(t+n);$A(e,p.node(),p.before(),l)}s.inlineContent&&cS(e,t+n-1,s,i.node().contentMatchAt(i.index()),r==null);let u=e.mapping.slice(l),f=u.map(t-n);if(e.step(new Rr(f,u.map(t+n,-1),We.empty,!0)),r===!0){let p=e.doc.resolve(f);PA(e,p.node(),p.before(),e.steps.length)}return e}function p6(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function h6(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,u=r.index(s)+(l>0?1:0),f=r.node(s),p=!1;if(i==1)p=f.canReplace(u,u,o);else{let h=f.contentMatchAt(u).findWrapping(o.firstChild.type);p=h&&f.canReplaceWith(u,u,h[0])}if(p)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function pS(e,t,n=t,r=We.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return LA(o,i,r)?new Rr(t,n,r):new d6(o,i,r).fit()}function LA(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class d6{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=je.empty;for(let o=0;o<=t.depth;o++){let i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}for(let o=t.depth;o>0;o--)this.placed=je.from(t.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let i=this.placed,s=r.depth,l=o.depth;for(;s&&l&&i.childCount==1;)i=i.firstChild.content,s--,l--;let u=new We(i,s,l);return t>-1?new To(r.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Rr(r.pos,o.pos,u):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=u0(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:f}=this.frontier[l],p,h=null;if(n==1&&(s?f.matchType(s.type)||(h=f.fillBefore(je.from(s),!1)):i&&u.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:h};if(n==2&&s&&(p=f.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:p};if(i&&f.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=u0(t,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new We(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=u0(t,n);if(o.childCount<=1&&n>0){let i=t.size-n<=n+o.size;this.unplaced=new We(Bf(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new We(Bf(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let b=0;b<i.length;b++)this.openFrontierNode(i[b]);let s=this.unplaced,l=r?r.content:s.content,u=s.openStart-t,f=0,p=[],{match:h,type:d}=this.frontier[n];if(o){for(let b=0;b<o.childCount;b++)p.push(o.child(b));h=h.matchFragment(o)}let g=l.size+t-(s.content.size-s.openEnd);for(;f<l.childCount;){let b=l.child(f),N=h.matchType(b.type);if(!N)break;f++,(f>1||u==0||b.content.size)&&(h=N,p.push(jA(b.mark(d.allowedMarks(b.marks)),f==1?u:0,f==l.childCount?g:-1)))}let y=f==l.childCount;y||(g=-1),this.placed=Uf(this.placed,n,je.from(p)),this.frontier[n].match=h,y&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,N=l;b<g;b++){let v=N.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),N=v.content}this.unplaced=y?t==0?We.empty:new We(Bf(s.content,t-1,1),t-1,g<0?s.openEnd:t-1):new We(Bf(s.content,t,f),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!c0(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=c0(t,n,o,r,i);if(s){for(let l=n-1;l>=0;l--){let{match:u,type:f}=this.frontier[l],p=c0(t,l,f,u,!0);if(!p||p.childCount)continue e}return{depth:n,fit:s,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Uf(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let o=t.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,t.index(r));this.openFrontierNode(o.type,o.attrs,i)}return t}openFrontierNode(t,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=Uf(this.placed,this.depth,je.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(je.empty,!0);t.childCount&&(this.placed=Uf(this.placed,this.frontier.length,t))}}function Bf(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Bf(e.firstChild.content,t-1,n)))}function Uf(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Uf(e.lastChild.content,t-1,n)))}function u0(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function jA(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,jA(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(je.empty,!0)))),e.copy(r)}function c0(e,t,n,r,o){let i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,s);return l&&!m6(n,i.content,s)?l:null}function m6(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function g6(e){return e.spec.defining||e.spec.definingForContent}function y6(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(LA(o,i,r))return e.step(new Rr(t,n,r));let s=BA(o,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let d=o.depth,g=o.pos-1;d>0;d--,g--){let y=o.node(d).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;s.indexOf(d)>-1?l=d:o.before(d)==g&&s.splice(1,0,-d)}let u=s.indexOf(l),f=[],p=r.openStart;for(let d=r.content,g=0;;g++){let y=d.firstChild;if(f.push(y),g==r.openStart)break;d=y.content}for(let d=p-1;d>=0;d--){let g=f[d],y=g6(g.type);if(y&&!g.sameMarkup(o.node(Math.abs(l)-1)))p=d;else if(y||!g.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let g=(d+p+1)%(r.openStart+1),y=f[g];if(y)for(let b=0;b<s.length;b++){let N=s[(b+u)%s.length],v=!0;N<0&&(v=!1,N=-N);let k=o.node(N-1),x=o.index(N-1);if(k.canReplaceWith(x,x,y.type,y.marks))return e.replace(o.before(N),v?i.after(N):n,new We(zA(r.content,0,r.openStart,g),g,r.openEnd))}}let h=e.steps.length;for(let d=s.length-1;d>=0&&(e.replace(t,n,r),!(e.steps.length>h));d--){let g=s[d];g<0||(t=o.before(g),n=i.after(g))}}function zA(e,t,n,r,o){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(zA(i.content,t+1,n,r,i)))}if(t>r){let i=o.contentMatchAt(0),s=i.fillBefore(e).append(e);e=s.append(i.matchFragment(s).fillBefore(je.empty,!0))}return e}function v6(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=p6(e.doc,t,r.type);o!=null&&(t=n=o)}e.replaceRange(t,n,new We(je.from(r),0,0))}function w6(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=BA(r,o);for(let s=0;s<i.length;s++){let l=i[s],u=s==i.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return e.delete(r.start(l),o.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),o.indexAfter(l-1))))return e.delete(r.before(l),o.after(l))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s&&r.start(s-1)==o.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),o.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}function BA(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let o=r;o>=0;o--){let i=e.start(o);if(i<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(i==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==i-1)&&n.push(o)}return n}class fc extends $r{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Jn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return Jn.fromReplace(t,this.pos,this.pos+1,new We(je.from(o),0,n.isLeaf?0:1))}getMap(){return xo.empty}invert(t){return new fc(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new fc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new fc(n.pos,n.attr,n.value)}}$r.jsonID("attr",fc);class Tp extends $r{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Jn.ok(r)}getMap(){return xo.empty}invert(t){return new Tp(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Tp(n.attr,n.value)}}$r.jsonID("docAttr",Tp);let Ec=class extends Error{};Ec=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Ec.prototype=Object.create(Error.prototype);Ec.prototype.constructor=Ec;Ec.prototype.name="TransformError";class UA{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Np}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Ec(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=We.empty){let o=pS(this.doc,t,n,r);return o&&this.step(o),this}replaceWith(t,n,r){return this.replace(t,n,new We(je.from(r),0,0))}delete(t,n){return this.replace(t,n,We.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return y6(this,t,n,r),this}replaceRangeWith(t,n,r){return v6(this,t,n,r),this}deleteRange(t,n){return w6(this,t,n),this}lift(t,n){return r6(this,t,n),this}join(t,n=1){return f6(this,t,n),this}wrap(t,n){return o6(this,t,n),this}setBlockType(t,n=t,r,o=null){return i6(this,t,n,r,o),this}setNodeMarkup(t,n,r=null,o){return l6(this,t,n,r,o),this}setNodeAttribute(t,n,r){return this.step(new fc(t,n,r)),this}setDocAttribute(t,n){return this.step(new Tp(t,n)),this}addNodeMark(t,n){return this.step(new Nl(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof tn)n.isInSet(r.marks)&&this.step(new Za(t,n));else{let o=r.marks,i,s=[];for(;i=n.isInSet(o);)s.push(new Za(t,i)),o=i.removeFromSet(o);for(let l=s.length-1;l>=0;l--)this.step(s[l])}return this}split(t,n=1,r){return a6(this,t,n,r),this}addMark(t,n,r){return e6(this,t,n,r),this}removeMark(t,n,r){return t6(this,t,n,r),this}clearIncompatible(t,n,r){return cS(this,t,n,r),this}}const f0=Object.create(null);class Mt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new VA(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=We.empty){let r=n.content.lastChild,o=null;for(let l=0;l<n.openEnd;l++)o=r,r=r.lastChild;let i=t.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:u,$to:f}=s[l],p=t.mapping.slice(i);t.replaceRange(p.map(u.pos),p.map(f.pos),l?We.empty:n),l==0&&CO(t,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:l}=o[i],u=t.mapping.slice(r),f=u.map(s.pos),p=u.map(l.pos);i?t.deleteRange(f,p):(t.replaceRangeWith(f,p,n),CO(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let o=t.parent.inlineContent?new _t(t):Vu(t.node(0),t.parent,t.pos,t.index(),n,r);if(o)return o;for(let i=t.depth-1;i>=0;i--){let s=n<0?Vu(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):Vu(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Ao(t.node(0))}static atStart(t){return Vu(t,t,0,0,1)||new Ao(t)}static atEnd(t){return Vu(t,t,t.content.size,t.childCount,-1)||new Ao(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=f0[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in f0)throw new RangeError("Duplicate use of selection JSON ID "+t);return f0[t]=n,n.prototype.jsonID=t,n}getBookmark(){return _t.between(this.$anchor,this.$head).getBookmark()}}Mt.prototype.visible=!0;class VA{constructor(t,n){this.$from=t,this.$to=n}}let OO=!1;function EO(e){!OO&&!e.parent.inlineContent&&(OO=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class _t extends Mt{constructor(t,n=t){EO(t),EO(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Mt.near(r);let o=t.resolve(n.map(this.anchor));return new _t(o.parent.inlineContent?o:r,r)}replace(t,n=We.empty){if(super.replace(t,n),n==We.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof _t&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new dg(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new _t(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let o=t.resolve(n);return new this(o,r==n?o:t.resolve(r))}static between(t,n,r){let o=t.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=Mt.findFrom(n,r,!0)||Mt.findFrom(n,-r,!0);if(i)n=i.$head;else return Mt.near(n,r)}return t.parent.inlineContent||(o==0?t=n:(t=(Mt.findFrom(t,-r,!0)||Mt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=o<0&&(t=n))),new _t(t,n)}}Mt.jsonID("text",_t);class dg{constructor(t,n){this.anchor=t,this.head=n}map(t){return new dg(t.map(this.anchor),t.map(this.head))}resolve(t){return _t.between(t.resolve(this.anchor),t.resolve(this.head))}}class vt extends Mt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=t.resolve(o);return r?Mt.near(i):new vt(i)}content(){return new We(je.from(this.node),0,0)}eq(t){return t instanceof vt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new hS(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new vt(t.resolve(n.anchor))}static create(t,n){return new vt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}vt.prototype.visible=!1;Mt.jsonID("node",vt);class hS{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new dg(r,r):new hS(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&vt.isSelectable(r)?new vt(n):Mt.near(n)}}class Ao extends Mt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=We.empty){if(n==We.empty){t.delete(0,t.doc.content.size);let r=Mt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Ao(t)}map(t){return new Ao(t)}eq(t){return t instanceof Ao}getBookmark(){return S6}}Mt.jsonID("all",Ao);const S6={map(){return this},resolve(e){return new Ao(e)}};function Vu(e,t,n,r,o,i=!1){if(t.inlineContent)return _t.create(e,n);for(let s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let l=t.child(s);if(l.isAtom){if(!i&&vt.isSelectable(l))return vt.create(e,n-(o<0?l.nodeSize:0))}else{let u=Vu(e,l,n+o,o<0?l.childCount:0,o,i);if(u)return u}n+=l.nodeSize*o}return null}function CO(e,t,n){let r=e.steps.length-1;if(r<t)return;let o=e.steps[r];if(!(o instanceof Rr||o instanceof To))return;let i=e.mapping.maps[r],s;i.forEach((l,u,f,p)=>{s==null&&(s=p)}),e.setSelection(Mt.near(e.doc.resolve(s),n))}const NO=1,TO=2,AO=4;class b6 extends UA{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|NO)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&NO)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=TO,this}ensureMarks(t){return tn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&TO)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||tn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let o=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(o.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(t,i)),this.selection.empty||this.setSelection(Mt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=AO,this}get scrolledIntoView(){return(this.updated&AO)>0}}function MO(e,t){return!t||!e?e:e.bind(t)}class Vf{constructor(t,n,r){this.name=t,this.init=MO(n.init,r),this.apply=MO(n.apply,r)}}const k6=[new Vf("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Vf("selection",{init(e,t){return e.selection||Mt.atStart(t.doc)},apply(e){return e.selection}}),new Vf("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Vf("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class p0{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=k6.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Vf(r.key,r.spec.state,r))})}}class qo{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),o=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let u=o?o[s].n:0,f=o?o[s].state:this,p=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,f,r);if(p&&r.filterTransaction(p,s)){if(p.setMeta("appendedTransaction",t),!o){o=[];for(let h=0;h<this.config.plugins.length;h++)o.push(h<s?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new qo(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new b6(this)}static create(t){let n=new p0(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new qo(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(t,r);return r}reconfigure(t){let n=new p0(this.schema,t.plugins),r=n.fields,o=new qo(n);for(let i=0;i<r.length;i++){let s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(t,o)}return o}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=t[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new p0(t.schema,t.plugins),i=new qo(o);return o.fields.forEach(s=>{if(s.name=="doc")i.doc=Wi.fromJSON(t.schema,n.doc);else if(s.name=="selection")i.selection=Mt.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],f=u.spec.state;if(u.key==s.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[s.name]=f.fromJSON.call(u,t,n[l],i);return}}i[s.name]=s.init(t,i)}}),i}}function HA(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):r=="handleDOMEvents"&&(o=HA(o,t,{})),n[r]=o}return n}class Ql{constructor(t){this.spec=t,this.props={},t.props&&HA(t.props,this,this.props),this.key=t.key?t.key.key:qA("plugin")}getState(t){return t[this.key]}}const h0=Object.create(null);function qA(e){return e in h0?e+"$"+ ++h0[e]:(h0[e]=0,e+"$")}class Up{constructor(t="key"){this.key=qA(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const WA=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function x6(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const O6=(e,t,n)=>{let r=x6(e,n);if(!r)return!1;let o=KA(r);if(!o){let s=r.blockRange(),l=s&&fS(s);return l==null?!1:(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}let i=o.nodeBefore;if(JA(e,o,t,-1))return!0;if(r.parent.content.size==0&&(Cc(i,"end")||vt.isSelectable(i)))for(let s=r.depth;;s--){let l=pS(e.doc,r.before(s),r.after(s),We.empty);if(l&&l.slice.size<l.to-l.from){if(t){let u=e.tr.step(l);u.setSelection(Cc(i,"end")?Mt.findFrom(u.doc.resolve(u.mapping.map(o.pos,-1)),-1):vt.create(u.doc,o.pos-i.nodeSize)),t(u.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1};function Cc(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const E6=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=KA(r)}let s=i&&i.nodeBefore;return!s||!vt.isSelectable(s)?!1:(t&&t(e.tr.setSelection(vt.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function KA(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function C6(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const N6=(e,t,n)=>{let r=C6(e,n);if(!r)return!1;let o=GA(r);if(!o)return!1;let i=o.nodeAfter;if(JA(e,o,t,1))return!0;if(r.parent.content.size==0&&(Cc(i,"start")||vt.isSelectable(i))){let s=pS(e.doc,r.before(),r.after(),We.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(Cc(i,"start")?Mt.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):vt.create(l.doc,l.mapping.map(o.pos))),t(l.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},T6=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=GA(r)}let s=i&&i.nodeAfter;return!s||!vt.isSelectable(s)?!1:(t&&t(e.tr.setSelection(vt.create(e.doc,i.pos)).scrollIntoView()),!0)};function GA(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const A6=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function dS(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const M6=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=dS(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(t){let l=n.after(),u=e.tr.replaceWith(l,l,s.createAndFill());u.setSelection(Mt.near(u.doc.resolve(l),1)),t(u.scrollIntoView())}return!0},_6=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof Ao||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=dS(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,l=e.tr.insert(s,i.createAndFill());l.setSelection(_t.create(l.doc,s+1)),t(l.scrollIntoView())}return!0},R6=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Td(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&fS(r);return o==null?!1:(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};function D6(e){return(t,n)=>{let{$from:r,$to:o}=t.selection;if(t.selection instanceof vt&&t.selection.node.isBlock)return!r.parentOffset||!Td(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],s,l,u=!1,f=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){u=r.end(g)==r.pos+(r.depth-g),f=r.start(g)==r.pos-(r.depth-g),l=dS(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),i.unshift(u&&l?{type:l}:null),s=g;break}else{if(g==1)return!1;i.unshift(null)}let p=t.tr;(t.selection instanceof _t||t.selection instanceof Ao)&&p.deleteSelection();let h=p.mapping.map(r.pos),d=Td(p.doc,h,i.length,i);if(d||(i[0]=l?{type:l}:null,d=Td(p.doc,h,i.length,i)),!d)return!1;if(p.split(h,i.length,i),!u&&f&&r.node(s).type!=l){let g=p.mapping.map(r.before(s)),y=p.doc.resolve(g);l&&r.node(s-1).canReplaceWith(y.index(),y.index()+1,l)&&p.setNodeMarkup(p.mapping.map(r.before(s)),l)}return n&&n(p.scrollIntoView()),!0}}const I6=D6(),P6=(e,t)=>(t&&t(e.tr.setSelection(new Ao(e.doc))),!0);function $6(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(o.isTextblock||FA(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function JA(e,t,n,r){let o=t.nodeBefore,i=t.nodeAfter,s,l,u=o.type.spec.isolating||i.type.spec.isolating;if(!u&&$6(e,t,n))return!0;let f=!u&&t.parent.canReplace(t.index(),t.index()+1);if(f&&(s=(l=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&l.matchType(s[0]||i.type).validEnd){if(n){let g=t.pos+i.nodeSize,y=je.empty;for(let v=s.length-1;v>=0;v--)y=je.from(s[v].create(null,y));y=je.from(o.copy(y));let b=e.tr.step(new To(t.pos-1,g,t.pos,g,new We(y,1,0),s.length,!0)),N=b.doc.resolve(g+2*s.length);N.nodeAfter&&N.nodeAfter.type==o.type&&FA(b.doc,N.pos)&&b.join(N.pos),n(b.scrollIntoView())}return!0}let p=i.type.spec.isolating||r>0&&u?null:Mt.findFrom(t,1),h=p&&p.$from.blockRange(p.$to),d=h&&fS(h);if(d!=null&&d>=t.depth)return n&&n(e.tr.lift(h,d).scrollIntoView()),!0;if(f&&Cc(i,"start",!0)&&Cc(o,"end")){let g=o,y=[];for(;y.push(g),!g.isTextblock;)g=g.lastChild;let b=i,N=1;for(;!b.isTextblock;b=b.firstChild)N++;if(g.canReplace(g.childCount,g.childCount,b.content)){if(n){let v=je.empty;for(let x=y.length-1;x>=0;x--)v=je.from(y[x].copy(v));let k=e.tr.step(new To(t.pos-y.length,t.pos+i.nodeSize,t.pos+N,t.pos+i.nodeSize-N,new We(v,y.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function QA(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(t.tr.setSelection(_t.create(t.doc,e<0?o.start(i):o.end(i)))),!0):!1}}const F6=QA(-1),L6=QA(1);function j6(e,t,n,r){for(let o=0;o<t.length;o++){let{$from:i,$to:s}=t[o],l=i.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(i.pos,s.pos,(u,f)=>{if(l)return!1;l=u.inlineContent&&u.type.allowsMarkType(n)}),l)return!0}return!1}function _O(e,t=null,n){return function(r,o){let{empty:i,$cursor:s,ranges:l}=r.selection;if(i&&!s||!j6(r.doc,l,e))return!1;if(o)if(s)e.isInSet(r.storedMarks||s.marks())?o(r.tr.removeStoredMark(e)):o(r.tr.addStoredMark(e.create(t)));else{let u,f=r.tr;u=!l.some(p=>r.doc.rangeHasMark(p.$from.pos,p.$to.pos,e));for(let p=0;p<l.length;p++){let{$from:h,$to:d}=l[p];if(!u)f.removeMark(h.pos,d.pos,e);else{let g=h.pos,y=d.pos,b=h.nodeAfter,N=d.nodeBefore,v=b&&b.isText?/^\s*/.exec(b.text)[0].length:0,k=N&&N.isText?/\s*$/.exec(N.text)[0].length:0;g+v<y&&(g+=v,y-=k),f.addMark(g,y,e.create(t))}}o(f.scrollIntoView())}return!0}}function mS(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let d0=mS(WA,O6,E6),RO=mS(WA,N6,T6);const Es={Enter:mS(A6,_6,R6,I6),"Mod-Enter":M6,Backspace:d0,"Mod-Backspace":d0,"Shift-Backspace":d0,Delete:RO,"Mod-Delete":RO,"Mod-a":P6},YA={"Ctrl-h":Es.Backspace,"Alt-Backspace":Es["Mod-Backspace"],"Ctrl-d":Es.Delete,"Ctrl-Alt-Backspace":Es["Mod-Delete"],"Alt-Delete":Es["Mod-Delete"],"Alt-d":Es["Mod-Delete"],"Ctrl-a":F6,"Ctrl-e":L6};for(let e in Es)YA[e]=Es[e];const z6=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,ZA=z6?YA:Es,B6=({editorView:e,from:t,text:n})=>{console.log("updateTextNode()","text="+n);const{doc:r,tr:o}=e.state,i=r.resolve(t),s=i.start(i.depth),l=i.end(i.depth),u=n.length>0&&o.replaceWith(s,l,e.state.schema.text(n))||o.delete(s,l);e.dispatch(u)},U6=({editorView:e})=>{const[t,n]=Gt.useState(""),r=()=>{if(e!=null&&e.state){const{from:i}=e.state.selection,s=e.state.doc.resolve(i),l=e.state.doc.nodeAt(s.pos-1),u=(l==null?void 0:l.textContent)||"";n(u)}};Gt.useEffect(()=>{if(!e)return;r();const i=()=>{r()},s=()=>{setTimeout(r,0)},l=()=>{setTimeout(r,0)};return e.dom&&(e.dom.addEventListener("keydown",s),e.dom.addEventListener("click",l),document.addEventListener("selectionchange",i)),()=>{e.dom&&(e.dom.removeEventListener("keydown",s),e.dom.removeEventListener("click",l),document.removeEventListener("selectionchange",i))}},[e]);const o=i=>{n(i);const{from:s}=e.state.selection;B6({editorView:e,from:s,text:i})};return qt.jsxs("div",{className:"flex flex-row gap-2 rounded-md",children:[qt.jsx("label",{className:"block text-md font-medium font-serif italic text-gray-500 mb-0",children:"fx"}),qt.jsx("input",{id:"formula",name:"formula",type:"text",value:t,style:{borderStyle:"none"},onChange:i=>o(i.target.value),className:"block w-full ring-0 border-0 p-0 text-gray-900 placeholder:text-gray-400 sm:text-sm/6 focus:outline-0 focus:ring-0 border-none p-0 mb-0"})]})};function V6(...e){return e.filter(Boolean).join(" ")}const H6=[{name:"B",className:"font-bold",selected:!1,command:e=>_O(e.marks.strong),mark:e=>e.marks.strong},{name:"I",className:"italic",selected:!1,command:e=>_O(e.marks.em),mark:e=>e.marks.em}],q6=({state:e,mark:t})=>{const{from:n,$from:r,to:o,empty:i}=e.selection;return i?!!t.isInSet(e.storedMarks||r.marks()):e.doc.rangeHasMark(n,o,t)},v1=({className:e,editorView:t,hideMenu:n=!1})=>(t&&H6.forEach(r=>r.selected=q6({state:t.state,mark:r.mark(t.state.schema)})),n?null:qt.jsx("div",{className:V6("flex flex-col gap-1 mb-2 text-sm font-sans pb-1 border-b border-gray-200",e),children:qt.jsx(U6,{editorView:t})})),vr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Nc=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let w1=null;const xs=function(e,t,n){let r=w1||(w1=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},W6=function(){w1=null},Xa=function(e,t,n,r){return n&&(DO(e,t,n,r,-1)||DO(e,t,n,r,1))},K6=/^(img|br|input|textarea|hr)$/i;function DO(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:Wo(e))){let i=e.parentNode;if(!i||i.nodeType!=1||Vp(e)||K6.test(e.nodeName)||e.contentEditable=="false")return!1;t=vr(e)+(o<0?0:1),e=i}else if(e.nodeType==1){if(e=e.childNodes[t+(o<0?-1:0)],e.contentEditable=="false")return!1;t=o<0?Wo(e):0}else return!1}}function Wo(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function G6(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Wo(e)}else if(e.parentNode&&!Vp(e))t=vr(e),e=e.parentNode;else return null}}function J6(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Vp(e))t=vr(e)+1,e=e.parentNode;else return null}}function Q6(e,t,n){for(let r=t==0,o=t==Wo(e);r||o;){if(e==n)return!0;let i=vr(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,o=o&&i==Wo(e)}}function Vp(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const mg=function(e){return e.focusNode&&Xa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Aa(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Y6(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Z6(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Wo(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Wo(r.startContainer),r.startOffset)}}}const Ji=typeof navigator<"u"?navigator:null,IO=typeof document<"u"?document:null,Yl=Ji&&Ji.userAgent||"",S1=/Edge\/(\d+)/.exec(Yl),XA=/MSIE \d/.exec(Yl),b1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Yl),co=!!(XA||b1||S1),jl=XA?document.documentMode:b1?+b1[1]:S1?+S1[1]:0,wi=!co&&/gecko\/(\d+)/i.test(Yl);wi&&+(/Firefox\/(\d+)/.exec(Yl)||[0,0])[1];const k1=!co&&/Chrome\/(\d+)/.exec(Yl),Dr=!!k1,eM=k1?+k1[1]:0,qr=!co&&!!Ji&&/Apple Computer/.test(Ji.vendor),Tc=qr&&(/Mobile\/\w+/.test(Yl)||!!Ji&&Ji.maxTouchPoints>2),zo=Tc||(Ji?/Mac/.test(Ji.platform):!1),X6=Ji?/Win/.test(Ji.platform):!1,As=/Android \d/.test(Yl),Hp=!!IO&&"webkitFontSmoothing"in IO.documentElement.style,ez=Hp?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function tz(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Ss(e,t){return typeof e=="number"?e:e[t]}function nz(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function PO(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(s.nodeType!=1){s=Nc(s);continue}let l=s,u=l==i.body,f=u?tz(i):nz(l),p=0,h=0;if(t.top<f.top+Ss(r,"top")?h=-(f.top-t.top+Ss(o,"top")):t.bottom>f.bottom-Ss(r,"bottom")&&(h=t.bottom-t.top>f.bottom-f.top?t.top+Ss(o,"top")-f.top:t.bottom-f.bottom+Ss(o,"bottom")),t.left<f.left+Ss(r,"left")?p=-(f.left-t.left+Ss(o,"left")):t.right>f.right-Ss(r,"right")&&(p=t.right-f.right+Ss(o,"right")),p||h)if(u)i.defaultView.scrollBy(p,h);else{let g=l.scrollLeft,y=l.scrollTop;h&&(l.scrollTop+=h),p&&(l.scrollLeft+=p);let b=l.scrollLeft-g,N=l.scrollTop-y;t={left:t.left-b,top:t.top-N,right:t.right-b,bottom:t.bottom-N}}let d=u?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(d))break;s=d=="absolute"?s.offsetParent:Nc(s)}}function rz(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,o;for(let i=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let l=e.root.elementFromPoint(i,s);if(!l||l==e.dom||!e.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,o=u.top;break}}return{refDOM:r,refTop:o,stack:tM(e.dom)}}function tM(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Nc(r));return t}function oz({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;nM(n,r==0?0:r-t)}function nM(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Fu=null;function iz(e){if(e.setActive)return e.setActive();if(Fu)return e.focus(Fu);let t=tM(e);e.focus(Fu==null?{get preventScroll(){return Fu={preventScroll:!0},!0}}:void 0),Fu||(Fu=!1,nM(t,0))}function rM(e,t){let n,r=2e8,o,i=0,s=t.top,l=t.top,u,f;for(let p=e.firstChild,h=0;p;p=p.nextSibling,h++){let d;if(p.nodeType==1)d=p.getClientRects();else if(p.nodeType==3)d=xs(p).getClientRects();else continue;for(let g=0;g<d.length;g++){let y=d[g];if(y.top<=s&&y.bottom>=l){s=Math.max(y.bottom,s),l=Math.min(y.top,l);let b=y.left>t.left?y.left-t.left:y.right<t.left?t.left-y.right:0;if(b<r){n=p,r=b,o=b&&n.nodeType==3?{left:y.right<t.left?y.right:y.left,top:t.top}:t,p.nodeType==1&&b&&(i=h+(t.left>=(y.left+y.right)/2?1:0));continue}}else y.top>t.top&&!u&&y.left<=t.left&&y.right>=t.left&&(u=p,f={left:Math.max(y.left,Math.min(y.right,t.left)),top:y.top});!n&&(t.left>=y.right&&t.top>=y.top||t.left>=y.left&&t.top>=y.bottom)&&(i=h+1)}}return!n&&u&&(n=u,o=f,r=0),n&&n.nodeType==3?sz(n,o):!n||r&&n.nodeType==1?{node:e,offset:i}:rM(n,o)}function sz(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let i=pl(r,1);if(i.top!=i.bottom&&gS(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function gS(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function lz(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function az(e,t,n){let{node:r,offset:o}=rM(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}function uz(e,t,n,r){let o=-1;for(let i=t,s=!1;i!=e.dom;){let l=e.docView.nearestDesc(i,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&(!s&&u.left>r.left||u.top>r.top?o=l.posBefore:(!s&&u.right<r.left||u.bottom<r.top)&&(o=l.posAfter),s=!0),!l.contentDOM&&o<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}function oM(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let s=e.childNodes[i];if(s.nodeType==1){let l=s.getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if(gS(t,f))return oM(s,t,f)}}if((i=(i+1)%r)==o)break}return e}function cz(e,t){let n=e.dom.ownerDocument,r,o=0,i=Z6(n,t.left,t.top);i&&({node:r,offset:o}=i);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),l;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let f=e.dom.getBoundingClientRect();if(!gS(t,f)||(s=oM(e.dom,t,f),!s))return null}if(qr)for(let f=s;r&&f;f=Nc(f))f.draggable&&(r=void 0);if(s=lz(s,t),r){if(wi&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let p=r.childNodes[o],h;p.nodeName=="IMG"&&(h=p.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&o++}let f;Hp&&o&&r.nodeType==1&&(f=r.childNodes[o-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=t.top&&o--,r==e.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(l=uz(e,r,o,t))}l==null&&(l=az(e,s,t));let u=e.docView.nearestDesc(s,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function $O(e){return e.top<e.bottom||e.left<e.right}function pl(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if($O(r))return r}return Array.prototype.find.call(n,$O)||e.getBoundingClientRect()}const fz=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function iM(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=Hp||wi;if(r.nodeType==3)if(s&&(fz.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=pl(xs(r,o,o),n);if(wi&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let u=pl(xs(r,o-1,o-1),-1);if(u.top==l.top){let f=pl(xs(r,o,o+1),-1);if(f.top!=l.top)return Mf(f,f.left<u.left)}}return l}else{let l=o,u=o,f=n<0?1:-1;return n<0&&!o?(u++,f=-1):n>=0&&o==r.nodeValue.length?(l--,f=1):n<0?l--:u++,Mf(pl(xs(r,l,u),f),f<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==Wo(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return m0(l.getBoundingClientRect(),!1)}if(i==null&&o<Wo(r)){let l=r.childNodes[o];if(l.nodeType==1)return m0(l.getBoundingClientRect(),!0)}return m0(r.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==Wo(r))){let l=r.childNodes[o-1],u=l.nodeType==3?xs(l,Wo(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Mf(pl(u,1),!1)}if(i==null&&o<Wo(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?xs(l,0,s?0:1):l.nodeType==1?l:null:null;if(u)return Mf(pl(u,-1),!0)}return Mf(pl(r.nodeType==3?xs(r):r,-n),n>=0)}function Mf(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function m0(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function sM(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function pz(e,t,n){let r=t.selection,o=n=="up"?r.$from:r.$to;return sM(e,t,()=>{let{node:i}=e.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let s=iM(e,o.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=xs(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let p=u[f];if(p.bottom>p.top+1&&(n=="up"?s.top-p.top>(p.bottom-s.top)*2:p.bottom-s.bottom>(s.bottom-p.top)*2))return!1}}return!0})}const hz=/[\u0590-\u08ac]/;function dz(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,l=e.domSelection();return l?!hz.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:s:sM(e,t,()=>{let{focusNode:u,focusOffset:f,anchorNode:p,anchorOffset:h}=e.domSelectionRange(),d=l.caretBidiLevel;l.modify("move",n,"character");let g=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:y,focusOffset:b}=e.domSelectionRange(),N=y&&!g.contains(y.nodeType==1?y:y.parentNode)||u==y&&f==b;try{l.collapse(p,h),u&&(u!=p||f!=h)&&l.extend&&l.extend(u,f)}catch{}return d!=null&&(l.caretBidiLevel=d),N}):r.pos==r.start()||r.pos==r.end()}let FO=null,LO=null,jO=!1;function mz(e,t,n){return FO==t&&LO==n?jO:(FO=t,LO=n,jO=n=="up"||n=="down"?pz(e,t,n):dz(e,t,n))}const Jo=0,zO=1,Pa=2,Qi=3;class qp{constructor(t,n,r,o){this.parent=t,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=Jo,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==t)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,s;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let o;if(t==this.dom&&this.contentDOM)o=n>vr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,o=t;o;o=o.parentNode){let i=this.getDesc(o),s;if(i&&(!n||i.node))if(r&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let o=t;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],i=r+o.size;if(r==t&&i!=r){for(;!o.border&&o.children.length;)for(let s=0;s<o.children.length;s++){let l=o.children[s];if(l.size){o=l;break}}return o}if(t<i)return o.descAt(t-r-o.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let s=this.children[r],l=i+s.size;if(l>t||s instanceof aM){o=t-i;break}i=l}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof lM&&i.side>=0;r--);if(n<=0){let i,s=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?vr(i.dom)+1:0}}else{let i,s=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?vr(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=r,l=0;;l++){let u=this.children[l],f=s+u.size;if(o==-1&&t<=f){let p=s+u.border;if(t>=p&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(t,n,p);t=s;for(let h=l;h>0;h--){let d=this.children[h-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){o=vr(d.dom)+1;break}t-=d.size}o==-1&&(o=0)}if(o>-1&&(f>n||l==this.children.length-1)){n=f;for(let p=l+1;p<this.children.length;p++){let h=this.children[p];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){i=vr(h.dom);break}n+=h.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=f}return{node:this.contentDOM,from:t,to:n,fromOffset:o,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,o=!1){let i=Math.min(t,n),s=Math.max(t,n);for(let g=0,y=0;g<this.children.length;g++){let b=this.children[g],N=y+b.size;if(i>y&&s<N)return b.setSelection(t-y-b.border,n-y-b.border,r,o);y=N}let l=this.domFromPos(t,t?-1:1),u=n==t?l:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),h=!1;if((wi||qr)&&t==n){let{node:g,offset:y}=l;if(g.nodeType==3){if(h=!!(y&&g.nodeValue[y-1]==`
`),h&&y==g.nodeValue.length)for(let b=g,N;b;b=b.parentNode){if(N=b.nextSibling){N.nodeName=="BR"&&(l=u={node:N.parentNode,offset:vr(N)+1});break}let v=b.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let b=g.childNodes[y-1];h=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(wi&&p.focusNode&&p.focusNode!=u.node&&p.focusNode.nodeType==1){let g=p.focusNode.childNodes[p.focusOffset];g&&g.contentEditable=="false"&&(o=!0)}if(!(o||h&&qr)&&Xa(l.node,l.offset,p.anchorNode,p.anchorOffset)&&Xa(u.node,u.offset,p.focusNode,p.focusOffset))return;let d=!1;if((f.extend||t==n)&&!h){f.collapse(l.node,l.offset);try{t!=n&&f.extend(u.node,u.offset),d=!0}catch{}}if(!d){if(t>n){let y=l;l=u,u=y}let g=document.createRange();g.setEnd(u.node,u.offset),g.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(g)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],s=r+i.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let l=r+i.border,u=s-i.border;if(t>=l&&n<=u){this.dirty=t==r||n==s?Pa:zO,t==l&&n==u&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Qi:i.markDirty(t-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Pa:Qi}r=s}this.dirty=Pa}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Pa:zO;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class lM extends qp{constructor(t,n,r,o){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==Jo&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class gz extends qp{constructor(t,n,r,o){super(t,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class eu extends qp{constructor(t,n,r,o,i){super(t,[],r,o),this.mark=n,this.spec=i}static create(t,n,r,o){let i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return(!s||!s.dom)&&(s=Fc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new eu(t,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Qi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Qi&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Jo){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Jo}}slice(t,n,r){let o=eu.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=O1(i,n,s,r)),t>0&&(i=O1(i,0,t,r));for(let l=0;l<i.length;l++)i[l].parent=o;return o.children=i,o}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class zl extends qp{constructor(t,n,r,o,i,s,l,u,f){super(t,[],i,s),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=l}static create(t,n,r,o,i,s){let l=i.nodeViews[n.type.name],u,f=l&&l(n,i,()=>{if(!u)return s;if(u.parent)return u.parent.posBeforeChild(u)},r,o),p=f&&f.dom,h=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:h}=Fc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let d=p;return p=fM(p,r,n),f?u=new yz(t,n,r,o,p,h||null,d,f,i,s+1):n.isText?new gg(t,n,r,o,p,d,i):new zl(t,n,r,o,p,h||null,d,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>je.empty)}return t}matchesNode(t,n,r){return this.dirty==Jo&&t.eq(this.node)&&Nm(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,o=n,i=t.composing?this.localCompositionInfo(t,n):null,s=i&&i.pos>-1?i:null,l=i&&i.pos<0,u=new wz(this,s&&s.node,t);kz(this.node,this.innerDeco,(f,p,h)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,t):f.type.side>=0&&!h&&u.syncToMarks(p==this.node.childCount?tn.none:this.node.child(p).marks,r,t),u.placeWidget(f,t,o)},(f,p,h,d)=>{u.syncToMarks(f.marks,r,t);let g;u.findNodeMatch(f,p,h,d)||l&&t.state.selection.from>o&&t.state.selection.to<o+f.nodeSize&&(g=u.findIndexWithChild(i.node))>-1&&u.updateNodeAt(f,p,h,g,t)||u.updateNextNode(f,p,h,t,d,o)||u.addNode(f,p,h,t,o),o+=f.nodeSize}),u.syncToMarks([],r,t),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Pa)&&(s&&this.protectLocalComposition(t,s),uM(this.contentDOM,this.children,t),Tc&&xz(this.dom))}localCompositionInfo(t,n){let{from:r,to:o}=t.state.selection;if(!(t.state.selection instanceof _t)||r<n||o>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,l=Oz(this.node.content,s,r-n,o-n);return l<0?null:{node:i,pos:l,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new gz(this,i,n,o);t.input.compositionNodes.push(s),this.children=O1(this.children,r,r+o.length,t,s)}update(t,n,r,o){return this.dirty==Qi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,o),!0)}updateInner(t,n,r,o){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Jo}updateOuterDeco(t){if(Nm(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=cM(this.dom,this.nodeDOM,x1(this.outerDeco,this.node,n),x1(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function BO(e,t,n,r,o){fM(r,t,e);let i=new zl(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class gg extends zl{constructor(t,n,r,o,i,s,l){super(t,n,r,o,i,null,s,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,o){return this.dirty==Qi||this.dirty!=Jo&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Jo||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=t,this.dirty=Jo,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let o=this.node.cut(t,n),i=document.createTextNode(o.text);return new gg(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Qi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class aM extends qp{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Jo&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class yz extends zl{constructor(t,n,r,o,i,s,l,u,f,p){super(t,n,r,o,i,s,l,f,p),this.spec=u}update(t,n,r,o){if(this.dirty==Qi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,o),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function uM(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let s=t[i],l=s.dom;if(l.parentNode==e){for(;l!=r;)r=UO(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(l,r);if(s instanceof eu){let u=r?r.previousSibling:e.lastChild;uM(s.contentDOM,s.children,n),r=u?u.nextSibling:e.firstChild}}for(;r;)r=UO(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const np=function(e){e&&(this.nodeName=e)};np.prototype=Object.create(null);const $a=[new np];function x1(e,t,n){if(e.length==0)return $a;let r=n?$a[0]:new np,o=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&o.push(r=new np(s.nodeName));for(let l in s){let u=s[l];u!=null&&(n&&o.length==1&&o.push(r=new np(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return o}function cM(e,t,n,r){if(n==$a&&r==$a)return t;let o=t;for(let i=0;i<r.length;i++){let s=r[i],l=n[i];if(i){let u;l&&l.nodeName==s.nodeName&&o!=e&&(u=o.parentNode)&&u.nodeName.toLowerCase()==s.nodeName||(u=document.createElement(s.nodeName),u.pmIsDeco=!0,u.appendChild(o),l=$a[0]),o=u}vz(o,l||$a[0],s)}return o}function vz(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&e.classList.add(o[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(t.style);)e.style.removeProperty(o[1])}n.style&&(e.style.cssText+=n.style)}}function fM(e,t,n){return cM(e,e,$a,x1(t,n,e.nodeType!=1))}function Nm(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function UO(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class wz{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Sz(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let o=0,i=this.stack.length>>1,s=Math.min(i,t.length);for(;o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=Jo,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(t[i])&&!this.isLocked(f.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=eu.create(this.top,t[i],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,i++}}findNodeMatch(t,n,r,o){let i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))i=this.top.children.indexOf(s,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let f=this.top.children[l];if(f.matchesNode(t,n,r)&&!this.preMatch.matched.has(f)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,o,i){let s=this.top.children[o];return s.dirty==Qi&&s.dom==s.contentDOM&&(s.dirty=Pa),s.update(t,n,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}t=n}}updateNextNode(t,n,r,o,i,s){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof zl){let f=this.preMatch.matched.get(u);if(f!=null&&f!=i)return!1;let p=u.dom,h,d=this.isLocked(p)&&!(t.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==t.text&&u.dirty!=Qi&&Nm(n,u.outerDeco));if(!d&&u.update(t,n,r,o))return this.destroyBetween(this.index,l),u.dom!=p&&(this.changed=!0),this.index++,!0;if(!d&&(h=this.recreateWrapper(u,t,n,r,o,s)))return this.destroyBetween(this.index,l),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Pa,h.updateChildren(o,s+1),h.dirty=Jo),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,o,i,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Nm(r,t.outerDeco)||!o.eq(t.innerDeco))return null;let l=zl.create(this.top,n,r,o,i,s);if(l.contentDOM){l.children=t.children,t.children=[];for(let u of l.children)u.parent=l}return t.destroy(),l}addNode(t,n,r,o,i){let s=zl.create(this.top,t,n,r,o,i);s.contentDOM&&s.updateChildren(o,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(t)&&(t==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new lM(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof eu;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof gg)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((qr||Dr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new aM(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Sz(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:for(;o>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof eu)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=e.child(o-1))break;--o,i.set(l,o),s.push(l)}}return{index:o,matched:i,matches:s.reverse()}}function bz(e,t){return e.type.side-t.type.side}function kz(e,t,n,r){let o=t.locals(e),i=0;if(o.length==0){for(let f=0;f<e.childCount;f++){let p=e.child(f);r(p,o,t.forChild(i,p),f),i+=p.nodeSize}return}let s=0,l=[],u=null;for(let f=0;;){let p,h;for(;s<o.length&&o[s].to==i;){let N=o[s++];N.widget&&(p?(h||(h=[p])).push(N):p=N)}if(p)if(h){h.sort(bz);for(let N=0;N<h.length;N++)n(h[N],f,!!u)}else n(p,f,!!u);let d,g;if(u)g=-1,d=u,u=null;else if(f<e.childCount)g=f,d=e.child(f++);else break;for(let N=0;N<l.length;N++)l[N].to<=i&&l.splice(N--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)l.push(o[s++]);let y=i+d.nodeSize;if(d.isText){let N=y;s<o.length&&o[s].from<N&&(N=o[s].from);for(let v=0;v<l.length;v++)l[v].to<N&&(N=l[v].to);N<y&&(u=d.cut(N-i),d=d.cut(0,N-i),y=N,g=-1)}else for(;s<o.length&&o[s].to<y;)s++;let b=d.isInline&&!d.isLeaf?l.filter(N=>!N.inline):l.slice();r(d,b,t.forChild(i,d),g),i=y}}function xz(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Oz(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let s=e.child(o++),l=i;if(i+=s.nodeSize,!s.isText)continue;let u=s.text;for(;o<e.childCount;){let f=e.child(o++);if(i+=f.nodeSize,!f.isText)break;u+=f.text}if(i>=n){if(i>=r&&u.slice(r-t.length-l,r-l)==t)return r-t.length;let f=l<r?u.lastIndexOf(t,r-l-1):-1;if(f>=0&&f+t.length+l>=n)return l+f;if(n==r&&u.length>=r+t.length-l&&u.slice(r-l,r-l+t.length)==t)return r}}return-1}function O1(e,t,n,r,o){let i=[];for(let s=0,l=0;s<e.length;s++){let u=e[s],f=l,p=l+=u.size;f>=n||p<=t?i.push(u):(f<t&&i.push(u.slice(0,t-f,r)),o&&(i.push(o),o=void 0),p>n&&i.push(u.slice(n-f,u.size,r)))}return i}function yS(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&o.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),u,f;if(mg(n)){for(u=s;o&&!o.node;)o=o.parent;let h=o.node;if(o&&h.isAtom&&vt.isSelectable(h)&&o.parent&&!(h.isInline&&Q6(n.focusNode,n.focusOffset,o.dom))){let d=o.posBefore;f=new vt(s==d?l:r.resolve(d))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=s,d=s;for(let g=0;g<n.rangeCount;g++){let y=n.getRangeAt(g);h=Math.min(h,e.docView.posFromDOM(y.startContainer,y.startOffset,1)),d=Math.max(d,e.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(h<0)return null;[u,s]=d==e.state.selection.anchor?[d,h]:[h,d],l=r.resolve(s)}else u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let p=r.resolve(u);if(!f){let h=t=="pointer"||e.state.selection.head<l.pos&&!i?1:-1;f=vS(e,p,l,h)}return f}function pM(e){return e.editable?e.hasFocus():dM(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Rs(e,t=!1){let n=e.state.selection;if(hM(e,n),!!pM(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Dr){let r=e.domSelectionRange(),o=e.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Xa(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Cz(e);else{let{anchor:r,head:o}=n,i,s;VO&&!(n instanceof _t)&&(n.$from.parent.inlineContent||(i=HO(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=HO(e,n.to))),e.docView.setSelection(r,o,e,t),VO&&(i&&qO(i),s&&qO(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Ez(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const VO=qr||Dr&&eM<63;function HO(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(qr&&o&&o.contentEditable=="false")return g0(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return g0(o);if(i)return g0(i)}}function g0(e){return e.contentEditable="true",qr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function qO(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Ez(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!pM(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Cz(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setStart(r.parentNode,vr(r)+1):n.setStart(r,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&co&&jl<=11&&(r.disabled=!0,r.disabled=!1)}function hM(e,t){if(t instanceof vt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(WO(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else WO(e)}function WO(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function vS(e,t,n,r){return e.someProp("createSelectionBetween",o=>o(e,t,n))||_t.between(t,n,r)}function KO(e){return e.editable&&!e.hasFocus()?!1:dM(e)}function dM(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Nz(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Xa(t.node,t.offset,n.anchorNode,n.anchorOffset)}function E1(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&Mt.findFrom(i,t)}function ml(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function GO(e,t,n){let r=e.state.selection;if(r instanceof _t)if(n.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=e.state.doc.resolve(o.pos+i.nodeSize*(t<0?-1:1));return ml(e,new _t(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let o=E1(e.state,t);return o&&o instanceof vt?ml(e,o):!1}else if(!(zo&&n.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,s;if(!i||i.isText)return!1;let l=t<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(s=e.docView.descAt(l))&&!s.contentDOM?vt.isSelectable(i)?ml(e,new vt(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):Hp?ml(e,new _t(e.state.doc.resolve(t<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof vt&&r.node.isInline)return ml(e,new _t(t>0?r.$to:r.$from));{let o=E1(e.state,t);return o?ml(e,o):!1}}}function Tm(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function rp(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Lu(e,t){return t<0?Tz(e):Az(e)}function Tz(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=!1;for(wi&&n.nodeType==1&&r<Tm(n)&&rp(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(rp(l,-1))o=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(mM(n))break;{let l=n.previousSibling;for(;l&&rp(l,-1);)o=n.parentNode,i=vr(l),l=l.previousSibling;if(l)n=l,r=Tm(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?C1(e,n,r):o&&C1(e,o,i)}function Az(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o=Tm(n),i,s;for(;;)if(r<o){if(n.nodeType!=1)break;let l=n.childNodes[r];if(rp(l,1))i=n,s=++r;else break}else{if(mM(n))break;{let l=n.nextSibling;for(;l&&rp(l,1);)i=l.parentNode,s=vr(l)+1,l=l.nextSibling;if(l)n=l,r=0,o=Tm(n);else{if(n=n.parentNode,n==e.dom)break;r=o=0}}}i&&C1(e,i,s)}function mM(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Mz(e,t){for(;e&&t==e.childNodes.length&&!Vp(e);)t=vr(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function _z(e,t){for(;e&&!t&&!Vp(e);)t=vr(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function C1(e,t,n){if(t.nodeType!=3){let i,s;(s=Mz(t,n))?(t=s,n=0):(i=_z(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if(!r)return;if(mg(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&Rs(e)},50)}function JO(e,t){let n=e.state.doc.resolve(t);if(!(Dr||X6)&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),i=(o.top+o.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),i=(o.top+o.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function QO(e,t,n){let r=e.state.selection;if(r instanceof _t&&!r.empty||n.indexOf("s")>-1||zo&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=E1(e.state,t);if(s&&s instanceof vt)return ml(e,s)}if(!o.parent.inlineContent){let s=t<0?o:i,l=r instanceof Ao?Mt.near(s,t):Mt.findFrom(s,t);return l?ml(e,l):!1}return!1}function YO(e,t){if(!(e.state.selection instanceof _t))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=e.state.tr;return t<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),e.dispatch(s),!0}return!1}function ZO(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Rz(e){if(!qr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;ZO(e,r,"true"),setTimeout(()=>ZO(e,r,"false"),20)}return!1}function Dz(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Iz(e,t){let n=t.keyCode,r=Dz(t);if(n==8||zo&&n==72&&r=="c")return YO(e,-1)||Lu(e,-1);if(n==46&&!t.shiftKey||zo&&n==68&&r=="c")return YO(e,1)||Lu(e,1);if(n==13||n==27)return!0;if(n==37||zo&&n==66&&r=="c"){let o=n==37?JO(e,e.state.selection.from)=="ltr"?-1:1:-1;return GO(e,o,r)||Lu(e,o)}else if(n==39||zo&&n==70&&r=="c"){let o=n==39?JO(e,e.state.selection.from)=="ltr"?1:-1:1;return GO(e,o,r)||Lu(e,o)}else{if(n==38||zo&&n==80&&r=="c")return QO(e,-1,r)||Lu(e,-1);if(n==40||zo&&n==78&&r=="c")return Rz(e)||QO(e,1,r)||Lu(e,1);if(r==(zo?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function wS(e,t){e.someProp("transformCopied",g=>{t=g(t,e)});let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let s=e.someProp("clipboardSerializer")||Fc.fromSchema(e.state.schema),l=bM(),u=l.createElement("div");u.appendChild(s.serializeFragment(r,{document:l}));let f=u.firstChild,p,h=0;for(;f&&f.nodeType==1&&(p=SM[f.nodeName.toLowerCase()]);){for(let g=p.length-1;g>=0;g--){let y=l.createElement(p[g]);for(;u.firstChild;)y.appendChild(u.firstChild);u.appendChild(y),h++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${o} ${i}${h?` -${h}`:""} ${JSON.stringify(n)}`);let d=e.someProp("clipboardTextSerializer",g=>g(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:d,slice:t}}function gM(e,t,n,r,o){let i=o.parent.type.spec.code,s,l;if(!n&&!t)return null;let u=t&&(r||i||!n);if(u){if(e.someProp("transformPastedText",d=>{t=d(t,i||r,e)}),i)return t?new We(je.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):We.empty;let h=e.someProp("clipboardTextParser",d=>d(t,o,r,e));if(h)l=h;else{let d=o.marks(),{schema:g}=e.state,y=Fc.fromSchema(g);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(b=>{let N=s.appendChild(document.createElement("p"));b&&N.appendChild(y.serializeNode(g.text(b,d)))})}}else e.someProp("transformPastedHTML",h=>{n=h(n,e)}),s=Lz(n),Hp&&jz(s);let f=s&&s.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let h=+p[3];h>0;h--){let d=s.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;s=d}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||Ep.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(u||p),context:o,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!Pz.test(h.parentNode.nodeName)?{ignore:!0}:null}})),p)l=zz(XO(l,+p[1],+p[2]),p[4]);else if(l=We.maxOpen($z(l.content,o),!0),l.openStart||l.openEnd){let h=0,d=0;for(let g=l.content.firstChild;h<l.openStart&&!g.type.spec.isolating;h++,g=g.firstChild);for(let g=l.content.lastChild;d<l.openEnd&&!g.type.spec.isolating;d++,g=g.lastChild);l=XO(l,h,d)}return e.someProp("transformPasted",h=>{l=h(l,e)}),l}const Pz=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function $z(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.index(n)),o,i=[];if(e.forEach(s=>{if(!i)return;let l=r.findWrapping(s.type),u;if(!l)return i=null;if(u=i.length&&o.length&&vM(l,o,s,i[i.length-1],0))i[i.length-1]=u;else{i.length&&(i[i.length-1]=wM(i[i.length-1],o.length));let f=yM(s,l);i.push(f),r=r.matchType(f.type),o=l}}),i)return je.from(i)}return e}function yM(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,je.from(e));return e}function vM(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=vM(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(je.from(yM(n,e,o+1))))}}function wM(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,wM(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(je.empty,!0);return e.copy(n.append(r))}function N1(e,t,n,r,o,i){let s=t<0?e.firstChild:e.lastChild,l=s.content;return e.childCount>1&&(i=0),o<r-1&&(l=N1(l,t,n,r,o+1,i)),o>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,i<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(je.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}function XO(e,t,n){return t<e.openStart&&(e=new We(N1(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new We(N1(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const SM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let eE=null;function bM(){return eE||(eE=document.implementation.createHTMLDocument("title"))}let y0=null;function Fz(e){let t=window.trustedTypes;return t?(y0||(y0=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),y0.createHTML(e)):e}function Lz(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=bM().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),o;if((o=r&&SM[r[1].toLowerCase()])&&(e=o.map(i=>"<"+i+">").join("")+e+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=Fz(e),o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function jz(e){let t=e.querySelectorAll(Dr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function zz(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:o,openStart:i,openEnd:s}=e;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;o=je.from(u.create(r[l+1],o)),i++,s++}return new We(o,i,s)}const Wr={},Kr={},Bz={touchstart:!0,touchmove:!0};class Uz{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Vz(e){for(let t in Wr){let n=Wr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{qz(e,r)&&!SS(e,r)&&(e.editable||!(r.type in Kr))&&n(e,r)},Bz[t]?{passive:!0}:void 0)}qr&&e.dom.addEventListener("input",()=>null),T1(e)}function Tl(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Hz(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function T1(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>SS(e,r))})}function SS(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function qz(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Wz(e,t){!SS(e,t)&&Wr[t.type]&&(e.editable||!(t.type in Kr))&&Wr[t.type](e,t)}Kr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!xM(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(As&&Dr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Tc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",o=>o(e,Aa(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||Iz(e,n)?n.preventDefault():Tl(e,"key")};Kr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Kr.keypress=(e,t)=>{let n=t;if(xM(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||zo&&n.metaKey)return;if(e.someProp("handleKeyPress",o=>o(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof _t)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!e.someProp("handleTextInput",i=>i(e,r.$from.pos,r.$to.pos,o))&&e.dispatch(e.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function yg(e){return{left:e.clientX,top:e.clientY}}function Kz(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function bS(e,t,n,r,o){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(e.someProp(t,l=>s>i.depth?l(e,n,i.nodeAfter,i.before(s),o,!0):l(e,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function pc(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function Gz(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&vt.isSelectable(r)?(pc(e,new vt(n)),!0):!1}function Jz(e,t){if(t==-1)return!1;let n=e.state.selection,r,o;n instanceof vt&&(r=n.node);let i=e.state.doc.resolve(t);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s);if(vt.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(s);break}}return o!=null?(pc(e,vt.create(e.state.doc,o)),!0):!1}function Qz(e,t,n,r,o){return bS(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(o?Jz(e,n):Gz(e,n))}function Yz(e,t,n,r){return bS(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",o=>o(e,t,r))}function Zz(e,t,n,r){return bS(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",o=>o(e,t,r))||Xz(e,n,r)}function Xz(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(pc(e,_t.create(r,0,r.content.size)),!0):!1;let o=r.resolve(t);for(let i=o.depth+1;i>0;i--){let s=i>o.depth?o.nodeAfter:o.node(i),l=o.before(i);if(s.inlineContent)pc(e,_t.create(r,l+1,l+1+s.content.size));else if(vt.isSelectable(s))pc(e,vt.create(r,l));else continue;return!0}}function kS(e){return Am(e)}const kM=zo?"metaKey":"ctrlKey";Wr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=kS(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&Kz(n,e.input.lastClick)&&!n[kM]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let s=e.posAtCoords(yg(n));s&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new e9(e,s,n,!!r)):(i=="doubleClick"?Yz:Zz)(e,s.pos,s.inside,n)?n.preventDefault():Tl(e,"pointer"))};class e9{constructor(t,n,r,o){this.view=t,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[kM],this.allowDefault=r.shiftKey;let i,s;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),s=n.inside;else{let p=t.state.doc.resolve(n.pos);i=p.parent,s=p.depth?p.before():0}const l=o?null:r.target,u=l?t.docView.nearestDesc(l,!0):null;this.target=u&&u.dom.nodeType==1?u.dom:null;let{selection:f}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||f instanceof vt&&f.from<=s&&f.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&wi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Tl(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Rs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(yg(t))),this.updateAllowDefault(t),this.allowDefault||!n?Tl(this.view,"pointer"):Qz(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||qr&&this.mightDrag&&!this.mightDrag.node.isAtom||Dr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(pc(this.view,Mt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Tl(this.view,"pointer")}move(t){this.updateAllowDefault(t),Tl(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Wr.touchstart=e=>{e.input.lastTouch=Date.now(),kS(e),Tl(e,"pointer")};Wr.touchmove=e=>{e.input.lastTouch=Date.now(),Tl(e,"pointer")};Wr.contextmenu=e=>kS(e);function xM(e,t){return e.composing?!0:qr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const t9=As?5e3:-1;Kr.compositionstart=Kr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof _t&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Am(e,!0),e.markCursor=null;else if(Am(e,!t.selection.empty),wi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){let l=e.domSelection();l&&l.collapse(s,s.nodeValue.length);break}else o=s,i=-1}}e.input.composing=!0}OM(e,t9)};Kr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,OM(e,20))};function OM(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Am(e),t))}function EM(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=r9());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function n9(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=G6(t.focusNode,t.focusOffset),r=J6(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function r9(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Am(e,t=!1){if(!(As&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),EM(e),t||e.docView&&e.docView.dirty){let n=yS(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function o9(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Ap=co&&jl<15||Tc&&ez<604;Wr.copy=Kr.cut=(e,t)=>{let n=t,r=e.state.selection,o=n.type=="cut";if(r.empty)return;let i=Ap?null:n.clipboardData,s=r.content(),{dom:l,text:u}=wS(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",u)):o9(e,l),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function i9(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function s9(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Mp(e,r.value,null,o,t):Mp(e,r.textContent,r.innerHTML,o,t)},50)}function Mp(e,t,n,r,o){let i=gM(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",u=>u(e,o,i||We.empty)))return!0;if(!i)return!1;let s=i9(i),l=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function CM(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Kr.paste=(e,t)=>{let n=t;if(e.composing&&!As)return;let r=Ap?null:n.clipboardData,o=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Mp(e,CM(r),r.getData("text/html"),o,n)?n.preventDefault():s9(e,n)};class NM{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const l9=zo?"altKey":"ctrlKey";function TM(e,t){return e.someProp("dragCopies",r=>!r(t))??!t[l9]}Wr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=e.state.selection,i=o.empty?null:e.posAtCoords(yg(n)),s;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof vt?o.to-1:o.to))){if(r&&r.mightDrag)s=vt.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=e.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=e.docView&&(s=vt.create(e.state.doc,h.posBefore))}}let l=(s||e.state.selection).content(),{dom:u,text:f,slice:p}=wS(e,l);(!n.dataTransfer.files.length||!Dr||eM>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Ap?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ap||n.dataTransfer.setData("text/plain",f),e.dragging=new NM(p,TM(e,n),s)};Wr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Kr.dragover=Kr.dragenter=(e,t)=>t.preventDefault();Kr.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(yg(n));if(!o)return;let i=e.state.doc.resolve(o.pos),s=r&&r.slice;s?e.someProp("transformPasted",y=>{s=y(s,e)}):s=gM(e,CM(n.dataTransfer),Ap?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(r&&TM(e,n));if(e.someProp("handleDrop",y=>y(e,n,s||We.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let u=s?h6(e.state.doc,i.pos,s):i.pos;u==null&&(u=i.pos);let f=e.state.tr;if(l){let{node:y}=r;y?y.replace(f):f.deleteSelection()}let p=f.mapping.map(u),h=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=f.doc;if(h?f.replaceRangeWith(p,p,s.content.firstChild):f.replaceRange(p,p,s),f.doc.eq(d))return;let g=f.doc.resolve(p);if(h&&vt.isSelectable(s.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(s.content.firstChild))f.setSelection(new vt(g));else{let y=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((b,N,v,k)=>y=k),f.setSelection(vS(e,g,f.doc.resolve(y)))}e.focus(),e.dispatch(f.setMeta("uiEvent","drop"))};Wr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Rs(e)},20))};Wr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Wr.beforeinput=(e,t)=>{if(Dr&&As&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Aa(8,"Backspace")))))return;let{$cursor:r}=e.state.selection;r&&r.pos>0&&e.dispatch(e.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let e in Kr)Wr[e]=Kr[e];function _p(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Mm{constructor(t,n){this.toDOM=t,this.spec=n||Ba,this.side=this.spec.side||0}map(t,n,r,o){let{pos:i,deleted:s}=t.mapResult(n.from+o,this.side<0?-1:1);return s?null:new Vr(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Mm&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&_p(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Bl{constructor(t,n){this.attrs=t,this.spec=n||Ba}map(t,n,r,o){let i=t.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=s?null:new Vr(i,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Bl&&_p(this.attrs,t.attrs)&&_p(this.spec,t.spec)}static is(t){return t.type instanceof Bl}destroy(){}}class xS{constructor(t,n){this.attrs=t,this.spec=n||Ba}map(t,n,r,o){let i=t.mapResult(n.from+o,1);if(i.deleted)return null;let s=t.mapResult(n.to+o,-1);return s.deleted||s.pos<=i.pos?null:new Vr(i.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:o}=t.content.findIndex(n.from),i;return o==n.from&&!(i=t.child(r)).isText&&o+i.nodeSize==n.to}eq(t){return this==t||t instanceof xS&&_p(this.attrs,t.attrs)&&_p(this.spec,t.spec)}destroy(){}}class Vr{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Vr(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Vr(t,t,new Mm(n,r))}static inline(t,n,r,o){return new Vr(t,n,new Bl(r,o))}static node(t,n,r,o){return new Vr(t,n,new xS(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Bl}get widget(){return this.type instanceof Mm}}const Hu=[],Ba={};class $n{constructor(t,n){this.local=t.length?t:Hu,this.children=n.length?n:Hu}static create(t,n){return n.length?_m(n,t,0,Ba):Mr}find(t,n,r){let o=[];return this.findInner(t??0,n??1e9,o,0,r),o}findInner(t,n,r,o,i){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=t&&(!i||i(l.spec))&&r.push(l.copy(l.from+o,l.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let l=this.children[s]+1;this.children[s+2].findInner(t-l,n-l,r,o+l,i)}}map(t,n,r){return this==Mr||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Ba)}mapInner(t,n,r,o,i){let s;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(t,r,o);u&&u.type.valid(n,u)?(s||(s=[])).push(u):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?a9(this.children,s||[],t,n,r,o,i):s?new $n(s.sort(Ua),Hu):Mr}add(t,n){return n.length?this==Mr?$n.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let o,i=0;t.forEach((l,u)=>{let f=u+r,p;if(p=MM(n,l,f)){for(o||(o=this.children.slice());i<o.length&&o[i]<u;)i+=3;o[i]==u?o[i+2]=o[i+2].addInner(l,p,f+1):o.splice(i,0,u,u+l.nodeSize,_m(p,l,f+1,Ba)),i+=3}});let s=AM(i?_M(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||s.splice(l--,1);return new $n(s.length?this.local.concat(s).sort(Ua):this.local,o||this.children)}remove(t){return t.length==0||this==Mr?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let s,l=r[i]+n,u=r[i+1]+n;for(let p=0,h;p<t.length;p++)(h=t[p])&&h.from>l&&h.to<u&&(t[p]=null,(s||(s=[])).push(h));if(!s)continue;r==this.children&&(r=this.children.slice());let f=r[i+2].removeInner(s,l+1);f!=Mr?r[i+2]=f:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,s;i<t.length;i++)if(s=t[i])for(let l=0;l<o.length;l++)o[l].eq(s,n)&&(o==this.local&&(o=this.local.slice()),o.splice(l--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new $n(o,r):Mr}forChild(t,n){if(this==Mr)return this;if(n.isLeaf)return $n.empty;let r,o;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(r=this.children[l+2]);break}let i=t+1,s=i+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<s&&u.to>i&&u.type instanceof Bl){let f=Math.max(i,u.from)-i,p=Math.min(s,u.to)-i;f<p&&(o||(o=[])).push(u.copy(f,p))}}if(o){let l=new $n(o.sort(Ua),Hu);return r?new Sl([l,r]):l}return r||Mr}eq(t){if(this==t)return!0;if(!(t instanceof $n)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return OS(this.localsInner(t))}localsInner(t){if(this==Mr)return Hu;if(t.inlineContent||!this.local.some(Bl.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Bl||n.push(this.local[r]);return n}forEachSet(t){t(this)}}$n.empty=new $n([],[]);$n.removeOverlap=OS;const Mr=$n.empty;class Sl{constructor(t){this.members=t}map(t,n){const r=this.members.map(o=>o.map(t,n,Ba));return Sl.from(r)}forChild(t,n){if(n.isLeaf)return $n.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(t,n);i!=Mr&&(i instanceof Sl?r=r.concat(i.members):r.push(i))}return Sl.from(r)}eq(t){if(!(t instanceof Sl)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?OS(r?n:n.sort(Ua)):Hu}static from(t){switch(t.length){case 0:return Mr;case 1:return t[0];default:return new Sl(t.every(n=>n instanceof $n)?t:t.reduce((n,r)=>n.concat(r instanceof $n?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function a9(e,t,n,r,o,i,s){let l=e.slice();for(let f=0,p=i;f<n.maps.length;f++){let h=0;n.maps[f].forEach((d,g,y,b)=>{let N=b-y-(g-d);for(let v=0;v<l.length;v+=3){let k=l[v+1];if(k<0||d>k+p-h)continue;let x=l[v]+p-h;g>=x?l[v+1]=d<=x?-2:-1:d>=p&&N&&(l[v]+=N,l[v+1]+=N)}h+=N}),p=n.maps[f].map(p,-1)}let u=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){u=!0,l[f+1]=-1;continue}let p=n.map(e[f]+i),h=p-o;if(h<0||h>=r.content.size){u=!0;continue}let d=n.map(e[f+1]+i,-1),g=d-o,{index:y,offset:b}=r.content.findIndex(h),N=r.maybeChild(y);if(N&&b==h&&b+N.nodeSize==g){let v=l[f+2].mapInner(n,N,p+1,e[f]+i+1,s);v!=Mr?(l[f]=h,l[f+1]=g,l[f+2]=v):(l[f+1]=-2,u=!0)}else u=!0}if(u){let f=u9(l,e,t,n,o,i,s),p=_m(f,r,0,s);t=p.local;for(let h=0;h<l.length;h+=3)l[h+1]<0&&(l.splice(h,3),h-=3);for(let h=0,d=0;h<p.children.length;h+=3){let g=p.children[h];for(;d<l.length&&l[d]<g;)d+=3;l.splice(d,0,p.children[h],p.children[h+1],p.children[h+2])}}return new $n(t.sort(Ua),l)}function AM(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new Vr(o.from+t,o.to+t,o.type))}return n}function u9(e,t,n,r,o,i,s){function l(u,f){for(let p=0;p<u.local.length;p++){let h=u.local[p].map(r,o,f);h?n.push(h):s.onRemove&&s.onRemove(u.local[p].spec)}for(let p=0;p<u.children.length;p+=3)l(u.children[p+2],u.children[p]+f+1)}for(let u=0;u<e.length;u+=3)e[u+1]==-1&&l(e[u+2],t[u]+i+1);return n}function MM(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let i=0,s;i<e.length;i++)(s=e[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),e[i]=null);return o}function _M(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function _m(e,t,n,r){let o=[],i=!1;t.forEach((l,u)=>{let f=MM(e,l,u+n);if(f){i=!0;let p=_m(f,l,n+u+1,r);p!=Mr&&o.push(u,u+l.nodeSize,p)}});let s=AM(i?_M(e):e,-n).sort(Ua);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||o.length?new $n(s,o):Mr}function Ua(e,t){return e.from-t.from||e.to-t.to}function OS(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),tE(t,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),tE(t,o,r.copy(i.from,r.to)));break}}}return t}function tE(e,t,n){for(;t<e.length&&Ua(n,e[t])>0;)t++;e.splice(t,0,n)}function v0(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Mr&&t.push(r)}),e.cursorWrapper&&t.push($n.create(e.state.doc,[e.cursorWrapper.deco])),Sl.from(t)}const c9={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},f9=co&&jl<=11;class p9{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class h9{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new p9,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);co&&jl<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),f9&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,c9)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(KO(this.view)){if(this.suppressingSelectionUpdates)return Rs(this.view);if(co&&jl<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Xa(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=Nc(i))n.add(i);for(let i=t.anchorNode;i;i=Nc(i))if(n.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&KO(t)&&!this.ignoreSelectionChange(r),i=-1,s=-1,l=!1,u=[];if(t.editable)for(let p=0;p<n.length;p++){let h=this.registerMutation(n[p],u);h&&(i=i<0?h.from:Math.min(h.from,i),s=s<0?h.to:Math.max(h.to,s),h.typeOver&&(l=!0))}if(wi&&u.length){let p=u.filter(h=>h.nodeName=="BR");if(p.length==2){let[h,d]=p;h.parentNode&&h.parentNode.parentNode==d.parentNode?d.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let d of p){let g=d.parentNode;g&&g.nodeName=="LI"&&(!h||g9(t,h)!=g)&&d.remove()}}}let f=null;i<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&mg(r)&&(f=yS(t))&&f.eq(Mt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Rs(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||o)&&(i>-1&&(t.docView.markDirty(i,s),d9(t)),this.handleDOMChange(i,s,l,u),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Rs(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let p=0;p<t.addedNodes.length;p++){let h=t.addedNodes[p];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,i=t.nextSibling;if(co&&jl<=11&&t.addedNodes.length)for(let p=0;p<t.addedNodes.length;p++){let{previousSibling:h,nextSibling:d}=t.addedNodes[p];(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(o=h),(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d)}let s=o&&o.parentNode==t.target?vr(o)+1:0,l=r.localPosFromDOM(t.target,s,-1),u=i&&i.parentNode==t.target?vr(i):t.target.childNodes.length,f=r.localPosFromDOM(t.target,u,1);return{from:l,to:f}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let nE=new WeakMap,rE=!1;function d9(e){if(!nE.has(e)&&(nE.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=wi,rE)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),rE=!0}}function oE(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return Xa(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function m9(e,t){if(t.getComposedRanges){let o=t.getComposedRanges(e.root)[0];if(o)return oE(e,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?oE(e,n):null}function g9(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function y9(e,t,n){let{node:r,fromOffset:o,toOffset:i,from:s,to:l}=e.docView.parseRange(t,n),u=e.domSelectionRange(),f,p=u.anchorNode;if(p&&e.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:u.anchorOffset}],mg(u)||f.push({node:u.focusNode,offset:u.focusOffset})),Dr&&e.input.lastKeyCode===8)for(let N=i;N>o;N--){let v=r.childNodes[N-1],k=v.pmViewDesc;if(v.nodeName=="BR"&&!k){i=N;break}if(!k||k.size)break}let h=e.state.doc,d=e.someProp("domParser")||Ep.fromSchema(e.state.schema),g=h.resolve(s),y=null,b=d.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:o,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:v9,context:g});if(f&&f[0].pos!=null){let N=f[0].pos,v=f[1]&&f[1].pos;v==null&&(v=N),y={anchor:N+s,head:v+s}}return{doc:b,sel:y,from:s,to:l}}function v9(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(qr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||qr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const w9=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function S9(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let te=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,se=yS(e,te);if(se&&!e.state.selection.eq(se)){if(Dr&&As&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",me=>me(e,Aa(13,"Enter"))))return;let Se=e.state.tr.setSelection(se);te=="pointer"?Se.setMeta("pointer",!0):te=="key"&&Se.scrollIntoView(),i&&Se.setMeta("composition",i),e.dispatch(Se)}return}let s=e.state.doc.resolve(t),l=s.sharedDepth(n);t=s.before(l+1),n=e.state.doc.resolve(n).after(l+1);let u=e.state.selection,f=y9(e,t,n),p=e.state.doc,h=p.slice(f.from,f.to),d,g;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(d=e.state.selection.to,g="end"):(d=e.state.selection.from,g="start"),e.input.lastKeyCode=null;let y=x9(h.content,f.doc.content,f.from,d,g);if(y&&e.input.domChangeCount++,(Tc&&e.input.lastIOSEnter>Date.now()-225||As)&&o.some(te=>te.nodeType==1&&!w9.test(te.nodeName))&&(!y||y.endA>=y.endB)&&e.someProp("handleKeyDown",te=>te(e,Aa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!y)if(r&&u instanceof _t&&!u.empty&&u.$head.sameParent(u.$anchor)&&!e.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))y={start:u.from,endA:u.to,endB:u.to};else{if(f.sel){let te=iE(e,e.state.doc,f.sel);if(te&&!te.eq(e.state.selection)){let se=e.state.tr.setSelection(te);i&&se.setMeta("composition",i),e.dispatch(se)}}return}e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof _t&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2&&e.state.selection.from>=f.from?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&e.state.selection.to<=f.to&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),co&&jl<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>f.from&&f.doc.textBetween(y.start-f.from-1,y.start-f.from+1)==" "&&(y.start--,y.endA--,y.endB--);let b=f.doc.resolveNoCache(y.start-f.from),N=f.doc.resolveNoCache(y.endB-f.from),v=p.resolve(y.start),k=b.sameParent(N)&&b.parent.inlineContent&&v.end()>=y.endA,x;if((Tc&&e.input.lastIOSEnter>Date.now()-225&&(!k||o.some(te=>te.nodeName=="DIV"||te.nodeName=="P"))||!k&&b.pos<f.doc.content.size&&(!b.sameParent(N)||!b.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(b.pos,N.pos,"",""))&&(x=Mt.findFrom(f.doc.resolve(b.pos+1),1,!0))&&x.head>b.pos)&&e.someProp("handleKeyDown",te=>te(e,Aa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>y.start&&k9(p,y.start,y.endA,b,N)&&e.someProp("handleKeyDown",te=>te(e,Aa(8,"Backspace")))){As&&Dr&&e.domObserver.suppressSelectionUpdates();return}Dr&&y.endB==y.start&&(e.input.lastChromeDelete=Date.now()),As&&!k&&b.start()!=N.start()&&N.parentOffset==0&&b.depth==N.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==y.endA&&(y.endB-=2,N=f.doc.resolveNoCache(y.endB-f.from),setTimeout(()=>{e.someProp("handleKeyDown",function(te){return te(e,Aa(13,"Enter"))})},20));let D=y.start,F=y.endA,I,V,j;if(k){if(b.pos==N.pos)co&&jl<=11&&b.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Rs(e),20)),I=e.state.tr.delete(D,F),V=p.resolve(y.start).marksAcross(p.resolve(y.endA));else if(y.endA==y.endB&&(j=b9(b.parent.content.cut(b.parentOffset,N.parentOffset),v.parent.content.cut(v.parentOffset,y.endA-v.start()))))I=e.state.tr,j.type=="add"?I.addMark(D,F,j.mark):I.removeMark(D,F,j.mark);else if(b.parent.child(b.index()).isText&&b.index()==N.index()-(N.textOffset?0:1)){let te=b.parent.textBetween(b.parentOffset,N.parentOffset);if(e.someProp("handleTextInput",se=>se(e,D,F,te)))return;I=e.state.tr.insertText(te,D,F)}}if(I||(I=e.state.tr.replace(D,F,f.doc.slice(y.start-f.from,y.endB-f.from))),f.sel){let te=iE(e,I.doc,f.sel);te&&!(Dr&&e.composing&&te.empty&&(y.start!=y.endB||e.input.lastChromeDelete<Date.now()-100)&&(te.head==D||te.head==I.mapping.map(F)-1)||co&&te.empty&&te.head==D)&&I.setSelection(te)}V&&I.ensureMarks(V),i&&I.setMeta("composition",i),e.dispatch(I.scrollIntoView())}function iE(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:vS(e,t.resolve(n.anchor),t.resolve(n.head))}function b9(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,o=n,i=r,s,l,u;for(let p=0;p<r.length;p++)o=r[p].removeFromSet(o);for(let p=0;p<n.length;p++)i=n[p].removeFromSet(i);if(o.length==1&&i.length==0)l=o[0],s="add",u=p=>p.mark(l.addToSet(p.marks));else if(o.length==0&&i.length==1)l=i[0],s="remove",u=p=>p.mark(l.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<t.childCount;p++)f.push(u(t.child(p)));if(je.from(f).eq(e))return{mark:l,type:s}}function k9(e,t,n,r,o){if(n-t<=o.pos-r.pos||w0(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==t+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(w0(i,!0,!0));return!s.parent.isTextblock||s.pos>n||w0(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function w0(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function x9(e,t,n,r,o){let i=e.findDiffStart(t,n);if(i==null)return null;let{a:s,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(o=="end"){let u=Math.max(0,i-Math.min(s,l));r-=s+u-i}if(s<i&&e.size<t.size){let u=r<=i&&r>=s?i-r:0;i-=u,i&&i<t.size&&sE(t.textBetween(i-1,i+1))&&(i+=u?1:-1),l=i+(l-s),s=i}else if(l<i){let u=r<=i&&r>=l?i-r:0;i-=u,i&&i<e.size&&sE(e.textBetween(i-1,i+1))&&(i+=u?1:-1),s=i+(s-l),l=i}return{start:i,endA:s,endB:l}}function sE(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class RM{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Uz,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(fE),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=uE(this),aE(this),this.nodeViews=cE(this),this.docView=BO(this.state.doc,lE(this),v0(this),this.dom,this),this.domObserver=new h9(this,(r,o,i,s)=>S9(this,r,o,i,s)),this.domObserver.start(),Vz(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&T1(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(fE),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let o=this.state,i=!1,s=!1;t.storedMarks&&this.composing&&(EM(this),s=!0),this.state=t;let l=o.plugins!=t.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=cE(this);E9(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&T1(this),this.editable=uE(this),aE(this);let u=v0(this),f=lE(this),p=o.plugins!=t.plugins&&!o.doc.eq(t.doc)?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(t.doc,f,u);(h||!t.selection.eq(o.selection))&&(s=!0);let d=p=="preserve"&&s&&this.dom.style.overflowAnchor==null&&rz(this);if(s){this.domObserver.stop();let g=h&&(co||Dr)&&!this.composing&&!o.selection.empty&&!t.selection.empty&&O9(o.selection,t.selection);if(h){let y=Dr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=n9(this)),(i||!this.docView.update(t.doc,f,u,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=BO(t.doc,f,u,this.dom,this)),y&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Nz(this))?Rs(this,g):(hM(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,o),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():d&&oz(d)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))&&!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof vt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&PO(this,n.getBoundingClientRect(),t)}else PO(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new NM(t.slice,t.move,o<0?void 0:vt.create(this.state.doc,o))}someProp(t,n){let r=this._props&&this._props[t],o;if(r!=null&&(o=n?n(r):r))return o;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[t];if(l!=null&&(o=n?n(l):l))return o}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let l=i[s].props[t];if(l!=null&&(o=n?n(l):l))return o}}hasFocus(){if(co){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&iz(this.dom),Rs(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return cz(this,t)}coordsAtPos(t,n=1){return iM(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let o=this.docView.posFromDOM(t,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(t,n){return mz(this,n||this.state,t)}pasteHTML(t,n){return Mp(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Mp(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return wS(this,t)}destroy(){this.docView&&(Hz(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],v0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,W6())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Wz(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?qr&&this.root.nodeType===11&&Y6(this.dom.ownerDocument)==this.dom&&m9(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function lE(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Vr.node(0,e.state.doc.content.size,t)]}function aE(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Vr.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function uE(e){return!e.someProp("editable",t=>t(e.state)===!1)}function O9(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function cE(e){let t=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=r[o])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function E9(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r}function fE(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const C9=["p",0],N9=["blockquote",0],T9=["hr"],A9=["pre",["code",0]],M9=["br"],_9={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return C9}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM(){return N9}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return T9}},heading:{attrs:{level:{default:1,validate:"number"}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return A9}},text:{group:"inline"},image:{inline:!0,attrs:{src:{validate:"string"},alt:{default:null,validate:"string|null"},title:{default:null,validate:"string|null"}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM(e){let{src:t,alt:n,title:r}=e.attrs;return["img",{src:t,alt:n,title:r}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return M9}}},R9=["em",0],D9=["strong",0],I9=["code",0],P9={link:{attrs:{href:{validate:"string"},title:{default:null,validate:"string|null"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM(e){let{href:t,title:n}=e.attrs;return["a",{href:t,title:n},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>e.type.name=="em"}],toDOM(){return R9}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return D9}},code:{code:!0,parseDOM:[{tag:"code"}],toDOM(){return I9}}},Rm=new NA({nodes:_9,marks:P9});var Dm=200,cr=function(){};cr.prototype.append=function(e){return e.length?(e=cr.from(e),!this.length&&e||e.length<Dm&&this.leafAppend(e)||this.length<Dm&&e.leafPrepend(this)||this.appendInner(e)):this};cr.prototype.prepend=function(e){return e.length?cr.from(e).append(this):this};cr.prototype.appendInner=function(e){return new $9(this,e)};cr.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?cr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};cr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};cr.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};cr.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(o,i){return r.push(e(o,i))},t,n),r};cr.from=function(e){return e instanceof cr?e:e&&e.length?new DM(e):cr.empty};var DM=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new t(this.values.slice(r,o))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,o,i,s){for(var l=o;l<i;l++)if(r(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,i,s){for(var l=o-1;l>=i;l--)if(r(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=Dm)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=Dm)return new t(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(cr);cr.empty=new DM([]);var $9=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,r,o,i){var s=this.left.length;if(r<s&&this.left.forEachInner(n,r,Math.min(o,s),i)===!1||o>s&&this.right.forEachInner(n,Math.max(r-s,0),Math.min(this.length,o)-s,i+s)===!1)return!1},t.prototype.forEachInvertedInner=function(n,r,o,i){var s=this.left.length;if(r>s&&this.right.forEachInvertedInner(n,r-s,Math.max(o,s)-s,i+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(r,s),o,i)===!1)return!1},t.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(n,r):n>=o?this.right.slice(n-o,r-o):this.left.slice(n,o).append(this.right.slice(0,r-o))},t.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new t(r,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(cr);const F9=500;class fi{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i;n&&(o=this.remapping(r,this.items.length),i=o.maps.length);let s=t.tr,l,u,f=[],p=[];return this.items.forEach((h,d)=>{if(!h.step){o||(o=this.remapping(r,d+1),i=o.maps.length),i--,p.push(h);return}if(o){p.push(new Fi(h.map));let g=h.step.map(o.slice(i)),y;g&&s.maybeStep(g).doc&&(y=s.mapping.maps[s.mapping.maps.length-1],f.push(new Fi(y,void 0,void 0,f.length+p.length))),i--,y&&o.appendMap(y,i)}else s.maybeStep(h.step);if(h.selection)return l=o?h.selection.map(o.slice(i)):h.selection,u=new fi(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:s,selection:l}}addTransform(t,n,r,o){let i=[],s=this.eventCount,l=this.items,u=!o&&l.length?l.get(l.length-1):null;for(let p=0;p<t.steps.length;p++){let h=t.steps[p].invert(t.docs[p]),d=new Fi(t.mapping.maps[p],h,n),g;(g=u&&u.merge(d))&&(d=g,p?i.pop():l=l.slice(0,l.length-1)),i.push(d),n&&(s++,n=void 0),o||(u=d)}let f=s-r.depth;return f>j9&&(l=L9(l,f),s-=f),new fi(l.append(i),s)}remapping(t,n){let r=new Np;return this.items.forEach((o,i)=>{let s=o.mirrorOffset!=null&&i-o.mirrorOffset>=t?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new fi(this.items.append(t.map(n=>new Fi(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),i=t.mapping,s=t.steps.length,l=this.eventCount;this.items.forEach(d=>{d.selection&&l--},o);let u=n;this.items.forEach(d=>{let g=i.getMirror(--u);if(g==null)return;s=Math.min(s,g);let y=i.maps[g];if(d.step){let b=t.steps[g].invert(t.docs[g]),N=d.selection&&d.selection.map(i.slice(u+1,g));N&&l++,r.push(new Fi(y,b,N))}else r.push(new Fi(y))},o);let f=[];for(let d=n;d<s;d++)f.push(new Fi(i.maps[d]));let p=this.items.slice(0,o).append(f).append(r),h=new fi(p,l);return h.emptyItemCount()>F9&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,o=[],i=0;return this.items.forEach((s,l)=>{if(l>=t)o.push(s),s.selection&&i++;else if(s.step){let u=s.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let p=s.selection&&s.selection.map(n.slice(r));p&&i++;let h=new Fi(f.invert(),u,p),d,g=o.length-1;(d=o.length&&o[g].merge(h))?o[g]=d:o.push(h)}}else s.map&&r--},this.items.length,0),new fi(cr.from(o.reverse()),i)}}fi.empty=new fi(cr.empty,0);function L9(e,t){let n;return e.forEach((r,o)=>{if(r.selection&&t--==0)return n=o,!1}),e.slice(n)}class Fi{constructor(t,n,r,o){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=o}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Fi(n.getMap().invert(),n,this.selection)}}}class gl{constructor(t,n,r,o,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=i}}const j9=20;function z9(e,t,n,r){let o=n.getMeta(Va),i;if(o)return o.historyState;n.getMeta(V9)&&(e=new gl(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(Va))return s.getMeta(Va).redo?new gl(e.done.addTransform(n,void 0,r,Ad(t)),e.undone,pE(n.mapping.maps),e.prevTime,e.prevComposition):new gl(e.done,e.undone.addTransform(n,void 0,r,Ad(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=e.prevTime==0||!s&&e.prevComposition!=l&&(e.prevTime<(n.time||0)-r.newGroupDelay||!B9(n,e.prevRanges)),f=s?S0(e.prevRanges,n.mapping):pE(n.mapping.maps);return new gl(e.done.addTransform(n,u?t.selection.getBookmark():void 0,r,Ad(t)),fi.empty,f,n.time,l??e.prevComposition)}else return(i=n.getMeta("rebased"))?new gl(e.done.rebased(n,i),e.undone.rebased(n,i),S0(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new gl(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),S0(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function B9(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,o)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&o>=t[i]&&(n=!0)}),n}function pE(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,o,i,s)=>t.push(i,s));return t}function S0(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function U9(e,t,n){let r=Ad(t),o=Va.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),l=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),u=new gl(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(s).setMeta(Va,{redo:n,historyState:u})}let b0=!1,hE=null;function Ad(e){let t=e.plugins;if(hE!=t){b0=!1,hE=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){b0=!0;break}}return b0}const Va=new Up("history"),V9=new Up("closeHistory");function IM(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Ql({key:Va,state:{init(){return new gl(fi.empty,fi.empty,null,0,-1)},apply(t,n,r){return z9(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,o=r=="historyUndo"?ES:r=="historyRedo"?CS:null;return o?(n.preventDefault(),o(t.state,t.dispatch)):!1}}}})}function PM(e,t){return(n,r)=>{let o=Va.getState(n);if(!o||(e?o.undone:o.done).eventCount==0)return!1;if(r){let i=U9(o,n,e);i&&r(i.scrollIntoView())}return!0}}const ES=PM(!1),CS=PM(!0);var Hl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Im={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},H9=typeof navigator<"u"&&/Mac/.test(navigator.platform),q9=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var wr=0;wr<10;wr++)Hl[48+wr]=Hl[96+wr]=String(wr);for(var wr=1;wr<=24;wr++)Hl[wr+111]="F"+wr;for(var wr=65;wr<=90;wr++)Hl[wr]=String.fromCharCode(wr+32),Im[wr]=String.fromCharCode(wr);for(var k0 in Hl)Im.hasOwnProperty(k0)||(Im[k0]=Hl[k0]);function W9(e){var t=H9&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||q9&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Im:Hl)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const K9=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),G9=typeof navigator<"u"&&/Win/.test(navigator.platform);function J9(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,o,i,s;for(let l=0;l<t.length-1;l++){let u=t[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))K9?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function Q9(e){let t=Object.create(null);for(let n in e)t[J9(n)]=e[n];return t}function x0(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Pm(e){return new Ql({props:{handleKeyDown:$M(e)}})}function $M(e){let t=Q9(e);return function(n,r){let o=W9(r),i,s=t[x0(o,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let l=t[x0(o,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(G9&&r.ctrlKey&&r.altKey)&&(i=Hl[r.keyCode])&&i!=o){let l=t[x0(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var $m={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */$m.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",h=1,d=2,g=4,y=1,b=2,N=1,v=2,k=4,x=8,D=16,F=32,I=64,V=128,j=256,te=512,se=30,Se="...",me=800,W=16,G=1,U=2,re=3,He=1/0,fe=9007199254740991,J=17976931348623157e292,T=NaN,le=4294967295,xe=le-1,C=le>>>1,_=[["ary",V],["bind",N],["bindKey",v],["curry",x],["curryRight",D],["flip",te],["partial",F],["partialRight",I],["rearg",j]],P="[object Arguments]",L="[object Array]",pe="[object AsyncFunction]",oe="[object Boolean]",ce="[object Date]",Ce="[object DOMException]",Pe="[object Error]",ie="[object Function]",Y="[object GeneratorFunction]",ge="[object Map]",he="[object Number]",Qe="[object Null]",Ze="[object Object]",ye="[object Promise]",ee="[object Proxy]",$e="[object RegExp]",Ke="[object Set]",kt="[object String]",Xe="[object Symbol]",q="[object Undefined]",Z="[object WeakMap]",B="[object WeakSet]",ne="[object ArrayBuffer]",be="[object DataView]",Fe="[object Float32Array]",Le="[object Float64Array]",et="[object Int8Array]",pt="[object Int16Array]",gt="[object Int32Array]",nn="[object Uint8Array]",kn="[object Uint8ClampedArray]",rn="[object Uint16Array]",Bn="[object Uint32Array]",pn=/\b__p \+= '';/g,pr=/\b(__p \+=) '' \+/g,es=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qr=/&(?:amp|lt|gt|quot|#39);/g,Zo=/[&<>"']/g,hr=RegExp(Qr.source),Si=RegExp(Zo.source),ts=/<%-([\s\S]+?)%>/g,ns=/<%([\s\S]+?)%>/g,bi=/<%=([\s\S]+?)%>/g,Ls=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,js=/^\w*$/,ea=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ki=/[\\^$.*+?()[\]{}|]/g,zs=RegExp(ki.source),xi=/^\s+/,ta=/\s/,rs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,na=/\{\n\/\* \[wrapped with (.+)\] \*/,ou=/,? & /,z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_e=/[()=,{}\[\]\/\s]/,Ue=/\\(\\)?/g,ot=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ft=/\w*$/,Bt=/^[-+]0x[0-9a-f]+$/i,Tt=/^0b[01]+$/i,wt=/^\[object .+?Constructor\]$/,xn=/^0o[0-7]+$/i,on=/^(?:0|[1-9]\d*)$/,cn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,On=/($^)/,Do=/['\n\r\u2028\u2029\\]/g,xr="\\ud800-\\udfff",Un="\\u0300-\\u036f",Oi="\\ufe20-\\ufe2f",Bs="\\u20d0-\\u20ff",Ei=Un+Oi+Bs,iu="\\u2700-\\u27bf",Uc="a-z\\xdf-\\xf6\\xf8-\\xff",ra="\\xac\\xb1\\xd7\\xf7",Vc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Hc="\\u2000-\\u206f",su=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",oa="A-Z\\xc0-\\xd6\\xd8-\\xde",ia="\\ufe0e\\ufe0f",sa=ra+Vc+Hc+su,Us="[']",lu="["+xr+"]",la="["+sa+"]",is="["+Ei+"]",aa="\\d+",Xp="["+iu+"]",au="["+Uc+"]",ua="[^"+xr+sa+aa+iu+Uc+oa+"]",Vs="\\ud83c[\\udffb-\\udfff]",uu="(?:"+is+"|"+Vs+")",Hs="[^"+xr+"]",ss="(?:\\ud83c[\\udde6-\\uddff]){2}",ls="[\\ud800-\\udbff][\\udc00-\\udfff]",Ci="["+oa+"]",qs="\\u200d",cu="(?:"+au+"|"+ua+")",ca="(?:"+Ci+"|"+ua+")",fu="(?:"+Us+"(?:d|ll|m|re|s|t|ve))?",pu="(?:"+Us+"(?:D|LL|M|RE|S|T|VE))?",hu=uu+"?",du="["+ia+"]?",qc="(?:"+qs+"(?:"+[Hs,ss,ls].join("|")+")"+du+hu+")*",Wc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ws=du+hu+qc,Gc="(?:"+[Xp,ss,ls].join("|")+")"+Ws,Jc="(?:"+[Hs+is+"?",is,ss,ls,lu].join("|")+")",Qc=RegExp(Us,"g"),Yc=RegExp(is,"g"),Ks=RegExp(Vs+"(?="+Vs+")|"+Jc+Ws,"g"),mu=RegExp([Ci+"?"+au+"+"+fu+"(?="+[la,Ci,"$"].join("|")+")",ca+"+"+pu+"(?="+[la,Ci+cu,"$"].join("|")+")",Ci+"?"+cu+"+"+fu,Ci+"+"+pu,Kc,Wc,aa,Gc].join("|"),"g"),gu=RegExp("["+qs+xr+Ei+ia+"]"),yu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wu=-1,Zt={};Zt[Fe]=Zt[Le]=Zt[et]=Zt[pt]=Zt[gt]=Zt[nn]=Zt[kn]=Zt[rn]=Zt[Bn]=!0,Zt[P]=Zt[L]=Zt[ne]=Zt[oe]=Zt[be]=Zt[ce]=Zt[Pe]=Zt[ie]=Zt[ge]=Zt[he]=Zt[Ze]=Zt[$e]=Zt[Ke]=Zt[kt]=Zt[Z]=!1;var Xt={};Xt[P]=Xt[L]=Xt[ne]=Xt[be]=Xt[oe]=Xt[ce]=Xt[Fe]=Xt[Le]=Xt[et]=Xt[pt]=Xt[gt]=Xt[ge]=Xt[he]=Xt[Ze]=Xt[$e]=Xt[Ke]=Xt[kt]=Xt[Xe]=Xt[nn]=Xt[kn]=Xt[rn]=Xt[Bn]=!0,Xt[Pe]=Xt[ie]=Xt[Z]=!1;var Su={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},bu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},fa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pa=parseFloat,Vn=parseInt,Qn=typeof ci=="object"&&ci&&ci.Object===Object&&ci,Fn=typeof self=="object"&&self&&self.Object===Object&&self,ln=Qn||Fn||Function("return this")(),Ni=t&&!t.nodeType&&t,Ti=Ni&&!0&&e&&!e.nodeType&&e,Gs=Ti&&Ti.exports===Ni,Yr=Gs&&Qn.process,or=function(){try{var Q=Ti&&Ti.require&&Ti.require("util").types;return Q||Yr&&Yr.binding&&Yr.binding("util")}catch{}}(),as=or&&or.isArrayBuffer,Ai=or&&or.isDate,de=or&&or.isMap,Te=or&&or.isRegExp,Io=or&&or.isSet,eh=or&&or.isTypedArray;function Re(Q,ve,ae){switch(ae.length){case 0:return Q.call(ve);case 1:return Q.call(ve,ae[0]);case 2:return Q.call(ve,ae[0],ae[1]);case 3:return Q.call(ve,ae[0],ae[1],ae[2])}return Q.apply(ve,ae)}function nt(Q,ve,ae,Ge){for(var ht=-1,jt=Q==null?0:Q.length;++ht<jt;){var Sn=Q[ht];ve(Ge,Sn,ae(Sn),Q)}return Ge}function ze(Q,ve){for(var ae=-1,Ge=Q==null?0:Q.length;++ae<Ge&&ve(Q[ae],ae,Q)!==!1;);return Q}function it(Q,ve){for(var ae=Q==null?0:Q.length;ae--&&ve(Q[ae],ae,Q)!==!1;);return Q}function bt(Q,ve){for(var ae=-1,Ge=Q==null?0:Q.length;++ae<Ge;)if(!ve(Q[ae],ae,Q))return!1;return!0}function xt(Q,ve){for(var ae=-1,Ge=Q==null?0:Q.length,ht=0,jt=[];++ae<Ge;){var Sn=Q[ae];ve(Sn,ae,Q)&&(jt[ht++]=Sn)}return jt}function Yn(Q,ve){var ae=Q==null?0:Q.length;return!!ae&&Qs(Q,ve,0)>-1}function mo(Q,ve,ae){for(var Ge=-1,ht=Q==null?0:Q.length;++Ge<ht;)if(ae(ve,Q[Ge]))return!0;return!1}function yt(Q,ve){for(var ae=-1,Ge=Q==null?0:Q.length,ht=Array(Ge);++ae<Ge;)ht[ae]=ve(Q[ae],ae,Q);return ht}function En(Q,ve){for(var ae=-1,Ge=ve.length,ht=Q.length;++ae<Ge;)Q[ht+ae]=ve[ae];return Q}function hn(Q,ve,ae,Ge){var ht=-1,jt=Q==null?0:Q.length;for(Ge&&jt&&(ae=Q[++ht]);++ht<jt;)ae=ve(ae,Q[ht],ht,Q);return ae}function Js(Q,ve,ae,Ge){var ht=Q==null?0:Q.length;for(Ge&&ht&&(ae=Q[--ht]);ht--;)ae=ve(ae,Q[ht],ht,Q);return ae}function ku(Q,ve){for(var ae=-1,Ge=Q==null?0:Q.length;++ae<Ge;)if(ve(Q[ae],ae,Q))return!0;return!1}var ha=an("length");function us(Q){return Q.split("")}function da(Q){return Q.match(z)||[]}function xu(Q,ve,ae){var Ge;return ae(Q,function(ht,jt,Sn){if(ve(ht,jt,Sn))return Ge=jt,!1}),Ge}function Zr(Q,ve,ae,Ge){for(var ht=Q.length,jt=ae+(Ge?1:-1);Ge?jt--:++jt<ht;)if(ve(Q[jt],jt,Q))return jt;return-1}function Qs(Q,ve,ae){return ve===ve?lh(Q,ve,ae):Zr(Q,Hn,ae)}function Me(Q,ve,ae,Ge){for(var ht=ae-1,jt=Q.length;++ht<jt;)if(Ge(Q[ht],ve))return ht;return-1}function Hn(Q){return Q!==Q}function Be(Q,ve){var ae=Q==null?0:Q.length;return ae?ef(Q,ve)/ae:T}function an(Q){return function(ve){return ve==null?n:ve[Q]}}function Lt(Q){return function(ve){return Q==null?n:Q[ve]}}function Xc(Q,ve,ae,Ge,ht){return ht(Q,function(jt,Sn,Jt){ae=Ge?(Ge=!1,jt):ve(ae,jt,Sn,Jt)}),ae}function Dg(Q,ve){var ae=Q.length;for(Q.sort(ve);ae--;)Q[ae]=Q[ae].value;return Q}function ef(Q,ve){for(var ae,Ge=-1,ht=Q.length;++Ge<ht;){var jt=ve(Q[Ge]);jt!==n&&(ae=ae===n?jt:ae+jt)}return ae}function tf(Q,ve){for(var ae=-1,Ge=Array(Q);++ae<Q;)Ge[ae]=ve(ae);return Ge}function Xo(Q,ve){return yt(ve,function(ae){return[ae,Q[ae]]})}function th(Q){return Q&&Q.slice(0,qn(Q)+1).replace(xi,"")}function Or(Q){return function(ve){return Q(ve)}}function ma(Q,ve){return yt(ve,function(ae){return Q[ae]})}function dr(Q,ve){return Q.has(ve)}function Vt(Q,ve){for(var ae=-1,Ge=Q.length;++ae<Ge&&Qs(ve,Q[ae],0)>-1;);return ae}function Ys(Q,ve){for(var ae=Q.length;ae--&&Qs(ve,Q[ae],0)>-1;);return ae}function Ig(Q,ve){for(var ae=Q.length,Ge=0;ae--;)Q[ae]===ve&&++Ge;return Ge}var nf=Lt(Su),Lr=Lt(bu);function nh(Q){return"\\"+Zc[Q]}function rh(Q,ve){return Q==null?n:Q[ve]}function Zs(Q){return gu.test(Q)}function ei(Q){return yu.test(Q)}function oh(Q){for(var ve,ae=[];!(ve=Q.next()).done;)ae.push(ve.value);return ae}function ga(Q){var ve=-1,ae=Array(Q.size);return Q.forEach(function(Ge,ht){ae[++ve]=[ht,Ge]}),ae}function ih(Q,ve){return function(ae){return Q(ve(ae))}}function ti(Q,ve){for(var ae=-1,Ge=Q.length,ht=0,jt=[];++ae<Ge;){var Sn=Q[ae];(Sn===ve||Sn===p)&&(Q[ae]=p,jt[ht++]=ae)}return jt}function Ou(Q){var ve=-1,ae=Array(Q.size);return Q.forEach(function(Ge){ae[++ve]=Ge}),ae}function sh(Q){var ve=-1,ae=Array(Q.size);return Q.forEach(function(Ge){ae[++ve]=[Ge,Ge]}),ae}function lh(Q,ve,ae){for(var Ge=ae-1,ht=Q.length;++Ge<ht;)if(Q[Ge]===ve)return Ge;return-1}function Pg(Q,ve,ae){for(var Ge=ae+1;Ge--;)if(Q[Ge]===ve)return Ge;return Ge}function cs(Q){return Zs(Q)?ya(Q):ha(Q)}function Xr(Q){return Zs(Q)?ah(Q):us(Q)}function qn(Q){for(var ve=Q.length;ve--&&ta.test(Q.charAt(ve)););return ve}var $g=Lt(fa);function ya(Q){for(var ve=Ks.lastIndex=0;Ks.test(Q);)++ve;return ve}function ah(Q){return Q.match(Ks)||[]}function Eu(Q){return Q.match(mu)||[]}var Fg=function Q(ve){ve=ve==null?ln:Xs.defaults(ln.Object(),ve,Xs.pick(ln,vu));var ae=ve.Array,Ge=ve.Date,ht=ve.Error,jt=ve.Function,Sn=ve.Math,Jt=ve.Object,el=ve.RegExp,va=ve.String,yn=ve.TypeError,Zn=ae.prototype,go=jt.prototype,ni=Jt.prototype,Cu=ve["__core-js_shared__"],tl=go.toString,Kt=ni.hasOwnProperty,Lg=0,rf=function(){var a=/[^.]+$/.exec(Cu&&Cu.keys&&Cu.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Mi=ni.toString,uh=tl.call(Jt),ch=ln._,nl=el("^"+tl.call(Kt).replace(ki,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nu=Gs?ve.Buffer:n,_i=ve.Symbol,S=ve.Uint8Array,O=Nu?Nu.allocUnsafe:n,R=ih(Jt.getPrototypeOf,Jt),we=Jt.create,ue=ni.propertyIsEnumerable,Ee=Zn.splice,qe=_i?_i.isConcatSpreadable:n,Ot=_i?_i.iterator:n,Qt=_i?_i.toStringTag:n,It=function(){try{var a=xa(Jt,"defineProperty");return a({},"",{}),a}catch{}}(),Ut=ve.clearTimeout!==ln.clearTimeout&&ve.clearTimeout,Er=Ge&&Ge.now!==ln.Date.now&&Ge.now,Je=ve.setTimeout!==ln.setTimeout&&ve.setTimeout,st=Sn.ceil,Wn=Sn.floor,ir=Jt.getOwnPropertySymbols,jg=Nu?Nu.isBuffer:n,fh=ve.isFinite,DR=Zn.join,IR=ih(Jt.keys,Jt),Xn=Sn.max,Cr=Sn.min,PR=Ge.now,$R=ve.parseInt,ob=Sn.random,FR=Zn.reverse,zg=xa(ve,"DataView"),of=xa(ve,"Map"),Bg=xa(ve,"Promise"),Tu=xa(ve,"Set"),sf=xa(ve,"WeakMap"),lf=xa(Jt,"create"),ph=sf&&new sf,Au={},LR=Oa(zg),jR=Oa(of),zR=Oa(Bg),BR=Oa(Tu),UR=Oa(sf),hh=_i?_i.prototype:n,af=hh?hh.valueOf:n,ib=hh?hh.toString:n;function A(a){if(Rn(a)&&!St(a)&&!(a instanceof Pt)){if(a instanceof Po)return a;if(Kt.call(a,"__wrapped__"))return sk(a)}return new Po(a)}var Mu=function(){function a(){}return function(c){if(!Cn(c))return{};if(we)return we(c);a.prototype=c;var m=new a;return a.prototype=n,m}}();function dh(){}function Po(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}A.templateSettings={escape:ts,evaluate:ns,interpolate:bi,variable:"",imports:{_:A}},A.prototype=dh.prototype,A.prototype.constructor=A,Po.prototype=Mu(dh.prototype),Po.prototype.constructor=Po;function Pt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function VR(){var a=new Pt(this.__wrapped__);return a.__actions__=eo(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=eo(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=eo(this.__views__),a}function HR(){if(this.__filtered__){var a=new Pt(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function qR(){var a=this.__wrapped__.value(),c=this.__dir__,m=St(a),w=c<0,E=m?a.length:0,M=rI(0,E,this.__views__),$=M.start,H=M.end,X=H-$,ke=w?H:$-1,Oe=this.__iteratees__,Ae=Oe.length,Ve=0,tt=Cr(X,this.__takeCount__);if(!m||!w&&E==X&&tt==X)return Ab(a,this.__actions__);var ut=[];e:for(;X--&&Ve<tt;){ke+=c;for(var Nt=-1,ct=a[ke];++Nt<Ae;){var Rt=Oe[Nt],zt=Rt.iteratee,wo=Rt.type,Br=zt(ct);if(wo==U)ct=Br;else if(!Br){if(wo==G)continue e;break e}}ut[Ve++]=ct}return ut}Pt.prototype=Mu(dh.prototype),Pt.prototype.constructor=Pt;function wa(a){var c=-1,m=a==null?0:a.length;for(this.clear();++c<m;){var w=a[c];this.set(w[0],w[1])}}function WR(){this.__data__=lf?lf(null):{},this.size=0}function KR(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function GR(a){var c=this.__data__;if(lf){var m=c[a];return m===u?n:m}return Kt.call(c,a)?c[a]:n}function JR(a){var c=this.__data__;return lf?c[a]!==n:Kt.call(c,a)}function QR(a,c){var m=this.__data__;return this.size+=this.has(a)?0:1,m[a]=lf&&c===n?u:c,this}wa.prototype.clear=WR,wa.prototype.delete=KR,wa.prototype.get=GR,wa.prototype.has=JR,wa.prototype.set=QR;function fs(a){var c=-1,m=a==null?0:a.length;for(this.clear();++c<m;){var w=a[c];this.set(w[0],w[1])}}function YR(){this.__data__=[],this.size=0}function ZR(a){var c=this.__data__,m=mh(c,a);if(m<0)return!1;var w=c.length-1;return m==w?c.pop():Ee.call(c,m,1),--this.size,!0}function XR(a){var c=this.__data__,m=mh(c,a);return m<0?n:c[m][1]}function eD(a){return mh(this.__data__,a)>-1}function tD(a,c){var m=this.__data__,w=mh(m,a);return w<0?(++this.size,m.push([a,c])):m[w][1]=c,this}fs.prototype.clear=YR,fs.prototype.delete=ZR,fs.prototype.get=XR,fs.prototype.has=eD,fs.prototype.set=tD;function ps(a){var c=-1,m=a==null?0:a.length;for(this.clear();++c<m;){var w=a[c];this.set(w[0],w[1])}}function nD(){this.size=0,this.__data__={hash:new wa,map:new(of||fs),string:new wa}}function rD(a){var c=Nh(this,a).delete(a);return this.size-=c?1:0,c}function oD(a){return Nh(this,a).get(a)}function iD(a){return Nh(this,a).has(a)}function sD(a,c){var m=Nh(this,a),w=m.size;return m.set(a,c),this.size+=m.size==w?0:1,this}ps.prototype.clear=nD,ps.prototype.delete=rD,ps.prototype.get=oD,ps.prototype.has=iD,ps.prototype.set=sD;function Sa(a){var c=-1,m=a==null?0:a.length;for(this.__data__=new ps;++c<m;)this.add(a[c])}function lD(a){return this.__data__.set(a,u),this}function aD(a){return this.__data__.has(a)}Sa.prototype.add=Sa.prototype.push=lD,Sa.prototype.has=aD;function ri(a){var c=this.__data__=new fs(a);this.size=c.size}function uD(){this.__data__=new fs,this.size=0}function cD(a){var c=this.__data__,m=c.delete(a);return this.size=c.size,m}function fD(a){return this.__data__.get(a)}function pD(a){return this.__data__.has(a)}function hD(a,c){var m=this.__data__;if(m instanceof fs){var w=m.__data__;if(!of||w.length<o-1)return w.push([a,c]),this.size=++m.size,this;m=this.__data__=new ps(w)}return m.set(a,c),this.size=m.size,this}ri.prototype.clear=uD,ri.prototype.delete=cD,ri.prototype.get=fD,ri.prototype.has=pD,ri.prototype.set=hD;function sb(a,c){var m=St(a),w=!m&&Ea(a),E=!m&&!w&&ll(a),M=!m&&!w&&!E&&Iu(a),$=m||w||E||M,H=$?tf(a.length,va):[],X=H.length;for(var ke in a)(c||Kt.call(a,ke))&&!($&&(ke=="length"||E&&(ke=="offset"||ke=="parent")||M&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||gs(ke,X)))&&H.push(ke);return H}function lb(a){var c=a.length;return c?a[Zg(0,c-1)]:n}function dD(a,c){return Th(eo(a),ba(c,0,a.length))}function mD(a){return Th(eo(a))}function Ug(a,c,m){(m!==n&&!oi(a[c],m)||m===n&&!(c in a))&&hs(a,c,m)}function uf(a,c,m){var w=a[c];(!(Kt.call(a,c)&&oi(w,m))||m===n&&!(c in a))&&hs(a,c,m)}function mh(a,c){for(var m=a.length;m--;)if(oi(a[m][0],c))return m;return-1}function gD(a,c,m,w){return rl(a,function(E,M,$){c(w,E,m(E),$)}),w}function ab(a,c){return a&&Di(c,sr(c),a)}function yD(a,c){return a&&Di(c,no(c),a)}function hs(a,c,m){c=="__proto__"&&It?It(a,c,{configurable:!0,enumerable:!0,value:m,writable:!0}):a[c]=m}function Vg(a,c){for(var m=-1,w=c.length,E=ae(w),M=a==null;++m<w;)E[m]=M?n:xy(a,c[m]);return E}function ba(a,c,m){return a===a&&(m!==n&&(a=a<=m?a:m),c!==n&&(a=a>=c?a:c)),a}function $o(a,c,m,w,E,M){var $,H=c&h,X=c&d,ke=c&g;if(m&&($=E?m(a,w,E,M):m(a)),$!==n)return $;if(!Cn(a))return a;var Oe=St(a);if(Oe){if($=iI(a),!H)return eo(a,$)}else{var Ae=Nr(a),Ve=Ae==ie||Ae==Y;if(ll(a))return Rb(a,H);if(Ae==Ze||Ae==P||Ve&&!E){if($=X||Ve?{}:Yb(a),!H)return X?GD(a,yD($,a)):KD(a,ab($,a))}else{if(!Xt[Ae])return E?a:{};$=sI(a,Ae,H)}}M||(M=new ri);var tt=M.get(a);if(tt)return tt;M.set(a,$),Ck(a)?a.forEach(function(ct){$.add($o(ct,c,m,ct,a,M))}):Ok(a)&&a.forEach(function(ct,Rt){$.set(Rt,$o(ct,c,m,Rt,a,M))});var ut=ke?X?uy:ay:X?no:sr,Nt=Oe?n:ut(a);return ze(Nt||a,function(ct,Rt){Nt&&(Rt=ct,ct=a[Rt]),uf($,Rt,$o(ct,c,m,Rt,a,M))}),$}function vD(a){var c=sr(a);return function(m){return ub(m,a,c)}}function ub(a,c,m){var w=m.length;if(a==null)return!w;for(a=Jt(a);w--;){var E=m[w],M=c[E],$=a[E];if($===n&&!(E in a)||!M($))return!1}return!0}function cb(a,c,m){if(typeof a!="function")throw new yn(s);return gf(function(){a.apply(n,m)},c)}function cf(a,c,m,w){var E=-1,M=Yn,$=!0,H=a.length,X=[],ke=c.length;if(!H)return X;m&&(c=yt(c,Or(m))),w?(M=mo,$=!1):c.length>=o&&(M=dr,$=!1,c=new Sa(c));e:for(;++E<H;){var Oe=a[E],Ae=m==null?Oe:m(Oe);if(Oe=w||Oe!==0?Oe:0,$&&Ae===Ae){for(var Ve=ke;Ve--;)if(c[Ve]===Ae)continue e;X.push(Oe)}else M(c,Ae,w)||X.push(Oe)}return X}var rl=Fb(Ri),fb=Fb(qg,!0);function wD(a,c){var m=!0;return rl(a,function(w,E,M){return m=!!c(w,E,M),m}),m}function gh(a,c,m){for(var w=-1,E=a.length;++w<E;){var M=a[w],$=c(M);if($!=null&&(H===n?$===$&&!vo($):m($,H)))var H=$,X=M}return X}function SD(a,c,m,w){var E=a.length;for(m=Et(m),m<0&&(m=-m>E?0:E+m),w=w===n||w>E?E:Et(w),w<0&&(w+=E),w=m>w?0:Tk(w);m<w;)a[m++]=c;return a}function pb(a,c){var m=[];return rl(a,function(w,E,M){c(w,E,M)&&m.push(w)}),m}function mr(a,c,m,w,E){var M=-1,$=a.length;for(m||(m=aI),E||(E=[]);++M<$;){var H=a[M];c>0&&m(H)?c>1?mr(H,c-1,m,w,E):En(E,H):w||(E[E.length]=H)}return E}var Hg=Lb(),hb=Lb(!0);function Ri(a,c){return a&&Hg(a,c,sr)}function qg(a,c){return a&&hb(a,c,sr)}function yh(a,c){return xt(c,function(m){return ys(a[m])})}function ka(a,c){c=il(c,a);for(var m=0,w=c.length;a!=null&&m<w;)a=a[Ii(c[m++])];return m&&m==w?a:n}function db(a,c,m){var w=c(a);return St(a)?w:En(w,m(a))}function jr(a){return a==null?a===n?q:Qe:Qt&&Qt in Jt(a)?nI(a):mI(a)}function Wg(a,c){return a>c}function bD(a,c){return a!=null&&Kt.call(a,c)}function kD(a,c){return a!=null&&c in Jt(a)}function xD(a,c,m){return a>=Cr(c,m)&&a<Xn(c,m)}function Kg(a,c,m){for(var w=m?mo:Yn,E=a[0].length,M=a.length,$=M,H=ae(M),X=1/0,ke=[];$--;){var Oe=a[$];$&&c&&(Oe=yt(Oe,Or(c))),X=Cr(Oe.length,X),H[$]=!m&&(c||E>=120&&Oe.length>=120)?new Sa($&&Oe):n}Oe=a[0];var Ae=-1,Ve=H[0];e:for(;++Ae<E&&ke.length<X;){var tt=Oe[Ae],ut=c?c(tt):tt;if(tt=m||tt!==0?tt:0,!(Ve?dr(Ve,ut):w(ke,ut,m))){for($=M;--$;){var Nt=H[$];if(!(Nt?dr(Nt,ut):w(a[$],ut,m)))continue e}Ve&&Ve.push(ut),ke.push(tt)}}return ke}function OD(a,c,m,w){return Ri(a,function(E,M,$){c(w,m(E),M,$)}),w}function ff(a,c,m){c=il(c,a),a=tk(a,c);var w=a==null?a:a[Ii(Lo(c))];return w==null?n:Re(w,a,m)}function mb(a){return Rn(a)&&jr(a)==P}function ED(a){return Rn(a)&&jr(a)==ne}function CD(a){return Rn(a)&&jr(a)==ce}function pf(a,c,m,w,E){return a===c?!0:a==null||c==null||!Rn(a)&&!Rn(c)?a!==a&&c!==c:ND(a,c,m,w,pf,E)}function ND(a,c,m,w,E,M){var $=St(a),H=St(c),X=$?L:Nr(a),ke=H?L:Nr(c);X=X==P?Ze:X,ke=ke==P?Ze:ke;var Oe=X==Ze,Ae=ke==Ze,Ve=X==ke;if(Ve&&ll(a)){if(!ll(c))return!1;$=!0,Oe=!1}if(Ve&&!Oe)return M||(M=new ri),$||Iu(a)?Gb(a,c,m,w,E,M):eI(a,c,X,m,w,E,M);if(!(m&y)){var tt=Oe&&Kt.call(a,"__wrapped__"),ut=Ae&&Kt.call(c,"__wrapped__");if(tt||ut){var Nt=tt?a.value():a,ct=ut?c.value():c;return M||(M=new ri),E(Nt,ct,m,w,M)}}return Ve?(M||(M=new ri),tI(a,c,m,w,E,M)):!1}function TD(a){return Rn(a)&&Nr(a)==ge}function Gg(a,c,m,w){var E=m.length,M=E,$=!w;if(a==null)return!M;for(a=Jt(a);E--;){var H=m[E];if($&&H[2]?H[1]!==a[H[0]]:!(H[0]in a))return!1}for(;++E<M;){H=m[E];var X=H[0],ke=a[X],Oe=H[1];if($&&H[2]){if(ke===n&&!(X in a))return!1}else{var Ae=new ri;if(w)var Ve=w(ke,Oe,X,a,c,Ae);if(!(Ve===n?pf(Oe,ke,y|b,w,Ae):Ve))return!1}}return!0}function gb(a){if(!Cn(a)||cI(a))return!1;var c=ys(a)?nl:wt;return c.test(Oa(a))}function AD(a){return Rn(a)&&jr(a)==$e}function MD(a){return Rn(a)&&Nr(a)==Ke}function _D(a){return Rn(a)&&Ih(a.length)&&!!Zt[jr(a)]}function yb(a){return typeof a=="function"?a:a==null?ro:typeof a=="object"?St(a)?Sb(a[0],a[1]):wb(a):jk(a)}function Jg(a){if(!mf(a))return IR(a);var c=[];for(var m in Jt(a))Kt.call(a,m)&&m!="constructor"&&c.push(m);return c}function RD(a){if(!Cn(a))return dI(a);var c=mf(a),m=[];for(var w in a)w=="constructor"&&(c||!Kt.call(a,w))||m.push(w);return m}function Qg(a,c){return a<c}function vb(a,c){var m=-1,w=to(a)?ae(a.length):[];return rl(a,function(E,M,$){w[++m]=c(E,M,$)}),w}function wb(a){var c=fy(a);return c.length==1&&c[0][2]?Xb(c[0][0],c[0][1]):function(m){return m===a||Gg(m,a,c)}}function Sb(a,c){return hy(a)&&Zb(c)?Xb(Ii(a),c):function(m){var w=xy(m,a);return w===n&&w===c?Oy(m,a):pf(c,w,y|b)}}function vh(a,c,m,w,E){a!==c&&Hg(c,function(M,$){if(E||(E=new ri),Cn(M))DD(a,c,$,m,vh,w,E);else{var H=w?w(my(a,$),M,$+"",a,c,E):n;H===n&&(H=M),Ug(a,$,H)}},no)}function DD(a,c,m,w,E,M,$){var H=my(a,m),X=my(c,m),ke=$.get(X);if(ke){Ug(a,m,ke);return}var Oe=M?M(H,X,m+"",a,c,$):n,Ae=Oe===n;if(Ae){var Ve=St(X),tt=!Ve&&ll(X),ut=!Ve&&!tt&&Iu(X);Oe=X,Ve||tt||ut?St(H)?Oe=H:Ln(H)?Oe=eo(H):tt?(Ae=!1,Oe=Rb(X,!0)):ut?(Ae=!1,Oe=Db(X,!0)):Oe=[]:yf(X)||Ea(X)?(Oe=H,Ea(H)?Oe=Ak(H):(!Cn(H)||ys(H))&&(Oe=Yb(X))):Ae=!1}Ae&&($.set(X,Oe),E(Oe,X,w,M,$),$.delete(X)),Ug(a,m,Oe)}function bb(a,c){var m=a.length;if(m)return c+=c<0?m:0,gs(c,m)?a[c]:n}function kb(a,c,m){c.length?c=yt(c,function(M){return St(M)?function($){return ka($,M.length===1?M[0]:M)}:M}):c=[ro];var w=-1;c=yt(c,Or(lt()));var E=vb(a,function(M,$,H){var X=yt(c,function(ke){return ke(M)});return{criteria:X,index:++w,value:M}});return Dg(E,function(M,$){return WD(M,$,m)})}function ID(a,c){return xb(a,c,function(m,w){return Oy(a,w)})}function xb(a,c,m){for(var w=-1,E=c.length,M={};++w<E;){var $=c[w],H=ka(a,$);m(H,$)&&hf(M,il($,a),H)}return M}function PD(a){return function(c){return ka(c,a)}}function Yg(a,c,m,w){var E=w?Me:Qs,M=-1,$=c.length,H=a;for(a===c&&(c=eo(c)),m&&(H=yt(a,Or(m)));++M<$;)for(var X=0,ke=c[M],Oe=m?m(ke):ke;(X=E(H,Oe,X,w))>-1;)H!==a&&Ee.call(H,X,1),Ee.call(a,X,1);return a}function Ob(a,c){for(var m=a?c.length:0,w=m-1;m--;){var E=c[m];if(m==w||E!==M){var M=E;gs(E)?Ee.call(a,E,1):ty(a,E)}}return a}function Zg(a,c){return a+Wn(ob()*(c-a+1))}function $D(a,c,m,w){for(var E=-1,M=Xn(st((c-a)/(m||1)),0),$=ae(M);M--;)$[w?M:++E]=a,a+=m;return $}function Xg(a,c){var m="";if(!a||c<1||c>fe)return m;do c%2&&(m+=a),c=Wn(c/2),c&&(a+=a);while(c);return m}function At(a,c){return gy(ek(a,c,ro),a+"")}function FD(a){return lb(Pu(a))}function LD(a,c){var m=Pu(a);return Th(m,ba(c,0,m.length))}function hf(a,c,m,w){if(!Cn(a))return a;c=il(c,a);for(var E=-1,M=c.length,$=M-1,H=a;H!=null&&++E<M;){var X=Ii(c[E]),ke=m;if(X==="__proto__"||X==="constructor"||X==="prototype")return a;if(E!=$){var Oe=H[X];ke=w?w(Oe,X,H):n,ke===n&&(ke=Cn(Oe)?Oe:gs(c[E+1])?[]:{})}uf(H,X,ke),H=H[X]}return a}var Eb=ph?function(a,c){return ph.set(a,c),a}:ro,jD=It?function(a,c){return It(a,"toString",{configurable:!0,enumerable:!1,value:Cy(c),writable:!0})}:ro;function zD(a){return Th(Pu(a))}function Fo(a,c,m){var w=-1,E=a.length;c<0&&(c=-c>E?0:E+c),m=m>E?E:m,m<0&&(m+=E),E=c>m?0:m-c>>>0,c>>>=0;for(var M=ae(E);++w<E;)M[w]=a[w+c];return M}function BD(a,c){var m;return rl(a,function(w,E,M){return m=c(w,E,M),!m}),!!m}function wh(a,c,m){var w=0,E=a==null?w:a.length;if(typeof c=="number"&&c===c&&E<=C){for(;w<E;){var M=w+E>>>1,$=a[M];$!==null&&!vo($)&&(m?$<=c:$<c)?w=M+1:E=M}return E}return ey(a,c,ro,m)}function ey(a,c,m,w){var E=0,M=a==null?0:a.length;if(M===0)return 0;c=m(c);for(var $=c!==c,H=c===null,X=vo(c),ke=c===n;E<M;){var Oe=Wn((E+M)/2),Ae=m(a[Oe]),Ve=Ae!==n,tt=Ae===null,ut=Ae===Ae,Nt=vo(Ae);if($)var ct=w||ut;else ke?ct=ut&&(w||Ve):H?ct=ut&&Ve&&(w||!tt):X?ct=ut&&Ve&&!tt&&(w||!Nt):tt||Nt?ct=!1:ct=w?Ae<=c:Ae<c;ct?E=Oe+1:M=Oe}return Cr(M,xe)}function Cb(a,c){for(var m=-1,w=a.length,E=0,M=[];++m<w;){var $=a[m],H=c?c($):$;if(!m||!oi(H,X)){var X=H;M[E++]=$===0?0:$}}return M}function Nb(a){return typeof a=="number"?a:vo(a)?T:+a}function yo(a){if(typeof a=="string")return a;if(St(a))return yt(a,yo)+"";if(vo(a))return ib?ib.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}function ol(a,c,m){var w=-1,E=Yn,M=a.length,$=!0,H=[],X=H;if(m)$=!1,E=mo;else if(M>=o){var ke=c?null:ZD(a);if(ke)return Ou(ke);$=!1,E=dr,X=new Sa}else X=c?[]:H;e:for(;++w<M;){var Oe=a[w],Ae=c?c(Oe):Oe;if(Oe=m||Oe!==0?Oe:0,$&&Ae===Ae){for(var Ve=X.length;Ve--;)if(X[Ve]===Ae)continue e;c&&X.push(Ae),H.push(Oe)}else E(X,Ae,m)||(X!==H&&X.push(Ae),H.push(Oe))}return H}function ty(a,c){return c=il(c,a),a=tk(a,c),a==null||delete a[Ii(Lo(c))]}function Tb(a,c,m,w){return hf(a,c,m(ka(a,c)),w)}function Sh(a,c,m,w){for(var E=a.length,M=w?E:-1;(w?M--:++M<E)&&c(a[M],M,a););return m?Fo(a,w?0:M,w?M+1:E):Fo(a,w?M+1:0,w?E:M)}function Ab(a,c){var m=a;return m instanceof Pt&&(m=m.value()),hn(c,function(w,E){return E.func.apply(E.thisArg,En([w],E.args))},m)}function ny(a,c,m){var w=a.length;if(w<2)return w?ol(a[0]):[];for(var E=-1,M=ae(w);++E<w;)for(var $=a[E],H=-1;++H<w;)H!=E&&(M[E]=cf(M[E]||$,a[H],c,m));return ol(mr(M,1),c,m)}function Mb(a,c,m){for(var w=-1,E=a.length,M=c.length,$={};++w<E;){var H=w<M?c[w]:n;m($,a[w],H)}return $}function ry(a){return Ln(a)?a:[]}function oy(a){return typeof a=="function"?a:ro}function il(a,c){return St(a)?a:hy(a,c)?[a]:ik(en(a))}var UD=At;function sl(a,c,m){var w=a.length;return m=m===n?w:m,!c&&m>=w?a:Fo(a,c,m)}var _b=Ut||function(a){return ln.clearTimeout(a)};function Rb(a,c){if(c)return a.slice();var m=a.length,w=O?O(m):new a.constructor(m);return a.copy(w),w}function iy(a){var c=new a.constructor(a.byteLength);return new S(c).set(new S(a)),c}function VD(a,c){var m=c?iy(a.buffer):a.buffer;return new a.constructor(m,a.byteOffset,a.byteLength)}function HD(a){var c=new a.constructor(a.source,Ft.exec(a));return c.lastIndex=a.lastIndex,c}function qD(a){return af?Jt(af.call(a)):{}}function Db(a,c){var m=c?iy(a.buffer):a.buffer;return new a.constructor(m,a.byteOffset,a.length)}function Ib(a,c){if(a!==c){var m=a!==n,w=a===null,E=a===a,M=vo(a),$=c!==n,H=c===null,X=c===c,ke=vo(c);if(!H&&!ke&&!M&&a>c||M&&$&&X&&!H&&!ke||w&&$&&X||!m&&X||!E)return 1;if(!w&&!M&&!ke&&a<c||ke&&m&&E&&!w&&!M||H&&m&&E||!$&&E||!X)return-1}return 0}function WD(a,c,m){for(var w=-1,E=a.criteria,M=c.criteria,$=E.length,H=m.length;++w<$;){var X=Ib(E[w],M[w]);if(X){if(w>=H)return X;var ke=m[w];return X*(ke=="desc"?-1:1)}}return a.index-c.index}function Pb(a,c,m,w){for(var E=-1,M=a.length,$=m.length,H=-1,X=c.length,ke=Xn(M-$,0),Oe=ae(X+ke),Ae=!w;++H<X;)Oe[H]=c[H];for(;++E<$;)(Ae||E<M)&&(Oe[m[E]]=a[E]);for(;ke--;)Oe[H++]=a[E++];return Oe}function $b(a,c,m,w){for(var E=-1,M=a.length,$=-1,H=m.length,X=-1,ke=c.length,Oe=Xn(M-H,0),Ae=ae(Oe+ke),Ve=!w;++E<Oe;)Ae[E]=a[E];for(var tt=E;++X<ke;)Ae[tt+X]=c[X];for(;++$<H;)(Ve||E<M)&&(Ae[tt+m[$]]=a[E++]);return Ae}function eo(a,c){var m=-1,w=a.length;for(c||(c=ae(w));++m<w;)c[m]=a[m];return c}function Di(a,c,m,w){var E=!m;m||(m={});for(var M=-1,$=c.length;++M<$;){var H=c[M],X=w?w(m[H],a[H],H,m,a):n;X===n&&(X=a[H]),E?hs(m,H,X):uf(m,H,X)}return m}function KD(a,c){return Di(a,py(a),c)}function GD(a,c){return Di(a,Jb(a),c)}function bh(a,c){return function(m,w){var E=St(m)?nt:gD,M=c?c():{};return E(m,a,lt(w,2),M)}}function _u(a){return At(function(c,m){var w=-1,E=m.length,M=E>1?m[E-1]:n,$=E>2?m[2]:n;for(M=a.length>3&&typeof M=="function"?(E--,M):n,$&&zr(m[0],m[1],$)&&(M=E<3?n:M,E=1),c=Jt(c);++w<E;){var H=m[w];H&&a(c,H,w,M)}return c})}function Fb(a,c){return function(m,w){if(m==null)return m;if(!to(m))return a(m,w);for(var E=m.length,M=c?E:-1,$=Jt(m);(c?M--:++M<E)&&w($[M],M,$)!==!1;);return m}}function Lb(a){return function(c,m,w){for(var E=-1,M=Jt(c),$=w(c),H=$.length;H--;){var X=$[a?H:++E];if(m(M[X],X,M)===!1)break}return c}}function JD(a,c,m){var w=c&N,E=df(a);function M(){var $=this&&this!==ln&&this instanceof M?E:a;return $.apply(w?m:this,arguments)}return M}function jb(a){return function(c){c=en(c);var m=Zs(c)?Xr(c):n,w=m?m[0]:c.charAt(0),E=m?sl(m,1).join(""):c.slice(1);return w[a]()+E}}function Ru(a){return function(c){return hn(Fk($k(c).replace(Qc,"")),a,"")}}function df(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var m=Mu(a.prototype),w=a.apply(m,c);return Cn(w)?w:m}}function QD(a,c,m){var w=df(a);function E(){for(var M=arguments.length,$=ae(M),H=M,X=Du(E);H--;)$[H]=arguments[H];var ke=M<3&&$[0]!==X&&$[M-1]!==X?[]:ti($,X);if(M-=ke.length,M<m)return Hb(a,c,kh,E.placeholder,n,$,ke,n,n,m-M);var Oe=this&&this!==ln&&this instanceof E?w:a;return Re(Oe,this,$)}return E}function zb(a){return function(c,m,w){var E=Jt(c);if(!to(c)){var M=lt(m,3);c=sr(c),m=function(H){return M(E[H],H,E)}}var $=a(c,m,w);return $>-1?E[M?c[$]:$]:n}}function Bb(a){return ms(function(c){var m=c.length,w=m,E=Po.prototype.thru;for(a&&c.reverse();w--;){var M=c[w];if(typeof M!="function")throw new yn(s);if(E&&!$&&Ch(M)=="wrapper")var $=new Po([],!0)}for(w=$?w:m;++w<m;){M=c[w];var H=Ch(M),X=H=="wrapper"?cy(M):n;X&&dy(X[0])&&X[1]==(V|x|F|j)&&!X[4].length&&X[9]==1?$=$[Ch(X[0])].apply($,X[3]):$=M.length==1&&dy(M)?$[H]():$.thru(M)}return function(){var ke=arguments,Oe=ke[0];if($&&ke.length==1&&St(Oe))return $.plant(Oe).value();for(var Ae=0,Ve=m?c[Ae].apply(this,ke):Oe;++Ae<m;)Ve=c[Ae].call(this,Ve);return Ve}})}function kh(a,c,m,w,E,M,$,H,X,ke){var Oe=c&V,Ae=c&N,Ve=c&v,tt=c&(x|D),ut=c&te,Nt=Ve?n:df(a);function ct(){for(var Rt=arguments.length,zt=ae(Rt),wo=Rt;wo--;)zt[wo]=arguments[wo];if(tt)var Br=Du(ct),So=Ig(zt,Br);if(w&&(zt=Pb(zt,w,E,tt)),M&&(zt=$b(zt,M,$,tt)),Rt-=So,tt&&Rt<ke){var jn=ti(zt,Br);return Hb(a,c,kh,ct.placeholder,m,zt,jn,H,X,ke-Rt)}var ii=Ae?m:this,ws=Ve?ii[a]:a;return Rt=zt.length,H?zt=gI(zt,H):ut&&Rt>1&&zt.reverse(),Oe&&X<Rt&&(zt.length=X),this&&this!==ln&&this instanceof ct&&(ws=Nt||df(ws)),ws.apply(ii,zt)}return ct}function Ub(a,c){return function(m,w){return OD(m,a,c(w),{})}}function xh(a,c){return function(m,w){var E;if(m===n&&w===n)return c;if(m!==n&&(E=m),w!==n){if(E===n)return w;typeof m=="string"||typeof w=="string"?(m=yo(m),w=yo(w)):(m=Nb(m),w=Nb(w)),E=a(m,w)}return E}}function sy(a){return ms(function(c){return c=yt(c,Or(lt())),At(function(m){var w=this;return a(c,function(E){return Re(E,w,m)})})})}function Oh(a,c){c=c===n?" ":yo(c);var m=c.length;if(m<2)return m?Xg(c,a):c;var w=Xg(c,st(a/cs(c)));return Zs(c)?sl(Xr(w),0,a).join(""):w.slice(0,a)}function YD(a,c,m,w){var E=c&N,M=df(a);function $(){for(var H=-1,X=arguments.length,ke=-1,Oe=w.length,Ae=ae(Oe+X),Ve=this&&this!==ln&&this instanceof $?M:a;++ke<Oe;)Ae[ke]=w[ke];for(;X--;)Ae[ke++]=arguments[++H];return Re(Ve,E?m:this,Ae)}return $}function Vb(a){return function(c,m,w){return w&&typeof w!="number"&&zr(c,m,w)&&(m=w=n),c=vs(c),m===n?(m=c,c=0):m=vs(m),w=w===n?c<m?1:-1:vs(w),$D(c,m,w,a)}}function Eh(a){return function(c,m){return typeof c=="string"&&typeof m=="string"||(c=jo(c),m=jo(m)),a(c,m)}}function Hb(a,c,m,w,E,M,$,H,X,ke){var Oe=c&x,Ae=Oe?$:n,Ve=Oe?n:$,tt=Oe?M:n,ut=Oe?n:M;c|=Oe?F:I,c&=~(Oe?I:F),c&k||(c&=-4);var Nt=[a,c,E,tt,Ae,ut,Ve,H,X,ke],ct=m.apply(n,Nt);return dy(a)&&nk(ct,Nt),ct.placeholder=w,rk(ct,a,c)}function ly(a){var c=Sn[a];return function(m,w){if(m=jo(m),w=w==null?0:Cr(Et(w),292),w&&fh(m)){var E=(en(m)+"e").split("e"),M=c(E[0]+"e"+(+E[1]+w));return E=(en(M)+"e").split("e"),+(E[0]+"e"+(+E[1]-w))}return c(m)}}var ZD=Tu&&1/Ou(new Tu([,-0]))[1]==He?function(a){return new Tu(a)}:Ay;function qb(a){return function(c){var m=Nr(c);return m==ge?ga(c):m==Ke?sh(c):Xo(c,a(c))}}function ds(a,c,m,w,E,M,$,H){var X=c&v;if(!X&&typeof a!="function")throw new yn(s);var ke=w?w.length:0;if(ke||(c&=-97,w=E=n),$=$===n?$:Xn(Et($),0),H=H===n?H:Et(H),ke-=E?E.length:0,c&I){var Oe=w,Ae=E;w=E=n}var Ve=X?n:cy(a),tt=[a,c,m,w,E,Oe,Ae,M,$,H];if(Ve&&hI(tt,Ve),a=tt[0],c=tt[1],m=tt[2],w=tt[3],E=tt[4],H=tt[9]=tt[9]===n?X?0:a.length:Xn(tt[9]-ke,0),!H&&c&(x|D)&&(c&=-25),!c||c==N)var ut=JD(a,c,m);else c==x||c==D?ut=QD(a,c,H):(c==F||c==(N|F))&&!E.length?ut=YD(a,c,m,w):ut=kh.apply(n,tt);var Nt=Ve?Eb:nk;return rk(Nt(ut,tt),a,c)}function Wb(a,c,m,w){return a===n||oi(a,ni[m])&&!Kt.call(w,m)?c:a}function Kb(a,c,m,w,E,M){return Cn(a)&&Cn(c)&&(M.set(c,a),vh(a,c,n,Kb,M),M.delete(c)),a}function XD(a){return yf(a)?n:a}function Gb(a,c,m,w,E,M){var $=m&y,H=a.length,X=c.length;if(H!=X&&!($&&X>H))return!1;var ke=M.get(a),Oe=M.get(c);if(ke&&Oe)return ke==c&&Oe==a;var Ae=-1,Ve=!0,tt=m&b?new Sa:n;for(M.set(a,c),M.set(c,a);++Ae<H;){var ut=a[Ae],Nt=c[Ae];if(w)var ct=$?w(Nt,ut,Ae,c,a,M):w(ut,Nt,Ae,a,c,M);if(ct!==n){if(ct)continue;Ve=!1;break}if(tt){if(!ku(c,function(Rt,zt){if(!dr(tt,zt)&&(ut===Rt||E(ut,Rt,m,w,M)))return tt.push(zt)})){Ve=!1;break}}else if(!(ut===Nt||E(ut,Nt,m,w,M))){Ve=!1;break}}return M.delete(a),M.delete(c),Ve}function eI(a,c,m,w,E,M,$){switch(m){case be:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case ne:return!(a.byteLength!=c.byteLength||!M(new S(a),new S(c)));case oe:case ce:case he:return oi(+a,+c);case Pe:return a.name==c.name&&a.message==c.message;case $e:case kt:return a==c+"";case ge:var H=ga;case Ke:var X=w&y;if(H||(H=Ou),a.size!=c.size&&!X)return!1;var ke=$.get(a);if(ke)return ke==c;w|=b,$.set(a,c);var Oe=Gb(H(a),H(c),w,E,M,$);return $.delete(a),Oe;case Xe:if(af)return af.call(a)==af.call(c)}return!1}function tI(a,c,m,w,E,M){var $=m&y,H=ay(a),X=H.length,ke=ay(c),Oe=ke.length;if(X!=Oe&&!$)return!1;for(var Ae=X;Ae--;){var Ve=H[Ae];if(!($?Ve in c:Kt.call(c,Ve)))return!1}var tt=M.get(a),ut=M.get(c);if(tt&&ut)return tt==c&&ut==a;var Nt=!0;M.set(a,c),M.set(c,a);for(var ct=$;++Ae<X;){Ve=H[Ae];var Rt=a[Ve],zt=c[Ve];if(w)var wo=$?w(zt,Rt,Ve,c,a,M):w(Rt,zt,Ve,a,c,M);if(!(wo===n?Rt===zt||E(Rt,zt,m,w,M):wo)){Nt=!1;break}ct||(ct=Ve=="constructor")}if(Nt&&!ct){var Br=a.constructor,So=c.constructor;Br!=So&&"constructor"in a&&"constructor"in c&&!(typeof Br=="function"&&Br instanceof Br&&typeof So=="function"&&So instanceof So)&&(Nt=!1)}return M.delete(a),M.delete(c),Nt}function ms(a){return gy(ek(a,n,uk),a+"")}function ay(a){return db(a,sr,py)}function uy(a){return db(a,no,Jb)}var cy=ph?function(a){return ph.get(a)}:Ay;function Ch(a){for(var c=a.name+"",m=Au[c],w=Kt.call(Au,c)?m.length:0;w--;){var E=m[w],M=E.func;if(M==null||M==a)return E.name}return c}function Du(a){var c=Kt.call(A,"placeholder")?A:a;return c.placeholder}function lt(){var a=A.iteratee||Ny;return a=a===Ny?yb:a,arguments.length?a(arguments[0],arguments[1]):a}function Nh(a,c){var m=a.__data__;return uI(c)?m[typeof c=="string"?"string":"hash"]:m.map}function fy(a){for(var c=sr(a),m=c.length;m--;){var w=c[m],E=a[w];c[m]=[w,E,Zb(E)]}return c}function xa(a,c){var m=rh(a,c);return gb(m)?m:n}function nI(a){var c=Kt.call(a,Qt),m=a[Qt];try{a[Qt]=n;var w=!0}catch{}var E=Mi.call(a);return w&&(c?a[Qt]=m:delete a[Qt]),E}var py=ir?function(a){return a==null?[]:(a=Jt(a),xt(ir(a),function(c){return ue.call(a,c)}))}:My,Jb=ir?function(a){for(var c=[];a;)En(c,py(a)),a=R(a);return c}:My,Nr=jr;(zg&&Nr(new zg(new ArrayBuffer(1)))!=be||of&&Nr(new of)!=ge||Bg&&Nr(Bg.resolve())!=ye||Tu&&Nr(new Tu)!=Ke||sf&&Nr(new sf)!=Z)&&(Nr=function(a){var c=jr(a),m=c==Ze?a.constructor:n,w=m?Oa(m):"";if(w)switch(w){case LR:return be;case jR:return ge;case zR:return ye;case BR:return Ke;case UR:return Z}return c});function rI(a,c,m){for(var w=-1,E=m.length;++w<E;){var M=m[w],$=M.size;switch(M.type){case"drop":a+=$;break;case"dropRight":c-=$;break;case"take":c=Cr(c,a+$);break;case"takeRight":a=Xn(a,c-$);break}}return{start:a,end:c}}function oI(a){var c=a.match(na);return c?c[1].split(ou):[]}function Qb(a,c,m){c=il(c,a);for(var w=-1,E=c.length,M=!1;++w<E;){var $=Ii(c[w]);if(!(M=a!=null&&m(a,$)))break;a=a[$]}return M||++w!=E?M:(E=a==null?0:a.length,!!E&&Ih(E)&&gs($,E)&&(St(a)||Ea(a)))}function iI(a){var c=a.length,m=new a.constructor(c);return c&&typeof a[0]=="string"&&Kt.call(a,"index")&&(m.index=a.index,m.input=a.input),m}function Yb(a){return typeof a.constructor=="function"&&!mf(a)?Mu(R(a)):{}}function sI(a,c,m){var w=a.constructor;switch(c){case ne:return iy(a);case oe:case ce:return new w(+a);case be:return VD(a,m);case Fe:case Le:case et:case pt:case gt:case nn:case kn:case rn:case Bn:return Db(a,m);case ge:return new w;case he:case kt:return new w(a);case $e:return HD(a);case Ke:return new w;case Xe:return qD(a)}}function lI(a,c){var m=c.length;if(!m)return a;var w=m-1;return c[w]=(m>1?"& ":"")+c[w],c=c.join(m>2?", ":" "),a.replace(rs,`{
/* [wrapped with `+c+`] */
`)}function aI(a){return St(a)||Ea(a)||!!(qe&&a&&a[qe])}function gs(a,c){var m=typeof a;return c=c??fe,!!c&&(m=="number"||m!="symbol"&&on.test(a))&&a>-1&&a%1==0&&a<c}function zr(a,c,m){if(!Cn(m))return!1;var w=typeof c;return(w=="number"?to(m)&&gs(c,m.length):w=="string"&&c in m)?oi(m[c],a):!1}function hy(a,c){if(St(a))return!1;var m=typeof a;return m=="number"||m=="symbol"||m=="boolean"||a==null||vo(a)?!0:js.test(a)||!Ls.test(a)||c!=null&&a in Jt(c)}function uI(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function dy(a){var c=Ch(a),m=A[c];if(typeof m!="function"||!(c in Pt.prototype))return!1;if(a===m)return!0;var w=cy(m);return!!w&&a===w[0]}function cI(a){return!!rf&&rf in a}var fI=Cu?ys:_y;function mf(a){var c=a&&a.constructor,m=typeof c=="function"&&c.prototype||ni;return a===m}function Zb(a){return a===a&&!Cn(a)}function Xb(a,c){return function(m){return m==null?!1:m[a]===c&&(c!==n||a in Jt(m))}}function pI(a){var c=Rh(a,function(w){return m.size===f&&m.clear(),w}),m=c.cache;return c}function hI(a,c){var m=a[1],w=c[1],E=m|w,M=E<(N|v|V),$=w==V&&m==x||w==V&&m==j&&a[7].length<=c[8]||w==(V|j)&&c[7].length<=c[8]&&m==x;if(!(M||$))return a;w&N&&(a[2]=c[2],E|=m&N?0:k);var H=c[3];if(H){var X=a[3];a[3]=X?Pb(X,H,c[4]):H,a[4]=X?ti(a[3],p):c[4]}return H=c[5],H&&(X=a[5],a[5]=X?$b(X,H,c[6]):H,a[6]=X?ti(a[5],p):c[6]),H=c[7],H&&(a[7]=H),w&V&&(a[8]=a[8]==null?c[8]:Cr(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=E,a}function dI(a){var c=[];if(a!=null)for(var m in Jt(a))c.push(m);return c}function mI(a){return Mi.call(a)}function ek(a,c,m){return c=Xn(c===n?a.length-1:c,0),function(){for(var w=arguments,E=-1,M=Xn(w.length-c,0),$=ae(M);++E<M;)$[E]=w[c+E];E=-1;for(var H=ae(c+1);++E<c;)H[E]=w[E];return H[c]=m($),Re(a,this,H)}}function tk(a,c){return c.length<2?a:ka(a,Fo(c,0,-1))}function gI(a,c){for(var m=a.length,w=Cr(c.length,m),E=eo(a);w--;){var M=c[w];a[w]=gs(M,m)?E[M]:n}return a}function my(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var nk=ok(Eb),gf=Je||function(a,c){return ln.setTimeout(a,c)},gy=ok(jD);function rk(a,c,m){var w=c+"";return gy(a,lI(w,yI(oI(w),m)))}function ok(a){var c=0,m=0;return function(){var w=PR(),E=W-(w-m);if(m=w,E>0){if(++c>=me)return arguments[0]}else c=0;return a.apply(n,arguments)}}function Th(a,c){var m=-1,w=a.length,E=w-1;for(c=c===n?w:c;++m<c;){var M=Zg(m,E),$=a[M];a[M]=a[m],a[m]=$}return a.length=c,a}var ik=pI(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(ea,function(m,w,E,M){c.push(E?M.replace(Ue,"$1"):w||m)}),c});function Ii(a){if(typeof a=="string"||vo(a))return a;var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}function Oa(a){if(a!=null){try{return tl.call(a)}catch{}try{return a+""}catch{}}return""}function yI(a,c){return ze(_,function(m){var w="_."+m[0];c&m[1]&&!Yn(a,w)&&a.push(w)}),a.sort()}function sk(a){if(a instanceof Pt)return a.clone();var c=new Po(a.__wrapped__,a.__chain__);return c.__actions__=eo(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function vI(a,c,m){(m?zr(a,c,m):c===n)?c=1:c=Xn(Et(c),0);var w=a==null?0:a.length;if(!w||c<1)return[];for(var E=0,M=0,$=ae(st(w/c));E<w;)$[M++]=Fo(a,E,E+=c);return $}function wI(a){for(var c=-1,m=a==null?0:a.length,w=0,E=[];++c<m;){var M=a[c];M&&(E[w++]=M)}return E}function SI(){var a=arguments.length;if(!a)return[];for(var c=ae(a-1),m=arguments[0],w=a;w--;)c[w-1]=arguments[w];return En(St(m)?eo(m):[m],mr(c,1))}var bI=At(function(a,c){return Ln(a)?cf(a,mr(c,1,Ln,!0)):[]}),kI=At(function(a,c){var m=Lo(c);return Ln(m)&&(m=n),Ln(a)?cf(a,mr(c,1,Ln,!0),lt(m,2)):[]}),xI=At(function(a,c){var m=Lo(c);return Ln(m)&&(m=n),Ln(a)?cf(a,mr(c,1,Ln,!0),n,m):[]});function OI(a,c,m){var w=a==null?0:a.length;return w?(c=m||c===n?1:Et(c),Fo(a,c<0?0:c,w)):[]}function EI(a,c,m){var w=a==null?0:a.length;return w?(c=m||c===n?1:Et(c),c=w-c,Fo(a,0,c<0?0:c)):[]}function CI(a,c){return a&&a.length?Sh(a,lt(c,3),!0,!0):[]}function NI(a,c){return a&&a.length?Sh(a,lt(c,3),!0):[]}function TI(a,c,m,w){var E=a==null?0:a.length;return E?(m&&typeof m!="number"&&zr(a,c,m)&&(m=0,w=E),SD(a,c,m,w)):[]}function lk(a,c,m){var w=a==null?0:a.length;if(!w)return-1;var E=m==null?0:Et(m);return E<0&&(E=Xn(w+E,0)),Zr(a,lt(c,3),E)}function ak(a,c,m){var w=a==null?0:a.length;if(!w)return-1;var E=w-1;return m!==n&&(E=Et(m),E=m<0?Xn(w+E,0):Cr(E,w-1)),Zr(a,lt(c,3),E,!0)}function uk(a){var c=a==null?0:a.length;return c?mr(a,1):[]}function AI(a){var c=a==null?0:a.length;return c?mr(a,He):[]}function MI(a,c){var m=a==null?0:a.length;return m?(c=c===n?1:Et(c),mr(a,c)):[]}function _I(a){for(var c=-1,m=a==null?0:a.length,w={};++c<m;){var E=a[c];w[E[0]]=E[1]}return w}function ck(a){return a&&a.length?a[0]:n}function RI(a,c,m){var w=a==null?0:a.length;if(!w)return-1;var E=m==null?0:Et(m);return E<0&&(E=Xn(w+E,0)),Qs(a,c,E)}function DI(a){var c=a==null?0:a.length;return c?Fo(a,0,-1):[]}var II=At(function(a){var c=yt(a,ry);return c.length&&c[0]===a[0]?Kg(c):[]}),PI=At(function(a){var c=Lo(a),m=yt(a,ry);return c===Lo(m)?c=n:m.pop(),m.length&&m[0]===a[0]?Kg(m,lt(c,2)):[]}),$I=At(function(a){var c=Lo(a),m=yt(a,ry);return c=typeof c=="function"?c:n,c&&m.pop(),m.length&&m[0]===a[0]?Kg(m,n,c):[]});function FI(a,c){return a==null?"":DR.call(a,c)}function Lo(a){var c=a==null?0:a.length;return c?a[c-1]:n}function LI(a,c,m){var w=a==null?0:a.length;if(!w)return-1;var E=w;return m!==n&&(E=Et(m),E=E<0?Xn(w+E,0):Cr(E,w-1)),c===c?Pg(a,c,E):Zr(a,Hn,E,!0)}function jI(a,c){return a&&a.length?bb(a,Et(c)):n}var zI=At(fk);function fk(a,c){return a&&a.length&&c&&c.length?Yg(a,c):a}function BI(a,c,m){return a&&a.length&&c&&c.length?Yg(a,c,lt(m,2)):a}function UI(a,c,m){return a&&a.length&&c&&c.length?Yg(a,c,n,m):a}var VI=ms(function(a,c){var m=a==null?0:a.length,w=Vg(a,c);return Ob(a,yt(c,function(E){return gs(E,m)?+E:E}).sort(Ib)),w});function HI(a,c){var m=[];if(!(a&&a.length))return m;var w=-1,E=[],M=a.length;for(c=lt(c,3);++w<M;){var $=a[w];c($,w,a)&&(m.push($),E.push(w))}return Ob(a,E),m}function yy(a){return a==null?a:FR.call(a)}function qI(a,c,m){var w=a==null?0:a.length;return w?(m&&typeof m!="number"&&zr(a,c,m)?(c=0,m=w):(c=c==null?0:Et(c),m=m===n?w:Et(m)),Fo(a,c,m)):[]}function WI(a,c){return wh(a,c)}function KI(a,c,m){return ey(a,c,lt(m,2))}function GI(a,c){var m=a==null?0:a.length;if(m){var w=wh(a,c);if(w<m&&oi(a[w],c))return w}return-1}function JI(a,c){return wh(a,c,!0)}function QI(a,c,m){return ey(a,c,lt(m,2),!0)}function YI(a,c){var m=a==null?0:a.length;if(m){var w=wh(a,c,!0)-1;if(oi(a[w],c))return w}return-1}function ZI(a){return a&&a.length?Cb(a):[]}function XI(a,c){return a&&a.length?Cb(a,lt(c,2)):[]}function eP(a){var c=a==null?0:a.length;return c?Fo(a,1,c):[]}function tP(a,c,m){return a&&a.length?(c=m||c===n?1:Et(c),Fo(a,0,c<0?0:c)):[]}function nP(a,c,m){var w=a==null?0:a.length;return w?(c=m||c===n?1:Et(c),c=w-c,Fo(a,c<0?0:c,w)):[]}function rP(a,c){return a&&a.length?Sh(a,lt(c,3),!1,!0):[]}function oP(a,c){return a&&a.length?Sh(a,lt(c,3)):[]}var iP=At(function(a){return ol(mr(a,1,Ln,!0))}),sP=At(function(a){var c=Lo(a);return Ln(c)&&(c=n),ol(mr(a,1,Ln,!0),lt(c,2))}),lP=At(function(a){var c=Lo(a);return c=typeof c=="function"?c:n,ol(mr(a,1,Ln,!0),n,c)});function aP(a){return a&&a.length?ol(a):[]}function uP(a,c){return a&&a.length?ol(a,lt(c,2)):[]}function cP(a,c){return c=typeof c=="function"?c:n,a&&a.length?ol(a,n,c):[]}function vy(a){if(!(a&&a.length))return[];var c=0;return a=xt(a,function(m){if(Ln(m))return c=Xn(m.length,c),!0}),tf(c,function(m){return yt(a,an(m))})}function pk(a,c){if(!(a&&a.length))return[];var m=vy(a);return c==null?m:yt(m,function(w){return Re(c,n,w)})}var fP=At(function(a,c){return Ln(a)?cf(a,c):[]}),pP=At(function(a){return ny(xt(a,Ln))}),hP=At(function(a){var c=Lo(a);return Ln(c)&&(c=n),ny(xt(a,Ln),lt(c,2))}),dP=At(function(a){var c=Lo(a);return c=typeof c=="function"?c:n,ny(xt(a,Ln),n,c)}),mP=At(vy);function gP(a,c){return Mb(a||[],c||[],uf)}function yP(a,c){return Mb(a||[],c||[],hf)}var vP=At(function(a){var c=a.length,m=c>1?a[c-1]:n;return m=typeof m=="function"?(a.pop(),m):n,pk(a,m)});function hk(a){var c=A(a);return c.__chain__=!0,c}function wP(a,c){return c(a),a}function Ah(a,c){return c(a)}var SP=ms(function(a){var c=a.length,m=c?a[0]:0,w=this.__wrapped__,E=function(M){return Vg(M,a)};return c>1||this.__actions__.length||!(w instanceof Pt)||!gs(m)?this.thru(E):(w=w.slice(m,+m+(c?1:0)),w.__actions__.push({func:Ah,args:[E],thisArg:n}),new Po(w,this.__chain__).thru(function(M){return c&&!M.length&&M.push(n),M}))});function bP(){return hk(this)}function kP(){return new Po(this.value(),this.__chain__)}function xP(){this.__values__===n&&(this.__values__=Nk(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function OP(){return this}function EP(a){for(var c,m=this;m instanceof dh;){var w=sk(m);w.__index__=0,w.__values__=n,c?E.__wrapped__=w:c=w;var E=w;m=m.__wrapped__}return E.__wrapped__=a,c}function CP(){var a=this.__wrapped__;if(a instanceof Pt){var c=a;return this.__actions__.length&&(c=new Pt(this)),c=c.reverse(),c.__actions__.push({func:Ah,args:[yy],thisArg:n}),new Po(c,this.__chain__)}return this.thru(yy)}function NP(){return Ab(this.__wrapped__,this.__actions__)}var TP=bh(function(a,c,m){Kt.call(a,m)?++a[m]:hs(a,m,1)});function AP(a,c,m){var w=St(a)?bt:wD;return m&&zr(a,c,m)&&(c=n),w(a,lt(c,3))}function MP(a,c){var m=St(a)?xt:pb;return m(a,lt(c,3))}var _P=zb(lk),RP=zb(ak);function DP(a,c){return mr(Mh(a,c),1)}function IP(a,c){return mr(Mh(a,c),He)}function PP(a,c,m){return m=m===n?1:Et(m),mr(Mh(a,c),m)}function dk(a,c){var m=St(a)?ze:rl;return m(a,lt(c,3))}function mk(a,c){var m=St(a)?it:fb;return m(a,lt(c,3))}var $P=bh(function(a,c,m){Kt.call(a,m)?a[m].push(c):hs(a,m,[c])});function FP(a,c,m,w){a=to(a)?a:Pu(a),m=m&&!w?Et(m):0;var E=a.length;return m<0&&(m=Xn(E+m,0)),Ph(a)?m<=E&&a.indexOf(c,m)>-1:!!E&&Qs(a,c,m)>-1}var LP=At(function(a,c,m){var w=-1,E=typeof c=="function",M=to(a)?ae(a.length):[];return rl(a,function($){M[++w]=E?Re(c,$,m):ff($,c,m)}),M}),jP=bh(function(a,c,m){hs(a,m,c)});function Mh(a,c){var m=St(a)?yt:vb;return m(a,lt(c,3))}function zP(a,c,m,w){return a==null?[]:(St(c)||(c=c==null?[]:[c]),m=w?n:m,St(m)||(m=m==null?[]:[m]),kb(a,c,m))}var BP=bh(function(a,c,m){a[m?0:1].push(c)},function(){return[[],[]]});function UP(a,c,m){var w=St(a)?hn:Xc,E=arguments.length<3;return w(a,lt(c,4),m,E,rl)}function VP(a,c,m){var w=St(a)?Js:Xc,E=arguments.length<3;return w(a,lt(c,4),m,E,fb)}function HP(a,c){var m=St(a)?xt:pb;return m(a,Dh(lt(c,3)))}function qP(a){var c=St(a)?lb:FD;return c(a)}function WP(a,c,m){(m?zr(a,c,m):c===n)?c=1:c=Et(c);var w=St(a)?dD:LD;return w(a,c)}function KP(a){var c=St(a)?mD:zD;return c(a)}function GP(a){if(a==null)return 0;if(to(a))return Ph(a)?cs(a):a.length;var c=Nr(a);return c==ge||c==Ke?a.size:Jg(a).length}function JP(a,c,m){var w=St(a)?ku:BD;return m&&zr(a,c,m)&&(c=n),w(a,lt(c,3))}var QP=At(function(a,c){if(a==null)return[];var m=c.length;return m>1&&zr(a,c[0],c[1])?c=[]:m>2&&zr(c[0],c[1],c[2])&&(c=[c[0]]),kb(a,mr(c,1),[])}),_h=Er||function(){return ln.Date.now()};function YP(a,c){if(typeof c!="function")throw new yn(s);return a=Et(a),function(){if(--a<1)return c.apply(this,arguments)}}function gk(a,c,m){return c=m?n:c,c=a&&c==null?a.length:c,ds(a,V,n,n,n,n,c)}function yk(a,c){var m;if(typeof c!="function")throw new yn(s);return a=Et(a),function(){return--a>0&&(m=c.apply(this,arguments)),a<=1&&(c=n),m}}var wy=At(function(a,c,m){var w=N;if(m.length){var E=ti(m,Du(wy));w|=F}return ds(a,w,c,m,E)}),vk=At(function(a,c,m){var w=N|v;if(m.length){var E=ti(m,Du(vk));w|=F}return ds(c,w,a,m,E)});function wk(a,c,m){c=m?n:c;var w=ds(a,x,n,n,n,n,n,c);return w.placeholder=wk.placeholder,w}function Sk(a,c,m){c=m?n:c;var w=ds(a,D,n,n,n,n,n,c);return w.placeholder=Sk.placeholder,w}function bk(a,c,m){var w,E,M,$,H,X,ke=0,Oe=!1,Ae=!1,Ve=!0;if(typeof a!="function")throw new yn(s);c=jo(c)||0,Cn(m)&&(Oe=!!m.leading,Ae="maxWait"in m,M=Ae?Xn(jo(m.maxWait)||0,c):M,Ve="trailing"in m?!!m.trailing:Ve);function tt(jn){var ii=w,ws=E;return w=E=n,ke=jn,$=a.apply(ws,ii),$}function ut(jn){return ke=jn,H=gf(Rt,c),Oe?tt(jn):$}function Nt(jn){var ii=jn-X,ws=jn-ke,zk=c-ii;return Ae?Cr(zk,M-ws):zk}function ct(jn){var ii=jn-X,ws=jn-ke;return X===n||ii>=c||ii<0||Ae&&ws>=M}function Rt(){var jn=_h();if(ct(jn))return zt(jn);H=gf(Rt,Nt(jn))}function zt(jn){return H=n,Ve&&w?tt(jn):(w=E=n,$)}function wo(){H!==n&&_b(H),ke=0,w=X=E=H=n}function Br(){return H===n?$:zt(_h())}function So(){var jn=_h(),ii=ct(jn);if(w=arguments,E=this,X=jn,ii){if(H===n)return ut(X);if(Ae)return _b(H),H=gf(Rt,c),tt(X)}return H===n&&(H=gf(Rt,c)),$}return So.cancel=wo,So.flush=Br,So}var ZP=At(function(a,c){return cb(a,1,c)}),XP=At(function(a,c,m){return cb(a,jo(c)||0,m)});function e3(a){return ds(a,te)}function Rh(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new yn(s);var m=function(){var w=arguments,E=c?c.apply(this,w):w[0],M=m.cache;if(M.has(E))return M.get(E);var $=a.apply(this,w);return m.cache=M.set(E,$)||M,$};return m.cache=new(Rh.Cache||ps),m}Rh.Cache=ps;function Dh(a){if(typeof a!="function")throw new yn(s);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function t3(a){return yk(2,a)}var n3=UD(function(a,c){c=c.length==1&&St(c[0])?yt(c[0],Or(lt())):yt(mr(c,1),Or(lt()));var m=c.length;return At(function(w){for(var E=-1,M=Cr(w.length,m);++E<M;)w[E]=c[E].call(this,w[E]);return Re(a,this,w)})}),Sy=At(function(a,c){var m=ti(c,Du(Sy));return ds(a,F,n,c,m)}),kk=At(function(a,c){var m=ti(c,Du(kk));return ds(a,I,n,c,m)}),r3=ms(function(a,c){return ds(a,j,n,n,n,c)});function o3(a,c){if(typeof a!="function")throw new yn(s);return c=c===n?c:Et(c),At(a,c)}function i3(a,c){if(typeof a!="function")throw new yn(s);return c=c==null?0:Xn(Et(c),0),At(function(m){var w=m[c],E=sl(m,0,c);return w&&En(E,w),Re(a,this,E)})}function s3(a,c,m){var w=!0,E=!0;if(typeof a!="function")throw new yn(s);return Cn(m)&&(w="leading"in m?!!m.leading:w,E="trailing"in m?!!m.trailing:E),bk(a,c,{leading:w,maxWait:c,trailing:E})}function l3(a){return gk(a,1)}function a3(a,c){return Sy(oy(c),a)}function u3(){if(!arguments.length)return[];var a=arguments[0];return St(a)?a:[a]}function c3(a){return $o(a,g)}function f3(a,c){return c=typeof c=="function"?c:n,$o(a,g,c)}function p3(a){return $o(a,h|g)}function h3(a,c){return c=typeof c=="function"?c:n,$o(a,h|g,c)}function d3(a,c){return c==null||ub(a,c,sr(c))}function oi(a,c){return a===c||a!==a&&c!==c}var m3=Eh(Wg),g3=Eh(function(a,c){return a>=c}),Ea=mb(function(){return arguments}())?mb:function(a){return Rn(a)&&Kt.call(a,"callee")&&!ue.call(a,"callee")},St=ae.isArray,y3=as?Or(as):ED;function to(a){return a!=null&&Ih(a.length)&&!ys(a)}function Ln(a){return Rn(a)&&to(a)}function v3(a){return a===!0||a===!1||Rn(a)&&jr(a)==oe}var ll=jg||_y,w3=Ai?Or(Ai):CD;function S3(a){return Rn(a)&&a.nodeType===1&&!yf(a)}function b3(a){if(a==null)return!0;if(to(a)&&(St(a)||typeof a=="string"||typeof a.splice=="function"||ll(a)||Iu(a)||Ea(a)))return!a.length;var c=Nr(a);if(c==ge||c==Ke)return!a.size;if(mf(a))return!Jg(a).length;for(var m in a)if(Kt.call(a,m))return!1;return!0}function k3(a,c){return pf(a,c)}function x3(a,c,m){m=typeof m=="function"?m:n;var w=m?m(a,c):n;return w===n?pf(a,c,n,m):!!w}function by(a){if(!Rn(a))return!1;var c=jr(a);return c==Pe||c==Ce||typeof a.message=="string"&&typeof a.name=="string"&&!yf(a)}function O3(a){return typeof a=="number"&&fh(a)}function ys(a){if(!Cn(a))return!1;var c=jr(a);return c==ie||c==Y||c==pe||c==ee}function xk(a){return typeof a=="number"&&a==Et(a)}function Ih(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=fe}function Cn(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function Rn(a){return a!=null&&typeof a=="object"}var Ok=de?Or(de):TD;function E3(a,c){return a===c||Gg(a,c,fy(c))}function C3(a,c,m){return m=typeof m=="function"?m:n,Gg(a,c,fy(c),m)}function N3(a){return Ek(a)&&a!=+a}function T3(a){if(fI(a))throw new ht(i);return gb(a)}function A3(a){return a===null}function M3(a){return a==null}function Ek(a){return typeof a=="number"||Rn(a)&&jr(a)==he}function yf(a){if(!Rn(a)||jr(a)!=Ze)return!1;var c=R(a);if(c===null)return!0;var m=Kt.call(c,"constructor")&&c.constructor;return typeof m=="function"&&m instanceof m&&tl.call(m)==uh}var ky=Te?Or(Te):AD;function _3(a){return xk(a)&&a>=-9007199254740991&&a<=fe}var Ck=Io?Or(Io):MD;function Ph(a){return typeof a=="string"||!St(a)&&Rn(a)&&jr(a)==kt}function vo(a){return typeof a=="symbol"||Rn(a)&&jr(a)==Xe}var Iu=eh?Or(eh):_D;function R3(a){return a===n}function D3(a){return Rn(a)&&Nr(a)==Z}function I3(a){return Rn(a)&&jr(a)==B}var P3=Eh(Qg),$3=Eh(function(a,c){return a<=c});function Nk(a){if(!a)return[];if(to(a))return Ph(a)?Xr(a):eo(a);if(Ot&&a[Ot])return oh(a[Ot]());var c=Nr(a),m=c==ge?ga:c==Ke?Ou:Pu;return m(a)}function vs(a){if(!a)return a===0?a:0;if(a=jo(a),a===He||a===-1/0){var c=a<0?-1:1;return c*J}return a===a?a:0}function Et(a){var c=vs(a),m=c%1;return c===c?m?c-m:c:0}function Tk(a){return a?ba(Et(a),0,le):0}function jo(a){if(typeof a=="number")return a;if(vo(a))return T;if(Cn(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=Cn(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=th(a);var m=Tt.test(a);return m||xn.test(a)?Vn(a.slice(2),m?2:8):Bt.test(a)?T:+a}function Ak(a){return Di(a,no(a))}function F3(a){return a?ba(Et(a),-9007199254740991,fe):a===0?a:0}function en(a){return a==null?"":yo(a)}var L3=_u(function(a,c){if(mf(c)||to(c)){Di(c,sr(c),a);return}for(var m in c)Kt.call(c,m)&&uf(a,m,c[m])}),Mk=_u(function(a,c){Di(c,no(c),a)}),$h=_u(function(a,c,m,w){Di(c,no(c),a,w)}),j3=_u(function(a,c,m,w){Di(c,sr(c),a,w)}),z3=ms(Vg);function B3(a,c){var m=Mu(a);return c==null?m:ab(m,c)}var U3=At(function(a,c){a=Jt(a);var m=-1,w=c.length,E=w>2?c[2]:n;for(E&&zr(c[0],c[1],E)&&(w=1);++m<w;)for(var M=c[m],$=no(M),H=-1,X=$.length;++H<X;){var ke=$[H],Oe=a[ke];(Oe===n||oi(Oe,ni[ke])&&!Kt.call(a,ke))&&(a[ke]=M[ke])}return a}),V3=At(function(a){return a.push(n,Kb),Re(_k,n,a)});function H3(a,c){return xu(a,lt(c,3),Ri)}function q3(a,c){return xu(a,lt(c,3),qg)}function W3(a,c){return a==null?a:Hg(a,lt(c,3),no)}function K3(a,c){return a==null?a:hb(a,lt(c,3),no)}function G3(a,c){return a&&Ri(a,lt(c,3))}function J3(a,c){return a&&qg(a,lt(c,3))}function Q3(a){return a==null?[]:yh(a,sr(a))}function Y3(a){return a==null?[]:yh(a,no(a))}function xy(a,c,m){var w=a==null?n:ka(a,c);return w===n?m:w}function Z3(a,c){return a!=null&&Qb(a,c,bD)}function Oy(a,c){return a!=null&&Qb(a,c,kD)}var X3=Ub(function(a,c,m){c!=null&&typeof c.toString!="function"&&(c=Mi.call(c)),a[c]=m},Cy(ro)),e8=Ub(function(a,c,m){c!=null&&typeof c.toString!="function"&&(c=Mi.call(c)),Kt.call(a,c)?a[c].push(m):a[c]=[m]},lt),t8=At(ff);function sr(a){return to(a)?sb(a):Jg(a)}function no(a){return to(a)?sb(a,!0):RD(a)}function n8(a,c){var m={};return c=lt(c,3),Ri(a,function(w,E,M){hs(m,c(w,E,M),w)}),m}function r8(a,c){var m={};return c=lt(c,3),Ri(a,function(w,E,M){hs(m,E,c(w,E,M))}),m}var o8=_u(function(a,c,m){vh(a,c,m)}),_k=_u(function(a,c,m,w){vh(a,c,m,w)}),i8=ms(function(a,c){var m={};if(a==null)return m;var w=!1;c=yt(c,function(M){return M=il(M,a),w||(w=M.length>1),M}),Di(a,uy(a),m),w&&(m=$o(m,h|d|g,XD));for(var E=c.length;E--;)ty(m,c[E]);return m});function s8(a,c){return Rk(a,Dh(lt(c)))}var l8=ms(function(a,c){return a==null?{}:ID(a,c)});function Rk(a,c){if(a==null)return{};var m=yt(uy(a),function(w){return[w]});return c=lt(c),xb(a,m,function(w,E){return c(w,E[0])})}function a8(a,c,m){c=il(c,a);var w=-1,E=c.length;for(E||(E=1,a=n);++w<E;){var M=a==null?n:a[Ii(c[w])];M===n&&(w=E,M=m),a=ys(M)?M.call(a):M}return a}function u8(a,c,m){return a==null?a:hf(a,c,m)}function c8(a,c,m,w){return w=typeof w=="function"?w:n,a==null?a:hf(a,c,m,w)}var Dk=qb(sr),Ik=qb(no);function f8(a,c,m){var w=St(a),E=w||ll(a)||Iu(a);if(c=lt(c,4),m==null){var M=a&&a.constructor;E?m=w?new M:[]:Cn(a)?m=ys(M)?Mu(R(a)):{}:m={}}return(E?ze:Ri)(a,function($,H,X){return c(m,$,H,X)}),m}function p8(a,c){return a==null?!0:ty(a,c)}function h8(a,c,m){return a==null?a:Tb(a,c,oy(m))}function d8(a,c,m,w){return w=typeof w=="function"?w:n,a==null?a:Tb(a,c,oy(m),w)}function Pu(a){return a==null?[]:ma(a,sr(a))}function m8(a){return a==null?[]:ma(a,no(a))}function g8(a,c,m){return m===n&&(m=c,c=n),m!==n&&(m=jo(m),m=m===m?m:0),c!==n&&(c=jo(c),c=c===c?c:0),ba(jo(a),c,m)}function y8(a,c,m){return c=vs(c),m===n?(m=c,c=0):m=vs(m),a=jo(a),xD(a,c,m)}function v8(a,c,m){if(m&&typeof m!="boolean"&&zr(a,c,m)&&(c=m=n),m===n&&(typeof c=="boolean"?(m=c,c=n):typeof a=="boolean"&&(m=a,a=n)),a===n&&c===n?(a=0,c=1):(a=vs(a),c===n?(c=a,a=0):c=vs(c)),a>c){var w=a;a=c,c=w}if(m||a%1||c%1){var E=ob();return Cr(a+E*(c-a+pa("1e-"+((E+"").length-1))),c)}return Zg(a,c)}var w8=Ru(function(a,c,m){return c=c.toLowerCase(),a+(m?Pk(c):c)});function Pk(a){return Ey(en(a).toLowerCase())}function $k(a){return a=en(a),a&&a.replace(cn,nf).replace(Yc,"")}function S8(a,c,m){a=en(a),c=yo(c);var w=a.length;m=m===n?w:ba(Et(m),0,w);var E=m;return m-=c.length,m>=0&&a.slice(m,E)==c}function b8(a){return a=en(a),a&&Si.test(a)?a.replace(Zo,Lr):a}function k8(a){return a=en(a),a&&zs.test(a)?a.replace(ki,"\\$&"):a}var x8=Ru(function(a,c,m){return a+(m?"-":"")+c.toLowerCase()}),O8=Ru(function(a,c,m){return a+(m?" ":"")+c.toLowerCase()}),E8=jb("toLowerCase");function C8(a,c,m){a=en(a),c=Et(c);var w=c?cs(a):0;if(!c||w>=c)return a;var E=(c-w)/2;return Oh(Wn(E),m)+a+Oh(st(E),m)}function N8(a,c,m){a=en(a),c=Et(c);var w=c?cs(a):0;return c&&w<c?a+Oh(c-w,m):a}function T8(a,c,m){a=en(a),c=Et(c);var w=c?cs(a):0;return c&&w<c?Oh(c-w,m)+a:a}function A8(a,c,m){return m||c==null?c=0:c&&(c=+c),$R(en(a).replace(xi,""),c||0)}function M8(a,c,m){return(m?zr(a,c,m):c===n)?c=1:c=Et(c),Xg(en(a),c)}function _8(){var a=arguments,c=en(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var R8=Ru(function(a,c,m){return a+(m?"_":"")+c.toLowerCase()});function D8(a,c,m){return m&&typeof m!="number"&&zr(a,c,m)&&(c=m=n),m=m===n?le:m>>>0,m?(a=en(a),a&&(typeof c=="string"||c!=null&&!ky(c))&&(c=yo(c),!c&&Zs(a))?sl(Xr(a),0,m):a.split(c,m)):[]}var I8=Ru(function(a,c,m){return a+(m?" ":"")+Ey(c)});function P8(a,c,m){return a=en(a),m=m==null?0:ba(Et(m),0,a.length),c=yo(c),a.slice(m,m+c.length)==c}function $8(a,c,m){var w=A.templateSettings;m&&zr(a,c,m)&&(c=n),a=en(a),c=$h({},c,w,Wb);var E=$h({},c.imports,w.imports,Wb),M=sr(E),$=ma(E,M),H,X,ke=0,Oe=c.interpolate||On,Ae="__p += '",Ve=el((c.escape||On).source+"|"+Oe.source+"|"+(Oe===bi?ot:On).source+"|"+(c.evaluate||On).source+"|$","g"),tt="//# sourceURL="+(Kt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wu+"]")+`
`;a.replace(Ve,function(ct,Rt,zt,wo,Br,So){return zt||(zt=wo),Ae+=a.slice(ke,So).replace(Do,nh),Rt&&(H=!0,Ae+=`' +
__e(`+Rt+`) +
'`),Br&&(X=!0,Ae+=`';
`+Br+`;
__p += '`),zt&&(Ae+=`' +
((__t = (`+zt+`)) == null ? '' : __t) +
'`),ke=So+ct.length,ct}),Ae+=`';
`;var ut=Kt.call(c,"variable")&&c.variable;if(!ut)Ae=`with (obj) {
`+Ae+`
}
`;else if(_e.test(ut))throw new ht(l);Ae=(X?Ae.replace(pn,""):Ae).replace(pr,"$1").replace(es,"$1;"),Ae="function("+(ut||"obj")+`) {
`+(ut?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(H?", __e = _.escape":"")+(X?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var Nt=Lk(function(){return jt(M,tt+"return "+Ae).apply(n,$)});if(Nt.source=Ae,by(Nt))throw Nt;return Nt}function F8(a){return en(a).toLowerCase()}function L8(a){return en(a).toUpperCase()}function j8(a,c,m){if(a=en(a),a&&(m||c===n))return th(a);if(!a||!(c=yo(c)))return a;var w=Xr(a),E=Xr(c),M=Vt(w,E),$=Ys(w,E)+1;return sl(w,M,$).join("")}function z8(a,c,m){if(a=en(a),a&&(m||c===n))return a.slice(0,qn(a)+1);if(!a||!(c=yo(c)))return a;var w=Xr(a),E=Ys(w,Xr(c))+1;return sl(w,0,E).join("")}function B8(a,c,m){if(a=en(a),a&&(m||c===n))return a.replace(xi,"");if(!a||!(c=yo(c)))return a;var w=Xr(a),E=Vt(w,Xr(c));return sl(w,E).join("")}function U8(a,c){var m=se,w=Se;if(Cn(c)){var E="separator"in c?c.separator:E;m="length"in c?Et(c.length):m,w="omission"in c?yo(c.omission):w}a=en(a);var M=a.length;if(Zs(a)){var $=Xr(a);M=$.length}if(m>=M)return a;var H=m-cs(w);if(H<1)return w;var X=$?sl($,0,H).join(""):a.slice(0,H);if(E===n)return X+w;if($&&(H+=X.length-H),ky(E)){if(a.slice(H).search(E)){var ke,Oe=X;for(E.global||(E=el(E.source,en(Ft.exec(E))+"g")),E.lastIndex=0;ke=E.exec(Oe);)var Ae=ke.index;X=X.slice(0,Ae===n?H:Ae)}}else if(a.indexOf(yo(E),H)!=H){var Ve=X.lastIndexOf(E);Ve>-1&&(X=X.slice(0,Ve))}return X+w}function V8(a){return a=en(a),a&&hr.test(a)?a.replace(Qr,$g):a}var H8=Ru(function(a,c,m){return a+(m?" ":"")+c.toUpperCase()}),Ey=jb("toUpperCase");function Fk(a,c,m){return a=en(a),c=m?n:c,c===n?ei(a)?Eu(a):da(a):a.match(c)||[]}var Lk=At(function(a,c){try{return Re(a,n,c)}catch(m){return by(m)?m:new ht(m)}}),q8=ms(function(a,c){return ze(c,function(m){m=Ii(m),hs(a,m,wy(a[m],a))}),a});function W8(a){var c=a==null?0:a.length,m=lt();return a=c?yt(a,function(w){if(typeof w[1]!="function")throw new yn(s);return[m(w[0]),w[1]]}):[],At(function(w){for(var E=-1;++E<c;){var M=a[E];if(Re(M[0],this,w))return Re(M[1],this,w)}})}function K8(a){return vD($o(a,h))}function Cy(a){return function(){return a}}function G8(a,c){return a==null||a!==a?c:a}var J8=Bb(),Q8=Bb(!0);function ro(a){return a}function Ny(a){return yb(typeof a=="function"?a:$o(a,h))}function Y8(a){return wb($o(a,h))}function Z8(a,c){return Sb(a,$o(c,h))}var X8=At(function(a,c){return function(m){return ff(m,a,c)}}),e4=At(function(a,c){return function(m){return ff(a,m,c)}});function Ty(a,c,m){var w=sr(c),E=yh(c,w);m==null&&!(Cn(c)&&(E.length||!w.length))&&(m=c,c=a,a=this,E=yh(c,sr(c)));var M=!(Cn(m)&&"chain"in m)||!!m.chain,$=ys(a);return ze(E,function(H){var X=c[H];a[H]=X,$&&(a.prototype[H]=function(){var ke=this.__chain__;if(M||ke){var Oe=a(this.__wrapped__),Ae=Oe.__actions__=eo(this.__actions__);return Ae.push({func:X,args:arguments,thisArg:a}),Oe.__chain__=ke,Oe}return X.apply(a,En([this.value()],arguments))})}),a}function t4(){return ln._===this&&(ln._=ch),this}function Ay(){}function n4(a){return a=Et(a),At(function(c){return bb(c,a)})}var r4=sy(yt),o4=sy(bt),i4=sy(ku);function jk(a){return hy(a)?an(Ii(a)):PD(a)}function s4(a){return function(c){return a==null?n:ka(a,c)}}var l4=Vb(),a4=Vb(!0);function My(){return[]}function _y(){return!1}function u4(){return{}}function c4(){return""}function f4(){return!0}function p4(a,c){if(a=Et(a),a<1||a>fe)return[];var m=le,w=Cr(a,le);c=lt(c),a-=le;for(var E=tf(w,c);++m<a;)c(m);return E}function h4(a){return St(a)?yt(a,Ii):vo(a)?[a]:eo(ik(en(a)))}function d4(a){var c=++Lg;return en(a)+c}var m4=xh(function(a,c){return a+c},0),g4=ly("ceil"),y4=xh(function(a,c){return a/c},1),v4=ly("floor");function w4(a){return a&&a.length?gh(a,ro,Wg):n}function S4(a,c){return a&&a.length?gh(a,lt(c,2),Wg):n}function b4(a){return Be(a,ro)}function k4(a,c){return Be(a,lt(c,2))}function x4(a){return a&&a.length?gh(a,ro,Qg):n}function O4(a,c){return a&&a.length?gh(a,lt(c,2),Qg):n}var E4=xh(function(a,c){return a*c},1),C4=ly("round"),N4=xh(function(a,c){return a-c},0);function T4(a){return a&&a.length?ef(a,ro):0}function A4(a,c){return a&&a.length?ef(a,lt(c,2)):0}return A.after=YP,A.ary=gk,A.assign=L3,A.assignIn=Mk,A.assignInWith=$h,A.assignWith=j3,A.at=z3,A.before=yk,A.bind=wy,A.bindAll=q8,A.bindKey=vk,A.castArray=u3,A.chain=hk,A.chunk=vI,A.compact=wI,A.concat=SI,A.cond=W8,A.conforms=K8,A.constant=Cy,A.countBy=TP,A.create=B3,A.curry=wk,A.curryRight=Sk,A.debounce=bk,A.defaults=U3,A.defaultsDeep=V3,A.defer=ZP,A.delay=XP,A.difference=bI,A.differenceBy=kI,A.differenceWith=xI,A.drop=OI,A.dropRight=EI,A.dropRightWhile=CI,A.dropWhile=NI,A.fill=TI,A.filter=MP,A.flatMap=DP,A.flatMapDeep=IP,A.flatMapDepth=PP,A.flatten=uk,A.flattenDeep=AI,A.flattenDepth=MI,A.flip=e3,A.flow=J8,A.flowRight=Q8,A.fromPairs=_I,A.functions=Q3,A.functionsIn=Y3,A.groupBy=$P,A.initial=DI,A.intersection=II,A.intersectionBy=PI,A.intersectionWith=$I,A.invert=X3,A.invertBy=e8,A.invokeMap=LP,A.iteratee=Ny,A.keyBy=jP,A.keys=sr,A.keysIn=no,A.map=Mh,A.mapKeys=n8,A.mapValues=r8,A.matches=Y8,A.matchesProperty=Z8,A.memoize=Rh,A.merge=o8,A.mergeWith=_k,A.method=X8,A.methodOf=e4,A.mixin=Ty,A.negate=Dh,A.nthArg=n4,A.omit=i8,A.omitBy=s8,A.once=t3,A.orderBy=zP,A.over=r4,A.overArgs=n3,A.overEvery=o4,A.overSome=i4,A.partial=Sy,A.partialRight=kk,A.partition=BP,A.pick=l8,A.pickBy=Rk,A.property=jk,A.propertyOf=s4,A.pull=zI,A.pullAll=fk,A.pullAllBy=BI,A.pullAllWith=UI,A.pullAt=VI,A.range=l4,A.rangeRight=a4,A.rearg=r3,A.reject=HP,A.remove=HI,A.rest=o3,A.reverse=yy,A.sampleSize=WP,A.set=u8,A.setWith=c8,A.shuffle=KP,A.slice=qI,A.sortBy=QP,A.sortedUniq=ZI,A.sortedUniqBy=XI,A.split=D8,A.spread=i3,A.tail=eP,A.take=tP,A.takeRight=nP,A.takeRightWhile=rP,A.takeWhile=oP,A.tap=wP,A.throttle=s3,A.thru=Ah,A.toArray=Nk,A.toPairs=Dk,A.toPairsIn=Ik,A.toPath=h4,A.toPlainObject=Ak,A.transform=f8,A.unary=l3,A.union=iP,A.unionBy=sP,A.unionWith=lP,A.uniq=aP,A.uniqBy=uP,A.uniqWith=cP,A.unset=p8,A.unzip=vy,A.unzipWith=pk,A.update=h8,A.updateWith=d8,A.values=Pu,A.valuesIn=m8,A.without=fP,A.words=Fk,A.wrap=a3,A.xor=pP,A.xorBy=hP,A.xorWith=dP,A.zip=mP,A.zipObject=gP,A.zipObjectDeep=yP,A.zipWith=vP,A.entries=Dk,A.entriesIn=Ik,A.extend=Mk,A.extendWith=$h,Ty(A,A),A.add=m4,A.attempt=Lk,A.camelCase=w8,A.capitalize=Pk,A.ceil=g4,A.clamp=g8,A.clone=c3,A.cloneDeep=p3,A.cloneDeepWith=h3,A.cloneWith=f3,A.conformsTo=d3,A.deburr=$k,A.defaultTo=G8,A.divide=y4,A.endsWith=S8,A.eq=oi,A.escape=b8,A.escapeRegExp=k8,A.every=AP,A.find=_P,A.findIndex=lk,A.findKey=H3,A.findLast=RP,A.findLastIndex=ak,A.findLastKey=q3,A.floor=v4,A.forEach=dk,A.forEachRight=mk,A.forIn=W3,A.forInRight=K3,A.forOwn=G3,A.forOwnRight=J3,A.get=xy,A.gt=m3,A.gte=g3,A.has=Z3,A.hasIn=Oy,A.head=ck,A.identity=ro,A.includes=FP,A.indexOf=RI,A.inRange=y8,A.invoke=t8,A.isArguments=Ea,A.isArray=St,A.isArrayBuffer=y3,A.isArrayLike=to,A.isArrayLikeObject=Ln,A.isBoolean=v3,A.isBuffer=ll,A.isDate=w3,A.isElement=S3,A.isEmpty=b3,A.isEqual=k3,A.isEqualWith=x3,A.isError=by,A.isFinite=O3,A.isFunction=ys,A.isInteger=xk,A.isLength=Ih,A.isMap=Ok,A.isMatch=E3,A.isMatchWith=C3,A.isNaN=N3,A.isNative=T3,A.isNil=M3,A.isNull=A3,A.isNumber=Ek,A.isObject=Cn,A.isObjectLike=Rn,A.isPlainObject=yf,A.isRegExp=ky,A.isSafeInteger=_3,A.isSet=Ck,A.isString=Ph,A.isSymbol=vo,A.isTypedArray=Iu,A.isUndefined=R3,A.isWeakMap=D3,A.isWeakSet=I3,A.join=FI,A.kebabCase=x8,A.last=Lo,A.lastIndexOf=LI,A.lowerCase=O8,A.lowerFirst=E8,A.lt=P3,A.lte=$3,A.max=w4,A.maxBy=S4,A.mean=b4,A.meanBy=k4,A.min=x4,A.minBy=O4,A.stubArray=My,A.stubFalse=_y,A.stubObject=u4,A.stubString=c4,A.stubTrue=f4,A.multiply=E4,A.nth=jI,A.noConflict=t4,A.noop=Ay,A.now=_h,A.pad=C8,A.padEnd=N8,A.padStart=T8,A.parseInt=A8,A.random=v8,A.reduce=UP,A.reduceRight=VP,A.repeat=M8,A.replace=_8,A.result=a8,A.round=C4,A.runInContext=Q,A.sample=qP,A.size=GP,A.snakeCase=R8,A.some=JP,A.sortedIndex=WI,A.sortedIndexBy=KI,A.sortedIndexOf=GI,A.sortedLastIndex=JI,A.sortedLastIndexBy=QI,A.sortedLastIndexOf=YI,A.startCase=I8,A.startsWith=P8,A.subtract=N4,A.sum=T4,A.sumBy=A4,A.template=$8,A.times=p4,A.toFinite=vs,A.toInteger=Et,A.toLength=Tk,A.toLower=F8,A.toNumber=jo,A.toSafeInteger=F3,A.toString=en,A.toUpper=L8,A.trim=j8,A.trimEnd=z8,A.trimStart=B8,A.truncate=U8,A.unescape=V8,A.uniqueId=d4,A.upperCase=H8,A.upperFirst=Ey,A.each=dk,A.eachRight=mk,A.first=ck,Ty(A,function(){var a={};return Ri(A,function(c,m){Kt.call(A.prototype,m)||(a[m]=c)}),a}(),{chain:!1}),A.VERSION=r,ze(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){A[a].placeholder=A}),ze(["drop","take"],function(a,c){Pt.prototype[a]=function(m){m=m===n?1:Xn(Et(m),0);var w=this.__filtered__&&!c?new Pt(this):this.clone();return w.__filtered__?w.__takeCount__=Cr(m,w.__takeCount__):w.__views__.push({size:Cr(m,le),type:a+(w.__dir__<0?"Right":"")}),w},Pt.prototype[a+"Right"]=function(m){return this.reverse()[a](m).reverse()}}),ze(["filter","map","takeWhile"],function(a,c){var m=c+1,w=m==G||m==re;Pt.prototype[a]=function(E){var M=this.clone();return M.__iteratees__.push({iteratee:lt(E,3),type:m}),M.__filtered__=M.__filtered__||w,M}}),ze(["head","last"],function(a,c){var m="take"+(c?"Right":"");Pt.prototype[a]=function(){return this[m](1).value()[0]}}),ze(["initial","tail"],function(a,c){var m="drop"+(c?"":"Right");Pt.prototype[a]=function(){return this.__filtered__?new Pt(this):this[m](1)}}),Pt.prototype.compact=function(){return this.filter(ro)},Pt.prototype.find=function(a){return this.filter(a).head()},Pt.prototype.findLast=function(a){return this.reverse().find(a)},Pt.prototype.invokeMap=At(function(a,c){return typeof a=="function"?new Pt(this):this.map(function(m){return ff(m,a,c)})}),Pt.prototype.reject=function(a){return this.filter(Dh(lt(a)))},Pt.prototype.slice=function(a,c){a=Et(a);var m=this;return m.__filtered__&&(a>0||c<0)?new Pt(m):(a<0?m=m.takeRight(-a):a&&(m=m.drop(a)),c!==n&&(c=Et(c),m=c<0?m.dropRight(-c):m.take(c-a)),m)},Pt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Pt.prototype.toArray=function(){return this.take(le)},Ri(Pt.prototype,function(a,c){var m=/^(?:filter|find|map|reject)|While$/.test(c),w=/^(?:head|last)$/.test(c),E=A[w?"take"+(c=="last"?"Right":""):c],M=w||/^find/.test(c);E&&(A.prototype[c]=function(){var $=this.__wrapped__,H=w?[1]:arguments,X=$ instanceof Pt,ke=H[0],Oe=X||St($),Ae=function(Rt){var zt=E.apply(A,En([Rt],H));return w&&Ve?zt[0]:zt};Oe&&m&&typeof ke=="function"&&ke.length!=1&&(X=Oe=!1);var Ve=this.__chain__,tt=!!this.__actions__.length,ut=M&&!Ve,Nt=X&&!tt;if(!M&&Oe){$=Nt?$:new Pt(this);var ct=a.apply($,H);return ct.__actions__.push({func:Ah,args:[Ae],thisArg:n}),new Po(ct,Ve)}return ut&&Nt?a.apply(this,H):(ct=this.thru(Ae),ut?w?ct.value()[0]:ct.value():ct)})}),ze(["pop","push","shift","sort","splice","unshift"],function(a){var c=Zn[a],m=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",w=/^(?:pop|shift)$/.test(a);A.prototype[a]=function(){var E=arguments;if(w&&!this.__chain__){var M=this.value();return c.apply(St(M)?M:[],E)}return this[m](function($){return c.apply(St($)?$:[],E)})}}),Ri(Pt.prototype,function(a,c){var m=A[c];if(m){var w=m.name+"";Kt.call(Au,w)||(Au[w]=[]),Au[w].push({name:c,func:m})}}),Au[kh(n,v).name]=[{name:"wrapper",func:n}],Pt.prototype.clone=VR,Pt.prototype.reverse=HR,Pt.prototype.value=qR,A.prototype.at=SP,A.prototype.chain=bP,A.prototype.commit=kP,A.prototype.next=xP,A.prototype.plant=EP,A.prototype.reverse=CP,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=NP,A.prototype.first=A.prototype.head,Ot&&(A.prototype[Ot]=OP),A},Xs=Fg();Ti?((Ti.exports=Xs)._=Xs,Ni._=Xs):ln._=Xs}).call(ci)})($m,$m.exports);var Y9=$m.exports;const Z9=Y9.debounce(({state:e,editorState:t})=>{e.apply({type:"update",args:{editorState:t}})},1e3),X9=({state:e})=>{const[t,n]=Gt.useState(null),r=Gt.useRef(null),o=[IM(),Pm({"Mod-z":ES,"Mod-y":CS}),Pm(ZA)];Gt.useEffect(()=>{if(!r.current)return;const s=new RM(r.current,{state:qo.create({schema:Rm,plugins:o}),dispatchTransaction(l){const u=s.state.apply(l);s.updateState(u),Z9({state:e,editorState:u.toJSON()})}});return n(s),s.focus(),()=>{s&&s.destroy()}},[]);const{editorState:i}=e.data;return Gt.useEffect(()=>{if(i){const s=qo.fromJSON({schema:Rm,plugins:o},i);t.updateState(s)}},[i]),qt.jsx("div",{ref:r,className:"border border-gray-300 p-2 bg-white font-sans"})};var O0={exports:{}},E0={},Ac={},FM={},NS=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==r||s.enumerable!==!0)return!1}return!0},e5=NS,vg=function(){return e5()&&!!Symbol.toStringTag},TS=Object,t5=Error,n5=EvalError,r5=RangeError,o5=ReferenceError,LM=SyntaxError,Wp=TypeError,i5=URIError,s5=Math.abs,l5=Math.floor,a5=Math.max,u5=Math.min,c5=Math.pow,f5=Math.round,p5=Number.isNaN||function(e){return e!==e},h5=p5,d5=function(e){return h5(e)||e===0?e:e<0?-1:1},m5=Object.getOwnPropertyDescriptor,Md=m5;if(Md)try{Md([],"length")}catch{Md=null}var Lc=Md,_d=Object.defineProperty||!1;if(_d)try{_d({},"a",{value:1})}catch{_d=!1}var wg=_d,C0,dE;function g5(){if(dE)return C0;dE=1;var e=typeof Symbol<"u"&&Symbol,t=NS;return C0=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},C0}var mE,gE;function jM(){return gE||(gE=1,mE=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),mE}var N0,yE;function zM(){if(yE)return N0;yE=1;var e=TS;return N0=e.getPrototypeOf||null,N0}var T0,vE;function y5(){if(vE)return T0;vE=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",o=function(l,u){for(var f=[],p=0;p<l.length;p+=1)f[p]=l[p];for(var h=0;h<u.length;h+=1)f[h+l.length]=u[h];return f},i=function(l,u){for(var f=[],p=u,h=0;p<l.length;p+=1,h+=1)f[h]=l[p];return f},s=function(l,u){for(var f="",p=0;p<l.length;p+=1)f+=l[p],p+1<l.length&&(f+=u);return f};return T0=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==r)throw new TypeError(e+u);for(var f=i(arguments,1),p,h=function(){if(this instanceof p){var N=u.apply(this,o(f,arguments));return Object(N)===N?N:this}return u.apply(l,o(f,arguments))},d=n(0,u.length-f.length),g=[],y=0;y<d;y++)g[y]="$"+y;if(p=Function("binder","return function ("+s(g,",")+"){ return binder.apply(this,arguments); }")(h),u.prototype){var b=function(){};b.prototype=u.prototype,p.prototype=new b,b.prototype=null}return p},T0}var A0,wE;function Kp(){if(wE)return A0;wE=1;var e=y5();return A0=Function.prototype.bind||e,A0}var SE,bE;function AS(){return bE||(bE=1,SE=Function.prototype.call),SE}var kE,xE;function MS(){return xE||(xE=1,kE=Function.prototype.apply),kE}var v5=typeof Reflect<"u"&&Reflect&&Reflect.apply,w5=Kp(),S5=MS(),b5=AS(),k5=v5,BM=k5||w5.call(b5,S5),x5=Kp(),O5=Wp,E5=AS(),C5=BM,_S=function(e){if(e.length<1||typeof e[0]!="function")throw new O5("a function is required");return C5(x5,E5,e)},M0,OE;function N5(){if(OE)return M0;OE=1;var e=_S,t=Lc,n;try{n=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var r=!!n&&t&&t(Object.prototype,"__proto__"),o=Object,i=o.getPrototypeOf;return M0=r&&typeof r.get=="function"?e([r.get]):typeof i=="function"?function(s){return i(s==null?s:o(s))}:!1,M0}var _0,EE;function RS(){if(EE)return _0;EE=1;var e=jM(),t=zM(),n=N5();return _0=e?function(r){return e(r)}:t?function(r){if(!r||typeof r!="object"&&typeof r!="function")throw new TypeError("getProto: not an object");return t(r)}:n?function(r){return n(r)}:null,_0}var R0,CE;function UM(){if(CE)return R0;CE=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=Kp();return R0=n.call(e,t),R0}var $t,T5=TS,A5=t5,M5=n5,_5=r5,R5=o5,Mc=LM,hc=Wp,D5=i5,I5=s5,P5=l5,$5=a5,F5=u5,L5=c5,j5=f5,z5=d5,VM=Function,D0=function(e){try{return VM('"use strict"; return ('+e+").constructor;")()}catch{}},Rp=Lc,B5=wg,I0=function(){throw new hc},U5=Rp?function(){try{return arguments.callee,I0}catch{try{return Rp(arguments,"callee").get}catch{return I0}}}():I0,ju=g5()(),lr=RS(),V5=zM(),H5=jM(),HM=MS(),Gp=AS(),qu={},q5=typeof Uint8Array>"u"||!lr?$t:lr(Uint8Array),Ha={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?$t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?$t:ArrayBuffer,"%ArrayIteratorPrototype%":ju&&lr?lr([][Symbol.iterator]()):$t,"%AsyncFromSyncIteratorPrototype%":$t,"%AsyncFunction%":qu,"%AsyncGenerator%":qu,"%AsyncGeneratorFunction%":qu,"%AsyncIteratorPrototype%":qu,"%Atomics%":typeof Atomics>"u"?$t:Atomics,"%BigInt%":typeof BigInt>"u"?$t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?$t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?$t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?$t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":A5,"%eval%":eval,"%EvalError%":M5,"%Float16Array%":typeof Float16Array>"u"?$t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?$t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?$t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?$t:FinalizationRegistry,"%Function%":VM,"%GeneratorFunction%":qu,"%Int8Array%":typeof Int8Array>"u"?$t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?$t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?$t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ju&&lr?lr(lr([][Symbol.iterator]())):$t,"%JSON%":typeof JSON=="object"?JSON:$t,"%Map%":typeof Map>"u"?$t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ju||!lr?$t:lr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":T5,"%Object.getOwnPropertyDescriptor%":Rp,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?$t:Promise,"%Proxy%":typeof Proxy>"u"?$t:Proxy,"%RangeError%":_5,"%ReferenceError%":R5,"%Reflect%":typeof Reflect>"u"?$t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?$t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ju||!lr?$t:lr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?$t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ju&&lr?lr(""[Symbol.iterator]()):$t,"%Symbol%":ju?Symbol:$t,"%SyntaxError%":Mc,"%ThrowTypeError%":U5,"%TypedArray%":q5,"%TypeError%":hc,"%Uint8Array%":typeof Uint8Array>"u"?$t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?$t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?$t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?$t:Uint32Array,"%URIError%":D5,"%WeakMap%":typeof WeakMap>"u"?$t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?$t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?$t:WeakSet,"%Function.prototype.call%":Gp,"%Function.prototype.apply%":HM,"%Object.defineProperty%":B5,"%Object.getPrototypeOf%":V5,"%Math.abs%":I5,"%Math.floor%":P5,"%Math.max%":$5,"%Math.min%":F5,"%Math.pow%":L5,"%Math.round%":j5,"%Math.sign%":z5,"%Reflect.getPrototypeOf%":H5};if(lr)try{null.error}catch(e){var W5=lr(lr(e));Ha["%Error.prototype%"]=W5}var K5=function e(t){var n;if(t==="%AsyncFunction%")n=D0("async function () {}");else if(t==="%GeneratorFunction%")n=D0("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=D0("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&lr&&(n=lr(o.prototype))}return Ha[t]=n,n},NE={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Jp=Kp(),Fm=UM(),G5=Jp.call(Gp,Array.prototype.concat),J5=Jp.call(HM,Array.prototype.splice),TE=Jp.call(Gp,String.prototype.replace),Lm=Jp.call(Gp,String.prototype.slice),Q5=Jp.call(Gp,RegExp.prototype.exec),Y5=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z5=/\\(\\)?/g,X5=function(e){var t=Lm(e,0,1),n=Lm(e,-1);if(t==="%"&&n!=="%")throw new Mc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new Mc("invalid intrinsic syntax, expected opening `%`");var r=[];return TE(e,Y5,function(o,i,s,l){r[r.length]=s?TE(l,Z5,"$1"):i||o}),r},eB=function(e,t){var n=e,r;if(Fm(NE,n)&&(r=NE[n],n="%"+r[0]+"%"),Fm(Ha,n)){var o=Ha[n];if(o===qu&&(o=K5(n)),typeof o>"u"&&!t)throw new hc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new Mc("intrinsic "+e+" does not exist!")},DS=function(e,t){if(typeof e!="string"||e.length===0)throw new hc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new hc('"allowMissing" argument must be a boolean');if(Q5(/^%?[^%]*%?$/,e)===null)throw new Mc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=X5(e),r=n.length>0?n[0]:"",o=eB("%"+r+"%",t),i=o.name,s=o.value,l=!1,u=o.alias;u&&(r=u[0],J5(n,G5([0,1],u)));for(var f=1,p=!0;f<n.length;f+=1){var h=n[f],d=Lm(h,0,1),g=Lm(h,-1);if((d==='"'||d==="'"||d==="`"||g==='"'||g==="'"||g==="`")&&d!==g)throw new Mc("property names with quotes must have matching quotes");if((h==="constructor"||!p)&&(l=!0),r+="."+h,i="%"+r+"%",Fm(Ha,i))s=Ha[i];else if(s!=null){if(!(h in s)){if(!t)throw new hc("base intrinsic for "+e+" exists, but the property is not available.");return}if(Rp&&f+1>=n.length){var y=Rp(s,h);p=!!y,p&&"get"in y&&!("originalValue"in y.get)?s=y.get:s=s[h]}else p=Fm(s,h),s=s[h];p&&!l&&(Ha[i]=s)}}return s},qM=DS,WM=_S,tB=WM([qM("%String.prototype.indexOf%")]),jc=function(e,t){var n=qM(e,!!t);return typeof n=="function"&&tB(e,".prototype.")>-1?WM([n]):n},nB=vg(),rB=jc,A1=rB("Object.prototype.toString"),Sg=function(e){return nB&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:A1(e)==="[object Arguments]"},KM=function(e){return Sg(e)?!0:e!==null&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&e.length>=0&&A1(e)!=="[object Array]"&&"callee"in e&&A1(e.callee)==="[object Function]"},oB=function(){return Sg(arguments)}();Sg.isLegacyArguments=KM;var iB=oB?Sg:KM,AE=jc,sB=vg(),lB=UM(),aB=Lc,M1;if(sB){var uB=AE("RegExp.prototype.exec"),ME={},P0=function(){throw ME},_E={toString:P0,valueOf:P0};typeof Symbol.toPrimitive=="symbol"&&(_E[Symbol.toPrimitive]=P0),M1=function(e){if(!e||typeof e!="object")return!1;var t=aB(e,"lastIndex"),n=t&&lB(t,"value");if(!n)return!1;try{uB(e,_E)}catch(r){return r===ME}}}else{var cB=AE("Object.prototype.toString"),fB="[object RegExp]";M1=function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:cB(e)===fB}}var pB=M1,hB=jc,dB=pB,mB=hB("RegExp.prototype.exec"),gB=Wp,yB=function(e){if(!dB(e))throw new gB("`regex` must be a RegExp");return function(t){return mB(e,t)!==null}},GM=jc,vB=yB,wB=vB(/^\s*(?:function)?\*/),JM=vg(),$0=RS(),SB=GM("Object.prototype.toString"),bB=GM("Function.prototype.toString"),kB=function(){if(!JM)return!1;try{return Function("return function*() {}")()}catch{}},F0,xB=function(e){if(typeof e!="function")return!1;if(wB(bB(e)))return!0;if(!JM){var t=SB(e);return t==="[object GeneratorFunction]"}if(!$0)return!1;if(typeof F0>"u"){var n=kB();F0=n?$0(n):!1}return $0(e)===F0},QM=Function.prototype.toString,oc=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,_1,Rd;if(typeof oc=="function"&&typeof Object.defineProperty=="function")try{_1=Object.defineProperty({},"length",{get:function(){throw Rd}}),Rd={},oc(function(){throw 42},null,_1)}catch(e){e!==Rd&&(oc=null)}else oc=null;var OB=/^\s*class\b/,R1=function(e){try{var t=QM.call(e);return OB.test(t)}catch{return!1}},L0=function(e){try{return R1(e)?!1:(QM.call(e),!0)}catch{return!1}},Dd=Object.prototype.toString,EB="[object Object]",CB="[object Function]",NB="[object GeneratorFunction]",TB="[object HTMLAllCollection]",AB="[object HTML document.all class]",MB="[object HTMLCollection]",_B=typeof Symbol=="function"&&!!Symbol.toStringTag,RB=!(0 in[,]),D1=function(){return!1};if(typeof document=="object"){var DB=document.all;Dd.call(DB)===Dd.call(document.all)&&(D1=function(e){if((RB||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=Dd.call(e);return(t===TB||t===AB||t===MB||t===EB)&&e("")==null}catch{}return!1})}var IB=oc?function(e){if(D1(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{oc(e,null,_1)}catch(t){if(t!==Rd)return!1}return!R1(e)&&L0(e)}:function(e){if(D1(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(_B)return L0(e);if(R1(e))return!1;var t=Dd.call(e);return t!==CB&&t!==NB&&!/^\[object HTML/.test(t)?!1:L0(e)},PB=IB,$B=Object.prototype.toString,YM=Object.prototype.hasOwnProperty,FB=function(e,t,n){for(var r=0,o=e.length;r<o;r++)YM.call(e,r)&&(n==null?t(e[r],r,e):t.call(n,e[r],r,e))},LB=function(e,t,n){for(var r=0,o=e.length;r<o;r++)n==null?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},jB=function(e,t,n){for(var r in e)YM.call(e,r)&&(n==null?t(e[r],r,e):t.call(n,e[r],r,e))};function zB(e){return $B.call(e)==="[object Array]"}var BB=function(e,t,n){if(!PB(t))throw new TypeError("iterator must be a function");var r;arguments.length>=3&&(r=n),zB(e)?FB(e,t,r):typeof e=="string"?LB(e,t,r):jB(e,t,r)},UB=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],j0=UB,VB=typeof globalThis>"u"?ci:globalThis,HB=function(){for(var e=[],t=0;t<j0.length;t++)typeof VB[j0[t]]=="function"&&(e[e.length]=j0[t]);return e},ZM={exports:{}},RE=wg,qB=LM,zu=Wp,DE=Lc,XM=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new zu("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new zu("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new zu("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new zu("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new zu("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new zu("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!DE&&DE(e,t);if(RE)RE(e,t,{configurable:i===null&&l?l.configurable:!i,enumerable:r===null&&l?l.enumerable:!r,value:n,writable:o===null&&l?l.writable:!o});else if(s||!r&&!o&&!i)e[t]=n;else throw new qB("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},I1=wg,e_=function(){return!!I1};e_.hasArrayLengthDefineBug=function(){if(!I1)return null;try{return I1([],"length",{value:1}).length!==1}catch{return!0}};var t_=e_,WB=DS,IE=XM,KB=t_(),PE=Lc,$E=Wp,GB=WB("%Math.floor%"),JB=function(e,t){if(typeof e!="function")throw new $E("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||GB(t)!==t)throw new $E("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,o=!0;if("length"in e&&PE){var i=PE(e,"length");i&&!i.configurable&&(r=!1),i&&!i.writable&&(o=!1)}return(r||o||!n)&&(KB?IE(e,"length",t,!0,!0):IE(e,"length",t)),e},QB=Kp(),YB=MS(),ZB=BM,XB=function(){return ZB(QB,YB,arguments)};(function(e){var t=JB,n=wg,r=_S,o=XB;e.exports=function(i){var s=r(arguments),l=i.length-(arguments.length-1);return t(s,1+(l>0?l:0),!0)},n?n(e.exports,"apply",{value:o}):e.exports.apply=o})(ZM);var bg=ZM.exports,jm=BB,e7=HB,FE=bg,IS=jc,Id=Lc,nd=RS(),t7=IS("Object.prototype.toString"),n_=vg(),LE=typeof globalThis>"u"?ci:globalThis,P1=e7(),PS=IS("String.prototype.slice"),n7=IS("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},zm={__proto__:null};n_&&Id&&nd?jm(P1,function(e){var t=new LE[e];if(Symbol.toStringTag in t&&nd){var n=nd(t),r=Id(n,Symbol.toStringTag);if(!r&&n){var o=nd(n);r=Id(o,Symbol.toStringTag)}zm["$"+e]=FE(r.get)}}):jm(P1,function(e){var t=new LE[e],n=t.slice||t.set;n&&(zm["$"+e]=FE(n))});var r7=function(e){var t=!1;return jm(zm,function(n,r){if(!t)try{"$"+n(e)===r&&(t=PS(r,1))}catch{}}),t},o7=function(e){var t=!1;return jm(zm,function(n,r){if(!t)try{n(e),t=PS(r,1)}catch{}}),t},r_=function(e){if(!e||typeof e!="object")return!1;if(!n_){var t=PS(t7(e),8,-1);return n7(P1,t)>-1?t:t!=="Object"?!1:o7(e)}return Id?r7(e):null},i7=r_,s7=function(e){return!!i7(e)};(function(e){var t=iB,n=xB,r=r_,o=s7;function i(ee){return ee.call.bind(ee)}var s=typeof BigInt<"u",l=typeof Symbol<"u",u=i(Object.prototype.toString),f=i(Number.prototype.valueOf),p=i(String.prototype.valueOf),h=i(Boolean.prototype.valueOf);if(s)var d=i(BigInt.prototype.valueOf);if(l)var g=i(Symbol.prototype.valueOf);function y(ee,$e){if(typeof ee!="object")return!1;try{return $e(ee),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=o;function b(ee){return typeof Promise<"u"&&ee instanceof Promise||ee!==null&&typeof ee=="object"&&typeof ee.then=="function"&&typeof ee.catch=="function"}e.isPromise=b;function N(ee){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ee):o(ee)||C(ee)}e.isArrayBufferView=N;function v(ee){return r(ee)==="Uint8Array"}e.isUint8Array=v;function k(ee){return r(ee)==="Uint8ClampedArray"}e.isUint8ClampedArray=k;function x(ee){return r(ee)==="Uint16Array"}e.isUint16Array=x;function D(ee){return r(ee)==="Uint32Array"}e.isUint32Array=D;function F(ee){return r(ee)==="Int8Array"}e.isInt8Array=F;function I(ee){return r(ee)==="Int16Array"}e.isInt16Array=I;function V(ee){return r(ee)==="Int32Array"}e.isInt32Array=V;function j(ee){return r(ee)==="Float32Array"}e.isFloat32Array=j;function te(ee){return r(ee)==="Float64Array"}e.isFloat64Array=te;function se(ee){return r(ee)==="BigInt64Array"}e.isBigInt64Array=se;function Se(ee){return r(ee)==="BigUint64Array"}e.isBigUint64Array=Se;function me(ee){return u(ee)==="[object Map]"}me.working=typeof Map<"u"&&me(new Map);function W(ee){return typeof Map>"u"?!1:me.working?me(ee):ee instanceof Map}e.isMap=W;function G(ee){return u(ee)==="[object Set]"}G.working=typeof Set<"u"&&G(new Set);function U(ee){return typeof Set>"u"?!1:G.working?G(ee):ee instanceof Set}e.isSet=U;function re(ee){return u(ee)==="[object WeakMap]"}re.working=typeof WeakMap<"u"&&re(new WeakMap);function He(ee){return typeof WeakMap>"u"?!1:re.working?re(ee):ee instanceof WeakMap}e.isWeakMap=He;function fe(ee){return u(ee)==="[object WeakSet]"}fe.working=typeof WeakSet<"u"&&fe(new WeakSet);function J(ee){return fe(ee)}e.isWeakSet=J;function T(ee){return u(ee)==="[object ArrayBuffer]"}T.working=typeof ArrayBuffer<"u"&&T(new ArrayBuffer);function le(ee){return typeof ArrayBuffer>"u"?!1:T.working?T(ee):ee instanceof ArrayBuffer}e.isArrayBuffer=le;function xe(ee){return u(ee)==="[object DataView]"}xe.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&xe(new DataView(new ArrayBuffer(1),0,1));function C(ee){return typeof DataView>"u"?!1:xe.working?xe(ee):ee instanceof DataView}e.isDataView=C;var _=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function P(ee){return u(ee)==="[object SharedArrayBuffer]"}function L(ee){return typeof _>"u"?!1:(typeof P.working>"u"&&(P.working=P(new _)),P.working?P(ee):ee instanceof _)}e.isSharedArrayBuffer=L;function pe(ee){return u(ee)==="[object AsyncFunction]"}e.isAsyncFunction=pe;function oe(ee){return u(ee)==="[object Map Iterator]"}e.isMapIterator=oe;function ce(ee){return u(ee)==="[object Set Iterator]"}e.isSetIterator=ce;function Ce(ee){return u(ee)==="[object Generator]"}e.isGeneratorObject=Ce;function Pe(ee){return u(ee)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Pe;function ie(ee){return y(ee,f)}e.isNumberObject=ie;function Y(ee){return y(ee,p)}e.isStringObject=Y;function ge(ee){return y(ee,h)}e.isBooleanObject=ge;function he(ee){return s&&y(ee,d)}e.isBigIntObject=he;function Qe(ee){return l&&y(ee,g)}e.isSymbolObject=Qe;function Ze(ee){return ie(ee)||Y(ee)||ge(ee)||he(ee)||Qe(ee)}e.isBoxedPrimitive=Ze;function ye(ee){return typeof Uint8Array<"u"&&(le(ee)||L(ee))}e.isAnyArrayBuffer=ye,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ee){Object.defineProperty(e,ee,{enumerable:!1,value:function(){throw new Error(ee+" is not supported in userland")}})})})(FM);var l7=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},$1={exports:{}};typeof Object.create=="function"?$1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:$1.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var a7=$1.exports;(function(e){var t={},n=Object.getOwnPropertyDescriptors||function(C){for(var _=Object.keys(C),P={},L=0;L<_.length;L++)P[_[L]]=Object.getOwnPropertyDescriptor(C,_[L]);return P},r=/%[sdj%]/g;e.format=function(C){if(!I(C)){for(var _=[],P=0;P<arguments.length;P++)_.push(l(arguments[P]));return _.join(" ")}for(var P=1,L=arguments,pe=L.length,oe=String(C).replace(r,function(Pe){if(Pe==="%%")return"%";if(P>=pe)return Pe;switch(Pe){case"%s":return String(L[P++]);case"%d":return Number(L[P++]);case"%j":try{return JSON.stringify(L[P++])}catch{return"[Circular]"}default:return Pe}}),ce=L[P];P<pe;ce=L[++P])x(ce)||!se(ce)?oe+=" "+ce:oe+=" "+l(ce);return oe},e.deprecate=function(C,_){if(typeof process<"u"&&process.noDeprecation===!0)return C;if(typeof process>"u")return function(){return e.deprecate(C,_).apply(this,arguments)};var P=!1;function L(){if(!P){if(process.throwDeprecation)throw new Error(_);process.traceDeprecation?console.trace(_):console.error(_),P=!0}return C.apply(this,arguments)}return L};var o={},i=/^$/;if(t.NODE_DEBUG){var s=t.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}e.debuglog=function(C){if(C=C.toUpperCase(),!o[C])if(i.test(C)){var _=process.pid;o[C]=function(){var P=e.format.apply(e,arguments);console.error("%s %d: %s",C,_,P)}}else o[C]=function(){};return o[C]};function l(C,_){var P={seen:[],stylize:f};return arguments.length>=3&&(P.depth=arguments[2]),arguments.length>=4&&(P.colors=arguments[3]),k(_)?P.showHidden=_:_&&e._extend(P,_),j(P.showHidden)&&(P.showHidden=!1),j(P.depth)&&(P.depth=2),j(P.colors)&&(P.colors=!1),j(P.customInspect)&&(P.customInspect=!0),P.colors&&(P.stylize=u),h(P,C,P.depth)}e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(C,_){var P=l.styles[_];return P?"\x1B["+l.colors[P][0]+"m"+C+"\x1B["+l.colors[P][1]+"m":C}function f(C,_){return C}function p(C){var _={};return C.forEach(function(P,L){_[P]=!0}),_}function h(C,_,P){if(C.customInspect&&_&&W(_.inspect)&&_.inspect!==e.inspect&&!(_.constructor&&_.constructor.prototype===_)){var L=_.inspect(P,C);return I(L)||(L=h(C,L,P)),L}var pe=d(C,_);if(pe)return pe;var oe=Object.keys(_),ce=p(oe);if(C.showHidden&&(oe=Object.getOwnPropertyNames(_)),me(_)&&(oe.indexOf("message")>=0||oe.indexOf("description")>=0))return g(_);if(oe.length===0){if(W(_)){var Ce=_.name?": "+_.name:"";return C.stylize("[Function"+Ce+"]","special")}if(te(_))return C.stylize(RegExp.prototype.toString.call(_),"regexp");if(Se(_))return C.stylize(Date.prototype.toString.call(_),"date");if(me(_))return g(_)}var Pe="",ie=!1,Y=["{","}"];if(v(_)&&(ie=!0,Y=["[","]"]),W(_)){var ge=_.name?": "+_.name:"";Pe=" [Function"+ge+"]"}if(te(_)&&(Pe=" "+RegExp.prototype.toString.call(_)),Se(_)&&(Pe=" "+Date.prototype.toUTCString.call(_)),me(_)&&(Pe=" "+g(_)),oe.length===0&&(!ie||_.length==0))return Y[0]+Pe+Y[1];if(P<0)return te(_)?C.stylize(RegExp.prototype.toString.call(_),"regexp"):C.stylize("[Object]","special");C.seen.push(_);var he;return ie?he=y(C,_,P,ce,oe):he=oe.map(function(Qe){return b(C,_,P,ce,Qe,ie)}),C.seen.pop(),N(he,Pe,Y)}function d(C,_){if(j(_))return C.stylize("undefined","undefined");if(I(_)){var P="'"+JSON.stringify(_).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return C.stylize(P,"string")}if(F(_))return C.stylize(""+_,"number");if(k(_))return C.stylize(""+_,"boolean");if(x(_))return C.stylize("null","null")}function g(C){return"["+Error.prototype.toString.call(C)+"]"}function y(C,_,P,L,pe){for(var oe=[],ce=0,Ce=_.length;ce<Ce;++ce)J(_,String(ce))?oe.push(b(C,_,P,L,String(ce),!0)):oe.push("");return pe.forEach(function(Pe){Pe.match(/^\d+$/)||oe.push(b(C,_,P,L,Pe,!0))}),oe}function b(C,_,P,L,pe,oe){var ce,Ce,Pe;if(Pe=Object.getOwnPropertyDescriptor(_,pe)||{value:_[pe]},Pe.get?Pe.set?Ce=C.stylize("[Getter/Setter]","special"):Ce=C.stylize("[Getter]","special"):Pe.set&&(Ce=C.stylize("[Setter]","special")),J(L,pe)||(ce="["+pe+"]"),Ce||(C.seen.indexOf(Pe.value)<0?(x(P)?Ce=h(C,Pe.value,null):Ce=h(C,Pe.value,P-1),Ce.indexOf(`
`)>-1&&(oe?Ce=Ce.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):Ce=`
`+Ce.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):Ce=C.stylize("[Circular]","special")),j(ce)){if(oe&&pe.match(/^\d+$/))return Ce;ce=JSON.stringify(""+pe),ce.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ce=ce.slice(1,-1),ce=C.stylize(ce,"name")):(ce=ce.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ce=C.stylize(ce,"string"))}return ce+": "+Ce}function N(C,_,P){var L=C.reduce(function(pe,oe){return oe.indexOf(`
`)>=0,pe+oe.replace(/\u001b\[\d\d?m/g,"").length+1},0);return L>60?P[0]+(_===""?"":_+`
 `)+" "+C.join(`,
  `)+" "+P[1]:P[0]+_+" "+C.join(", ")+" "+P[1]}e.types=FM;function v(C){return Array.isArray(C)}e.isArray=v;function k(C){return typeof C=="boolean"}e.isBoolean=k;function x(C){return C===null}e.isNull=x;function D(C){return C==null}e.isNullOrUndefined=D;function F(C){return typeof C=="number"}e.isNumber=F;function I(C){return typeof C=="string"}e.isString=I;function V(C){return typeof C=="symbol"}e.isSymbol=V;function j(C){return C===void 0}e.isUndefined=j;function te(C){return se(C)&&U(C)==="[object RegExp]"}e.isRegExp=te,e.types.isRegExp=te;function se(C){return typeof C=="object"&&C!==null}e.isObject=se;function Se(C){return se(C)&&U(C)==="[object Date]"}e.isDate=Se,e.types.isDate=Se;function me(C){return se(C)&&(U(C)==="[object Error]"||C instanceof Error)}e.isError=me,e.types.isNativeError=me;function W(C){return typeof C=="function"}e.isFunction=W;function G(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||typeof C>"u"}e.isPrimitive=G,e.isBuffer=l7;function U(C){return Object.prototype.toString.call(C)}function re(C){return C<10?"0"+C.toString(10):C.toString(10)}var He=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fe(){var C=new Date,_=[re(C.getHours()),re(C.getMinutes()),re(C.getSeconds())].join(":");return[C.getDate(),He[C.getMonth()],_].join(" ")}e.log=function(){console.log("%s - %s",fe(),e.format.apply(e,arguments))},e.inherits=a7,e._extend=function(C,_){if(!_||!se(_))return C;for(var P=Object.keys(_),L=P.length;L--;)C[P[L]]=_[P[L]];return C};function J(C,_){return Object.prototype.hasOwnProperty.call(C,_)}var T=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');if(T&&C[T]){var _=C[T];if(typeof _!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(_,T,{value:_,enumerable:!1,writable:!1,configurable:!0}),_}function _(){for(var P,L,pe=new Promise(function(Ce,Pe){P=Ce,L=Pe}),oe=[],ce=0;ce<arguments.length;ce++)oe.push(arguments[ce]);oe.push(function(Ce,Pe){Ce?L(Ce):P(Pe)});try{C.apply(this,oe)}catch(Ce){L(Ce)}return pe}return Object.setPrototypeOf(_,Object.getPrototypeOf(C)),T&&Object.defineProperty(_,T,{value:_,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(_,n(C))},e.promisify.custom=T;function le(C,_){if(!C){var P=new Error("Promise was rejected with a falsy value");P.reason=C,C=P}return _(C)}function xe(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');function _(){for(var P=[],L=0;L<arguments.length;L++)P.push(arguments[L]);var pe=P.pop();if(typeof pe!="function")throw new TypeError("The last argument must be of type Function");var oe=this,ce=function(){return pe.apply(oe,arguments)};C.apply(this,P).then(function(Ce){process.nextTick(ce.bind(null,null,Ce))},function(Ce){process.nextTick(le.bind(null,Ce,ce))})}return Object.setPrototypeOf(_,Object.getPrototypeOf(C)),Object.defineProperties(_,n(C)),_}e.callbackify=xe})(Ac);var jE;function o_(){if(jE)return E0;jE=1;function e(k){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},e(k)}function t(k,x,D){return Object.defineProperty(k,"prototype",{writable:!1}),k}function n(k,x){if(!(k instanceof x))throw new TypeError("Cannot call a class as a function")}function r(k,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(x&&x.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),x&&o(k,x)}function o(k,x){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,F){return D.__proto__=F,D},o(k,x)}function i(k){var x=u();return function(){var D=f(k),F;if(x){var I=f(this).constructor;F=Reflect.construct(D,arguments,I)}else F=D.apply(this,arguments);return s(this,F)}}function s(k,x){if(x&&(e(x)==="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(k)}function l(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(k){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)},f(k)}var p={},h,d;function g(k,x,D){D||(D=Error);function F(V,j,te){return typeof x=="string"?x:x(V,j,te)}var I=function(V){r(te,V);var j=i(te);function te(se,Se,me){var W;return n(this,te),W=j.call(this,F(se,Se,me)),W.code=k,W}return t(te)}(D);p[k]=I}function y(k,x){if(Array.isArray(k)){var D=k.length;return k=k.map(function(F){return String(F)}),D>2?"one of ".concat(x," ").concat(k.slice(0,D-1).join(", "),", or ")+k[D-1]:D===2?"one of ".concat(x," ").concat(k[0]," or ").concat(k[1]):"of ".concat(x," ").concat(k[0])}else return"of ".concat(x," ").concat(String(k))}function b(k,x,D){return k.substr(0,x.length)===x}function N(k,x,D){return(D===void 0||D>k.length)&&(D=k.length),k.substring(D-x.length,D)===x}function v(k,x,D){return typeof D!="number"&&(D=0),D+x.length>k.length?!1:k.indexOf(x,D)!==-1}return g("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),g("ERR_INVALID_ARG_TYPE",function(k,x,D){h===void 0&&(h=F1()),h(typeof k=="string","'name' must be a string");var F;typeof x=="string"&&b(x,"not ")?(F="must not be",x=x.replace(/^not /,"")):F="must be";var I;if(N(k," argument"))I="The ".concat(k," ").concat(F," ").concat(y(x,"type"));else{var V=v(k,".")?"property":"argument";I='The "'.concat(k,'" ').concat(V," ").concat(F," ").concat(y(x,"type"))}return I+=". Received type ".concat(e(D)),I},TypeError),g("ERR_INVALID_ARG_VALUE",function(k,x){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";d===void 0&&(d=Ac);var F=d.inspect(x);return F.length>128&&(F="".concat(F.slice(0,128),"...")),"The argument '".concat(k,"' ").concat(D,". Received ").concat(F)},TypeError),g("ERR_INVALID_RETURN_VALUE",function(k,x,D){var F;return D&&D.constructor&&D.constructor.name?F="instance of ".concat(D.constructor.name):F="type ".concat(e(D)),"Expected ".concat(k,' to be returned from the "').concat(x,'"')+" function but got ".concat(F,".")},TypeError),g("ERR_MISSING_ARGS",function(){for(var k=arguments.length,x=new Array(k),D=0;D<k;D++)x[D]=arguments[D];h===void 0&&(h=F1()),h(x.length>0,"At least one arg needs to be specified");var F="The ",I=x.length;switch(x=x.map(function(V){return'"'.concat(V,'"')}),I){case 1:F+="".concat(x[0]," argument");break;case 2:F+="".concat(x[0]," and ").concat(x[1]," arguments");break;default:F+=x.slice(0,I-1).join(", "),F+=", and ".concat(x[I-1]," arguments");break}return"".concat(F," must be specified")},TypeError),E0.codes=p,E0}var z0,zE;function u7(){if(zE)return z0;zE=1;function e(J,T){var le=Object.keys(J);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(J);T&&(xe=xe.filter(function(C){return Object.getOwnPropertyDescriptor(J,C).enumerable})),le.push.apply(le,xe)}return le}function t(J){for(var T=1;T<arguments.length;T++){var le=arguments[T]!=null?arguments[T]:{};T%2?e(Object(le),!0).forEach(function(xe){n(J,xe,le[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(le)):e(Object(le)).forEach(function(xe){Object.defineProperty(J,xe,Object.getOwnPropertyDescriptor(le,xe))})}return J}function n(J,T,le){return T=s(T),T in J?Object.defineProperty(J,T,{value:le,enumerable:!0,configurable:!0,writable:!0}):J[T]=le,J}function r(J,T){if(!(J instanceof T))throw new TypeError("Cannot call a class as a function")}function o(J,T){for(var le=0;le<T.length;le++){var xe=T[le];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(J,s(xe.key),xe)}}function i(J,T,le){return T&&o(J.prototype,T),Object.defineProperty(J,"prototype",{writable:!1}),J}function s(J){var T=l(J,"string");return k(T)==="symbol"?T:String(T)}function l(J,T){if(k(J)!=="object"||J===null)return J;var le=J[Symbol.toPrimitive];if(le!==void 0){var xe=le.call(J,T);if(k(xe)!=="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}function u(J,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(T&&T.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),T&&N(J,T)}function f(J){var T=y();return function(){var le=v(J),xe;if(T){var C=v(this).constructor;xe=Reflect.construct(le,arguments,C)}else xe=le.apply(this,arguments);return p(this,xe)}}function p(J,T){if(T&&(k(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(J)}function h(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function d(J){var T=typeof Map=="function"?new Map:void 0;return d=function(le){if(le===null||!b(le))return le;if(typeof le!="function")throw new TypeError("Super expression must either be null or a function");if(typeof T<"u"){if(T.has(le))return T.get(le);T.set(le,xe)}function xe(){return g(le,arguments,v(this).constructor)}return xe.prototype=Object.create(le.prototype,{constructor:{value:xe,enumerable:!1,writable:!0,configurable:!0}}),N(xe,le)},d(J)}function g(J,T,le){return y()?g=Reflect.construct.bind():g=function(xe,C,_){var P=[null];P.push.apply(P,C);var L=Function.bind.apply(xe,P),pe=new L;return _&&N(pe,_.prototype),pe},g.apply(null,arguments)}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(J){return Function.toString.call(J).indexOf("[native code]")!==-1}function N(J,T){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(le,xe){return le.__proto__=xe,le},N(J,T)}function v(J){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},v(J)}function k(J){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},k(J)}var x=Ac,D=x.inspect,F=o_(),I=F.codes.ERR_INVALID_ARG_TYPE;function V(J,T,le){return(le===void 0||le>J.length)&&(le=J.length),J.substring(le-T.length,le)===T}function j(J,T){if(T=Math.floor(T),J.length==0||T==0)return"";var le=J.length*T;for(T=Math.floor(Math.log(T)/Math.log(2));T;)J+=J,T--;return J+=J.substring(0,le-J.length),J}var te="",se="",Se="",me="",W={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},G=10;function U(J){var T=Object.keys(J),le=Object.create(Object.getPrototypeOf(J));return T.forEach(function(xe){le[xe]=J[xe]}),Object.defineProperty(le,"message",{value:J.message}),le}function re(J){return D(J,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function He(J,T,le){var xe="",C="",_=0,P="",L=!1,pe=re(J),oe=pe.split(`
`),ce=re(T).split(`
`),Ce=0,Pe="";if(le==="strictEqual"&&k(J)==="object"&&k(T)==="object"&&J!==null&&T!==null&&(le="strictEqualObject"),oe.length===1&&ce.length===1&&oe[0]!==ce[0]){var ie=oe[0].length+ce[0].length;if(ie<=G){if((k(J)!=="object"||J===null)&&(k(T)!=="object"||T===null)&&(J!==0||T!==0))return"".concat(W[le],`

`)+"".concat(oe[0]," !== ").concat(ce[0],`
`)}else if(le!=="strictEqualObject"){var Y=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(ie<Y){for(;oe[0][Ce]===ce[0][Ce];)Ce++;Ce>2&&(Pe=`
  `.concat(j(" ",Ce),"^"),Ce=0)}}}for(var ge=oe[oe.length-1],he=ce[ce.length-1];ge===he&&(Ce++<2?P=`
  `.concat(ge).concat(P):xe=ge,oe.pop(),ce.pop(),!(oe.length===0||ce.length===0));)ge=oe[oe.length-1],he=ce[ce.length-1];var Qe=Math.max(oe.length,ce.length);if(Qe===0){var Ze=pe.split(`
`);if(Ze.length>30)for(Ze[26]="".concat(te,"...").concat(me);Ze.length>27;)Ze.pop();return"".concat(W.notIdentical,`

`).concat(Ze.join(`
`),`
`)}Ce>3&&(P=`
`.concat(te,"...").concat(me).concat(P),L=!0),xe!==""&&(P=`
  `.concat(xe).concat(P),xe="");var ye=0,ee=W[le]+`
`.concat(se,"+ actual").concat(me," ").concat(Se,"- expected").concat(me),$e=" ".concat(te,"...").concat(me," Lines skipped");for(Ce=0;Ce<Qe;Ce++){var Ke=Ce-_;if(oe.length<Ce+1)Ke>1&&Ce>2&&(Ke>4?(C+=`
`.concat(te,"...").concat(me),L=!0):Ke>3&&(C+=`
  `.concat(ce[Ce-2]),ye++),C+=`
  `.concat(ce[Ce-1]),ye++),_=Ce,xe+=`
`.concat(Se,"-").concat(me," ").concat(ce[Ce]),ye++;else if(ce.length<Ce+1)Ke>1&&Ce>2&&(Ke>4?(C+=`
`.concat(te,"...").concat(me),L=!0):Ke>3&&(C+=`
  `.concat(oe[Ce-2]),ye++),C+=`
  `.concat(oe[Ce-1]),ye++),_=Ce,C+=`
`.concat(se,"+").concat(me," ").concat(oe[Ce]),ye++;else{var kt=ce[Ce],Xe=oe[Ce],q=Xe!==kt&&(!V(Xe,",")||Xe.slice(0,-1)!==kt);q&&V(kt,",")&&kt.slice(0,-1)===Xe&&(q=!1,Xe+=","),q?(Ke>1&&Ce>2&&(Ke>4?(C+=`
`.concat(te,"...").concat(me),L=!0):Ke>3&&(C+=`
  `.concat(oe[Ce-2]),ye++),C+=`
  `.concat(oe[Ce-1]),ye++),_=Ce,C+=`
`.concat(se,"+").concat(me," ").concat(Xe),xe+=`
`.concat(Se,"-").concat(me," ").concat(kt),ye+=2):(C+=xe,xe="",(Ke===1||Ce===0)&&(C+=`
  `.concat(Xe),ye++))}if(ye>20&&Ce<Qe-2)return"".concat(ee).concat($e,`
`).concat(C,`
`).concat(te,"...").concat(me).concat(xe,`
`)+"".concat(te,"...").concat(me)}return"".concat(ee).concat(L?$e:"",`
`).concat(C).concat(xe).concat(P).concat(Pe)}var fe=function(J,T){u(xe,J);var le=f(xe);function xe(C){var _;if(r(this,xe),k(C)!=="object"||C===null)throw new I("options","Object",C);var P=C.message,L=C.operator,pe=C.stackStartFn,oe=C.actual,ce=C.expected,Ce=Error.stackTraceLimit;if(Error.stackTraceLimit=0,P!=null)_=le.call(this,String(P));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(te="\x1B[34m",se="\x1B[32m",me="\x1B[39m",Se="\x1B[31m"):(te="",se="",me="",Se="")),k(oe)==="object"&&oe!==null&&k(ce)==="object"&&ce!==null&&"stack"in oe&&oe instanceof Error&&"stack"in ce&&ce instanceof Error&&(oe=U(oe),ce=U(ce)),L==="deepStrictEqual"||L==="strictEqual")_=le.call(this,He(oe,ce,L));else if(L==="notDeepStrictEqual"||L==="notStrictEqual"){var Pe=W[L],ie=re(oe).split(`
`);if(L==="notStrictEqual"&&k(oe)==="object"&&oe!==null&&(Pe=W.notStrictEqualObject),ie.length>30)for(ie[26]="".concat(te,"...").concat(me);ie.length>27;)ie.pop();ie.length===1?_=le.call(this,"".concat(Pe," ").concat(ie[0])):_=le.call(this,"".concat(Pe,`

`).concat(ie.join(`
`),`
`))}else{var Y=re(oe),ge="",he=W[L];L==="notDeepEqual"||L==="notEqual"?(Y="".concat(W[L],`

`).concat(Y),Y.length>1024&&(Y="".concat(Y.slice(0,1021),"..."))):(ge="".concat(re(ce)),Y.length>512&&(Y="".concat(Y.slice(0,509),"...")),ge.length>512&&(ge="".concat(ge.slice(0,509),"...")),L==="deepEqual"||L==="equal"?Y="".concat(he,`

`).concat(Y,`

should equal

`):ge=" ".concat(L," ").concat(ge)),_=le.call(this,"".concat(Y).concat(ge))}return Error.stackTraceLimit=Ce,_.generatedMessage=!P,Object.defineProperty(h(_),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),_.code="ERR_ASSERTION",_.actual=oe,_.expected=ce,_.operator=L,Error.captureStackTrace&&Error.captureStackTrace(h(_),pe),_.stack,_.name="AssertionError",p(_)}return i(xe,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:T,value:function(C,_){return D(this,t(t({},_),{},{customInspect:!1,depth:0}))}}]),xe}(d(Error),D.custom);return z0=fe,z0}var BE=Object.prototype.toString,i_=function(e){var t=BE.call(e),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&BE.call(e.callee)==="[object Function]"),n},B0,UE;function c7(){if(UE)return B0;UE=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=i_,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),s=o.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(d){var g=d.constructor;return g&&g.prototype===d},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!f["$"+d]&&t.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{u(window[d])}catch{return!0}}catch{return!0}return!1}(),h=function(d){if(typeof window>"u"||!p)return u(d);try{return u(d)}catch{return!1}};e=function(d){var g=d!==null&&typeof d=="object",y=n.call(d)==="[object Function]",b=r(d),N=g&&n.call(d)==="[object String]",v=[];if(!g&&!y&&!b)throw new TypeError("Object.keys called on a non-object");var k=s&&y;if(N&&d.length>0&&!t.call(d,0))for(var x=0;x<d.length;++x)v.push(String(x));if(b&&d.length>0)for(var D=0;D<d.length;++D)v.push(String(D));else for(var F in d)!(k&&F==="prototype")&&t.call(d,F)&&v.push(String(F));if(i)for(var I=h(d),V=0;V<l.length;++V)!(I&&l[V]==="constructor")&&t.call(d,l[V])&&v.push(l[V]);return v}}return B0=e,B0}var f7=Array.prototype.slice,p7=i_,VE=Object.keys,Pd=VE?function(e){return VE(e)}:c7(),HE=Object.keys;Pd.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(t){return p7(t)?HE(f7.call(t)):HE(t)})}else Object.keys=Pd;return Object.keys||Pd};var s_=Pd,h7=s_,l_=NS(),a_=jc,$d=TS,d7=a_("Array.prototype.push"),qE=a_("Object.prototype.propertyIsEnumerable"),m7=l_?$d.getOwnPropertySymbols:null,g7=function(e,t){if(e==null)throw new TypeError("target must be an object");var n=$d(e);if(arguments.length===1)return n;for(var r=1;r<arguments.length;++r){var o=$d(arguments[r]),i=h7(o),s=l_&&($d.getOwnPropertySymbols||m7);if(s)for(var l=s(o),u=0;u<l.length;++u){var f=l[u];qE(o,f)&&d7(i,f)}for(var p=0;p<i.length;++p){var h=i[p];if(qE(o,h)){var d=o[h];n[h]=d}}}return n},y7=g7,v7=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var o=Object.assign({},n),i="";for(var s in o)i+=s;return e!==i},w7=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},S7=function(){return!Object.assign||v7()||w7()?y7:Object.assign},WE=function(e){return e!==e},u_=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||WE(e)&&WE(t))},b7=u_,$S=function(){return typeof Object.is=="function"?Object.is:b7},c_=DS,f_=bg,k7=f_(c_("String.prototype.indexOf")),x7=function(e,t){var n=c_(e,!1);return typeof n=="function"&&k7(e,".prototype.")>-1?f_(n):n},U0,KE;function kg(){if(KE)return U0;KE=1;var e=s_,t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,o=XM,i=function(f){return typeof f=="function"&&n.call(f)==="[object Function]"},s=t_(),l=function(f,p,h,d){if(p in f){if(d===!0){if(f[p]===h)return}else if(!i(d)||!d())return}s?o(f,p,h,!0):o(f,p,h)},u=function(f,p){var h=arguments.length>2?arguments[2]:{},d=e(p);t&&(d=r.call(d,Object.getOwnPropertySymbols(p)));for(var g=0;g<d.length;g+=1)l(f,d[g],p[d[g]],h[d[g]])};return u.supportsDescriptors=!!s,U0=u,U0}var V0,GE;function O7(){if(GE)return V0;GE=1;var e=$S,t=kg();return V0=function(){var n=e();return t(Object,{is:n},{is:function(){return Object.is!==n}}),n},V0}var H0,JE;function E7(){if(JE)return H0;JE=1;var e=kg(),t=bg,n=u_,r=$S,o=O7(),i=t(r(),Object);return e(i,{getPolyfill:r,implementation:n,shim:o}),H0=i,H0}var QE,YE;function p_(){return YE||(YE=1,QE=function(e){return e!==e}),QE}var q0,ZE;function h_(){if(ZE)return q0;ZE=1;var e=p_();return q0=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},q0}var W0,XE;function C7(){if(XE)return W0;XE=1;var e=kg(),t=h_();return W0=function(){var n=t();return e(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},W0}var K0,eC;function N7(){if(eC)return K0;eC=1;var e=bg,t=kg(),n=p_(),r=h_(),o=C7(),i=e(r(),Number);return t(i,{getPolyfill:r,implementation:n,shim:o}),K0=i,K0}var G0,tC;function T7(){if(tC)return G0;tC=1;function e(q,Z){return i(q)||o(q,Z)||n(q,Z)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(q,Z){if(q){if(typeof q=="string")return r(q,Z);var B=Object.prototype.toString.call(q).slice(8,-1);if(B==="Object"&&q.constructor&&(B=q.constructor.name),B==="Map"||B==="Set")return Array.from(q);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return r(q,Z)}}function r(q,Z){(Z==null||Z>q.length)&&(Z=q.length);for(var B=0,ne=new Array(Z);B<Z;B++)ne[B]=q[B];return ne}function o(q,Z){var B=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(B!=null){var ne,be,Fe,Le,et=[],pt=!0,gt=!1;try{if(Fe=(B=B.call(q)).next,Z!==0)for(;!(pt=(ne=Fe.call(B)).done)&&(et.push(ne.value),et.length!==Z);pt=!0);}catch(nn){gt=!0,be=nn}finally{try{if(!pt&&B.return!=null&&(Le=B.return(),Object(Le)!==Le))return}finally{if(gt)throw be}}return et}}function i(q){if(Array.isArray(q))return q}function s(q){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},s(q)}var l=/a/g.flags!==void 0,u=function(q){var Z=[];return q.forEach(function(B){return Z.push(B)}),Z},f=function(q){var Z=[];return q.forEach(function(B,ne){return Z.push([ne,B])}),Z},p=Object.is?Object.is:E7(),h=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},d=Number.isNaN?Number.isNaN:N7();function g(q){return q.call.bind(q)}var y=g(Object.prototype.hasOwnProperty),b=g(Object.prototype.propertyIsEnumerable),N=g(Object.prototype.toString),v=Ac.types,k=v.isAnyArrayBuffer,x=v.isArrayBufferView,D=v.isDate,F=v.isMap,I=v.isRegExp,V=v.isSet,j=v.isNativeError,te=v.isBoxedPrimitive,se=v.isNumberObject,Se=v.isStringObject,me=v.isBooleanObject,W=v.isBigIntObject,G=v.isSymbolObject,U=v.isFloat32Array,re=v.isFloat64Array;function He(q){if(q.length===0||q.length>10)return!0;for(var Z=0;Z<q.length;Z++){var B=q.charCodeAt(Z);if(B<48||B>57)return!0}return q.length===10&&q>=Math.pow(2,32)}function fe(q){return Object.keys(q).filter(He).concat(h(q).filter(Object.prototype.propertyIsEnumerable.bind(q)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function J(q,Z){if(q===Z)return 0;for(var B=q.length,ne=Z.length,be=0,Fe=Math.min(B,ne);be<Fe;++be)if(q[be]!==Z[be]){B=q[be],ne=Z[be];break}return B<ne?-1:ne<B?1:0}var T=!0,le=!1,xe=0,C=1,_=2,P=3;function L(q,Z){return l?q.source===Z.source&&q.flags===Z.flags:RegExp.prototype.toString.call(q)===RegExp.prototype.toString.call(Z)}function pe(q,Z){if(q.byteLength!==Z.byteLength)return!1;for(var B=0;B<q.byteLength;B++)if(q[B]!==Z[B])return!1;return!0}function oe(q,Z){return q.byteLength!==Z.byteLength?!1:J(new Uint8Array(q.buffer,q.byteOffset,q.byteLength),new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength))===0}function ce(q,Z){return q.byteLength===Z.byteLength&&J(new Uint8Array(q),new Uint8Array(Z))===0}function Ce(q,Z){return se(q)?se(Z)&&p(Number.prototype.valueOf.call(q),Number.prototype.valueOf.call(Z)):Se(q)?Se(Z)&&String.prototype.valueOf.call(q)===String.prototype.valueOf.call(Z):me(q)?me(Z)&&Boolean.prototype.valueOf.call(q)===Boolean.prototype.valueOf.call(Z):W(q)?W(Z)&&BigInt.prototype.valueOf.call(q)===BigInt.prototype.valueOf.call(Z):G(Z)&&Symbol.prototype.valueOf.call(q)===Symbol.prototype.valueOf.call(Z)}function Pe(q,Z,B,ne){if(q===Z)return q!==0?!0:B?p(q,Z):!0;if(B){if(s(q)!=="object")return typeof q=="number"&&d(q)&&d(Z);if(s(Z)!=="object"||q===null||Z===null||Object.getPrototypeOf(q)!==Object.getPrototypeOf(Z))return!1}else{if(q===null||s(q)!=="object")return Z===null||s(Z)!=="object"?q==Z:!1;if(Z===null||s(Z)!=="object")return!1}var be=N(q),Fe=N(Z);if(be!==Fe)return!1;if(Array.isArray(q)){if(q.length!==Z.length)return!1;var Le=fe(q),et=fe(Z);return Le.length!==et.length?!1:Y(q,Z,B,ne,C,Le)}if(be==="[object Object]"&&(!F(q)&&F(Z)||!V(q)&&V(Z)))return!1;if(D(q)){if(!D(Z)||Date.prototype.getTime.call(q)!==Date.prototype.getTime.call(Z))return!1}else if(I(q)){if(!I(Z)||!L(q,Z))return!1}else if(j(q)||q instanceof Error){if(q.message!==Z.message||q.name!==Z.name)return!1}else if(x(q)){if(!B&&(U(q)||re(q))){if(!pe(q,Z))return!1}else if(!oe(q,Z))return!1;var pt=fe(q),gt=fe(Z);return pt.length!==gt.length?!1:Y(q,Z,B,ne,xe,pt)}else{if(V(q))return!V(Z)||q.size!==Z.size?!1:Y(q,Z,B,ne,_);if(F(q))return!F(Z)||q.size!==Z.size?!1:Y(q,Z,B,ne,P);if(k(q)){if(!ce(q,Z))return!1}else if(te(q)&&!Ce(q,Z))return!1}return Y(q,Z,B,ne,xe)}function ie(q,Z){return Z.filter(function(B){return b(q,B)})}function Y(q,Z,B,ne,be,Fe){if(arguments.length===5){Fe=Object.keys(q);var Le=Object.keys(Z);if(Fe.length!==Le.length)return!1}for(var et=0;et<Fe.length;et++)if(!y(Z,Fe[et]))return!1;if(B&&arguments.length===5){var pt=h(q);if(pt.length!==0){var gt=0;for(et=0;et<pt.length;et++){var nn=pt[et];if(b(q,nn)){if(!b(Z,nn))return!1;Fe.push(nn),gt++}else if(b(Z,nn))return!1}var kn=h(Z);if(pt.length!==kn.length&&ie(Z,kn).length!==gt)return!1}else{var rn=h(Z);if(rn.length!==0&&ie(Z,rn).length!==0)return!1}}if(Fe.length===0&&(be===xe||be===C&&q.length===0||q.size===0))return!0;if(ne===void 0)ne={val1:new Map,val2:new Map,position:0};else{var Bn=ne.val1.get(q);if(Bn!==void 0){var pn=ne.val2.get(Z);if(pn!==void 0)return Bn===pn}ne.position++}ne.val1.set(q,ne.position),ne.val2.set(Z,ne.position);var pr=Ke(q,Z,B,Fe,ne,be);return ne.val1.delete(q),ne.val2.delete(Z),pr}function ge(q,Z,B,ne){for(var be=u(q),Fe=0;Fe<be.length;Fe++){var Le=be[Fe];if(Pe(Z,Le,B,ne))return q.delete(Le),!0}return!1}function he(q){switch(s(q)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":q=+q;case"number":if(d(q))return!1}return!0}function Qe(q,Z,B){var ne=he(B);return ne??(Z.has(ne)&&!q.has(ne))}function Ze(q,Z,B,ne,be){var Fe=he(B);if(Fe!=null)return Fe;var Le=Z.get(Fe);return Le===void 0&&!Z.has(Fe)||!Pe(ne,Le,!1,be)?!1:!q.has(Fe)&&Pe(ne,Le,!1,be)}function ye(q,Z,B,ne){for(var be=null,Fe=u(q),Le=0;Le<Fe.length;Le++){var et=Fe[Le];if(s(et)==="object"&&et!==null)be===null&&(be=new Set),be.add(et);else if(!Z.has(et)){if(B||!Qe(q,Z,et))return!1;be===null&&(be=new Set),be.add(et)}}if(be!==null){for(var pt=u(Z),gt=0;gt<pt.length;gt++){var nn=pt[gt];if(s(nn)==="object"&&nn!==null){if(!ge(be,nn,B,ne))return!1}else if(!B&&!q.has(nn)&&!ge(be,nn,B,ne))return!1}return be.size===0}return!0}function ee(q,Z,B,ne,be,Fe){for(var Le=u(q),et=0;et<Le.length;et++){var pt=Le[et];if(Pe(B,pt,be,Fe)&&Pe(ne,Z.get(pt),be,Fe))return q.delete(pt),!0}return!1}function $e(q,Z,B,ne){for(var be=null,Fe=f(q),Le=0;Le<Fe.length;Le++){var et=e(Fe[Le],2),pt=et[0],gt=et[1];if(s(pt)==="object"&&pt!==null)be===null&&(be=new Set),be.add(pt);else{var nn=Z.get(pt);if(nn===void 0&&!Z.has(pt)||!Pe(gt,nn,B,ne)){if(B||!Ze(q,Z,pt,gt,ne))return!1;be===null&&(be=new Set),be.add(pt)}}}if(be!==null){for(var kn=f(Z),rn=0;rn<kn.length;rn++){var Bn=e(kn[rn],2),pn=Bn[0],pr=Bn[1];if(s(pn)==="object"&&pn!==null){if(!ee(be,q,pn,pr,B,ne))return!1}else if(!B&&(!q.has(pn)||!Pe(q.get(pn),pr,!1,ne))&&!ee(be,q,pn,pr,!1,ne))return!1}return be.size===0}return!0}function Ke(q,Z,B,ne,be,Fe){var Le=0;if(Fe===_){if(!ye(q,Z,B,be))return!1}else if(Fe===P){if(!$e(q,Z,B,be))return!1}else if(Fe===C)for(;Le<q.length;Le++)if(y(q,Le)){if(!y(Z,Le)||!Pe(q[Le],Z[Le],B,be))return!1}else{if(y(Z,Le))return!1;for(var et=Object.keys(q);Le<et.length;Le++){var pt=et[Le];if(!y(Z,pt)||!Pe(q[pt],Z[pt],B,be))return!1}return et.length===Object.keys(Z).length}for(Le=0;Le<ne.length;Le++){var gt=ne[Le];if(!Pe(q[gt],Z[gt],B,be))return!1}return!0}function kt(q,Z){return Pe(q,Z,le)}function Xe(q,Z){return Pe(q,Z,T)}return G0={isDeepEqual:kt,isDeepStrictEqual:Xe},G0}var nC;function F1(){if(nC)return O0.exports;nC=1;function e(_){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},e(_)}function t(_,P,L){return Object.defineProperty(_,"prototype",{writable:!1}),_}function n(_,P){if(!(_ instanceof P))throw new TypeError("Cannot call a class as a function")}var r=o_(),o=r.codes,i=o.ERR_AMBIGUOUS_ARGUMENT,s=o.ERR_INVALID_ARG_TYPE,l=o.ERR_INVALID_ARG_VALUE,u=o.ERR_INVALID_RETURN_VALUE,f=o.ERR_MISSING_ARGS,p=u7(),h=Ac,d=h.inspect,g=Ac.types,y=g.isPromise,b=g.isRegExp,N=S7(),v=$S(),k=x7("RegExp.prototype.test"),x,D;function F(){var _=T7();x=_.isDeepEqual,D=_.isDeepStrictEqual}var I=!1,V=O0.exports=me,j={};function te(_){throw _.message instanceof Error?_.message:new p(_)}function se(_,P,L,pe,oe){var ce=arguments.length,Ce;if(ce===0)Ce="Failed";else if(ce===1)L=_,_=void 0;else{if(I===!1){I=!0;var Pe=process.emitWarning?process.emitWarning:console.warn.bind(console);Pe("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}ce===2&&(pe="!=")}if(L instanceof Error)throw L;var ie={actual:_,expected:P,operator:pe===void 0?"fail":pe,stackStartFn:oe||se};L!==void 0&&(ie.message=L);var Y=new p(ie);throw Ce&&(Y.message=Ce,Y.generatedMessage=!0),Y}V.fail=se,V.AssertionError=p;function Se(_,P,L,pe){if(!L){var oe=!1;if(P===0)oe=!0,pe="No value argument passed to `assert.ok()`";else if(pe instanceof Error)throw pe;var ce=new p({actual:L,expected:!0,message:pe,operator:"==",stackStartFn:_});throw ce.generatedMessage=oe,ce}}function me(){for(var _=arguments.length,P=new Array(_),L=0;L<_;L++)P[L]=arguments[L];Se.apply(void 0,[me,P.length].concat(P))}V.ok=me,V.equal=function _(P,L,pe){if(arguments.length<2)throw new f("actual","expected");P!=L&&te({actual:P,expected:L,message:pe,operator:"==",stackStartFn:_})},V.notEqual=function _(P,L,pe){if(arguments.length<2)throw new f("actual","expected");P==L&&te({actual:P,expected:L,message:pe,operator:"!=",stackStartFn:_})},V.deepEqual=function _(P,L,pe){if(arguments.length<2)throw new f("actual","expected");x===void 0&&F(),x(P,L)||te({actual:P,expected:L,message:pe,operator:"deepEqual",stackStartFn:_})},V.notDeepEqual=function _(P,L,pe){if(arguments.length<2)throw new f("actual","expected");x===void 0&&F(),x(P,L)&&te({actual:P,expected:L,message:pe,operator:"notDeepEqual",stackStartFn:_})},V.deepStrictEqual=function _(P,L,pe){if(arguments.length<2)throw new f("actual","expected");x===void 0&&F(),D(P,L)||te({actual:P,expected:L,message:pe,operator:"deepStrictEqual",stackStartFn:_})},V.notDeepStrictEqual=W;function W(_,P,L){if(arguments.length<2)throw new f("actual","expected");x===void 0&&F(),D(_,P)&&te({actual:_,expected:P,message:L,operator:"notDeepStrictEqual",stackStartFn:W})}V.strictEqual=function _(P,L,pe){if(arguments.length<2)throw new f("actual","expected");v(P,L)||te({actual:P,expected:L,message:pe,operator:"strictEqual",stackStartFn:_})},V.notStrictEqual=function _(P,L,pe){if(arguments.length<2)throw new f("actual","expected");v(P,L)&&te({actual:P,expected:L,message:pe,operator:"notStrictEqual",stackStartFn:_})};var G=t(function _(P,L,pe){var oe=this;n(this,_),L.forEach(function(ce){ce in P&&(pe!==void 0&&typeof pe[ce]=="string"&&b(P[ce])&&k(P[ce],pe[ce])?oe[ce]=pe[ce]:oe[ce]=P[ce])})});function U(_,P,L,pe,oe,ce){if(!(L in _)||!D(_[L],P[L])){if(!pe){var Ce=new G(_,oe),Pe=new G(P,oe,_),ie=new p({actual:Ce,expected:Pe,operator:"deepStrictEqual",stackStartFn:ce});throw ie.actual=_,ie.expected=P,ie.operator=ce.name,ie}te({actual:_,expected:P,message:pe,operator:ce.name,stackStartFn:ce})}}function re(_,P,L,pe){if(typeof P!="function"){if(b(P))return k(P,_);if(arguments.length===2)throw new s("expected",["Function","RegExp"],P);if(e(_)!=="object"||_===null){var oe=new p({actual:_,expected:P,message:L,operator:"deepStrictEqual",stackStartFn:pe});throw oe.operator=pe.name,oe}var ce=Object.keys(P);if(P instanceof Error)ce.push("name","message");else if(ce.length===0)throw new l("error",P,"may not be an empty object");return x===void 0&&F(),ce.forEach(function(Ce){typeof _[Ce]=="string"&&b(P[Ce])&&k(P[Ce],_[Ce])||U(_,P,Ce,L,ce,pe)}),!0}return P.prototype!==void 0&&_ instanceof P?!0:Error.isPrototypeOf(P)?!1:P.call({},_)===!0}function He(_){if(typeof _!="function")throw new s("fn","Function",_);try{_()}catch(P){return P}return j}function fe(_){return y(_)||_!==null&&e(_)==="object"&&typeof _.then=="function"&&typeof _.catch=="function"}function J(_){return Promise.resolve().then(function(){var P;if(typeof _=="function"){if(P=_(),!fe(P))throw new u("instance of Promise","promiseFn",P)}else if(fe(_))P=_;else throw new s("promiseFn",["Function","Promise"],_);return Promise.resolve().then(function(){return P}).then(function(){return j}).catch(function(L){return L})})}function T(_,P,L,pe){if(typeof L=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],L);if(e(P)==="object"&&P!==null){if(P.message===L)throw new i("error/message",'The error message "'.concat(P.message,'" is identical to the message.'))}else if(P===L)throw new i("error/message",'The error "'.concat(P,'" is identical to the message.'));pe=L,L=void 0}else if(L!=null&&e(L)!=="object"&&typeof L!="function")throw new s("error",["Object","Error","Function","RegExp"],L);if(P===j){var oe="";L&&L.name&&(oe+=" (".concat(L.name,")")),oe+=pe?": ".concat(pe):".";var ce=_.name==="rejects"?"rejection":"exception";te({actual:void 0,expected:L,operator:_.name,message:"Missing expected ".concat(ce).concat(oe),stackStartFn:_})}if(L&&!re(P,L,pe,_))throw P}function le(_,P,L,pe){if(P!==j){if(typeof L=="string"&&(pe=L,L=void 0),!L||re(P,L)){var oe=pe?": ".concat(pe):".",ce=_.name==="doesNotReject"?"rejection":"exception";te({actual:P,expected:L,operator:_.name,message:"Got unwanted ".concat(ce).concat(oe,`
`)+'Actual message: "'.concat(P&&P.message,'"'),stackStartFn:_})}throw P}}V.throws=function _(P){for(var L=arguments.length,pe=new Array(L>1?L-1:0),oe=1;oe<L;oe++)pe[oe-1]=arguments[oe];T.apply(void 0,[_,He(P)].concat(pe))},V.rejects=function _(P){for(var L=arguments.length,pe=new Array(L>1?L-1:0),oe=1;oe<L;oe++)pe[oe-1]=arguments[oe];return J(P).then(function(ce){return T.apply(void 0,[_,ce].concat(pe))})},V.doesNotThrow=function _(P){for(var L=arguments.length,pe=new Array(L>1?L-1:0),oe=1;oe<L;oe++)pe[oe-1]=arguments[oe];le.apply(void 0,[_,He(P)].concat(pe))},V.doesNotReject=function _(P){for(var L=arguments.length,pe=new Array(L>1?L-1:0),oe=1;oe<L;oe++)pe[oe-1]=arguments[oe];return J(P).then(function(ce){return le.apply(void 0,[_,ce].concat(pe))})},V.ifError=function _(P){if(P!=null){var L="ifError got unwanted exception: ";e(P)==="object"&&typeof P.message=="string"?P.message.length===0&&P.constructor?L+=P.constructor.name:L+=P.message:L+=d(P);var pe=new p({actual:P,expected:null,operator:"ifError",message:L,stackStartFn:_}),oe=P.stack;if(typeof oe=="string"){var ce=oe.split(`
`);ce.shift();for(var Ce=pe.stack.split(`
`),Pe=0;Pe<ce.length;Pe++){var ie=Ce.indexOf(ce[Pe]);if(ie!==-1){Ce=Ce.slice(0,ie);break}}pe.stack="".concat(Ce.join(`
`),`
`).concat(ce.join(`
`))}throw pe}};function xe(_,P,L,pe,oe){if(!b(P))throw new s("regexp","RegExp",P);var ce=oe==="match";if(typeof _!="string"||k(P,_)!==ce){if(L instanceof Error)throw L;var Ce=!L;L=L||(typeof _!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(_)," (").concat(d(_),")"):(ce?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(d(P),`. Input:

`).concat(d(_),`
`));var Pe=new p({actual:_,expected:P,message:L,operator:oe,stackStartFn:pe});throw Pe.generatedMessage=Ce,Pe}}V.match=function _(P,L,pe){xe(P,L,pe,_,"match")},V.doesNotMatch=function _(P,L,pe){xe(P,L,pe,_,"doesNotMatch")};function C(){for(var _=arguments.length,P=new Array(_),L=0;L<_;L++)P[L]=arguments[L];Se.apply(void 0,[C,P.length].concat(P))}return V.strict=N(C,V,{equal:V.strictEqual,deepEqual:V.deepStrictEqual,notEqual:V.notStrictEqual,notDeepEqual:V.notDeepStrictEqual}),V.strict.strict=V.strict,O0.exports}var A7=F1();const M7=aS(A7);var L1,j1;if(typeof WeakMap<"u"){let e=new WeakMap;L1=t=>e.get(t),j1=(t,n)=>(e.set(t,n),n)}else{const e=[];let t=0;L1=n=>{for(let r=0;r<e.length;r+=2)if(e[r]==n)return e[r+1]},j1=(n,r)=>(t==10&&(t=0),e[t++]=n,e[t++]=r)}var An=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,o=t/this.width|0;let i=r+1,s=o+1;for(let l=1;i<this.width&&this.map[t+l]==n;l++)i++;for(let l=1;s<this.height&&this.map[t+this.width*l]==n;l++)s++;return{left:r,top:o,right:i,bottom:s}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:o,top:i,bottom:s}=this.findCell(e);return t=="horiz"?(n<0?r==0:o==this.width)?null:this.map[i*this.width+(n<0?r-1:o)]:(n<0?i==0:s==this.height)?null:this.map[r+this.width*(n<0?i-1:s)]}rectBetween(e,t){const{left:n,right:r,top:o,bottom:i}=this.findCell(e),{left:s,right:l,top:u,bottom:f}=this.findCell(t);return{left:Math.min(n,s),top:Math.min(o,u),right:Math.max(r,l),bottom:Math.max(i,f)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let o=e.left;o<e.right;o++){const i=r*this.width+o,s=this.map[i];n[s]||(n[s]=!0,!(o==e.left&&o&&this.map[i-1]==s||r==e.top&&r&&this.map[i-this.width]==s)&&t.push(s))}return t}positionAt(e,t,n){for(let r=0,o=0;;r++){const i=o+n.child(r).nodeSize;if(r==e){let s=t+e*this.width;const l=(e+1)*this.width;for(;s<l&&this.map[s]<o;)s++;return s==l?i-1:this.map[s]}o=i}}static get(e){return L1(e)||j1(e,_7(e))}};function _7(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=R7(e),n=e.childCount,r=[];let o=0,i=null;const s=[];for(let f=0,p=t*n;f<p;f++)r[f]=0;for(let f=0,p=0;f<n;f++){const h=e.child(f);p++;for(let y=0;;y++){for(;o<r.length&&r[o]!=0;)o++;if(y==h.childCount)break;const b=h.child(y),{colspan:N,rowspan:v,colwidth:k}=b.attrs;for(let x=0;x<v;x++){if(x+f>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:p,n:v-x});break}const D=o+x*t;for(let F=0;F<N;F++){r[D+F]==0?r[D+F]=p:(i||(i=[])).push({type:"collision",row:f,pos:p,n:N-F});const I=k&&k[F];if(I){const V=(D+F)%t*2,j=s[V];j==null||j!=I&&s[V+1]==1?(s[V]=I,s[V+1]=1):j==I&&s[V+1]++}}}o+=N,p+=b.nodeSize}const d=(f+1)*t;let g=0;for(;o<d;)r[o++]==0&&g++;g&&(i||(i=[])).push({type:"missing",row:f,n:g}),p++}(t===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new An(t,n,r,i);let u=!1;for(let f=0;!u&&f<s.length;f+=2)s[f]!=null&&s[f+1]<n&&(u=!0);return u&&D7(l,s,e),l}function R7(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const o=e.child(r);let i=0;if(n)for(let s=0;s<r;s++){const l=e.child(s);for(let u=0;u<l.childCount;u++){const f=l.child(u);s+f.attrs.rowspan>r&&(i+=f.attrs.colspan)}}for(let s=0;s<o.childCount;s++){const l=o.child(s);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}t==-1?t=i:t!=i&&(t=Math.max(t,i))}return t}function D7(e,t,n){e.problems||(e.problems=[]);const r={};for(let o=0;o<e.map.length;o++){const i=e.map[o];if(r[i])continue;r[i]=!0;const s=n.nodeAt(i);if(!s)throw new RangeError(`No cell with offset ${i} found`);let l=null;const u=s.attrs;for(let f=0;f<u.colspan;f++){const p=(o+f)%e.width,h=t[p*2];h!=null&&(!u.colwidth||u.colwidth[f]!=h)&&((l||(l=I7(u)))[f]=h)}l&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function I7(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function rC(e,t){if(typeof e=="string")return{};const n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(s=>Number(s)):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(const s in t){const l=t[s].getFromDOM,u=l&&l(e);u!=null&&(i[s]=u)}return i}function oC(e,t){const n={};e.attrs.colspan!=1&&(n.colspan=e.attrs.colspan),e.attrs.rowspan!=1&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(const r in t){const o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function P7(e){if(e!==null){if(!Array.isArray(e))throw new TypeError("colwidth must be null or an array");for(const t of e)if(typeof t!="number")throw new TypeError("colwidth must be null or an array of numbers")}}function $7(e){const t=e.cellAttributes||{},n={colspan:{default:1,validate:"number"},rowspan:{default:1,validate:"number"},colwidth:{default:null,validate:P7}};for(const r in t)n[r]={default:t[r].default,validate:t[r].validate};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:r=>rC(r,t)}],toDOM(r){return["td",oC(r,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:r=>rC(r,t)}],toDOM(r){return["th",oC(r,t),0]}}}}function Yi(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}}return t}var bl=new Up("selectingCells");function Qp(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function FS(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function d_(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=Qp(t.$head)||F7(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function F7(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function z1(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function LS(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function m_(e,t,n){const r=e.node(-1),o=An.get(r),i=e.start(-1),s=o.nextCell(e.pos-i,t,n);return s==null?null:e.node(0).resolve(i+s)}function _c(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(o=>o>0)||(r.colwidth=null)),r}var fr=class bs extends Mt{constructor(t,n=t){const r=t.node(-1),o=An.get(r),i=t.start(-1),s=o.rectBetween(t.pos-i,n.pos-i),l=t.node(0),u=o.cellsInRect(s).filter(p=>p!=n.pos-i);u.unshift(n.pos-i);const f=u.map(p=>{const h=r.nodeAt(p);if(!h)throw RangeError(`No cell with offset ${p} found`);const d=i+p+1;return new VA(l.resolve(d),l.resolve(d+h.content.size))});super(f[0].$from,f[0].$to,f),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(z1(r)&&z1(o)&&LS(r,o)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?bs.rowSelection(r,o):i&&this.isColSelection()?bs.colSelection(r,o):new bs(r,o)}return _t.between(r,o)}content(){const t=this.$anchorCell.node(-1),n=An.get(t),r=this.$anchorCell.start(-1),o=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},s=[];for(let u=o.top;u<o.bottom;u++){const f=[];for(let p=u*n.width+o.left,h=o.left;h<o.right;h++,p++){const d=n.map[p];if(i[d])continue;i[d]=!0;const g=n.findCell(d);let y=t.nodeAt(d);if(!y)throw RangeError(`No cell with offset ${d} found`);const b=o.left-g.left,N=g.right-o.right;if(b>0||N>0){let v=y.attrs;if(b>0&&(v=_c(v,0,b)),N>0&&(v=_c(v,v.colspan-N,N)),g.left<o.left){if(y=y.type.createAndFill(v),!y)throw RangeError(`Could not create cell with attrs ${JSON.stringify(v)}`)}else y=y.type.create(v,y.content)}if(g.top<o.top||g.bottom>o.bottom){const v={...y.attrs,rowspan:Math.min(g.bottom,o.bottom)-Math.max(g.top,o.top)};g.top<o.top?y=y.type.createAndFill(v):y=y.type.create(v,y.content)}f.push(y)}s.push(t.child(u).copy(je.from(f)))}const l=this.isColSelection()&&this.isRowSelection()?t:s;return new We(je.from(l),1,1)}replace(t,n=We.empty){const r=t.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){const{$from:l,$to:u}=o[s],f=t.mapping.slice(r);t.replace(f.map(l.pos),f.map(u.pos),s?We.empty:n)}const i=Mt.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,n){this.replace(t,new We(je.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=An.get(n),o=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let s=0;s<i.length;s++)t(n.nodeAt(i[s]),o+i[s])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,o=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,o)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),o=An.get(r),i=t.start(-1),s=o.findCell(t.pos-i),l=o.findCell(n.pos-i),u=t.node(0);return s.top<=l.top?(s.top>0&&(t=u.resolve(i+o.map[s.left])),l.bottom<o.height&&(n=u.resolve(i+o.map[o.width*(o.height-1)+l.right-1]))):(l.top>0&&(n=u.resolve(i+o.map[l.left])),s.bottom<o.height&&(t=u.resolve(i+o.map[o.width*(o.height-1)+s.right-1]))),new bs(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=An.get(t),r=this.$anchorCell.start(-1),o=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(o,i)>0)return!1;const s=o+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,l)==n.width}eq(t){return t instanceof bs&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),o=An.get(r),i=t.start(-1),s=o.findCell(t.pos-i),l=o.findCell(n.pos-i),u=t.node(0);return s.left<=l.left?(s.left>0&&(t=u.resolve(i+o.map[s.top*o.width])),l.right<o.width&&(n=u.resolve(i+o.map[o.width*(l.top+1)-1]))):(l.left>0&&(n=u.resolve(i+o.map[l.top*o.width])),s.right<o.width&&(t=u.resolve(i+o.map[o.width*(s.top+1)-1]))),new bs(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new bs(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new bs(t.resolve(n),t.resolve(r))}getBookmark(){return new L7(this.$anchorCell.pos,this.$headCell.pos)}};fr.prototype.visible=!1;Mt.jsonID("cell",fr);var L7=class g_{constructor(t,n){this.anchor=t,this.head=n}map(t){return new g_(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&LS(n,r)?new fr(n,r):Mt.near(r,1)}};function j7(e){if(!(e.selection instanceof fr))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(Vr.node(r,r+n.nodeSize,{class:"selectedCell"}))}),$n.create(e.doc,t)}function z7({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,o=e.depth;for(;o>=0&&!(e.after(o+1)<e.end(o));o--,n++);for(let i=t.depth;i>=0&&!(t.before(i+1)>t.start(i));i--,r--);return n==r&&/row|table/.test(e.node(o).type.spec.tableRole)}function B7({$from:e,$to:t}){let n,r;for(let o=e.depth;o>0;o--){const i=e.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let o=t.depth;o>0;o--){const i=t.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&t.parentOffset===0}function U7(e,t,n){const r=(t||e).selection,o=(t||e).doc;let i,s;if(r instanceof vt&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")i=fr.create(o,r.from);else if(s=="row"){const l=o.resolve(r.from+1);i=fr.rowSelection(l,l)}else if(!n){const l=An.get(r.node),u=r.from+1,f=u+l.map[l.width*l.height-1];i=fr.create(o,u+1,f)}}else r instanceof _t&&z7(r)?i=_t.create(o,r.from):r instanceof _t&&B7(r)&&(i=_t.create(o,r.$from.start(),r.$from.end()));return i&&(t||(t=e.tr)).setSelection(i),t}var V7=new Up("fix-tables");function y_(e,t,n,r){const o=e.childCount,i=t.childCount;e:for(let s=0,l=0;s<i;s++){const u=t.child(s);for(let f=l,p=Math.min(o,s+3);f<p;f++)if(e.child(f)==u){l=f+1,n+=u.nodeSize;continue e}r(u,n),l<o&&e.child(l).sameMarkup(u)?y_(e.child(l),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function v_(e,t){let n;const r=(o,i)=>{o.type.spec.tableRole=="table"&&(n=H7(e,o,i,n))};return t?t.doc!=e.doc&&y_(t.doc,e.doc,0,r):e.doc.descendants(r),n}function H7(e,t,n,r){const o=An.get(t);if(!o.problems)return r;r||(r=e.tr);const i=[];for(let u=0;u<o.height;u++)i.push(0);for(let u=0;u<o.problems.length;u++){const f=o.problems[u];if(f.type=="collision"){const p=t.nodeAt(f.pos);if(!p)continue;const h=p.attrs;for(let d=0;d<h.rowspan;d++)i[f.row+d]+=f.n;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,_c(h,h.colspan-f.n,f.n))}else if(f.type=="missing")i[f.row]+=f.n;else if(f.type=="overlong_rowspan"){const p=t.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,rowspan:p.attrs.rowspan-f.n})}else if(f.type=="colwidth mismatch"){const p=t.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,colwidth:f.colwidth})}else if(f.type=="zero_sized"){const p=r.mapping.map(n);r.delete(p,p+t.nodeSize)}}let s,l;for(let u=0;u<i.length;u++)i[u]&&(s==null&&(s=u),l=u);for(let u=0,f=n+1;u<o.height;u++){const p=t.child(u),h=f+p.nodeSize,d=i[u];if(d>0){let g="cell";p.firstChild&&(g=p.firstChild.type.spec.tableRole);const y=[];for(let N=0;N<d;N++){const v=Yi(e.schema)[g].createAndFill();v&&y.push(v)}const b=(u==0||s==u-1)&&l==u?f+1:h-1;r.insert(r.mapping.map(b),y)}f=h}return r.setMeta(V7,{fixTables:!0})}function w_(e){const t=e.selection,n=d_(e),r=n.node(-1),o=n.start(-1),i=An.get(r);return{...t instanceof fr?i.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):i.findCell(n.pos-o),tableStart:o,map:i,table:r}}function q7(e){return function(t,n){if(!FS(t))return!1;if(n){const r=Yi(t.schema),o=w_(t),i=t.tr,s=o.map.cellsInRect(e=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:e=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),l=s.map(u=>o.table.nodeAt(u));for(let u=0;u<s.length;u++)l[u].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[u],r.cell,l[u].attrs);if(i.steps.length==0)for(let u=0;u<s.length;u++)i.setNodeMarkup(o.tableStart+s[u],r.header_cell,l[u].attrs);n(i)}return!0}}function iC(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let o=0;o<r.length;o++){const i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function jS(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?q7(e):function(n,r){if(!FS(n))return!1;if(r){const o=Yi(n.schema),i=w_(n),s=n.tr,l=iC("row",i,o),u=iC("column",i,o),f=(e==="column"?l:e==="row"&&u)?1:0,p=e=="column"?{left:0,top:f,right:1,bottom:i.map.height}:e=="row"?{left:f,top:0,right:i.map.width,bottom:1}:i,h=e=="column"?u?o.cell:o.header_cell:e=="row"?l?o.cell:o.header_cell:o.cell;i.map.cellsInRect(p).forEach(d=>{const g=d+i.tableStart,y=s.doc.nodeAt(g);y&&s.setNodeMarkup(g,h,y.attrs)}),r(s)}return!0}}jS("row",{useDeprecatedLogic:!0});jS("column",{useDeprecatedLogic:!0});jS("cell",{useDeprecatedLogic:!0});function rd(e,t){const n=e.selection;if(!(n instanceof fr))return!1;if(t){const r=e.tr,o=Yi(e.schema).cell.createAndFill().content;n.forEachCell((i,s)=>{i.content.eq(o)||r.replace(r.mapping.map(s+1),r.mapping.map(s+i.nodeSize-1),new We(o,0,0))}),r.docChanged&&t(r)}return!0}function W7(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const o=t.child(0),i=o.type.spec.tableRole,s=o.type.schema,l=[];if(i=="row")for(let u=0;u<t.childCount;u++){let f=t.child(u).content;const p=u?0:Math.max(0,n-1),h=u<t.childCount-1?0:Math.max(0,r-1);(p||h)&&(f=B1(Yi(s).row,new We(f,p,h)).content),l.push(f)}else if(i=="cell"||i=="header_cell")l.push(n||r?B1(Yi(s).row,new We(t,n,r)).content:t);else return null;return K7(s,l)}function K7(e,t){const n=[];for(let o=0;o<t.length;o++){const i=t[o];for(let s=i.childCount-1;s>=0;s--){const{rowspan:l,colspan:u}=i.child(s).attrs;for(let f=o;f<o+l;f++)n[f]=(n[f]||0)+u}}let r=0;for(let o=0;o<n.length;o++)r=Math.max(r,n[o]);for(let o=0;o<n.length;o++)if(o>=t.length&&t.push(je.empty),n[o]<r){const i=Yi(e).cell.createAndFill(),s=[];for(let l=n[o];l<r;l++)s.push(i);t[o]=t[o].append(je.from(s))}return{height:t.length,width:r,rows:t}}function B1(e,t){const n=e.createAndFill();return new UA(n).replace(0,n.content.size,t).doc}function G7({width:e,height:t,rows:n},r,o){if(e!=r){const i=[],s=[];for(let l=0;l<n.length;l++){const u=n[l],f=[];for(let p=i[l]||0,h=0;p<r;h++){let d=u.child(h%u.childCount);p+d.attrs.colspan>r&&(d=d.type.createChecked(_c(d.attrs,d.attrs.colspan,p+d.attrs.colspan-r),d.content)),f.push(d),p+=d.attrs.colspan;for(let g=1;g<d.attrs.rowspan;g++)i[l+g]=(i[l+g]||0)+d.attrs.colspan}s.push(je.from(f))}n=s,e=r}if(t!=o){const i=[];for(let s=0,l=0;s<o;s++,l++){const u=[],f=n[l%t];for(let p=0;p<f.childCount;p++){let h=f.child(p);s+h.attrs.rowspan>o&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,o-h.attrs.rowspan)},h.content)),u.push(h)}i.push(je.from(u))}n=i,t=o}return{width:e,height:t,rows:n}}function J7(e,t,n,r,o,i,s){const l=e.doc.type.schema,u=Yi(l);let f,p;if(o>t.width)for(let h=0,d=0;h<t.height;h++){const g=n.child(h);d+=g.nodeSize;const y=[];let b;g.lastChild==null||g.lastChild.type==u.cell?b=f||(f=u.cell.createAndFill()):b=p||(p=u.header_cell.createAndFill());for(let N=t.width;N<o;N++)y.push(b);e.insert(e.mapping.slice(s).map(d-1+r),y)}if(i>t.height){const h=[];for(let y=0,b=(t.height-1)*t.width;y<Math.max(t.width,o);y++){const N=y>=t.width?!1:n.nodeAt(t.map[b+y]).type==u.header_cell;h.push(N?p||(p=u.header_cell.createAndFill()):f||(f=u.cell.createAndFill()))}const d=u.row.create(null,je.from(h)),g=[];for(let y=t.height;y<i;y++)g.push(d);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),g)}return!!(f||p)}function sC(e,t,n,r,o,i,s,l){if(s==0||s==t.height)return!1;let u=!1;for(let f=o;f<i;f++){const p=s*t.width+f,h=t.map[p];if(t.map[p-t.width]==h){u=!0;const d=n.nodeAt(h),{top:g,left:y}=t.findCell(h);e.setNodeMarkup(e.mapping.slice(l).map(h+r),null,{...d.attrs,rowspan:s-g}),e.insert(e.mapping.slice(l).map(t.positionAt(s,y,n)),d.type.createAndFill({...d.attrs,rowspan:g+d.attrs.rowspan-s})),f+=d.attrs.colspan-1}}return u}function lC(e,t,n,r,o,i,s,l){if(s==0||s==t.width)return!1;let u=!1;for(let f=o;f<i;f++){const p=f*t.width+s,h=t.map[p];if(t.map[p-1]==h){u=!0;const d=n.nodeAt(h),g=t.colCount(h),y=e.mapping.slice(l).map(h+r);e.setNodeMarkup(y,null,_c(d.attrs,s-g,d.attrs.colspan-(s-g))),e.insert(y+d.nodeSize,d.type.createAndFill(_c(d.attrs,0,s-g))),f+=d.attrs.rowspan-1}}return u}function aC(e,t,n,r,o){let i=n?e.doc.nodeAt(n-1):e.doc;if(!i)throw new Error("No table found");let s=An.get(i);const{top:l,left:u}=r,f=u+o.width,p=l+o.height,h=e.tr;let d=0;function g(){if(i=n?h.doc.nodeAt(n-1):h.doc,!i)throw new Error("No table found");s=An.get(i),d=h.mapping.maps.length}J7(h,s,i,n,f,p,d)&&g(),sC(h,s,i,n,u,f,l,d)&&g(),sC(h,s,i,n,u,f,p,d)&&g(),lC(h,s,i,n,l,p,u,d)&&g(),lC(h,s,i,n,l,p,f,d)&&g();for(let y=l;y<p;y++){const b=s.positionAt(y,u,i),N=s.positionAt(y,f,i);h.replace(h.mapping.slice(d).map(b+n),h.mapping.slice(d).map(N+n),new We(o.rows[y-l],0,0))}g(),h.setSelection(new fr(h.doc.resolve(n+s.positionAt(l,u,i)),h.doc.resolve(n+s.positionAt(p-1,f-1,i)))),t(h)}var Q7=$M({ArrowLeft:od("horiz",-1),ArrowRight:od("horiz",1),ArrowUp:od("vert",-1),ArrowDown:od("vert",1),"Shift-ArrowLeft":id("horiz",-1),"Shift-ArrowRight":id("horiz",1),"Shift-ArrowUp":id("vert",-1),"Shift-ArrowDown":id("vert",1),Backspace:rd,"Mod-Backspace":rd,Delete:rd,"Mod-Delete":rd});function Fd(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function od(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;if(i instanceof fr)return Fd(n,r,Mt.near(i.$headCell,t));if(e!="horiz"&&!i.empty)return!1;const s=S_(o,e,t);if(s==null)return!1;if(e=="horiz")return Fd(n,r,Mt.near(n.doc.resolve(i.head+t),t));{const l=n.doc.resolve(s),u=m_(l,e,t);let f;return u?f=Mt.near(u,1):t<0?f=Mt.near(n.doc.resolve(l.before(-1)),-1):f=Mt.near(n.doc.resolve(l.after(-1)),1),Fd(n,r,f)}}}function id(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;let s;if(i instanceof fr)s=i;else{const u=S_(o,e,t);if(u==null)return!1;s=new fr(n.doc.resolve(u))}const l=m_(s.$headCell,e,t);return l?Fd(n,r,new fr(s.$anchorCell,l)):!1}}function Y7(e,t){const n=e.state.doc,r=Qp(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new fr(r))),!0):!1}function Z7(e,t,n){if(!FS(e.state))return!1;let r=W7(n);const o=e.state.selection;if(o instanceof fr){r||(r={width:1,height:1,rows:[je.from(B1(Yi(e.state.schema).cell,n))]});const i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),l=An.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=G7(r,l.right-l.left,l.bottom-l.top),aC(e.state,e.dispatch,s,l,r),!0}else if(r){const i=d_(e.state),s=i.start(-1);return aC(e.state,e.dispatch,s,An.get(i.node(-1)).findCell(i.pos-s),r),!0}else return!1}function X7(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=uC(e,t.target);let o;if(t.shiftKey&&e.state.selection instanceof fr)i(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(o=Qp(e.state.selection.$anchor))!=null&&((n=J0(e,t))==null?void 0:n.pos)!=o.pos)i(o,t),t.preventDefault();else if(!r)return;function i(u,f){let p=J0(e,f);const h=bl.getState(e.state)==null;if(!p||!LS(u,p))if(h)p=u;else return;const d=new fr(u,p);if(h||!e.state.selection.eq(d)){const g=e.state.tr.setSelection(d);h&&g.setMeta(bl,u.pos),e.dispatch(g)}}function s(){e.root.removeEventListener("mouseup",s),e.root.removeEventListener("dragstart",s),e.root.removeEventListener("mousemove",l),bl.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(bl,-1))}function l(u){const f=u,p=bl.getState(e.state);let h;if(p!=null)h=e.state.doc.resolve(p);else if(uC(e,f.target)!=r&&(h=J0(e,t),!h))return s();h&&i(h,f)}e.root.addEventListener("mouseup",s),e.root.addEventListener("dragstart",s),e.root.addEventListener("mousemove",l)}function S_(e,t,n){if(!(e.state.selection instanceof _t))return null;const{$head:r}=e.state.selection;for(let o=r.depth-1;o>=0;o--){const i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const s=r.before(o),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?s:null}}return null}function uC(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function J0(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Qp(e.state.doc.resolve(n.pos)):null}var eU=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),U1(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,U1(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function U1(e,t,n,r,o,i){var s;let l=0,u=!0,f=t.firstChild;const p=e.firstChild;if(p){for(let h=0,d=0;h<p.childCount;h++){const{colspan:g,colwidth:y}=p.child(h).attrs;for(let b=0;b<g;b++,d++){const N=o==d?i:y&&y[b],v=N?N+"px":"";if(l+=N||r,N||(u=!1),f)f.style.width!=v&&(f.style.width=v),f=f.nextSibling;else{const k=document.createElement("col");k.style.width=v,t.appendChild(k)}}}for(;f;){const h=f.nextSibling;(s=f.parentNode)==null||s.removeChild(f),f=h}u?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var Oo=new Up("tableColumnResizing");function tU({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=eU,lastColumnResizable:o=!0}={}){const i=new Ql({key:Oo,state:{init(s,l){var u,f;const p=(f=(u=i.spec)==null?void 0:u.props)==null?void 0:f.nodeViews,h=Yi(l.schema).table.name;return r&&p&&(p[h]=(d,g)=>new r(d,n,g)),new nU(-1,!1)},apply(s,l){return l.apply(s)}},props:{attributes:s=>{const l=Oo.getState(s);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,l)=>{rU(s,l,e,o)},mouseleave:s=>{oU(s)},mousedown:(s,l)=>{iU(s,l,t,n)}},decorations:s=>{const l=Oo.getState(s);if(l&&l.activeHandle>-1)return cU(s,l.activeHandle)},nodeViews:{}}});return i}var nU=class Ld{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(Oo);if(r&&r.setHandle!=null)return new Ld(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Ld(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let o=t.mapping.map(n.activeHandle,-1);return z1(t.doc.resolve(o))||(o=-1),new Ld(o,n.dragging)}return n}};function rU(e,t,n,r){if(!e.editable)return;const o=Oo.getState(e.state);if(o&&!o.dragging){const i=lU(t.target);let s=-1;if(i){const{left:l,right:u}=i.getBoundingClientRect();t.clientX-l<=n?s=cC(e,t,"left",n):u-t.clientX<=n&&(s=cC(e,t,"right",n))}if(s!=o.activeHandle){if(!r&&s!==-1){const l=e.state.doc.resolve(s),u=l.node(-1),f=An.get(u),p=l.start(-1);if(f.colCount(l.pos-p)+l.nodeAfter.attrs.colspan-1==f.width-1)return}b_(e,s)}}}function oU(e){if(!e.editable)return;const t=Oo.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&b_(e,-1)}function iU(e,t,n,r){var o;if(!e.editable)return!1;const i=(o=e.dom.ownerDocument.defaultView)!=null?o:window,s=Oo.getState(e.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const l=e.state.doc.nodeAt(s.activeHandle),u=sU(e,s.activeHandle,l.attrs);e.dispatch(e.state.tr.setMeta(Oo,{setDragging:{startX:t.clientX,startWidth:u}}));function f(h){i.removeEventListener("mouseup",f),i.removeEventListener("mousemove",p);const d=Oo.getState(e.state);d!=null&&d.dragging&&(aU(e,d.activeHandle,fC(d.dragging,h,n)),e.dispatch(e.state.tr.setMeta(Oo,{setDragging:null})))}function p(h){if(!h.which)return f(h);const d=Oo.getState(e.state);if(d&&d.dragging){const g=fC(d.dragging,h,n);pC(e,d.activeHandle,g,r)}}return pC(e,s.activeHandle,u,r),i.addEventListener("mouseup",f),i.addEventListener("mousemove",p),t.preventDefault(),!0}function sU(e,t,{colspan:n,colwidth:r}){const o=r&&r[r.length-1];if(o)return o;const i=e.domAtPos(t);let s=i.node.childNodes[i.offset].offsetWidth,l=n;if(r)for(let u=0;u<n;u++)r[u]&&(s-=r[u],l--);return s/l}function lU(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function cC(e,t,n,r){const o=n=="right"?-r:r,i=e.posAtCoords({left:t.clientX+o,top:t.clientY});if(!i)return-1;const{pos:s}=i,l=Qp(e.state.doc.resolve(s));if(!l)return-1;if(n=="right")return l.pos;const u=An.get(l.node(-1)),f=l.start(-1),p=u.map.indexOf(l.pos-f);return p%u.width==0?-1:f+u.map[p-1]}function fC(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function b_(e,t){e.dispatch(e.state.tr.setMeta(Oo,{setHandle:t}))}function aU(e,t,n){const r=e.state.doc.resolve(t),o=r.node(-1),i=An.get(o),s=r.start(-1),l=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,u=e.state.tr;for(let f=0;f<i.height;f++){const p=f*i.width+l;if(f&&i.map[p]==i.map[p-i.width])continue;const h=i.map[p],d=o.nodeAt(h).attrs,g=d.colspan==1?0:l-i.colCount(h);if(d.colwidth&&d.colwidth[g]==n)continue;const y=d.colwidth?d.colwidth.slice():uU(d.colspan);y[g]=n,u.setNodeMarkup(s+h,null,{...d,colwidth:y})}u.docChanged&&e.dispatch(u)}function pC(e,t,n,r){const o=e.state.doc.resolve(t),i=o.node(-1),s=o.start(-1),l=An.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1;let u=e.domAtPos(o.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&U1(i,u.firstChild,u,r,l,n)}function uU(e){return Array(e).fill(0)}function cU(e,t){var n;const r=[],o=e.doc.resolve(t),i=o.node(-1);if(!i)return $n.empty;const s=An.get(i),l=o.start(-1),u=s.colCount(o.pos-l)+o.nodeAfter.attrs.colspan-1;for(let f=0;f<s.height;f++){const p=u+f*s.width;if((u==s.width-1||s.map[p]!=s.map[p+1])&&(f==0||s.map[p]!=s.map[p-s.width])){const h=s.map[p],d=l+h+i.nodeAt(h).nodeSize-1,g=document.createElement("div");g.className="column-resize-handle",(n=Oo.getState(e))!=null&&n.dragging&&r.push(Vr.node(l+h,l+h+i.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),r.push(Vr.widget(d,g))}}return $n.create(e.doc,r)}function fU({allowTableNodeSelection:e=!1}={}){return new Ql({key:bl,state:{init(){return null},apply(t,n){const r=t.getMeta(bl);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:o,pos:i}=t.mapping.mapResult(n);return o?null:i}},props:{decorations:j7,handleDOMEvents:{mousedown:X7},createSelectionBetween(t){return bl.getState(t.state)!=null?t.state.selection:null},handleTripleClick:Y7,handleKeyDown:Q7,handlePaste:Z7},appendTransaction(t,n,r){return U7(r,v_(r,n),e)}})}var Hf={},pU={},_f=nL;if(pU.NODE_ENV==="production")Hf.createRoot=_f.createRoot,Hf.hydrateRoot=_f.hydrateRoot;else{var sd=_f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Hf.createRoot=function(e,t){sd.usingClientEntryPoint=!0;try{return _f.createRoot(e,t)}finally{sd.usingClientEntryPoint=!1}},Hf.hydrateRoot=function(e,t,n){sd.usingClientEntryPoint=!0;try{return _f.hydrateRoot(e,t,n)}finally{sd.usingClientEntryPoint=!1}}}const hU=({visible:e,x:t,y:n,message:r="This cell is protected and cannot be edited"})=>e?qt.jsx("div",{className:"fixed z-50 bg-gray-600 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none",style:{left:t,top:n-30,transform:"translateX(-50%)"},children:qt.jsxs("div",{className:"relative",children:[r,qt.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0",style:{borderLeft:"4px solid transparent",borderRight:"4px solid transparent",borderTop:"4px solid #4b5563"}})]})}):null;/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var V1=9e15,Zl=1e9,H1="0123456789abcdef",Bm="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Um="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",q1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:V1,crypto:!1},k_,Ms,mt=!0,xg="[DecimalError] ",ql=xg+"Invalid argument: ",x_=xg+"Precision limit exceeded",O_=xg+"crypto unavailable",E_="[object Decimal]",Pr=Math.floor,tr=Math.pow,dU=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,mU=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,gU=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,C_=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gi=1e7,at=7,yU=9007199254740991,vU=Bm.length-1,W1=Um.length-1,Ne={toStringTag:E_};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),rt(e)};Ne.ceil=function(){return rt(new this.constructor(this),this.e+1,2)};Ne.clampedTo=Ne.clamp=function(e,t){var n,r=this,o=r.constructor;if(e=new o(e),t=new o(t),!e.s||!t.s)return new o(NaN);if(e.gt(t))throw Error(ql+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new o(r)};Ne.comparedTo=Ne.cmp=function(e){var t,n,r,o,i=this,s=i.d,l=(e=new i.constructor(e)).d,u=i.s,f=e.s;if(!s||!l)return!u||!f?NaN:u!==f?u:s===l?0:!s^u<0?1:-1;if(!s[0]||!l[0])return s[0]?u:l[0]?-f:0;if(u!==f)return u;if(i.e!==e.e)return i.e>e.e^u<0?1:-1;for(r=s.length,o=l.length,t=0,n=r<o?r:o;t<n;++t)if(s[t]!==l[t])return s[t]>l[t]^u<0?1:-1;return r===o?0:r>o^u<0?1:-1};Ne.cosine=Ne.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+at,r.rounding=1,n=wU(r,__(r,n)),r.precision=e,r.rounding=t,rt(Ms==2||Ms==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};Ne.cubeRoot=Ne.cbrt=function(){var e,t,n,r,o,i,s,l,u,f,p=this,h=p.constructor;if(!p.isFinite()||p.isZero())return new h(p);for(mt=!1,i=p.s*tr(p.s*p,1/3),!i||Math.abs(i)==1/0?(n=Sr(p.d),e=p.e,(i=(e-n.length+1)%3)&&(n+=i==1||i==-2?"0":"00"),i=tr(n,1/3),e=Pr((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?n="5e"+e:(n=i.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new h(n),r.s=p.s):r=new h(i.toString()),s=(e=h.precision)+3;;)if(l=r,u=l.times(l).times(l),f=u.plus(p),r=fn(f.plus(p).times(l),f.plus(u),s+2,1),Sr(l.d).slice(0,s)===(n=Sr(r.d)).slice(0,s))if(n=n.slice(s-3,s+1),n=="9999"||!o&&n=="4999"){if(!o&&(rt(l,e+1,0),l.times(l).times(l).eq(p))){r=l;break}s+=4,o=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(rt(r,e+1,1),t=!r.times(r).times(r).eq(p));break}return mt=!0,rt(r,e,h.rounding,t)};Ne.decimalPlaces=Ne.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-Pr(this.e/at))*at,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};Ne.dividedBy=Ne.div=function(e){return fn(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.divToInt=function(e){var t=this,n=t.constructor;return rt(fn(t,new n(e),0,1,1),n.precision,n.rounding)};Ne.equals=Ne.eq=function(e){return this.cmp(e)===0};Ne.floor=function(){return rt(new this.constructor(this),this.e+1,3)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){var t=this.cmp(e);return t==1||t===0};Ne.hyperbolicCosine=Ne.cosh=function(){var e,t,n,r,o,i=this,s=i.constructor,l=new s(1);if(!i.isFinite())return new s(i.s?1/0:NaN);if(i.isZero())return l;n=s.precision,r=s.rounding,s.precision=n+Math.max(i.e,i.sd())+4,s.rounding=1,o=i.d.length,o<32?(e=Math.ceil(o/3),t=(1/Eg(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=Rc(s,1,i.times(t),new s(1),!0);for(var u,f=e,p=new s(8);f--;)u=i.times(i),i=l.minus(u.times(p.minus(u.times(p))));return rt(i,s.precision=n,s.rounding=r,!0)};Ne.hyperbolicSine=Ne.sinh=function(){var e,t,n,r,o=this,i=o.constructor;if(!o.isFinite()||o.isZero())return new i(o);if(t=i.precision,n=i.rounding,i.precision=t+Math.max(o.e,o.sd())+4,i.rounding=1,r=o.d.length,r<3)o=Rc(i,2,o,o,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,o=o.times(1/Eg(5,e)),o=Rc(i,2,o,o,!0);for(var s,l=new i(5),u=new i(16),f=new i(20);e--;)s=o.times(o),o=o.times(l.plus(s.times(u.times(s).plus(f))))}return i.precision=t,i.rounding=n,rt(o,t,n,!0)};Ne.hyperbolicTangent=Ne.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,fn(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};Ne.inverseCosine=Ne.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,o=t.rounding;return n!==-1?n===0?e.isNeg()?Vi(t,r,o):new t(0):new t(NaN):e.isZero()?Vi(t,r+4,o).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=o,e.times(2))};Ne.inverseHyperbolicCosine=Ne.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,mt=!1,n=n.times(n).minus(1).sqrt().plus(n),mt=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};Ne.inverseHyperbolicSine=Ne.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,mt=!1,n=n.times(n).plus(1).sqrt().plus(n),mt=!0,r.precision=e,r.rounding=t,n.ln())};Ne.inverseHyperbolicTangent=Ne.atanh=function(){var e,t,n,r,o=this,i=o.constructor;return o.isFinite()?o.e>=0?new i(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(e=i.precision,t=i.rounding,r=o.sd(),Math.max(r,e)<2*-o.e-1?rt(new i(o),e,t,!0):(i.precision=n=r-o.e,o=fn(o.plus(1),new i(1).minus(o),n+e,1),i.precision=e+4,i.rounding=1,o=o.ln(),i.precision=e,i.rounding=t,o.times(.5))):new i(NaN)};Ne.inverseSine=Ne.asin=function(){var e,t,n,r,o=this,i=o.constructor;return o.isZero()?new i(o):(t=o.abs().cmp(1),n=i.precision,r=i.rounding,t!==-1?t===0?(e=Vi(i,n+4,r).times(.5),e.s=o.s,e):new i(NaN):(i.precision=n+6,i.rounding=1,o=o.div(new i(1).minus(o.times(o)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,o.times(2)))};Ne.inverseTangent=Ne.atan=function(){var e,t,n,r,o,i,s,l,u,f=this,p=f.constructor,h=p.precision,d=p.rounding;if(f.isFinite()){if(f.isZero())return new p(f);if(f.abs().eq(1)&&h+4<=W1)return s=Vi(p,h+4,d).times(.25),s.s=f.s,s}else{if(!f.s)return new p(NaN);if(h+4<=W1)return s=Vi(p,h+4,d).times(.5),s.s=f.s,s}for(p.precision=l=h+10,p.rounding=1,n=Math.min(28,l/at+2|0),e=n;e;--e)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(mt=!1,t=Math.ceil(l/at),r=1,u=f.times(f),s=new p(f),o=f;e!==-1;)if(o=o.times(u),i=s.minus(o.div(r+=2)),o=o.times(u),s=i.plus(o.div(r+=2)),s.d[t]!==void 0)for(e=t;s.d[e]===i.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),mt=!0,rt(s,p.precision=h,p.rounding=d,!0)};Ne.isFinite=function(){return!!this.d};Ne.isInteger=Ne.isInt=function(){return!!this.d&&Pr(this.e/at)>this.d.length-2};Ne.isNaN=function(){return!this.s};Ne.isNegative=Ne.isNeg=function(){return this.s<0};Ne.isPositive=Ne.isPos=function(){return this.s>0};Ne.isZero=function(){return!!this.d&&this.d[0]===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,n,r,o,i,s,l,u,f=this,p=f.constructor,h=p.precision,d=p.rounding,g=5;if(e==null)e=new p(10),t=!0;else{if(e=new p(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new p(NaN);t=e.eq(10)}if(n=f.d,f.s<0||!n||!n[0]||f.eq(1))return new p(n&&!n[0]?-1/0:f.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(o=n[0];o%10===0;)o/=10;i=o!==1}if(mt=!1,l=h+g,s=Al(f,l),r=t?Vm(p,l+10):Al(e,l),u=fn(s,r,l,1),Dp(u.d,o=h,d))do if(l+=10,s=Al(f,l),r=t?Vm(p,l+10):Al(e,l),u=fn(s,r,l,1),!i){+Sr(u.d).slice(o+1,o+15)+1==1e14&&(u=rt(u,h+1,0));break}while(Dp(u.d,o+=10,d));return mt=!0,rt(u,h,d)};Ne.minus=Ne.sub=function(e){var t,n,r,o,i,s,l,u,f,p,h,d,g=this,y=g.constructor;if(e=new y(e),!g.d||!e.d)return!g.s||!e.s?e=new y(NaN):g.d?e.s=-e.s:e=new y(e.d||g.s!==e.s?g:NaN),e;if(g.s!=e.s)return e.s=-e.s,g.plus(e);if(f=g.d,d=e.d,l=y.precision,u=y.rounding,!f[0]||!d[0]){if(d[0])e.s=-e.s;else if(f[0])e=new y(g);else return new y(u===3?-0:0);return mt?rt(e,l,u):e}if(n=Pr(e.e/at),p=Pr(g.e/at),f=f.slice(),i=p-n,i){for(h=i<0,h?(t=f,i=-i,s=d.length):(t=d,n=p,s=f.length),r=Math.max(Math.ceil(l/at),s)+2,i>r&&(i=r,t.length=1),t.reverse(),r=i;r--;)t.push(0);t.reverse()}else{for(r=f.length,s=d.length,h=r<s,h&&(s=r),r=0;r<s;r++)if(f[r]!=d[r]){h=f[r]<d[r];break}i=0}for(h&&(t=f,f=d,d=t,e.s=-e.s),s=f.length,r=d.length-s;r>0;--r)f[s++]=0;for(r=d.length;r>i;){if(f[--r]<d[r]){for(o=r;o&&f[--o]===0;)f[o]=gi-1;--f[o],f[r]+=gi}f[r]-=d[r]}for(;f[--s]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(e.d=f,e.e=Og(f,n),mt?rt(e,l,u):e):new y(u===3?-0:0)};Ne.modulo=Ne.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?rt(new r(n),r.precision,r.rounding):(mt=!1,r.modulo==9?(t=fn(n,e.abs(),0,3,1),t.s*=e.s):t=fn(n,e,0,r.modulo,1),t=t.times(e),mt=!0,n.minus(t))};Ne.naturalExponential=Ne.exp=function(){return K1(this)};Ne.naturalLogarithm=Ne.ln=function(){return Al(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s,rt(e)};Ne.plus=Ne.add=function(e){var t,n,r,o,i,s,l,u,f,p,h=this,d=h.constructor;if(e=new d(e),!h.d||!e.d)return!h.s||!e.s?e=new d(NaN):h.d||(e=new d(e.d||h.s===e.s?h:NaN)),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(f=h.d,p=e.d,l=d.precision,u=d.rounding,!f[0]||!p[0])return p[0]||(e=new d(h)),mt?rt(e,l,u):e;if(i=Pr(h.e/at),r=Pr(e.e/at),f=f.slice(),o=i-r,o){for(o<0?(n=f,o=-o,s=p.length):(n=p,r=i,s=f.length),i=Math.ceil(l/at),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=f.length,o=p.length,s-o<0&&(o=s,n=p,p=f,f=n),t=0;o;)t=(f[--o]=f[o]+p[o]+t)/gi|0,f[o]%=gi;for(t&&(f.unshift(t),++r),s=f.length;f[--s]==0;)f.pop();return e.d=f,e.e=Og(f,r),mt?rt(e,l,u):e};Ne.precision=Ne.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ql+e);return n.d?(t=N_(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};Ne.round=function(){var e=this,t=e.constructor;return rt(new t(e),e.e+1,t.rounding)};Ne.sine=Ne.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+at,r.rounding=1,n=bU(r,__(r,n)),r.precision=e,r.rounding=t,rt(Ms>2?n.neg():n,e,t,!0)):new r(NaN)};Ne.squareRoot=Ne.sqrt=function(){var e,t,n,r,o,i,s=this,l=s.d,u=s.e,f=s.s,p=s.constructor;if(f!==1||!l||!l[0])return new p(!f||f<0&&(!l||l[0])?NaN:l?s:1/0);for(mt=!1,f=Math.sqrt(+s),f==0||f==1/0?(t=Sr(l),(t.length+u)%2==0&&(t+="0"),f=Math.sqrt(t),u=Pr((u+1)/2)-(u<0||u%2),f==1/0?t="5e"+u:(t=f.toExponential(),t=t.slice(0,t.indexOf("e")+1)+u),r=new p(t)):r=new p(f.toString()),n=(u=p.precision)+3;;)if(i=r,r=i.plus(fn(s,i,n+2,1)).times(.5),Sr(i.d).slice(0,n)===(t=Sr(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!o&&t=="4999"){if(!o&&(rt(i,u+1,0),i.times(i).eq(s))){r=i;break}n+=4,o=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(rt(r,u+1,1),e=!r.times(r).eq(s));break}return mt=!0,rt(r,u,p.rounding,e)};Ne.tangent=Ne.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=fn(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,rt(Ms==2||Ms==4?n.neg():n,e,t,!0)):new r(NaN)};Ne.times=Ne.mul=function(e){var t,n,r,o,i,s,l,u,f,p=this,h=p.constructor,d=p.d,g=(e=new h(e)).d;if(e.s*=p.s,!d||!d[0]||!g||!g[0])return new h(!e.s||d&&!d[0]&&!g||g&&!g[0]&&!d?NaN:!d||!g?e.s/0:e.s*0);for(n=Pr(p.e/at)+Pr(e.e/at),u=d.length,f=g.length,u<f&&(i=d,d=g,g=i,s=u,u=f,f=s),i=[],s=u+f,r=s;r--;)i.push(0);for(r=f;--r>=0;){for(t=0,o=u+r;o>r;)l=i[o]+g[r]*d[o-r-1]+t,i[o--]=l%gi|0,t=l/gi|0;i[o]=(i[o]+t)%gi|0}for(;!i[--s];)i.pop();return t?++n:i.shift(),e.d=i,e.e=Og(i,n),mt?rt(e,h.precision,h.rounding):e};Ne.toBinary=function(e,t){return zS(this,2,e,t)};Ne.toDecimalPlaces=Ne.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(po(e,0,Zl),t===void 0?t=r.rounding:po(t,0,8),rt(n,e+n.e+1,t))};Ne.toExponential=function(e,t){var n,r=this,o=r.constructor;return e===void 0?n=Zi(r,!0):(po(e,0,Zl),t===void 0?t=o.rounding:po(t,0,8),r=rt(new o(r),e+1,t),n=Zi(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};Ne.toFixed=function(e,t){var n,r,o=this,i=o.constructor;return e===void 0?n=Zi(o):(po(e,0,Zl),t===void 0?t=i.rounding:po(t,0,8),r=rt(new i(o),e+o.e+1,t),n=Zi(r,!1,e+r.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n};Ne.toFraction=function(e){var t,n,r,o,i,s,l,u,f,p,h,d,g=this,y=g.d,b=g.constructor;if(!y)return new b(g);if(f=n=new b(1),r=u=new b(0),t=new b(r),i=t.e=N_(y)-g.e-1,s=i%at,t.d[0]=tr(10,s<0?at+s:s),e==null)e=i>0?t:f;else{if(l=new b(e),!l.isInt()||l.lt(f))throw Error(ql+l);e=l.gt(t)?i>0?t:f:l}for(mt=!1,l=new b(Sr(y)),p=b.precision,b.precision=i=y.length*at*2;h=fn(l,t,0,1,1),o=n.plus(h.times(r)),o.cmp(e)!=1;)n=r,r=o,o=f,f=u.plus(h.times(o)),u=o,o=t,t=l.minus(h.times(o)),l=o;return o=fn(e.minus(n),r,0,1,1),u=u.plus(o.times(f)),n=n.plus(o.times(r)),u.s=f.s=g.s,d=fn(f,r,i,1).minus(g).abs().cmp(fn(u,n,i,1).minus(g).abs())<1?[f,r]:[u,n],b.precision=p,mt=!0,d};Ne.toHexadecimal=Ne.toHex=function(e,t){return zS(this,16,e,t)};Ne.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:po(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(mt=!1,n=fn(n,e,0,t,1).times(e),mt=!0,rt(n)):(e.s=n.s,n=e),n};Ne.toNumber=function(){return+this};Ne.toOctal=function(e,t){return zS(this,8,e,t)};Ne.toPower=Ne.pow=function(e){var t,n,r,o,i,s,l=this,u=l.constructor,f=+(e=new u(e));if(!l.d||!e.d||!l.d[0]||!e.d[0])return new u(tr(+l,f));if(l=new u(l),l.eq(1))return l;if(r=u.precision,i=u.rounding,e.eq(1))return rt(l,r,i);if(t=Pr(e.e/at),t>=e.d.length-1&&(n=f<0?-f:f)<=yU)return o=T_(u,l,n,r),e.s<0?new u(1).div(o):rt(o,r,i);if(s=l.s,s<0){if(t<e.d.length-1)return new u(NaN);if(e.d[t]&1||(s=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=s,l}return n=tr(+l,f),t=n==0||!isFinite(n)?Pr(f*(Math.log("0."+Sr(l.d))/Math.LN10+l.e+1)):new u(n+"").e,t>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(mt=!1,u.rounding=l.s=1,n=Math.min(12,(t+"").length),o=K1(e.times(Al(l,r+n)),r),o.d&&(o=rt(o,r+5,1),Dp(o.d,r,i)&&(t=r+10,o=rt(K1(e.times(Al(l,t+n)),t),t+5,1),+Sr(o.d).slice(r+1,r+15)+1==1e14&&(o=rt(o,r+1,0)))),o.s=s,mt=!0,u.rounding=i,rt(o,r,i))};Ne.toPrecision=function(e,t){var n,r=this,o=r.constructor;return e===void 0?n=Zi(r,r.e<=o.toExpNeg||r.e>=o.toExpPos):(po(e,1,Zl),t===void 0?t=o.rounding:po(t,0,8),r=rt(new o(r),e,t),n=Zi(r,e<=r.e||r.e<=o.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};Ne.toSignificantDigits=Ne.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(po(e,1,Zl),t===void 0?t=r.rounding:po(t,0,8)),rt(new r(n),e,t)};Ne.toString=function(){var e=this,t=e.constructor,n=Zi(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};Ne.truncated=Ne.trunc=function(){return rt(new this.constructor(this),this.e+1,1)};Ne.valueOf=Ne.toJSON=function(){var e=this,t=e.constructor,n=Zi(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function Sr(e){var t,n,r,o=e.length-1,i="",s=e[0];if(o>0){for(i+=s,t=1;t<o;t++)r=e[t]+"",n=at-r.length,n&&(i+=yl(n)),i+=r;s=e[t],r=s+"",n=at-r.length,n&&(i+=yl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}function po(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ql+e)}function Dp(e,t,n,r){var o,i,s,l;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=at,o=0):(o=Math.ceil((t+1)/at),t%=at),i=tr(10,at-t),l=e[o]%i|0,r==null?t<3?(t==0?l=l/100|0:t==1&&(l=l/10|0),s=n<4&&l==99999||n>3&&l==49999||l==5e4||l==0):s=(n<4&&l+1==i||n>3&&l+1==i/2)&&(e[o+1]/i/100|0)==tr(10,t-2)-1||(l==i/2||l==0)&&(e[o+1]/i/100|0)==0:t<4?(t==0?l=l/1e3|0:t==1?l=l/100|0:t==2&&(l=l/10|0),s=(r||n<4)&&l==9999||!r&&n>3&&l==4999):s=((r||n<4)&&l+1==i||!r&&n>3&&l+1==i/2)&&(e[o+1]/i/1e3|0)==tr(10,t-3)-1,s}function jd(e,t,n){for(var r,o=[0],i,s=0,l=e.length;s<l;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=H1.indexOf(e.charAt(s++)),r=0;r<o.length;r++)o[r]>n-1&&(o[r+1]===void 0&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function wU(e,t){var n,r,o;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),o=(1/Eg(4,n)).toString()):(n=16,o="2.3283064365386962890625e-10"),e.precision+=n,t=Rc(e,1,t.times(o),new e(1));for(var i=n;i--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}var fn=function(){function e(r,o,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*o+l,r[u]=s%i|0,l=s/i|0;return l&&r.unshift(l),r}function t(r,o,i,s){var l,u;if(i!=s)u=i>s?1:-1;else for(l=u=0;l<i;l++)if(r[l]!=o[l]){u=r[l]>o[l]?1:-1;break}return u}function n(r,o,i,s){for(var l=0;i--;)r[i]-=l,l=r[i]<o[i]?1:0,r[i]=l*s+r[i]-o[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,o,i,s,l,u){var f,p,h,d,g,y,b,N,v,k,x,D,F,I,V,j,te,se,Se,me,W=r.constructor,G=r.s==o.s?1:-1,U=r.d,re=o.d;if(!U||!U[0]||!re||!re[0])return new W(!r.s||!o.s||(U?re&&U[0]==re[0]:!re)?NaN:U&&U[0]==0||!re?G*0:G/0);for(u?(g=1,p=r.e-o.e):(u=gi,g=at,p=Pr(r.e/g)-Pr(o.e/g)),Se=re.length,te=U.length,v=new W(G),k=v.d=[],h=0;re[h]==(U[h]||0);h++);if(re[h]>(U[h]||0)&&p--,i==null?(I=i=W.precision,s=W.rounding):l?I=i+(r.e-o.e)+1:I=i,I<0)k.push(1),y=!0;else{if(I=I/g+2|0,h=0,Se==1){for(d=0,re=re[0],I++;(h<te||d)&&I--;h++)V=d*u+(U[h]||0),k[h]=V/re|0,d=V%re|0;y=d||h<te}else{for(d=u/(re[0]+1)|0,d>1&&(re=e(re,d,u),U=e(U,d,u),Se=re.length,te=U.length),j=Se,x=U.slice(0,Se),D=x.length;D<Se;)x[D++]=0;me=re.slice(),me.unshift(0),se=re[0],re[1]>=u/2&&++se;do d=0,f=t(re,x,Se,D),f<0?(F=x[0],Se!=D&&(F=F*u+(x[1]||0)),d=F/se|0,d>1?(d>=u&&(d=u-1),b=e(re,d,u),N=b.length,D=x.length,f=t(b,x,N,D),f==1&&(d--,n(b,Se<N?me:re,N,u))):(d==0&&(f=d=1),b=re.slice()),N=b.length,N<D&&b.unshift(0),n(x,b,D,u),f==-1&&(D=x.length,f=t(re,x,Se,D),f<1&&(d++,n(x,Se<D?me:re,D,u))),D=x.length):f===0&&(d++,x=[0]),k[h++]=d,f&&x[0]?x[D++]=U[j]||0:(x=[U[j]],D=1);while((j++<te||x[0]!==void 0)&&I--);y=x[0]!==void 0}k[0]||k.shift()}if(g==1)v.e=p,k_=y;else{for(h=1,d=k[0];d>=10;d/=10)h++;v.e=h+p*g-1,rt(v,l?i+v.e+1:i,s,y)}return v}}();function rt(e,t,n,r){var o,i,s,l,u,f,p,h,d,g=e.constructor;e:if(t!=null){if(h=e.d,!h)return e;for(o=1,l=h[0];l>=10;l/=10)o++;if(i=t-o,i<0)i+=at,s=t,p=h[d=0],u=p/tr(10,o-s-1)%10|0;else if(d=Math.ceil((i+1)/at),l=h.length,d>=l)if(r){for(;l++<=d;)h.push(0);p=u=0,o=1,i%=at,s=i-at+1}else break e;else{for(p=l=h[d],o=1;l>=10;l/=10)o++;i%=at,s=i-at+o,u=s<0?0:p/tr(10,o-s-1)%10|0}if(r=r||t<0||h[d+1]!==void 0||(s<0?p:p%tr(10,o-s-1)),f=n<4?(u||r)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||r||n==6&&(i>0?s>0?p/tr(10,o-s):0:h[d-1])%10&1||n==(e.s<0?8:7)),t<1||!h[0])return h.length=0,f?(t-=e.e+1,h[0]=tr(10,(at-t%at)%at),e.e=-t||0):h[0]=e.e=0,e;if(i==0?(h.length=d,l=1,d--):(h.length=d+1,l=tr(10,at-i),h[d]=s>0?(p/tr(10,o-s)%tr(10,s)|0)*l:0),f)for(;;)if(d==0){for(i=1,s=h[0];s>=10;s/=10)i++;for(s=h[0]+=l,l=1;s>=10;s/=10)l++;i!=l&&(e.e++,h[0]==gi&&(h[0]=1));break}else{if(h[d]+=l,h[d]!=gi)break;h[d--]=0,l=1}for(i=h.length;h[--i]===0;)h.pop()}return mt&&(e.e>g.maxE?(e.d=null,e.e=NaN):e.e<g.minE&&(e.e=0,e.d=[0])),e}function Zi(e,t,n){if(!e.isFinite())return M_(e);var r,o=e.e,i=Sr(e.d),s=i.length;return t?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+yl(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):o<0?(i="0."+yl(-o-1)+i,n&&(r=n-s)>0&&(i+=yl(r))):o>=s?(i+=yl(o+1-s),n&&(r=n-o-1)>0&&(i=i+"."+yl(r))):((r=o+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(o+1===s&&(i+="."),i+=yl(r))),i}function Og(e,t){var n=e[0];for(t*=at;n>=10;n/=10)t++;return t}function Vm(e,t,n){if(t>vU)throw mt=!0,n&&(e.precision=n),Error(x_);return rt(new e(Bm),t,1,!0)}function Vi(e,t,n){if(t>W1)throw Error(x_);return rt(new e(Um),t,n,!0)}function N_(e){var t=e.length-1,n=t*at+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function yl(e){for(var t="";e--;)t+="0";return t}function T_(e,t,n,r){var o,i=new e(1),s=Math.ceil(r/at+4);for(mt=!1;;){if(n%2&&(i=i.times(t),dC(i.d,s)&&(o=!0)),n=Pr(n/2),n===0){n=i.d.length-1,o&&i.d[n]===0&&++i.d[n];break}t=t.times(t),dC(t.d,s)}return mt=!0,i}function hC(e){return e.d[e.d.length-1]&1}function A_(e,t,n){for(var r,o,i=new e(t[0]),s=0;++s<t.length;){if(o=new e(t[s]),!o.s){i=o;break}r=i.cmp(o),(r===n||r===0&&i.s===n)&&(i=o)}return i}function K1(e,t){var n,r,o,i,s,l,u,f=0,p=0,h=0,d=e.constructor,g=d.rounding,y=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(mt=!1,u=y):u=t,l=new d(.03125);e.e>-2;)e=e.times(l),h+=5;for(r=Math.log(tr(2,h))/Math.LN10*2+5|0,u+=r,n=i=s=new d(1),d.precision=u;;){if(i=rt(i.times(e),u,1),n=n.times(++p),l=s.plus(fn(i,n,u,1)),Sr(l.d).slice(0,u)===Sr(s.d).slice(0,u)){for(o=h;o--;)s=rt(s.times(s),u,1);if(t==null)if(f<3&&Dp(s.d,u-r,g,f))d.precision=u+=10,n=i=l=new d(1),p=0,f++;else return rt(s,d.precision=y,g,mt=!0);else return d.precision=y,s}s=l}}function Al(e,t){var n,r,o,i,s,l,u,f,p,h,d,g=1,y=10,b=e,N=b.d,v=b.constructor,k=v.rounding,x=v.precision;if(b.s<0||!N||!N[0]||!b.e&&N[0]==1&&N.length==1)return new v(N&&!N[0]?-1/0:b.s!=1?NaN:N?0:b);if(t==null?(mt=!1,p=x):p=t,v.precision=p+=y,n=Sr(N),r=n.charAt(0),Math.abs(i=b.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=Sr(b.d),r=n.charAt(0),g++;i=b.e,r>1?(b=new v("0."+n),i++):b=new v(r+"."+n.slice(1))}else return f=Vm(v,p+2,x).times(i+""),b=Al(new v(r+"."+n.slice(1)),p-y).plus(f),v.precision=x,t==null?rt(b,x,k,mt=!0):b;for(h=b,u=s=b=fn(b.minus(1),b.plus(1),p,1),d=rt(b.times(b),p,1),o=3;;){if(s=rt(s.times(d),p,1),f=u.plus(fn(s,new v(o),p,1)),Sr(f.d).slice(0,p)===Sr(u.d).slice(0,p))if(u=u.times(2),i!==0&&(u=u.plus(Vm(v,p+2,x).times(i+""))),u=fn(u,new v(g),p,1),t==null)if(Dp(u.d,p-y,k,l))v.precision=p+=y,f=s=b=fn(h.minus(1),h.plus(1),p,1),d=rt(b.times(b),p,1),o=l=1;else return rt(u,v.precision=x,k,mt=!0);else return v.precision=x,u;u=f,o+=2}}function M_(e){return String(e.s*e.s/0)}function zd(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(o=t.length;t.charCodeAt(o-1)===48;--o);if(t=t.slice(r,o),t){if(o-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%at,n<0&&(r+=at),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=at;r<o;)e.d.push(+t.slice(r,r+=at));t=t.slice(r),r=at-t.length}else r-=o;for(;r--;)t+="0";e.d.push(+t),mt&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function SU(e,t){var n,r,o,i,s,l,u,f,p;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),C_.test(t))return zd(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(mU.test(t))n=16,t=t.toLowerCase();else if(dU.test(t))n=2;else if(gU.test(t))n=8;else throw Error(ql+t);for(i=t.search(/p/i),i>0?(u=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),s=i>=0,r=e.constructor,s&&(t=t.replace(".",""),l=t.length,i=l-i,o=T_(r,new r(n),i,i*2)),f=jd(t,n,gi),p=f.length-1,i=p;f[i]===0;--i)f.pop();return i<0?new r(e.s*0):(e.e=Og(f,p),e.d=f,mt=!1,s&&(e=fn(e,o,l*4)),u&&(e=e.times(Math.abs(u)<54?tr(2,u):In.pow(2,u))),mt=!0,e)}function bU(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Rc(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/Eg(5,n)),t=Rc(e,2,t,t);for(var o,i=new e(5),s=new e(16),l=new e(20);n--;)o=t.times(t),t=t.times(i.plus(o.times(s.times(o).minus(l))));return t}function Rc(e,t,n,r,o){var i,s,l,u,f=e.precision,p=Math.ceil(f/at);for(mt=!1,u=n.times(n),l=new e(r);;){if(s=fn(l.times(u),new e(t++*t++),f,1),l=o?r.plus(s):r.minus(s),r=fn(s.times(u),new e(t++*t++),f,1),s=l.plus(r),s.d[p]!==void 0){for(i=p;s.d[i]===l.d[i]&&i--;);if(i==-1)break}i=l,l=r,r=s,s=i}return mt=!0,s.d.length=p+1,s}function Eg(e,t){for(var n=e;--t;)n*=e;return n}function __(e,t){var n,r=t.s<0,o=Vi(e,e.precision,1),i=o.times(.5);if(t=t.abs(),t.lte(i))return Ms=r?4:1,t;if(n=t.divToInt(o),n.isZero())Ms=r?3:2;else{if(t=t.minus(n.times(o)),t.lte(i))return Ms=hC(n)?r?2:3:r?4:1,t;Ms=hC(n)?r?1:4:r?3:2}return t.minus(o).abs()}function zS(e,t,n,r){var o,i,s,l,u,f,p,h,d,g=e.constructor,y=n!==void 0;if(y?(po(n,1,Zl),r===void 0?r=g.rounding:po(r,0,8)):(n=g.precision,r=g.rounding),!e.isFinite())p=M_(e);else{for(p=Zi(e),s=p.indexOf("."),y?(o=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):o=t,s>=0&&(p=p.replace(".",""),d=new g(1),d.e=p.length-s,d.d=jd(Zi(d),10,o),d.e=d.d.length),h=jd(p,10,o),i=u=h.length;h[--u]==0;)h.pop();if(!h[0])p=y?"0p+0":"0";else{if(s<0?i--:(e=new g(e),e.d=h,e.e=i,e=fn(e,d,n,r,0,o),h=e.d,i=e.e,f=k_),s=h[n],l=o/2,f=f||h[n+1]!==void 0,f=r<4?(s!==void 0||f)&&(r===0||r===(e.s<0?3:2)):s>l||s===l&&(r===4||f||r===6&&h[n-1]&1||r===(e.s<0?8:7)),h.length=n,f)for(;++h[--n]>o-1;)h[n]=0,n||(++i,h.unshift(1));for(u=h.length;!h[u-1];--u);for(s=0,p="";s<u;s++)p+=H1.charAt(h[s]);if(y){if(u>1)if(t==16||t==8){for(s=t==16?4:3,--u;u%s;u++)p+="0";for(h=jd(p,o,t),u=h.length;!h[u-1];--u);for(s=1,p="1.";s<u;s++)p+=H1.charAt(h[s])}else p=p.charAt(0)+"."+p.slice(1);p=p+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)p="0"+p;p="0."+p}else if(++i>u)for(i-=u;i--;)p+="0";else i<u&&(p=p.slice(0,i)+"."+p.slice(i))}p=(t==16?"0x":t==2?"0b":t==8?"0o":"")+p}return e.s<0?"-"+p:p}function dC(e,t){if(e.length>t)return e.length=t,!0}function kU(e){return new this(e).abs()}function xU(e){return new this(e).acos()}function OU(e){return new this(e).acosh()}function EU(e,t){return new this(e).plus(t)}function CU(e){return new this(e).asin()}function NU(e){return new this(e).asinh()}function TU(e){return new this(e).atan()}function AU(e){return new this(e).atanh()}function MU(e,t){e=new this(e),t=new this(t);var n,r=this.precision,o=this.rounding,i=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=Vi(this,i,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?Vi(this,r,o):new this(0),n.s=e.s):!e.d||t.isZero()?(n=Vi(this,i,1).times(.5),n.s=e.s):t.s<0?(this.precision=i,this.rounding=1,n=this.atan(fn(e,t,i,1)),t=Vi(this,i,1),this.precision=r,this.rounding=o,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(fn(e,t,i,1)),n}function _U(e){return new this(e).cbrt()}function RU(e){return rt(e=new this(e),e.e+1,2)}function DU(e,t,n){return new this(e).clamp(t,n)}function IU(e){if(!e||typeof e!="object")throw Error(xg+"Object expected");var t,n,r,o=e.defaults===!0,i=["precision",1,Zl,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,V1,"maxE",0,V1,"minE",-9e15,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(n=i[t],o&&(this[n]=q1[n]),(r=e[n])!==void 0)if(Pr(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ql+n+": "+r);if(n="crypto",o&&(this[n]=q1[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(O_);else this[n]=!1;else throw Error(ql+n+": "+r);return this}function PU(e){return new this(e).cos()}function $U(e){return new this(e).cosh()}function R_(e){var t,n,r;function o(i){var s,l,u,f=this;if(!(f instanceof o))return new o(i);if(f.constructor=o,mC(i)){f.s=i.s,mt?!i.d||i.e>o.maxE?(f.e=NaN,f.d=null):i.e<o.minE?(f.e=0,f.d=[0]):(f.e=i.e,f.d=i.d.slice()):(f.e=i.e,f.d=i.d?i.d.slice():i.d);return}if(u=typeof i,u==="number"){if(i===0){f.s=1/i<0?-1:1,f.e=0,f.d=[0];return}if(i<0?(i=-i,f.s=-1):f.s=1,i===~~i&&i<1e7){for(s=0,l=i;l>=10;l/=10)s++;mt?s>o.maxE?(f.e=NaN,f.d=null):s<o.minE?(f.e=0,f.d=[0]):(f.e=s,f.d=[i]):(f.e=s,f.d=[i]);return}if(i*0!==0){i||(f.s=NaN),f.e=NaN,f.d=null;return}return zd(f,i.toString())}if(u==="string")return(l=i.charCodeAt(0))===45?(i=i.slice(1),f.s=-1):(l===43&&(i=i.slice(1)),f.s=1),C_.test(i)?zd(f,i):SU(f,i);if(u==="bigint")return i<0?(i=-i,f.s=-1):f.s=1,zd(f,i.toString());throw Error(ql+i)}if(o.prototype=Ne,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=IU,o.clone=R_,o.isDecimal=mC,o.abs=kU,o.acos=xU,o.acosh=OU,o.add=EU,o.asin=CU,o.asinh=NU,o.atan=TU,o.atanh=AU,o.atan2=MU,o.cbrt=_U,o.ceil=RU,o.clamp=DU,o.cos=PU,o.cosh=$U,o.div=FU,o.exp=LU,o.floor=jU,o.hypot=zU,o.ln=BU,o.log=UU,o.log10=HU,o.log2=VU,o.max=qU,o.min=WU,o.mod=KU,o.mul=GU,o.pow=JU,o.random=QU,o.round=YU,o.sign=ZU,o.sin=XU,o.sinh=eV,o.sqrt=tV,o.sub=nV,o.sum=rV,o.tan=oV,o.tanh=iV,o.trunc=sV,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return o.config(e),o}function FU(e,t){return new this(e).div(t)}function LU(e){return new this(e).exp()}function jU(e){return rt(e=new this(e),e.e+1,3)}function zU(){var e,t,n=new this(0);for(mt=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return mt=!0,new this(1/0);n=t}return mt=!0,n.sqrt()}function mC(e){return e instanceof In||e&&e.toStringTag===E_||!1}function BU(e){return new this(e).ln()}function UU(e,t){return new this(e).log(t)}function VU(e){return new this(e).log(2)}function HU(e){return new this(e).log(10)}function qU(){return A_(this,arguments,-1)}function WU(){return A_(this,arguments,1)}function KU(e,t){return new this(e).mod(t)}function GU(e,t){return new this(e).mul(t)}function JU(e,t){return new this(e).pow(t)}function QU(e){var t,n,r,o,i=0,s=new this(1),l=[];if(e===void 0?e=this.precision:po(e,1,Zl),r=Math.ceil(e/at),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));i<r;)o=t[i],o>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:l[i++]=o%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);i<r;)o=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),o>=214e7?crypto.randomBytes(4).copy(t,i):(l.push(o%1e7),i+=4);i=r/4}else throw Error(O_);else for(;i<r;)l[i++]=Math.random()*1e7|0;for(r=l[--i],e%=at,r&&e&&(o=tr(10,at-e),l[i]=(r/o|0)*o);l[i]===0;i--)l.pop();if(i<0)n=0,l=[0];else{for(n=-1;l[0]===0;n-=at)l.shift();for(r=1,o=l[0];o>=10;o/=10)r++;r<at&&(n-=at-r)}return s.e=n,s.d=l,s}function YU(e){return rt(e=new this(e),e.e+1,this.rounding)}function ZU(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function XU(e){return new this(e).sin()}function eV(e){return new this(e).sinh()}function tV(e){return new this(e).sqrt()}function nV(e,t){return new this(e).sub(t)}function rV(){var e=0,t=arguments,n=new this(t[e]);for(mt=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return mt=!0,rt(n,this.precision,this.rounding)}function oV(e){return new this(e).tan()}function iV(e){return new this(e).tanh()}function sV(e){return rt(e=new this(e),e.e+1,1)}Ne[Symbol.for("nodejs.util.inspect.custom")]=Ne.toString;Ne[Symbol.toStringTag]="Decimal";var In=Ne.constructor=R_(q1);Bm=new In(Bm);Um=new In(Um);const ft=(e,t,n)=>{if(t===void 0&&(t="failed!"),!e){const r=new Error(t);throw r.location=n||Ht.location,r}},lV=(e,t)=>{let n=Ht.messages[e];return t&&t.forEach((r,o)=>{n=n.replace(`%${o+1}`,r)}),`${e}: ${n}`},aV=(e,t,n)=>{ft(e<=t,"Invalid code range");const r=Ht.reservedCodes.every(o=>t<o.first||e>o.last);ft(r,"Conflicting request for error code range"),Ht.reservedCodes.push({first:e,last:t,name:n})},uV=e=>{Ht.location=e},cV=()=>{Ht.location=null},fV=(e,t)=>{e!==void 0&&(Ht.timeout=e?Date.now()+e:0,Ht.timeoutMessage=t||"ERROR timeout exceeded")},pV=()=>{ft(!Ht.timeout||Ht.timeout>Date.now(),Ht.timeoutMessage)},hV=(e,t)=>{Ht.count=e,Ht.countMessage=t||"ERROR count exceeded"},dV=()=>{const{count:e}=Ht;if(typeof e!="number"||Number.isNaN(e)){ft(!1,"ERROR counter not set");return}ft(Ht.count--,Ht.countMessage)},Ht={assert:ft,message:lV,messages:{},reserveCodeRange:aV,reservedCodes:[],setLocation:uV,clearLocation:cV,checkTimeout:pV,setTimeout:fV,setCounter:hV,checkCounter:dV},D_=(()=>{function e(){this.nodePool=["unused"],this.nodeMap={}}e.prototype.arg=function(n){if(!t(this))throw new Error("Malformed node");return this.args.push(n),this},e.prototype.argN=function(n,r){if(!t(this))throw new Error("Malformed node");return r===void 0?this.args[n]:(this.args[n]=r,this)},e.prototype.args=function(n){if(!t(this))throw new Error("Malformed node");return n===void 0?this.args:(this.args=n,this)},e.prototype.isNode=t;function t(n){return n===void 0&&(n=this),n.op&&n.args}return e.prototype.intern=function(n){this instanceof e&&n===void 0&&t(this)&&(n=this),ft(typeof n=="object","node not an object");const{op:r}=n,o=n.args.length;let i="";const s=[];for(let f=0;f<o;f++)i+=" ",typeof n.args[f]=="string"?i+=s[f]=n.args[f]:i+=s[f]=this.intern(n.args[f]);n.lbrk&&n.lbrk!==123&&n.lbrk!==371&&(i+=String.fromCharCode(n.lbrk),i+=String.fromCharCode(n.rbrk));const l=r+o+i;let u=this.nodeMap[l];return u===void 0&&(this.nodePool.push({op:r,args:s}),u=this.nodePool.length-1,this.nodeMap[l]=u),u},e.prototype.node=function(n){const r=JSON.parse(JSON.stringify(this.nodePool[n]));for(let o=0;o<r.args.length;o++)typeof r.args[o]!="string"&&(r.args[o]=this.node(r.args[o]));return r},e.prototype.dumpAll=function(){let n="";return this.nodePool.forEach((r,o)=>{n+=`
${o}: ${e.dump(r)}`}),n},e.dump=e.prototype.dump=function n(r){let o;if(typeof r=="string")o=`"${r}"`;else if(typeof r=="number")o=r;else{o=`{ op: "${r.op}", args: [ `;for(let i=0;i<r.args.length;i++)i>0&&(o+=" , "),o+=n(r.args[i]);o+=" ] }"}return o},e})(),mV=(()=>{function e(){}const t=[];let n={};e.fn={},e.env=n,e.pushEnv=Re=>{t.push(n),e.env=n=Re},e.popEnv=()=>{ft(t.length>0,"1000: Empty envStack"),e.env=n=t.pop()},e.option=(Re,nt)=>Re[nt];function r(){return!!e.env.Au}const o=e.prototype=new D_;Ht.reserveCodeRange(1e3,1999,"model"),Ht.messages[1e3]="Internal error. %1.",Ht.messages[1001]='Invalid syntax. "%1" expected, "%2" found.',Ht.messages[1002]="Only one decimal separator can be specified.",Ht.messages[1003]="Extra characters in input at position: %1, lexeme: %2, prefix: %3.",Ht.messages[1004]='Invalid character "%1" (%2) in input.',Ht.messages[1005]="Misplaced thousands separator.",Ht.messages[1006]="Invalid syntax. Expression expected, %1 found.",Ht.messages[1007]='Unexpected character: "%1" in "%2".',Ht.messages[1008]='The same character "%1" is being used as a thousands and decimal separators.',Ht.messages[1009]='Missing argument for "%1" command.',Ht.messages[1010]="Expecting an operator between numbers.",Ht.messages[1011]="Invalid grouping bracket. %1",Ht.messages[1012]='Misplaced subscript in "%1"',Ht.messages[1013]='Mismatched thousands separators: "%1" and "%2".',Ht.messages[1014]='Missing integration variable in "%1".';const{message:i}=Ht;e.create=o.create=function Re(nt,ze,it){if(ft(ze instanceof Array||typeof ze=="object"&&(ze.op||ze instanceof e)||typeof ze=="string",JSON.stringify(ze)),ft(ze!==void 0,"1000: Internal error. Node undefined."),ze instanceof e)return it&&(ze.location=it),ze;let bt;return ze instanceof Array?(bt=[],ze.forEach(xt=>{bt.push(Re(nt,xt,it))}),bt):this instanceof e?(bt=Re(nt,this),bt.location=it,typeof ze=="string"?ze=eh(nt,ze,e.env).expr():ze=JSON.parse(JSON.stringify(ze)),Object.keys(e.fn).forEach(xt=>{o[xt]||(o[xt]=function(...Yn){const mo=e.fn[xt];if(Yn.length>1&&Yn[1]instanceof e)return mo.apply(this,Yn);const yt=[this];for(let En=0;En<Yn.length;En++)yt.push(Yn[En]);return mo.apply(this,yt)})}),Object.keys(ze).forEach(xt=>{bt[xt]=ze[xt]}),bt):new e().create(nt,ze,it)},e.fromLaTeX=o.fromLaTeX=function(Re,nt){return ft(typeof nt=="string","1000: Model.prototype.fromLaTex"),this?this.create(Re,nt):e.create(Re,nt)},e.toLaTeX=o.toLaTeX=function(Re){return y(Re)};const s={ADD:"+",SUB:"-",MUL:"mul",TIMES:"\\times",DIV:"\\div",FRAC:"\\frac",EQL:"=",ATAN2:"atan2",SQRT:"sqrt",VEC:"vec",PM:"pm",NOT:"not",SIN:"sin",COS:"cos",TAN:"tan",SEC:"sec",COT:"cot",CSC:"csc",ARCSIN:"arcsin",ARCCOS:"arccos",ARCTAN:"arctan",ARCSEC:"arcsec",ARCCOT:"arccot",ARCCSC:"arccsc",SINH:"sinh",COSH:"cosh",TANH:"tanh",SECH:"sech",COTH:"coth",CSCH:"csch",ARCSINH:"arcsinh",ARCCOSH:"arccosh",ARCTANH:"arctanh",ARCSECH:"arcsech",ARCCSCH:"arccsch",ARCCOTH:"arccoth",LOG:"log",LN:"ln",LG:"lg",VAR:"var",TEXT:"text",NUM:"num",COMMA:",",POW:"^",SUBSCRIPT:"_",ABS:"abs",PAREN:"()",BRACE:"{}",BRACKET:"[]",ANGLEBRACKET:"anglebracket",HIGHLIGHT:"hi",LT:"lt",LE:"le",GT:"gt",GE:"ge",NE:"ne",NGTR:"ngtr",NLESS:"nless",NI:"ni",SUBSETEQ:"subseteq",SUPSETEQ:"supseteq",SUBSET:"subset",SUPSET:"supset",NNI:"nni",NSUBSETEQ:"nsubseteq",NSUPSETEQ:"nsupseteq",NSUBSET:"nsubset",NSUPSET:"nsupset",APPROX:"approx",IMPLIES:"implies",CAPRIGHTARROW:"caprightarrow",RIGHTARROW:"rightarrow",LEFTARROW:"leftarrrow",LONGRIGHTARROW:"longrightarrow",LONGLEFTARROW:"longleftarrow",OVERRIGHTARROW:"overrightarrow",OVERLEFTARROW:"overleftarrow",CAPLEFTRIGHTARROW:"capleftrightarrow",LEFTRIGHTARROW:"leftrightarrow",LONGLEFTRIGHTARROW:"longleftrightarrow",OVERLEFTRIGHTARROW:"overleftrightarrow",PERP:"perp",PROPTO:"propto",PARALLEL:"parallel",NPARALLEL:"nparallel",SIM:"sim",CONG:"cong",INTERVAL:"interval",INTERVALOPEN:"intervalopen",INTERVALLEFTOPEN:"intervalleftopen",INTERVALRIGHTOPEN:"intervalrightopen",EVALAT:"eval-at",LIST:"list",SET:"set",EXISTS:"exists",IN:"in",FORALL:"forall",LIM:"lim",EXP:"exp",TO:"to",SUM:"sum",DERIV:"deriv",PIPE:"pipe",INTEGRAL:"integral",PROD:"prod",CUP:"cup",BIGCUP:"bigcup",CAP:"cap",BIGCAP:"bigcap",PERCENT:"%",QMARK:"?",M:"M",FACT:"fact",BINOM:"binom",ROW:"row",COL:"col",COLON:"colon",MATRIX:"matrix",TYPE:"type",FORMAT:"format",OVERSET:"overset",UNDERSET:"underset",OVERLINE:"overline",DEGREE:"degree",BACKSLASH:"backslash",MATHBF:"mathbf",CDOT:"\\cdot",MATHFIELD:"mathfield",DELTA:"delta",OPERATORNAME:"operatorname",DOT:"dot",NONE:"none"};Object.keys(s).forEach(Re=>{e[Re]=s[Re]});const l={};l[s.ADD]="+",l[s.SUB]="-",l[s.MUL]="\\times",l[s.TIMES]="\\times",l[s.DIV]="\\div",l[s.FRAC]="\\frac",l[s.EQL]="=",l[s.ATAN2]="\\atan2",l[s.POW]="^",l[s.SUBSCRIPT]="_",l[s.PM]="\\pm",l[s.NOT]="\\not",l[s.SIN]="\\sin",l[s.COS]="\\cos",l[s.TAN]="\\tan",l[s.SEC]="\\sec",l[s.COT]="\\cot",l[s.CSC]="\\csc",l[s.ARCSIN]="\\arcsin",l[s.ARCCOS]="\\arccos",l[s.ARCTAN]="\\arctan",l[s.ARCSEC]="\\arcsec",l[s.ARCCOT]="\\arccot",l[s.ARCCSC]="\\arccsc",l[s.SEC]="\\sec",l[s.COT]="\\cot",l[s.CSC]="\\csc",l[s.SINH]="\\sinh",l[s.COSH]="\\cosh",l[s.TANH]="\\tanh",l[s.ARCSINH]="\\arcsinh",l[s.ARCCOSH]="\\arccosh",l[s.ARCTANH]="\\arctanh",l[s.ARCSECH]="\\arcsech",l[s.ARCCSCH]="\\arccsch",l[s.ARCCOTH]="\\arccoth",l[s.SECH]="\\sech",l[s.COTH]="\\coth",l[s.CSCH]="\\csch",l[s.LN]="\\ln",l[s.COMMA]=",",l[s.M]="\\M",l[s.BINOM]="\\binom",l[s.COLON]="\\colon",l[s.INT]="\\int",e.fold=function Re(nt,ze){const it=[];let bt;switch(nt.args.forEach(xt=>{it.push(Re(xt,ze))}),nt.args=it,nt.op){case s.VAR:(bt=ze[nt.args[0]])&&(nt=bt);break}return nt};function u(Re){return Re>=1&&Re<=31&&Re!==9||Re>=127&&Re<=159}function f(Re){return Re===ne||Re===Z||Re===B||Re===Yr||Re===Ue||Re===ot||Re===Bt||Re===L}function p(Re){let nt="",ze,it,bt=0;for(;bt<Re.length;){for(;bt<Re.length&&h(ze=Re.charCodeAt(bt++));)it!==32&&(ze=9,it=ze);ze===92&&(nt+=String.fromCharCode(ze),bt<Re.length&&(ze=Re.charCodeAt(bt++))),nt+=String.fromCharCode(ze)}return nt}function h(Re){return u(Re)}function d(Re){return Re===32||Re===9||Re===10||Re===13}function g(Re){return Re>=48&&Re<=57}const y=function Re(nt){let ze="";if(typeof nt=="string")ze=nt;else if(typeof nt=="number")ze=nt;else if(typeof nt=="object"){const it=[];switch(nt.args.forEach(bt=>{it.push(Re(bt))}),nt.op){case s.NUM:case s.VAR:ze=`${nt.args[0]}`;break;case s.TEXT:ze=`\\text{${it[0]}}`;break;case s.SUBSCRIPT:it.reverse().forEach((bt,xt)=>{xt===it.length-1?ze=`${bt}${ze}`:ze=`${l[nt.op]}{${bt}${ze}}`});break;case s.SUB:nt.args.length===1?ze=`${l[nt.op]}${it[0]}`:ze=`${it[0]} ${l[nt.op]} ${it[1]}`;break;case s.DIV:case s.PM:case s.EQL:ze=`${it[0]} ${l[nt.op]} ${it[1]}`;break;case s.POW:{const bt=nt.args[0],xt=nt.args[1];(bt.args&&bt.args.length===2||xt.args&&xt.args.length===2)&&(bt.op===s.ADD||bt.op===s.SUB||bt.op===s.MUL||bt.op===s.DIV||bt.op===s.SQRT)&&(it[0]=` (${it[0]}) `),ze=`{${it[0]}^{${it[1]}}}`;break}case s.SIN:case s.COS:case s.TAN:case s.ARCSIN:case s.ARCCOS:case s.ARCTAN:case s.ARCSEC:case s.ARCCSC:case s.ARCCOT:case s.SEC:case s.COT:case s.CSC:case s.SINH:case s.COSH:case s.TANH:case s.ARCSINH:case s.ARCCOSH:case s.ARCTANH:case s.ARCSECH:case s.ARCCSCH:case s.ARCCOTH:case s.SECH:case s.COTH:case s.CSCH:case s.LN:case s.M:ze=`{${l[nt.op]}{${it[0]}}}`;break;case s.FRAC:ze=`\\frac{${it[0]}}{${it[1]}}`;break;case s.BINOM:ze=`\\binom{${it[0]}}{${it[1]}}`;break;case s.SQRT:switch(it.length){case 1:ze=`\\sqrt{${it[0]}}`;break;case 2:ze=`\\sqrt[${it[0]}]{${it[1]}}`;break}break;case s.INTEGRAL:it.length===4?ze=`\\int_{${it[0]}}^{${it[1]}} ${it[2]} d${it[3]}`:ze=`\\int ${it[0]} d${it[1]}`;break;case s.VEC:ze=`\\vec{${it[0]}}`;break;case s.MUL:{let bt;ze="",nt.args.forEach((xt,Yn)=>{xt.args&&xt.args.length>=2?((xt.op===s.ADD||xt.op===s.SUB)&&(it[Yn]=`(${it[Yn]})`),Yn!==0&&typeof xt=="number"?ze+=`${l[nt.op]} `:nt.isMixedNumber||nt.isScientific&&(ze+="\\times "),ze+=it[Yn]):(xt.op===s.PAREN||xt.op===s.VAR||typeof bt=="number"&&typeof xt!="number"||Yn!==0&&(ze+=` ${l[nt.op]} `),ze+=it[Yn]),bt=xt});break}case s.TIMES:case s.CDOT:case s.ADD:case s.COMMA:it.forEach((bt,xt)=>{xt===0?ze=bt:ze=`${ze}${l[nt.op]} ${bt}`});break;case s.NONE:ze="";break;default:ft(!1,`1000: Unimplemented operator translating to LaTeX: ${nt.op}`);break}}else ft(!1,"1000: Invalid expression type");return ze},b=32,N=33,v=36,k=37,x=40,D=42,F=43,I=44,V=45,j=41,te=46,se=47,Se=48,me=58,W=59,G=61,U=63,re=65,He=91,fe=93,J=94,T=95,le=97,xe=123,C=124,_=125,P=39,L=0,pe=F,oe=J,ce=T,Ce=te,Pe=261,ie=264,Y=265,ge=256,he=se,Qe=G,Ze=263,ye=xe,ee=C,$e=He,Ke=x,kt=D,Xe=Se,q=258,Z=_,B=fe,ne=j,be=262,Fe=259,Le=257,et=V,pt=260,gt=le,nn=re,kn=I,rn=k,Bn=U,pn=N,pr=me,es=W,Qr=267,Zo=268,hr=269,Si=270,ts=271,ns=272,bi=273,Ls=274,js=275,ea=276,ki=277,zs=278,xi=279,ta=280,rs=281,na=282,ou=283,z=284,_e=285,Ue=286,ot=287,Ft=288,Bt=289,Tt=290,wt=291,xn=292,on=293,cn=294,On=295,Do=296,xr=297,Un=298,Oi=299,Bs=300,Ei=301,iu=302,Uc=303,ra=304,Vc=305,Hc=306,su=307,oa=308,ia=309,sa=310,Us=311,lu=312,la=313,is=314,aa=315,Xp=332,au=333,ua=334,Vs=335,uu=336,Hs=337,ss=338,ls=339,Ci=340,qs=341,cu=342,ca=343,fu=344,pu=345,hu=346,du=347,qc=348,Wc=349,Kc=350,Ws=351,Gc=352,Jc=353,Qc=354,Yc=355,Ks=356,mu=357,gu=358,yu=359,vu=360,wu=361,Zt=362,Xt=363,Su=364,bu=365,fa=366,Zc=367,pa=368,Vn=369,Qn=370,Fn=371,ln=372,Ni=373,Ti=374,Gs=375,Yr=376,or=377,as=378,Ai=379,de={};de[he]=s.FRAC,de[ge]=s.FRAC,de[Le]=s.SQRT,de[Tt]=s.VEC,de[pe]=s.ADD,de[et]=s.SUB,de[q]=s.PM,de[Ws]=s.NOT,de[oe]=s.POW,de[ce]=s.SUBSCRIPT,de[kt]=s.MUL,de[ra]=s.CDOT,de[Ni]=s.TIMES,de[cn]=s.DIV,de[Fe]=s.SIN,de[Pe]=s.COS,de[pt]=s.TAN,de[wt]=s.ARCSIN,de[xn]=s.ARCCOS,de[on]=s.ARCTAN,de[Hs]=s.ARCSEC,de[ss]=s.ARCCSC,de[ls]=s.ARCCOT,de[be]=s.SEC,de[ie]=s.COT,de[Y]=s.CSC,de[su]=s.SINH,de[oa]=s.COSH,de[ia]=s.TANH,de[la]=s.ARCSINH,de[is]=s.ARCCOSH,de[aa]=s.ARCTANH,de[ua]=s.ARCSECH,de[Vs]=s.ARCCSCH,de[uu]=s.ARCCOTH,de[sa]=s.SECH,de[Us]=s.COTH,de[lu]=s.CSCH,de[Ze]=s.LN,de[Qr]=s.LG,de[Zo]=s.LOG,de[Qe]=s.EQL,de[kn]=s.COMMA,de[hr]=s.TEXT,de[pa]=s.OPERATORNAME,de[Si]=s.LT,de[ts]=s.LE,de[ns]=s.GT,de[bi]=s.GE,de[Ei]=s.NE,de[Vc]=s.NGTR,de[Hc]=s.NLESS,de[au]=s.NI,de[du]=s.SUBSETEQ,de[qc]=s.SUPSETEQ,de[Wc]=s.SUBSET,de[Kc]=s.SUPSET,de[iu]=s.APPROX,de[pu]=s.PERP,de[hu]=s.PROPTO,de[Gc]=s.PARALLEL,de[Jc]=s.NPARALLEL,de[Qc]=s.SIM,de[Yc]=s.CONG,de[Ls]=s.EXISTS,de[js]=s.IN,de[ea]=s.FORALL,de[ki]=s.LIM,de[zs]=s.EXP,de[xi]=s.TO,de[ee]=s.PIPE,de[ta]=s.SUM,de[rs]=s.INTEGRAL,de[na]=s.PROD,de[qs]=s.CUP,de[cu]=s.BIGCUP,de[ca]=s.CAP,de[fu]=s.BIGCAP,de[ou]=s.M,de[Xt]=s.IMPLIES,de[fa]=s.CAPRIGHTARROW,de[z]=s.RIGHTARROW,de[Ks]=s.LEFTARROW,de[mu]=s.LONGRIGHTARROW,de[gu]=s.LONGLEFTARROW,de[yu]=s.OVERRIGHTARROW,de[vu]=s.OVERLEFTARROW,de[Su]=s.LEFTRIGHTARROW,de[bu]=s.CAPLEFTRIGHTARROW,de[wu]=s.LONGLEFTRIGHTARROW,de[Zt]=s.OVERLEFTRIGHTARROW,de[pn]=s.FACT,de[_e]=s.BINOM,de[Ue]=s.ROW,de[ot]=s.COL,de[pr]=s.COLON,de[es]=s.SEMICOLON,de[On]=s.TYPE,de[Do]=s.OVERLINE,de[or]=s.DOT,de[xr]=s.OVERSET,de[Un]=s.UNDERSET,de[Oi]=s.BACKSLASH,de[Bs]=s.MATHBF,de[Ci]=s.MATHFIELD,de[Zc]=s.DELTA;function Te(Re,nt){return{op:Re,args:nt}}const Io=Te(e.NONE,[Te(e.VAR,["None"])]),eh=function(Re,nt,ze){const it=Object.keys(ze);it.push("to"),nt=p(nt);function bt(S,O){let R="";if(e.option(Re,"allowThousandsSeparator")||e.option(Re,"setThousandsSeparator")){let we=e.option(Re,"setThousandsSeparator");we=[].concat(we!==void 0?we:","),we.indexOf(S)>=0&&(ft(!O||S===O,i(1013,[O,S])),R=S)}return R}function xt(S){const O=e.option(Re,"setDecimalSeparator"),R=e.option(Re,"setThousandsSeparator");if(typeof O=="string"){ft(O.length===1,i(1002));const we=O;return R instanceof Array&&R.indexOf(we)>=0&&ft(!1,i(1008,[we])),S===we}return O instanceof Array?(O.forEach(we=>{R instanceof Array&&R.indexOf(we)>=0&&ft(!1,i(1008,[we]))}),O.indexOf(S)>=0):R instanceof Array&&R.indexOf(".")>=0||R==="."?(ft(O===void 0,i(1008,["."])),S===","):S==="."}const Yn=Te(e.NUM,["Infinity"]);function mo(S,O,R,we){if(O==="\\infty")return Yn;let ue="",Ee,qe,Ot,Qt=0,It="integer";for(O==="."&&ft(!1,i(1004,[O,O.charCodeAt(0)])),Ee=0;Ee<O.length;Ee++)bt(qe=O.charAt(Ee))?((Qt&&Ot!==Ee-4||!Qt&&Ee>4)&&ft(!1,i(1005)),Ot=Ee,Qt++):(xt(qe)&&(It==="decimal"&&ft(!1,i(1007,[qe,ue+qe])),qe=".",It="decimal",Qt&&Ot!==Ee-4&&ft(!1,i(1005)),Ot=Ee,Qt++),ue+=qe);It!=="decimal"&&Ot&&Ot!==Ee-4&&ft(!1,i(1005)),ue=String(ue);const Ut=e.option(S,"strict")&&O||ue;return{op:e.NUM,args:[Ut],separatorCount:Qt,lastSeparatorIndex:Ot,numberFormat:It}}function yt(S,O){return S.length===0&&(S=[Js]),hn(e.MUL,S,O)}function En(S,O){return ft(O.length===1,"1000: Wrong number of arguments for unary node"),Te(S,O)}function hn(S,O,R){if(ft(O.length>0,"1000: Too few argument for binary node"),O.length<2)return O[0];let we=[];return O.forEach(ue=>{R&&ue.op===S&&ue.args.length>1?we=we.concat(ue.args):we.push(ue)}),Te(S,we)}const Js=mo(Re,"1"),ku=mo(Re,"-1");let ha=L,us=L,da,xu;const Zr=_i(nt);function Qs(S){ha=Zr.start(S),da=Zr.lexeme()}function Me(){return ha}function Hn(){return ft(da!==void 0,`1000: Lexeme for token T0=${ha} is missing.`),da}function Be(S){us===L?(ha=Zr.start(S),da=Zr.lexeme()):(ft(xu!==void 0,`1000: Lexeme for token=${us} is missing.`),ha=us,da=xu,us=L)}function an(S){return us===L&&(us=Zr.start(S),xu=Zr.lexeme()),us}function Lt(S,O){const R=Me();if(R!==S){const we=String.fromCharCode(S),ue=R?String.fromCharCode(R):"EOS";ft(!1,i(1001,[`${we}[${S}]`,`${ue}[${R}]`]))}Be(O)}function Xc(S){if(S.op===e.FRAC&&(S.args[0].op===e.NUM||S.args[1].op===e.NUM)){const O=(S.args[0].op===e.SUB||S.args[0].op===e.ADD)&&S.args[0].args.length===1&&S.args[0].args[0]||S.args[0],R=(S.args[1].op===e.SUB||S.args[1].op===e.ADD)&&S.args[1].args.length===1&&S.args[1].args[0]||S.args[1];return O.op===e.NUM&&O.numberFormat==="integer"&&R.op===e.NUM&&R.numberFormat==="integer"&&+R.args[0]!=0}return!1}function Dg(S){if(S.op===e.FRAC){const O=S.args[0],R=S.args[1];return O.op===e.NUM&&O.numberFormat==="integer"&&R.op===e.NUM&&R.numberFormat==="integer"&&+O.args[0]<R.args[0]}return!1}const ef=["K","C","F"],tf=["g","L","m","s"];function Xo(){let S,O,R,we,ue,Ee=[],qe,Ot,Qt,It;switch(R=Me()){case nn:case gt:if(Ee=[Hn()],Be(),Me()===Xe){const Ut=Ee[0].toUpperCase()+Hn(),Er=it.some(Je=>Je.indexOf(Ut)===0);O=Te(e.VAR,Ee),Er&&(O=yt([O,mo(Re,Hn())]),Be())}else Ee[0]==="\\emptyset"?Ee[0]="\\varnothing":Ee[0]==="\\mu"&&Me()===hr&&tf.includes(Hn())?(Ee[0]=`\\mu${Hn()}`,Be()):Ee[0]==="\\degree"&&Me()===hr&&ef.includes(Hn())&&(Ee[0]=`\\degree ${Hn()}`,Be()),O=Te(e.VAR,Ee),r()&&Me()===ye&&an()===Z&&(Lt(ye),Lt(Z));break;case hr:Ee=[Hn()],Be(),O=Te(e.TEXT,[Te(e.VAR,Ee)]);break;case Xe:O=mo(Re,Hn()),Be();break;case Vn:an()===ye||an()===Fn?O=Vt(R):an()===ee?O=dr(R):O=Lr(R);break;case On:O=Te(e.TYPE,[Te(e.VAR,[Hn()])]),Be();break;case $e:case Ke:case Gs:O=Lr(R);break;case B:nf?O=Io:O=Lr(R);break;case ye:case Fn:O=Vt(R);break;case Ft:{Be();const Ut=Vt();if(Ut.op===e.VAR){if(Ut.args[0].indexOf("array")===0){if(Me()===ye){for(;Me()!==Z;)Be();Be()}}else if(Ut.args[0].indexOf("matrix")>=0&&Me()===$e){for(;Me()!==B;)Be();Be()}}const Er=th();Lt(Bt),Vt(),Ut.op===e.VAR&&(Ut.args[0].indexOf("matrix")>=0||Ut.args[0].indexOf("array")===0?O=Te(e.MATRIX,[Er]):ft(!1,"1000: Unrecognized LaTeX name"));break}case ee:O=dr();break;case Uc:Be(),O=En(e.ABS,[Vt()]);break;case ge:Be(),Ot=Vt(),Qt=Vt(),Ot=Ot.args.length===0?Te(e.COMMA,[Io]):Ot,Qt=Ot.args.length===0?Te(e.COMMA,[Io]):Qt,O=Te(e.FRAC,[Ot,Qt]),O.isFraction=Xc(O);break;case _e:{Be();const Ut=Vt(),Er=Vt();O=hn(e.BINOM,[Ut,Er]);break}case Le:switch(Be(),Me()){case $e:{const Ut=Ig(),Er=Vt();O=Te(e.SQRT,[Er,Ut]);break}case ye:ue=Vt(),O=Te(e.SQRT,[ue,Te(e.NUM,["2"])]);break;default:ft(!1,i(1001,["{ or (",String.fromCharCode(Me())]));break}break;case Tt:Be(),O=Te(e.VEC,[Vt()]);break;case pa:{const Ut=Hn();Be(),O=Te(e.OPERATORNAME,[Te(e.VAR,[Ut]),Xo()]);break}case Fe:case Pe:case pt:case be:case ie:case Y:case su:case oa:case ia:case sa:case Us:case lu:for(Be();Me()===oe;)Be({oneCharToken:!0}),Ee.push(ei());return Ee.length===1&&sh(Ee[0])?(we=`arc${de[R]}`,Ee.pop()):we=de[R],(S=Me())===Vn?(an()===ye||an()===Fn?O=Vt(S):an()===ee?O=dr(S):O=Lr(S),Ee.unshift(Te(we,[O]))):(S=Me())===ye||S===Fn?Ee.unshift(Te(we,[Vt(S)])):(S=Me())===Ke||S===$e?Ee.unshift(Te(we,[Lr(S)])):(qe=yn(qn(!0)),It=Zn(Re,qe),qe=It&&go(qe)||qe,Ee.unshift(Te(we,[qe]))),Ee.length>1?O=Te(e.POW,Ee):O=Ee[0],It&&(O=yt([O,Te(e.VAR,["d"]),It])),O;case wt:case xn:case on:case Hs:case ss:case ls:case la:case is:case aa:case ua:case Vs:case uu:for(Be();(S=Me())===oe;)Be({oneCharToken:!0}),Ee.push(ei());return(S=Me())===Vn?(an()===ye||an()===Fn?O=Vt(S):an()===ee?O=dr(S):O=Lr(S),Ee.unshift(Te(de[R],[O]))):(S=Me())===ye||S===Fn?Ee.unshift(Te(de[R],[Vt(S)])):(S=Me())===Ke||S===$e?Ee.unshift(Te(de[R],[Lr(S)])):(S=Me())===ee?Ee.unshift(Te(de[R],[dr(S)])):(qe=yn(qn(!0)),It=Zn(Re,qe),qe=It&&go(qe)||qe,Ee.unshift(Te(de[R],[qe]))),Ee.length>1?O=Te(e.POW,Ee):O=Ee[0],It&&(O=yt([O,Te(e.VAR,["d"]),It])),O;case Ze:return Be(),(S=Me())===Vn?(an()===ye||an()===Fn?O=Vt(S):an()===ee?O=dr(S):O=Lr(S),Ee.push(O)):(S=Me())===ye||S===Fn?Ee.push(Vt(S)):(S=Me())===Ke||S===$e?Ee.push(Lr(S)):(S=Me())===ee?Ee.push(dr(S)):(qe=yn(qn(!0)),It=Zn(Re,qe),qe=It&&go(qe)||qe,Ee.push(qe)),O=Te(e.LOG,[Te(e.VAR,["e"])].concat(Ee)),It&&(O=yt([O,Te(e.VAR,["d"]),It])),O;case Qr:return Be(),(S=Me())===Vn?(an()===ye||an()===Fn?O=Vt(S):an()===ee?O=dr(S):O=Lr(S),Ee.push(O)):(S=Me())===ye||S===Fn?Ee.push(Vt(S)):(S=Me())===Ke||S===$e?Ee.push(Lr(S)):(S=Me())===ee?Ee.push(dr(S)):(qe=yn(qn(!0)),It=Zn(Re,qe),qe=It&&go(qe)||qe,Ee.push(qe)),O=Te(e.LOG,[Te(e.NUM,["10"])].concat(Ee)),It&&(O=yt([O,Te(e.VAR,["d"]),It])),O;case Zo:return Be(),(S=Me())===ce?(Be({oneCharToken:!0}),Ee.push(Xo())):Ee.push(Te(e.NUM,["10"])),(S=Me())===Vn?(an()===ye||an()===Fn?O=Vt(S):an()===ee?O=dr(S):O=Lr(S),Ee.push(O)):(S=Me())===ye||S===Fn?Ee.push(Vt(S)):(S=Me())===Ke||S===$e?Ee.push(Lr(S)):(S=Me())===ee?Ee.push(dr(S)):(qe=yn(qn(!0)),It=Zn(Re,qe),qe=It&&go(qe)||qe,Ee.push(qe)),O=Te(e.LOG,Ee),It&&(O=yt([O,Te(e.VAR,["d"]),It])),O;case ki:return Cu();case rs:case as:case Ai:return ni();case ta:case na:case qs:case cu:case ca:case fu:return Be(),Me()===ce&&(Be({oneCharToken:!0}),Ee.push(Xo()),Me()===oe&&(Lt(oe,{oneCharToken:!0}),Ee.push(Xo()))),Ee.push(qn()),Te(de[R],Ee);case Ls:return Be(),Te(e.EXISTS,[Mi()]);case ea:case fa:case z:case Ks:case mu:case gu:case yu:case vu:case bu:case Su:case wu:case Zt:return Be(),Te(de[R],[nl()]);case zs:return Be(),Te(e.EXP,[el()]);case ou:return Be(),Te(e.M,[qn()]);case Xp:return Be(),Te(e.FORMAT,[Vt()]);case Do:return Be(),Te(e.OVERLINE,[Vt()]);case or:Be();{let Ut,Er="";Ut=Vt(),ft(Ut.op===e.NUM),Er+=Ut.args[0],Me()===Xe&&an()===or&&(Ut=Xo(),ft(Ut.op===e.NUM),Er+=Ut.args[0]),Me()===or&&(Be(),Ut=Vt(),ft(Ut.op===e.NUM),Er+=Ut.args[0]),qe=Te(e.OVERLINE,[mo(Re,Er)])}return qe;case Ci:return Be(),Te(de[R],[Vt()]);case xr:case Un:return Be(),Ot=Vt(),Qt=Vt(),Qt.args.push(Te(de[R],[Ot])),Qt;case Bs:return Be(),Ot=Vt(),Te(e.MATHBF,[Ot]);case Bn:return Be(),Te(e.VAR,["?"]);case Zc:{Be();let Ut;return Me()===gt?(Ut=Hn(),Be()):Ut="",Te(e.VAR,[`Delta_${Ut}`])}case Ce:return Be(),Io;default:ft(!e.option(Re,"strict"),i(1006,[R])),O=Io;break}return O}function th(){const S=[];for(S.push(Or());Me()===Ue;)Be(),S.push(Or());return Te(de[Ue],S)}function Or(){const S=[];for(S.push(nl());Me()===ot;)Be(),S.push(Mi());return Te(de[ot],S)}let ma=0;function dr(S){S=S||ee,ma++,Lt(S);let O,R;S===Vn?Lt(O=Me()):O=S;const we=el();return Lt(R=S===Vn&&Qn||O),R===Qn&&Lt(R=O),ma--,En(e.ABS,[we])}function Vt(S){S=S||ye,Lt(S);let O,R;S===Vn?Lt(O=Me()===Fn&&Fn||ye):O=S;let we;return Me()===Qn||Me()===Z||Me()===ln?(Lt(R=Me()),R===Qn&&Lt(R=Me()===Ce&&Ce||Me()===ln&&ln||Z),we=Te(e.COMMA,[])):(we=nl(),Lt(R=S===Vn&&Qn||S===Fn&&ln||Z),R===Qn&&Lt(R=Me()===Ce&&Ce||Me()===ln&&ln||Z),we.op===Io.op&&we.args[0]===Io.args[0]&&(we=Te(e.COMMA,[]))),we.lbrk=O,we.rbrk=R,we}let Ys=0;function Ig(S){S=S||$e,ft(S===Vn||S===$e,"1000: Internal error"),Ys++,Lt(S);let O;S===Vn&&Lt($e);const R=nl();return Lt(O=S===Vn&&Vn||B),O===Qn&&Lt(O=B),Ys--,R}let nf;function Lr(S){Ys++,Lt(S);let O,R,we;S===Vn?(Lt(O=Me()),we=!0):O=S;let ue;if(Me()===Qn||Me()===ne||Me()===B?(Lt(R=we&&Qn||Me()),R===Qn&&Lt(R=O===Ke&&ne||O===$e&&B||O===Gs&&Yr),ue=Te(e.COMMA,[])):(nf=!0,ue=nl(!0),Lt(R=we&&Qn||Me()===ne&&ne||Me()===Yr&&Yr||S===Vn&&Qn||Me()===$e&&$e||B),R===Qn&&Lt(R=Me()===ne&&ne||Me()===Yr&&Yr||Me()===$e&&$e||B)),O=O===B?Ke:O,R=R===$e?ne:R,(O===Ke||O===$e||O===B)&&(R===ne||R===B||R===$e)){const Ee=ue.op===e.COMMA&&ue.args.length===2&&(O===Ke&&R===ne&&e.INTERVALOPEN||O===$e&&R===B&&e.INTERVAL)||O===Ke&&R===ne&&e.PAREN||O===$e&&R===B&&e.BRACKET||O===Ke&&R===B&&e.INTERVALLEFTOPEN||O===$e&&R===ne&&e.INTERVALRIGHTOPEN;ue=Te(Ee,[ue])}else if(ue.lbrk===Ce&&ue.rbrk===ee)ue=Te(e.EVALAT,[ue]);else if(O===Gs&&R===Yr)ue=Te(e.ANGLEBRACKET,[ue]);else if(ue.op===e.COMMA||O===Ke||O===$e){ft(O===Ke&&R===ne||O===$e&&R===B||O===R,i(1011,[`tk1=${O} tk2=${R}`]));const Ee=O===$e&&e.BRACKET||e.PAREN;ue=Te(Ee,[ue])}return Ys--,nf=!1,ue.lbrk=O,ue.rbrk=R,ue}function nh(){const S=[Xo()];for(;Me()===oe;){Be({oneCharToken:!0});let R;if((ih(S[0])||r())&&((R=Me())===pe||R===et))Be(),S.push(En(de[R],[Js]));else{let we=ei();we.op===e.VAR&&we.args[0]==="\\circ"&&(Me()===hr&&(Hn()==="K"||Hn()==="C"||Hn()==="F")?(we=yt([S.pop(),En(e.VAR,[`\\degree ${Hn()}`])]),Be()):we=yt([S.pop(),En(e.VAR,["\\degree"])])),S.push(we)}}if(S.length>1){let R=S.pop();return S.reverse().forEach(we=>{R=Te(e.POW,[we,R])}),R.isPolynomial=Q(R),R}const O=S[0];return O.isPolynomial=Q(O),O}function rh(){let S,O=nh();switch(S=Me()){case rn:Be(),O=Te(e.PERCENT,[O]);break;case pn:Be(),O=Te(e.FACT,[O]);break;default:if(S===ee&&an()===ce){Be();const R=[O];Be({oneCharToken:!0}),R.push(Te(e.SUBSCRIPT,[Mi()])),O=Te(e.PIPE,R)}else r()&&(S===pe||S===et)&&an()===Z&&(Be(),O=En(de[S],[O]));break}return O}function Zs(S){return S===pe||S===et||S===kn||S===Z||S===ne||S===B||S===Yr||S===Qn||S===L}function ei(){let S,O,R;switch(S=Me()){case pe:case Ws:case et:Be(),O=Te(de[S],[ei()]);break;case q:Be(),O=qn(!0),O=Te(de[S],[O]);break;case ce:if(R=de[S],Be({oneCharToken:!0}),(S=Me())===pe||S===et?(Be(),O=Js):O=ei(),O=Te(R,[O]),(S=Me())===oe){const we=[O];R=de[S],Be({oneCharToken:!0}),(S=Me())===pe||S===et?(Be(),O=Js):O=ei(),we.push(O),O=Te(R,we)}break;case oe:R=de[S],Be({oneCharToken:!0}),(S=Me())===pe||S===et?(Be(),O=Js):O=ei(),O=Te(R,[O]);break;default:S===gt&&Hn()==="$"?(Be(),Zs(Me())?O=Te(e.VAR,["$"]):(O=yt([Te(e.VAR,["$"]),rh()]),O.args[1].isPolynomialTerm=!0)):O=rh();break}return O}function oh(){const S=[ei()];for(;Me()===ce;)Be({oneCharToken:!0}),S.push(nh()),r()&&Me()===ye&&(Lt(ye),Lt(Z));let O;return S.length===1?(O=S[0],ft(O.op!==e.SUBSCRIPT||O.args.length!==1,i(1012,[nt]))):O=R(S),O;function R(we){let ue,Ee;return we.forEach(qe=>{qe.op===e.SUBSCRIPT&&(qe=R(qe.args));let Ot,Qt;qe.op===e.POW&&!qe.lbrk?(ue=qe.args[1],Ot=Ee&&Ee.op===e.SUBSCRIPT&&Ee.args||Ee&&[Ee]||[],Qt=qe.args[0].op===e.SUBSCRIPT&&qe.args[0].args||[qe.args[0]]):Ee&&Ee.op===e.POW?(ue=Ee.args[1],Ot=Ee.args[0].op===e.SUBSCRIPT&&Ee.args[0].args||[Ee.args[0]],Qt=qe.op===e.SUBSCRIPT&&qe.args||[qe]):(Ot=Ee&&Ee.op===e.SUBSCRIPT&&Ee.args||Ee&&[Ee]||[],Qt=qe.op===e.SUBSCRIPT&&qe.args||[qe]);const It=Ot.concat(Qt);Ee=It.length>1&&Te(e.SUBSCRIPT,It)||It[0]}),ue&&hn(e.POW,[Ee,ue])||Ee}}function ga(){let S,O=oh();if(cs(O))return Xr(O);if(ya(O)&&(Me()===ge||Me()===Xe&&an()===he)){let R=ga();if(cs(R))return Xr(R);if(ah(O,R)){let we;R.op===e.PERCENT&&(R=R.args[0],we=!0);let ue;jt(O)&&(ue=!0,O=Sn(O)),O=hn(e.ADD,[O,R]),O.isMixedNumber=!0,ue&&(O=Sn(O)),we===!0&&(O=Te(e.PERCENT,[O]))}else O=hn(e.MUL,[O,R]),R.isImplicit=!0}for(;(S===void 0||S===Me())&&(S=Me())===he;)Be(),O=Te(de[S],[O,oh()]),O.isFraction=Xc(O),O.isSlash=S===he;return O.op===e.FRAC&&O.args[1].op===e.PERCENT&&(O=Te(e.PERCENT,[Te(e.FRAC,[O.args[0],O.args[1].args[0]])])),O}function ih(S){if(S.op!==e.VAR)return!1;const O=e.env[S.args[0]];return!!(O&&O.name)}function ti(S,O){return ft(typeof O>"u"||typeof O=="string","1000: Invalid id"),S.op===e.VAR?O===void 0?!0:S.args[0]===O:S.op===e.POW&&ti(S.args[0])&&Eu(S.args[1])?O===void 0?!0:S.args[0].args[0]===O:!1}function Ou(S){return S.op===e.NUM&&(S.args[0]==="1"||S.args[0]==="1.")}function sh(S){return S.op===e.SUB&&S.args.length===1&&Ou(S.args[0])}function lh(S){return S===kt||S===cn||S===he||S===Ni||S===ra}function Pg(S){return S===Fe||S===Pe||S===pt||S===be||S===ie||S===Y||S===su||S===oa||S===ia||S===sa||S===Us||S===lu||S===wt||S===xn||S===on||S===Hs||S===ls||S===ss||S===la||S===is||S===aa||S===ua||S===uu||S===Vs||S===Ze||S===Zo||S===Qr}function cs(S){if(S.op!==e.FRAC)return!1;const O=S.args[0],R=O.op===e.MUL&&O.args[0].op===e.VAR&&O.args[0].args[0]||O.op===e.VAR&&O.args[0]||O.op===e.POW&&O.args[0].op===e.VAR&&O.args[0].args[0],we=S.args[1],ue=we.op===e.MUL&&we.args[0].op===e.VAR&&we.args[0].args[0];return R==="d"&&ue==="d"&&(we.args[1]&&we.args[1].op===e.VAR||we.args[1]&&we.args[1].op===e.POW&&we.args[1].args[0]&&we.args[1].args[0].op===e.VAR)}function Xr(S){if(S.op!==e.FRAC)return null;const O=S.args[0],R=S.args[1],we=O.op===e.MUL&&yt(O.args.slice(1))||qn();ft(R.args.length===2);const ue=R.args[1],Ee=ue.op===e.POW&&ue.args[0]||ue,qe=ue.op===e.POW&&ue.args[1]||Js;return S=Te(e.DERIV,[we,Ee,qe]),S}function qn(S=!1){let O,R,we=!1,ue=[],Ee;R=ga(),ue=[R];let qe=0;for(;(O=Me())&&!Jt(O)&&!Kt(O)&&!uh(O)&&O!==kn&&O!==es&&O!==pr&&!rf(O)&&O!==Z&&O!==ln&&O!==ne&&O!==Qn&&O!==Yr&&!((O===$e||O===B)&&Ys>0)&&O!==z&&O!==fa&&O!==Si&&!(O===ee&&ma>0)&&O!==Ue&&O!==ot&&O!==Bt&&!(S&&(lh(O)||Pg(O)||O===Ke||O===Vn||O===$e||O===Gs||O===Bs)||Zn(Re,yn(R)));){if(we=!1,lh(O)&&(Be(),we=!0),R=ga(),(O===ra||O===Ni||O===cn)&&(R=hn(de[O],[ue.pop(),R],!0)),we||ue.length===0||R.lbrk||ue[ue.length-1].op!==e.NUM||!(ue[ue.length-1].numberFormat==="decimal"&&ue[ue.length-1].lastSeparatorIndex===ue[ue.length-1].args[0].length-1)||ue[ue.length-1].lastSeparatorIndex===ue[ue.length-1].args[0].length||ue[ue.length-1].lbrk||ae([ue[ue.length-1],R])||R.op!==e.NUM||ft(!1,"Shouldn't get here"),ft(we||ue.length===0||R.lbrk||ue[ue.length-1].op!==e.NUM||ue[ue.length-1].lbrk||ae([ue[ue.length-1],R])||R.op!==e.NUM,i(1010)),r()&&O===Ke&&ti(ue[ue.length-1],"M"))ue.pop(),R=En(e.M,[R]);else if(!we&&ue.length>0)if(ue.length>0&&ah(ue[ue.length-1],R))O=ue.pop(),jt(O)&&(R=hn(e.MUL,[ku,R])),R=hn(e.ADD,[O,R]),R.isMixedNumber=!0;else if(ue.length>0&&ue[ue.length-1].op===e.VAR&&R.op===e.VAR&&R.args[0].indexOf("'")===0)R=hn(e.POW,[ue.pop(),R]),R.isImplicit=R.args[0].isImplicit;else if(ue.length>0&&(ue[ue.length-1].op===e.MUL||ue[ue.length-1].op===e.DOT)&&ue[ue.length-1].args[ue[ue.length-1].args.length-1].op===e.VAR&&R.op===e.VAR&&R.args[0].indexOf("'")===0)O=ue.pop(),R=yt(O.args.concat(hn(e.POW,[O.args.pop(),R]))),R.isImplicit=R.args[0].isImplicit;else if(ue.length>0&&ue[ue.length-1].op===e.VAR&&R.op===e.POW&&R.args[0].op===e.VAR&&R.args[0].args[0].indexOf("'")===0)R=Te(e.POW,[hn(e.POW,[ue.pop(),R.args[0]])].concat(R.args.slice(1)));else if(ue.length>0&&(Ee=ae([ue[ue.length-1],R])))ue.pop(),R=Ee;else if(Ge(ue,R)){const Qt=ue.pop();R=hn(e.POW,[mo(Re,"10"),ei()]),R=hn(e.TIMES,[Qt,R]),ht(R.args)&&(R.isScientific=!0)}else R.op===e.VAR&&R.args[0]==="\\degree"&&ue.length===1&&ue[0].op===e.SUB&&ue[0].args.length===1?(R=En(e.SUB,[yt([ue[0].args[0],R])]),ue.pop()):R=yt([ue.pop(),R],!0);else(O===Ni||O===ra)&&ht(R.args)&&(R.isScientific=!0);ue.push(R),ft(qe++<1e3,"1000: Stuck in loop in multiplicativeExpr()")}const Ot=ue[0];return Ot.op===e.MUL&&Ot.args.length>1?$g(Ot):Ot}function $g(S){ft(S.op===e.MUL,"1000: Internal error");let{args:O}=S,R=O[0];return R.op===e.COMMA&&R.args.length===0&&(O=O.slice(1,O.length),O[0].isImplicit=!1),R=O[O.length-1],R.op===e.COMMA&&R.args.length===0&&(O=O.slice(0,O.length-1)),Te(S.op,O)}function ya(S){return(S.op===e.SUB||S.op===e.ADD)&&S.args.length===1&&(S=S.args[0]),S.op===e.NUM?S:!1}function ah(S,O){return(S.op===e.SUB||S.op===e.ADD)&&S.args.length===1&&(S=S.args[0]),O.op===e.PERCENT&&(O=O.args[0]),!!(S.op===e.NUM&&Dg(O))}function Eu(S){let O;return S?((S.op===e.SUB||S.op===e.ADD)&&S.args.length===1&&(S=S.args[0]),S.op===e.NUM&&(O=new In(S.args[0]))&&Eu(O)?!0:S instanceof In?S.modulo(Xs).cmp(Fg)===0:!1):!1}const Fg=new In("0"),Xs=new In("1");function Q(S){let O=0;if(S.op===e.POW){const R=S.args[0],we=S.args[1];(R.op===e.VAR||R.isPolynomial||R.op===e.PAREN&&Q(R.args[0]))&&Eu(we)&&(O=parseInt(we.args[0],10))}else S.op===e.VAR?O=1:S.op===e.ADD||S.op===e.SUB?S.args.forEach(R=>{const we=Q(R);O=we>O&&we||O}):S.op===e.MUL&&S.args.forEach(R=>{const we=Q(R);O=we>O&&we||O});return O}function ve(S){return S.op===e.MUL||S.op===e.TIMES||S.op===e.CDOT}function ae(S){if(!ya(S[0]))return null;let O,R=!1;S[0].op===e.SUB&&S[0].args[0].op===e.NUM&&(S[0]=S[0].args[0],R=!0),ve(S[0])&&S[0].args[S[0].args.length-1].numberFormat==="decimal"&&(O=S[0].args.slice(0,S[0].args.length-1),S=S[0].args.slice(S[0].args.length-1).concat(S[1]));let we,ue,Ee;if(!S[0].lbrk&&(S[0].op===e.NUM&&S[0].numberFormat==="decimal"||S[0].op===e.VAR&&S[0].args[0]==="?"||S[0].op===e.TYPE&&S[0].args[0].op===e.VAR&&S[0].args[0].args[0]==="decimal")){if(!S[1].lbrk&&S[1].op===e.OVERLINE)ue=S[0],Ee=S[1].args[0];else return null;ue.isRepeating=!0,Ee.isRepeating=!0,we=hn(e.ADD,[ue,Ee]),we.numberFormat="decimal",we.isRepeating=!0,O&&(we=yt(O.concat(we)))}else we=null;return we=we!==null&&R&&En(e.SUB,[we])||we,we}function Ge(S,O){return!!(S.length>0&&ya(S[S.length-1])&&O.op===e.TEXT&&(O.args[0].args[0]==="E"||O.args[0].args[0]==="e")&&(Me()===Xe||(Me()===45||Me()===43)&&an()===Xe))}function ht(S){let O;if(S.length===2){const R=S[0],we=S[1];return!!((O=ya(R))&&+O.args[0]>=1&&+O.args[0]<10&&we.op===e.POW&&(O=ya(we.args[0]))&&O.args[0]==="10"&&Eu(we.args[1]))}return!1}function jt(S){return typeof S=="number"?S<0:S.args.length===1?S.op===s.SUB&&S.args[0].args[0]>0||S.op===e.NUM&&+S.args[0]<0:S.args.length===2?S.op===s.MUL&&jt(S.args[0]):!1}function Sn(S){if(typeof S=="number")return-S;if(S.op===e.SUB&&S.args.length===1)return S.args[0];if(S.op===e.MUL){const O=S.args.slice(0);return yt([Sn(O.shift())].concat(O))}return S.op===e.POW&&sh(S.args[1])?hn(e.POW,[Sn(S.args[0]),ku]):En(e.SUB,[S])}function Jt(S){return S===pe||S===et||S===q||S===Oi||S===qs||S===ca}function el(){let S=qn(),O;for(;Jt(O=Me());){Be();let R=qn();switch(O){case Oi:case qs:case ca:S.lbrk===Fn&&S.rbrk===ln&&(S=Te(e.SET,[S])),R.lbrk===Fn&&R.rbrk===ln&&(R=Te(e.SET,[R])),S=hn(de[O],[S,R]);break;case q:S=hn(e.PM,[S,R]);break;case et:S=hn(e.SUB,[S,R]);break;default:{const we=!e.option(Re,"compareGrouping")&&!(S.isMixedNumber||R.isMixedNumber);S=hn(e.ADD,[S,R],we);break}}}return S.isPolynomial=Q(S),S}function va(S){return S.op===e.SIN||S.op===e.COS||S.op===e.TAN||S.op===e.SEC||S.op===e.COT||S.op===e.CSC||S.op===e.SINH||S.op===e.COSH||S.op===e.TANH||S.op===e.SECH||S.op===e.COTH||S.op===e.CSCH||S.op===e.ARCSIN||S.op===e.ARCCOS||S.op===e.ARCTAN||S.op===e.ARCSEC||S.op===e.ARCCOT||S.op===e.ARCCSC||S.op===e.ARCSINH||S.op===e.ARCCOSH||S.op===e.ARCTANH||S.op===e.ARCSECH||S.op===e.ARCCOTH||S.op===e.ARCCSCH||S.op===e.LN||S.op===e.LOG||S.op===e.LG}function yn(S){let O=[],R=S.op;if(R===e.NUM||R===e.VAR)return S;(R===e.CDOT||R===e.TIMES)&&(R=e.MUL),S.args.forEach(ue=>{ue=yn(ue),R!==e.INTEGRAL&&ue.op===R&&ue.args.length>1?O=O.concat(ue.args):O.push(ue)});const{isMixedNumber:we}=S;return S=Te(R,O),S.isMixedNumber=we,S}function Zn(S,O){if(!e.option(S,"parsingIntegralExpr"))return null;const R=O.args.length;if(O.op===e.MUL&&O.args[R-1].op===e.FRAC||ve(O)&&va(O.args[R-1]))return Zn(S,O.args[R-1]);if(O.op===e.FRAC)return Zn(S,O.args[0]);if(va(O))return Zn(S,O.args[R-1]);const we=O.args[R-2],ue=O.args[R-1];return O&&O.op===e.MUL&&we.op===e.VAR&&we.args[0]==="d"&&ue.op===e.VAR&&ue||null}function go(S){ft(ve(S)||S.op===e.FRAC||va(S));let O=S.args[S.args.length-1];return S.op===e.MUL&&O.op===e.FRAC?(O=go(O),S=yt(S.args.slice(0,S.args.length-1).concat(O))):ve(S)&&va(O)?(O=go(O),S=Te(S.op,S.args.slice(0,S.args.length-1).concat(O))):S.op===e.FRAC?S=Te(e.FRAC,[go(S.args[0]),S.args[1]]):va(S)?S=Te(S.op,[go(S.args[S.args.length-1])]):S=yt(S.args.slice(0,S.args.length-2)),S}function ni(S){let O,R;const we=e.option(Re,"parsingIntegralExpr",!0),ue=[];if(Me()===Ai)Lt(Ai),O=ni(Ai),R=Zn(Re,yn(qn()));else if(Me()===as||S===Ai)S!==Ai&&Lt(as),O=ni(as),R=Zn(Re,yn(qn()));else if(S!==as&&Lt(rs),Me()===ce&&(Be({oneCharToken:!0}),ue.push(Xo()),Me()===oe&&(Lt(oe,{oneCharToken:!0}),ue.push(Xo()))),Me()===rs)O=ni(),R=Zn(Re,yn(qn()));else{O=yn(qn());let Ee;for(R=Zn(Re,O),O=R&&go(O)||O;Jt(Ee=Me())&&!R;){Be();let qe=yn(qn());switch(R=Zn(Re,qe),qe=R&&go(qe)||qe,Ee){case et:O=hn(e.SUB,[O,qe]);break;default:O=hn(e.ADD,[O,qe],!0);break}}}return ue.push(O),ue.push(R||Io),e.option(Re,"parsingIntegralExpr",we),ft(R,i(1014,[nt.replace(/\\\\/g,"\\")])),Te(e.INTEGRAL,ue)}function Cu(){Lt(ki);const S=[];return Me()===ce&&(Be({oneCharToken:!0}),S.push(Xo())),S.push(qn()),Te(e.LIM,S)}function tl(){let S=el();for(;Me()===pr;){Be();const O=el();S=hn(e.COLON,[S,O],!0)}return S}function Kt(S){return S===Si||S===ts||S===ns||S===bi||S===Vc||S===Hc||S===js||S===xi||S===pu||S===hu||S===au||S===Ws||S===du||S===qc||S===Wc||S===Kc||S===Gc||S===Jc||S===Qc||S===Yc}function Lg(){let S=Me(),O=tl();const R=[];let we=!1;for(;Kt(S=Me());){if(Be(),S===Ws){we=!0;continue}const ue=tl();O=Te(de[S],[O,ue]),we&&(O.op=`n${O.op}`,we=!1),R.push(O),O=e.create(Re,ue)}return R.length===0?O:R.length===1?R[0]:Te(e.COMMA,R)}function rf(S){return S===Qe||S===Ei||S===iu}function Mi(){let S=Lg(),O;const R=[];for(;rf(O=Me())||O===z;){Be();const we=tl();S=Te(de[O],[S,we]),R.push(S),S=e.create(Re,we)}return R.length===0?S:R.length===1?R[0]:Te(e.COMMA,R)}function uh(S){return S===Xt||S===z||S===fa||S===Ks||S===mu||S===gu||S===yu||S===vu||S===bu||S===Su||S===wu||S===Zt}function ch(){let S=Mi(),O;for(;uh(O=Me());){Be();const R=Mi();S=Te(de[O],[S,R])}return S}function nl(S){const O=ch(),R=[O];let we;for(;(we=Me())===kn||S&&we===es;)Be(),f(Me())||R.push(ch());return R.length>1?Te(de[kn],R):O}function Nu(){try{if(Qs(),Me()){let S=nl();return ft(!Me(),i(1003,[Zr.pos(),Zr.lexeme(),`"${nt.substring(Zr.pos()-1)}"`])),S.lbrk===Fn&&(S=Te(e.SET,[S])),S}}catch(S){throw console.log(`SYNTAX ERROR in: ${nt}
${S.stack}`),S}return Io}return{expr:Nu};function _i(S){let O=0,R="";const we={"\\Delta":Zc,"\\cdot":ra,"\\times":Ni,"\\div":cn,"\\dfrac":ge,"\\frac":ge,"\\sqrt":Le,"\\vec":Tt,"\\pm":q,"\\not":Ws,"\\sin":Fe,"\\cos":Pe,"\\tan":pt,"\\sec":be,"\\cot":ie,"\\csc":Y,"\\arcsin":wt,"\\arccos":xn,"\\arctan":on,"\\arcsec":Hs,"\\arccsc":ss,"\\arccot":ls,"\\asin":wt,"\\acos":xn,"\\atan":on,"\\asec":Hs,"\\acsc":ss,"\\acot":ls,"\\sinh":su,"\\cosh":oa,"\\tanh":ia,"\\sech":sa,"\\coth":Us,"\\csch":lu,"\\arcsinh":la,"\\arccosh":is,"\\arctanh":aa,"\\arcsech":ua,"\\arccsch":Vs,"\\arccoth":uu,"\\ln":Ze,"\\lg":Qr,"\\log":Zo,"\\left":Vn,"\\right":Qn,"\\big":null,"\\Big":null,"\\bigg":null,"\\Bigg":null,"\\ ":null,"\\quad":null,"\\qquad":null,"\\text":hr,"\\textrm":hr,"\\textit":hr,"\\textbf":hr,"\\operatorname":pa,"\\lt":Si,"\\le":ts,"\\leq":ts,"\\gt":ns,"\\ge":bi,"\\geq":bi,"\\ne":Ei,"\\neq":Ei,"\\ngtr":Vc,"\\nless":Hc,"\\ni":au,"\\subseteq":du,"\\supseteq":qc,"\\subset":Wc,"\\supset":Kc,"\\approx":iu,"\\implies":Xt,"\\Rightarrow":fa,"\\rightarrow":z,"\\leftarrow":Ks,"\\longrightarrow":mu,"\\longleftarrow":gu,"\\overrightarrow":yu,"\\overleftarrow":vu,"\\Leftrightarrow":bu,"\\leftrightarrow":Su,"\\longleftrightarrow":wu,"\\overleftrightarrow":Zt,"\\perp":pu,"\\propto":hu,"\\parallel":Gc,"\\nparallel":Jc,"\\sim":Qc,"\\cong":Yc,"\\exists":Ls,"\\in":js,"\\forall":ea,"\\lim":ki,"\\exp":zs,"\\to":xi,"\\sum":ta,"\\int":rs,"\\iint":as,"\\iiint":Ai,"\\prod":na,"\\cup":qs,"\\bigcup":cu,"\\cap":ca,"\\bigcap":fu,"\\%":rn,"\\binom":_e,"\\begin":Ft,"\\end":Bt,"\\colon":pr,"\\vert":ee,"\\lvert":ee,"\\rvert":ee,"\\mid":ee,"\\type":On,"\\format":Xp,"\\overline":Do,"\\dot":or,"\\overset":xr,"\\underset":Un,"\\backslash":Oi,"\\mathbf":Bs,"\\abs":Uc,"\\MathQuillMathField":Ci,"\\ldots":gt,"\\vdots":gt,"\\ddots":gt,"\\infty":Ti,"\\langle":Gs,"\\rangle":Yr},ue={162:"\\cent",176:"\\degree",8592:"\\leftarrow",8594:"\\rightarrow",8652:"\\rightleftharpoons",8704:"\\forall",8705:"\\complement",8706:"\\partial",8707:"\\exists",8708:"\\nexists",8709:"\\varnothing",8710:"\\triangle",8711:"\\nabla",8712:"\\in",8713:"\\notin",8714:"\\in",8715:"\\ni",8716:"\\notni",8717:"\\ni",8718:"\\blacksquare",8719:"\\sqcap",8720:"\\amalg",8721:"\\sigma",8722:"-",8723:"\\mp",8724:"\\dotplus",8725:"/",8726:"\\setminus",8727:"*",8728:"\\circ",8729:"\\bullet",8730:"\\sqrt",8731:null,8732:null,8733:"\\propto",8734:"\\infty",8735:"\\llcorner",8736:"\\angle",8737:"\\measuredangle",8738:"\\sphericalangle",8739:"\\divides",8740:"\\notdivides",8741:"\\parallel",8742:"\\nparallel",8743:"\\wedge",8744:"\\vee",8745:"\\cap",8746:"\\cup",8747:"\\int",8748:"\\iint",8749:"\\iiint",8750:"\\oint",8751:"\\oiint",8752:"\\oiiint",8753:null,8754:null,8755:null,8756:"\\therefore",8757:"\\because",8758:"\\colon",8759:null,8760:null,8761:null,8762:null,8763:null,8764:"\\sim",8765:"\\backsim",8766:null,8767:null,8768:"\\wr",8769:"\\nsim",8770:"\\eqsim",8771:"\\simeq",8772:null,8773:"\\cong",8774:null,8775:"\\ncong",8776:"\\approx",8777:null,8778:"\\approxeq",8779:null,8780:null,8781:"\\asymp",8782:"\\Bumpeq",8783:"\\bumpeq",8784:"\\doteq",8785:"\\doteqdot",8786:"\\fallingdotseq",8787:"\\risingdotseq",8788:null,8789:null,8790:"\\eqcirc",8791:"\\circeq",8792:null,8793:null,8794:null,8795:null,8796:"\\triangleq",8797:null,8798:null,8799:null,8800:"\\ne",8801:"\\equiv",8802:null,8803:null,8804:"\\le",8805:"\\ge",8806:"\\leqq",8807:"\\geqq",8808:"\\lneqq",8809:"\\gneqq",8810:"\\ll",8811:"\\gg",8812:"\\between",8813:null,8814:"\\nless",8815:"\\ngtr",8816:"\\nleq",8817:"\\ngeq",8818:"\\lessim",8819:"\\gtrsim",8820:null,8821:null,8822:"\\lessgtr",8823:"\\gtrless",8824:null,8825:null,8826:"\\prec",8827:"\\succ",8828:"\\preccurlyeq",8829:"\\succcurlyeq",8830:"\\precsim",8831:"\\succsim",8832:"\\nprec",8833:"\\nsucc",8834:"\\subset",8835:"\\supset",8836:null,8837:null,8838:"\\subseteq",8839:"\\supseteq",8840:"\\nsubseteq",8841:"\\nsupseteq",8842:"\\subsetneq",8843:"\\supsetneq",8844:null,8845:null,8846:null,8847:"\\sqsubset",8848:"\\sqsupset",8849:null,8850:null,8851:"\\sqcap",8852:"\\sqcup",8853:"\\oplus",8854:"\\ominus",8855:"\\otimes",8856:"\\oslash",8857:"\\odot",8858:"\\circledcirc",8859:"\\circledast",8860:null,8861:"\\circleddash",8862:"\\boxplus",8863:"\\boxminus",8864:"\\boxtimes",8865:"\\boxdot",8866:"\\vdash",8867:"\\dashv",8868:"\\top",8869:"\\bot",8870:null,8871:"\\models",8872:"\\vDash",8873:"\\Vdash",8874:"\\Vvdash",8875:"\\VDash*",8876:"\\nvdash",8877:"\\nvDash",8878:"\\nVdash",8879:"\\nVDash",8880:null,8881:null,8882:"\\vartriangleleft",8883:"\\vartriangleright",8884:"\\trianglelefteq",8885:"\\trianglerighteq",8886:null,8887:null,8888:"\\multimap",8889:null,8890:"\\intercal",8891:"\\veebar",8892:"\\barwedge",8893:null,8894:null,8895:null,8896:"\\wedge",8897:"\\vee",8898:"\\cap",8899:"\\cup",8900:"\\diamond",8901:"\\cdot",8902:"\\star",8903:null,8904:"\\bowtie",8905:"\\ltimes",8906:"\\rtimes",8907:"\\leftthreetimes",8908:"\\rightthreetimes",8909:"\\backsimeq",8910:"\\curlyvee",8911:"\\curlywedge",8912:"\\Subset",8913:"\\Supset",8914:"\\Cap",8915:"\\Cup",8916:"\\pitchfork",8917:"\\lessdot",8918:"\\gtrdot",8919:null,8920:"\\lll",8921:"\\ggg",8922:"\\lesseqgtr",8923:"\\gtreqless",8924:null,8925:null,8926:"\\curlyeqprec",8927:"\\curlyeqsucc",8928:null,8929:null,8930:null,8931:null,8932:null,8933:null,8934:"\\lnsim",8935:"\\gnsim",8936:"\\precnsim",8937:"\\succnsim",8938:"\\ntriangleleft",8939:"\\ntriangleright",8940:"\\ntrianglelefteq",8941:"\\ntrianglerighteq",8942:"\\vdots",8943:"\\cdots",8944:null,8945:"\\ddots",8946:null,8947:null,8948:null,8949:null,8950:null,8951:null,8952:null,8953:null,8954:null,8955:null,8956:null,8957:null,8958:null,8959:null,10231:"\\longleftrightarrow",945:"\\alpha",946:"\\beta",947:"\\gamma",948:"\\delta",949:"\\epsilon",950:"\\zeta",951:"\\eta",952:"\\theta",953:"\\iota",954:"\\kappa",955:"\\lambda",956:"\\mu",957:"\\nu",958:"\\xi",959:"o",960:"\\pi",961:"\\rho",962:"\\varsigma",963:"\\sigma",964:"\\tau",965:"\\upsilon",966:"\\varphi",967:"\\chi",968:"\\psi",969:"\\omega",977:"\\vartheta",981:"\\phi",982:"\\varpi",1009:"\\varrho",1013:"\\epsilon",913:"A",914:"B",915:"\\Gamma",916:"\\Delta",917:"E",918:"Z",919:"H",920:"\\Theta",921:"I",922:"K",923:"\\Lambda",924:"M",925:"N",926:"\\Xi",927:"O",928:"\\Pi",929:"P",930:null,931:"\\Sigma",932:"T",933:"\\Upsilon",934:"\\Phi",935:"X",936:"\\Psi",937:"\\Omega",1013:"\\epsilon"};function Ee(Je){return Je>=65&&Je<=90||Je>=97&&Je<=122}function qe(Je){Je||(Je={});let st;R="";let Wn;for(;O<S.length;){let ir;switch(st=S.charCodeAt(O++),st===55349&&(S.charCodeAt(O++)===57030?st=949:ft(!1,i(1004,[String.fromCharCode(st),st]))),st){case 32:case 9:case 10:case 13:case 160:case 8203:continue;case 38:if(S.substring(O).indexOf("nbsp;")===0){O+=5;continue}return ot;case 92:switch(R+=String.fromCharCode(st),S.charCodeAt(O)){case 92:return O++,Ue;case 123:return O++,Fn;case 124:return O++,ee;case 125:return O++,ln}if(ir=Ut(),ir!==null)return ir;R="";continue;case 42:case 8727:return S.charCodeAt(O)===42?(O++,oe):Ni;case 45:case 8722:return S.charCodeAt(O)===62?(O++,z):et;case 47:case 8725:return he;case 33:return S.charCodeAt(O)===61?(O++,Ei):st;case 58:case 8758:return pr;case 59:return es;case 37:case 40:case 41:case 43:case 44:case 61:case 63:case 91:case 93:case 94:case 95:case 123:case 124:case 125:return R+=String.fromCharCode(st),st;case 36:return R+=String.fromCharCode(st),gt;case 39:return Er(st);case 60:return S.charCodeAt(O)===61?(O++,ts):Si;case 62:return S.charCodeAt(O)===61?(O++,bi):ns;default:return Ee(st)||st===P?It(st):(Wn=ue[st])?(R=Wn,ir=we[R],ir===void 0&&(ir=gt),ir):xt(String.fromCharCode(st))||g(st)?Je.oneCharToken?(R+=String.fromCharCode(st),Xe):Qt(st):(ft(!1,i(1004,[String.fromCharCode(st),st])),0)}}return 0}let Ot;function Qt(Je){let st;for(;g(Je)||xt(String.fromCharCode(Je))||(st=bt(String.fromCharCode(Je),Ot));){if(Ot=st||Ot,R+=String.fromCharCode(Je),Je=S.charCodeAt(O++),Je===92&&S.charCodeAt(O)===32&&(Je=32,O++),xt(String.fromCharCode(Je))||(st=bt(String.fromCharCode(Je),Ot)))for(Ot=st||Ot,R+=String.fromCharCode(Je),Je=S.charCodeAt(O++);Je===92&&(Je=S.charCodeAt(O))===32&&O++||d(Je);)Je=S.charCodeAt(O++);Je===92&&S.charCodeAt(O)===32&&(Je=32,O++)}return R==="."&&(S.substring(O).indexOf("overline")===0||S.substring(O).indexOf("dot")===0)&&(R="0."),O--,Xe}function It(Je){let st=String.fromCharCode(Je);R+=st;let Wn=R;const ir=O+1;for(;(Ee(Je)||Je===P)&&(Je=S.charCodeAt(O++),!(!Ee(Je)||(st=String.fromCharCode(Je),!it.some(jg=>{const fh=Wn+st;return jg.indexOf(fh)===0}))));)Wn+=st;for(it.indexOf(Wn)>=0?R=Wn:O=ir;R.lastIndexOf("'")===R.length-1&&Je===P;)R+=String.fromCharCode(Je),Je=S.charCodeAt(O++);return O--,gt}function Ut(){let Je=S.charCodeAt(O++);if(Je===v)R=String.fromCharCode(Je);else if(Je===k)R+=String.fromCharCode(Je);else if([b,me,W,I,N].indexOf(Je)>=0)R="\\ ";else{for(;Ee(Je);)R+=String.fromCharCode(Je),Je=S.charCodeAt(O++);R=R==="\\varepsilon"&&"\\epsilon"||R,O--}let st=we[R];if(st===void 0)R==="\\emptyset"&&(R="\\varnothing"),st=gt;else if(st===pa){for(Je=S.charCodeAt(O++);Je&&Je!==xe;)Je=S.charCodeAt(O++);for(R="",Je=S.charCodeAt(O++);Je&&Je!==_;){const Wn=String.fromCharCode(Je);Wn==="&"&&S.substring(O).indexOf("nbsp;")===0?O+=5:Wn===" "||Wn==="	"||(R+=Wn),Je=S.charCodeAt(O++)}st=we[`\\${R}`],st===void 0&&(st=pa)}else if(st===hr||st===On){for(Je=S.charCodeAt(O++);Je&&Je!==xe;)Je=S.charCodeAt(O++);R="",Je=S.charCodeAt(O++);const Wn=e.option(Re,"keepTextWhitespace");for(;Je&&Je!==_;){const ir=String.fromCharCode(Je);!Wn&&ir==="&"&&S.substring(O).indexOf("nbsp;")===0?O+=5:!Wn&&(ir===" "||ir==="	")||(R+=ir),Je=S.charCodeAt(O++)}st!==On&&(!R||e.option(Re,"ignoreText")?st=null:st=hr)}else st===Ti&&(st=Xe);return st}function Er(Je){for(ft(Je===39),R="'";S.charCodeAt(O)===39;)O++,R+="'";return gt}return{start:qe,lexeme(){return R},pos(){return O}}}};return e})(),gV=D_,K=mV,Q0={},Dn=(e,t,n)=>{if(t===void 0&&(t="failed!"),!e){const r=new Error(t);throw r.location=n||Tn.location,r}},I_=(e,t)=>{let n=Tn.messages[e];return t&&t.forEach((r,o)=>{n=n.replace(`%${o+1}`,r)}),`${e}: ${n}`},yV=(e,t,n)=>{Dn(e<=t,"Invalid code range");const r=Tn.reservedCodes.every(o=>t<o.first||e>o.last);Dn(r,"Conflicting request for error code range"),Tn.reservedCodes.push({first:e,last:t,name:n})},vV=e=>{Tn.location=e},wV=()=>{Tn.location=null},SV=(e,t)=>{e!==void 0&&(Tn.timeout=e?Date.now()+e:0,Tn.timeoutMessage=t||"ERROR timeout exceeded")},bV=()=>{Dn(!Tn.timeout||Tn.timeout>Date.now(),Tn.timeoutMessage)},kV=(e,t)=>{Tn.count=e,Tn.countMessage=t||"ERROR count exceeded"},xV=()=>{const{count:e}=Tn;if(typeof e!="number"||Number.isNaN(e)){Dn(!1,"ERROR counter not set");return}Dn(Tn.count--,Tn.countMessage)},Tn={assert:Dn,message:I_,messages:{},reserveCodeRange:yV,reservedCodes:[],setLocation:vV,clearLocation:wV,checkTimeout:bV,setTimeout:SV,setCounter:kV,checkCounter:xV},Y0={words:{"\\alpha":"\\alpha","\\beta":"\\beta","\\gamma":"\\gamma","\\delta":"\\delta","\\epsilon":"\\epsilon","\\zeta":"\\zeta","\\eta":"\\eta","\\theta":"\\theta","\\iota":"\\iota","\\kappa":"\\kappa","\\lambda":"\\lambda","\\mu":"\\mu","\\nu":"\\nu","\\xi":"\\xi","\\omicron":"\\omicron","\\pi":"\\pi","\\rho":"\\rho","\\sigma":"\\simga","\\tau":"\\tau","\\upsilon":"\\upsilon","\\phi":"\\phi","\\chi":"\\chi","\\psi":"\\psi","\\omega":"\\omega","\\Alpha":"\\Alpha","\\Beta":"\\Beta","\\Gamma":"\\Gamma","\\Delta":"\\Delta","\\Epsilon":"\\Epsilon","\\Zeta":"\\Zeta","\\Eta":"\\Eta","\\Theta":"\\Theta","\\Iota":"\\Iota","\\Kappa":"\\Kappa","\\Lambda":"\\Lambda","\\Mu":"\\Mu","\\Nu":"\\Nu","\\Xi":"\\Xi","\\Omicron":"\\Omicron","\\Pi":"\\Pi","\\Rho":"\\Rho","\\Sigma":"\\Simga","\\Tau":"\\Tau","\\Upsilon":"\\Upsilon","\\Phi":"\\Phi","\\Chi":"\\Chi","\\Psi":"\\Psi","\\Omega":"\\Omega","\\emptyset":"\\emptyset"},types:{numberPosNeg:["(\\type{numberPosNeg})","\\type{number}","-\\type{number}"]},rules:{"\\left(?\\right]":["\\left(%1\\right]"],"\\left[?\\right)":["\\left[%1\\right)"],"\\left[?\\right]":["\\left[%1\\right]"],"\\left\\{?\\right\\}":["\\left\\{%1\\right\\}"],"?\\cup?":["%1\\cup %2"],"?\\cap?":["%1\\cap %2"],"?\\backslash?":["%1\\backslash %2"],"\\mathbb{?}":["\\mathbb{%2}"],"\\ln{?}":["\\ln{%2}"],"\\log{?}":["\\log{%2}"],"\\log_{?}{?}":["\\log_{%1}{%2}"],"\\type{matrix}":[{"\\begin{bmatrix}%1\\end{bmatrix}":{"\\type{row}":"%*\\\\","\\type{column}":"%*&"}}],"\\frac{d}{d?}?":["\\frac{d}{d%2}{%1}"],"\\frac{d^?}{d?^?}?":["\\frac{d^%3}{d%2^%3}{%1}"],"\\int_?^? ? d?":["\\int_{%1}^{%2} %3 d%4"],"\\int ? d?":["\\int %1 d%2"],"\\lim_? ?":[{"\\lim_{%1}{%2}":{"? \\rightarrow ?":"%1 \\rightarrow %2","? \\to ?":"%1 \\to %2","\\left(?,?\\right)":"\\left(%1, %2\\right)"}}],"\\sum_?^? ?":["\\sum_{%1}^{%2}{%3}"],"\\sin{?}":["\\sin{%1}"],"\\cos{?}":["\\cos{%1}"],"\\tan{?}":["\\tan{%1}"],"\\cot{?}":["\\cot{%1}"],"\\sec{?}":["\\sec{%1}"],"\\csc{?}":["\\csc{%1}"],"\\sin^{-1}?":["\\sin^{-1}{%1}"],"\\cos^{-1}{?}":["\\cos^{-1}{%1}"],"\\tan^{-1}{?}":["\\tan^{-1}{%1}"],"\\cot^{-1}{?}":["\\cot^{-1}{%1}"],"\\sec^{-1}{?}":["\\sec^{-1}{%1}"],"\\csc^{-1}{?}":["\\csc^{-1}{%1}"],"\\sinh{?}":["\\sinh{%1}"],"\\cosh{?}":["\\cosh{%1}"],"\\tanh{?}":["\\tanh{%1}"],"\\coth{?}":["\\coth{%1}"],"\\sech{?}":["\\sech{%1}"],"\\csch{?}":["\\csch{%1}"],"\\sinh^{-1}{?}":["\\sinh^{-1}{%1}"],"\\cosh^{-1}{?}":["\\cosh^{-1}{%1}"],"\\tanh^{-1}{?}":["\\tanh^{-1}{%1}"],"\\coth^{-1}{?}":["\\coth^{-1}{%1}"],"\\sech^{-1}{?}":["\\sech^{-1}{%1}"],"\\csch^{-1}{?}":["\\csch^{-1}{%1}"],"?<?":["%1<%2"],"?\\nless?":["%1\\nless %2"],"?\\le?":["%1\\le %2"],"?>?":["%1>%2"],"?\\ge?":["%1\\ge %2"],"?\\ngtr?":["%1\\ngtr %2"],"?=?":["%1=%2"],"?\\ne?":["%1\\ne %2"],"?\\approx?":["%1\\approx %2"],"\\infty":["\\infty"],"\\type{mixedNumber}":["%1%2"],"?%":["{%1}%"],"?!":["{%1}!"],"\\frac{?}{?}":["\\frac{%1}{%2}"],"\\abs{?}":["\\abs{%1}"],"?\\degree":["{%1}\\degree"],"\\type{fraction}^?":["\\left(%1\\right)^{%2}"],"{-?}^?":["\\left(%1\\right)^{%2}"],"?^?":["{%1}^{%2}"],"\\sqrt{?}":["\\sqrt{%1}"],"\\sqrt[?]{?}":["\\sqrt[%2]{%1}"],"-?":["-%1"],"?+{-?}":["%1+\\left(%2\\right)"],"?+?":["%1+%2"],"?-{-?}":["%1-\\left(%2\\right)"],"?-?":["%1-%2"],"?*{-?}":["%1\\times\\left(%2\\right)"],"?*?":["%1\\times %2"],"?\\cdot{-?}":["%1\\cdot\\left(%2\\right)"],"?\\cdot?":["%1\\cdot %2"],"?\\div?":["%1\\div %2"],"?:?":["%1:%2"],"?_?":["%1_{%2}"],"\\left(?\\right)":["\\left(%1\\right)"],"{\\type{numberPosNeg}}{\\type{numberPosNeg}}":["(%1)(%2)"],"? ?":["%1 %2"],"?,?":["%1,%2"],"?":["%1"]}};(function(e){function t(W,G){return{op:W,args:G}}function n(W,G){return G.length>1?{op:W,args:G}:G[0]}const r=(W,G)=>Array.from({length:G.charCodeAt(0)-W.charCodeAt(0)+1},(U,re)=>String.fromCharCode(W.charCodeAt(0)+re)),o=(W,G)=>(W=+W,G=+G,Array.from({length:G-W+1},(U,re)=>String(W+re))),i=W=>{try{return new In(W),!0}catch(G){return G=G,!1}},s=W=>[W.slice(0,1),W.slice(1)],l=W=>W.toUpperCase()>="A"&&W.toUpperCase()<="Z",u=W=>/^-?\d+$/.test(W),f=W=>s(W).reduce((G,U,re)=>re===0&&l(U)||u(U),!1),p=W=>(G={},U,re)=>{if(re===0)return{start:s(U)};{const He=G.start,fe=s(U),J=r(He[0],fe[0]),T=o(He[1],fe[1]);return J.flatMap(le=>T.map(xe=>le.toUpperCase()+xe)).filter(le=>le!==void 0).join(",")}},h=W=>W,d=W=>(G=[],U,re)=>[...G,U.toUpperCase()],g=W=>{const G={currency:"",thousandsSeparator:",",decimalSeparator:".",decimalPlaces:0,prefix:"",suffix:"",showThousands:!1,accountingStyle:!1};W.startsWith("(")&&W.endsWith(")")&&(G.accountingStyle=!0,W=W.slice(1,-1));const U=["$","","","","","",""];let re=W;for(const fe of U)if(re.startsWith(fe)){G.currency=fe,G.prefix=fe,re=re.slice(1);break}if(!G.currency){for(const fe of U)if(re.includes("_"+fe)){G.currency=fe,G.suffix=fe,re=re.replace("_"+fe,"");break}}(re.includes("#,##0")||re.includes("#.##0")||re.includes("# ##0"))&&(G.showThousands=!0,re.includes("#,##0.")?(G.thousandsSeparator=",",G.decimalSeparator="."):re.includes("#.##0,")?(G.thousandsSeparator=".",G.decimalSeparator=","):re.includes("# ##0,")?(G.thousandsSeparator=" ",G.decimalSeparator=","):re.includes("# ##0.")||re.includes("# ##0")?(G.thousandsSeparator=" ",G.decimalSeparator="."):re.includes("#.##0")&&(G.thousandsSeparator=".",G.decimalSeparator=","));const He=re.match(/[.,]0+$/);return He&&(G.decimalPlaces=He[0].length-1),G},y=(W,G)=>{const U=Number(W);if(isNaN(U))return W;const{currency:re,thousandsSeparator:He,decimalSeparator:fe,decimalPlaces:J,prefix:T,suffix:le,showThousands:xe,accountingStyle:C}=G,_=U<0;let P=Math.abs(U).toFixed(J);if(fe!=="."&&(P=P.replace(".",fe)),xe){const L=P.split(fe),pe=L[0],oe=L[1]||"",ce=pe.replace(/\B(?=(\d{3})+(?!\d))/g,He);P=oe?`${ce}${fe}${oe}`:ce}return P=`${T}${P}${le}`,C&&_?`(${P})`:_?`-${P}`:P},b=(W,G=2)=>y(W,{currency:"$",thousandsSeparator:",",decimalSeparator:".",decimalPlaces:G,prefix:"$",suffix:"",showThousands:!0}),N=({config:W,env:G,args:U})=>{const re=U[1]||G.format||"";let He;if(re.toLowerCase()==="currency")He=b(U[0]);else if(re.includes("#")||re.includes("0")){const fe=g(re);He=y(U[0],fe)}else He=U[0];return He},v=({env:W,str:G})=>{var U;return f(G)&&((U=W[G.toUpperCase()])==null?void 0:U.val)||G},k={round:W=>(G="",U,re)=>(U=v({env:W,str:U}),i(U)&&(re===0&&new In(U)||re===1&&new In(G).toDecimalPlaces(+U,In.ROUND_HALF_UP)||G)||G),sum:W=>(G=0,U,re)=>(U=v({env:W,str:U}),i(U)&&new In(G).plus(new In(U))||G),minus:W=>(G="",U,re)=>(U=v({env:W,str:U}),i(U)&&(re===0&&new In(U)||new In(G).minus(new In(U)))||G),multiply:W=>(G=1,U)=>(U=v({env:W,str:U}),i(U)&&new In(G).times(new In(U))||G),divide:W=>(G="",U,re)=>(U=v({env:W,str:U}),i(U)&&(re===0&&new In(U)||new In(G).dividedBy(new In(U)))||G),normalize:d,range:p},x={$cell:{type:"fn",fn:({config:W,env:G})=>U=>{var re;return((re=G[U[1].toUpperCase()])==null?void 0:re.val)||"0"}},$fmt:{type:"fn",fn:({config:W,env:G})=>U=>{var re,He,fe;if(W.rawConfig){const J=W.rawConfig.slice(1,-1);if(J.includes("isNegative:true")){const T=((re=G.format)==null?void 0:re.formatString)||G.format||"";U=[`-${U[0]}`,T]}else if(J.includes("isNegative:false")){const T=((He=G.format)==null?void 0:He.formatString)||G.format||"";U=[U[0],T]}else{const T=J.indexOf(",");if(T>=0){let le=J.slice(0,T);const xe=J.slice(T+1);le=le.replace("%1",U[0]),U=[le,xe]}}}else if(U.length===1){const J=((fe=G.format)==null?void 0:fe.formatString)||G.format||"";U=[U[0],J]}return N({config:W,env:G,args:U})}},$range:{type:"fn",fn:({config:W,env:G})=>U=>U.reduce(k.range(G),void 0)},$add:{type:"fn",fn:({config:W,env:G})=>U=>""+U.reduce(k.sum(G),void 0)},$minus:{type:"fn",fn:({config:W,env:G})=>U=>(U.length===1&&U.unshift("0"),""+U.reduce(k.minus(G),void 0))},$multiply:{type:"fn",fn:({config:W,env:G})=>U=>""+U.reduce(k.multiply(G),void 0)},$percent:{type:"fn",fn:({config:W,env:G})=>U=>(U.push("0.01"),""+U.reduce(k.multiply(G),void 0))},$divide:{type:"fn",fn:({config:W,env:G})=>U=>""+U.reduce(k.divide(G),void 0)},$fn:{type:"fn",fn:({config:W,env:G})=>U=>""+U[1].split(",").reduce(k[U[0].toLowerCase()](G),void 0)},$normalize:{type:"fn",fn:({config:W,env:G})=>U=>""+U.reduce(h(k.normalize(G)),W==null?void 0:W.acc)}},D=W=>{const G=W.indexOf("{"),U=(G>0&&W.slice(0,G)||W).trim();Dn(x[U]);const re=G>0&&W.slice(G);return U==="$fmt"?{rawConfig:re}:re&&JSON.parse(re)||{}};function F(W){function G(ie,Y,ge,he){switch(Dn(Y.op&&Y.args,`Visitor.visit() op=${Y.op} args = ${Y.args}`),Y.op){case K.NUM:Y=ge.numeric(Y,he);break;case K.ADD:case K.SUB:case K.PM:case K.BACKSLASH:case K.DIV:case K.FRAC:case K.BINOM:case K.LOG:case K.COLON:case K.FUNC:case K.TYPE:case K.SUBSCRIPT:Y.args.length===1?Y=ge.unary(Y,he):Y=ge.binary(Y,he);break;case K.MUL:case K.TIMES:case K.COEFF:case K.CDOT:Y=ge.multiplicative(Y,he);break;case K.POW:Y=ge.exponential(Y,he);break;case K.VAR:Y=ge.variable(Y,he);break;case K.SQRT:case K.SIN:case K.COS:case K.TAN:case K.SEC:case K.CSC:case K.COT:case K.ARCSIN:case K.ARCCOS:case K.ARCTAN:case K.ARCSEC:case K.ARCCSC:case K.ARCCOT:case K.SINH:case K.COSH:case K.TANH:case K.ARCSINH:case K.ARCCOSH:case K.ARCTANH:case K.ARCSECH:case K.ARCCSCH:case K.ARCCOTH:case K.SECH:case K.CSCH:case K.COTH:case K.PERCENT:case K.M:case K.ABS:case K.FACT:case K.FORALL:case K.EXISTS:case K.IN:case K.SUM:case K.LIM:case K.EXP:case K.TO:case K.DERIV:case K.INTEGRAL:case K.PROD:case K.CUP:case K.BIGCUP:case K.CAP:case K.BIGCAP:case K.PIPE:case K.ION:case K.OVERLINE:case K.OVERSET:case K.UNDERSET:case K.MATHBF:case K.TEXT:case K.NONE:case K.DEGREE:case K.DOT:case K.MATHFIELD:case K.SET:case K.NOT:case K.OPERATORNAME:Y=ge.unary(Y,he);break;case K.COMMA:case K.MATRIX:case K.VEC:case K.ROW:case K.COL:case K.LIST:case K.ANGLEBRACKET:Y=ge.comma(Y,he);break;case K.EQL:case K.LT:case K.LE:case K.GT:case K.GE:case K.NE:case K.NGTR:case K.NLESS:case K.NI:case K.SUBSETEQ:case K.SUPSETEQ:case K.SUBSET:case K.SUPSET:case K.NNI:case K.NSUBSETEQ:case K.NSUPSETEQ:case K.NSUBSET:case K.NSUPSET:case K.APPROX:case K.IMPLIES:case K.PERP:case K.PROPTO:case K.PARALLEL:case K.NPARALLEL:case K.SIM:case K.CONG:case K.CAPRIGHTARROW:case K.RIGHTARROW:case K.LEFTARROW:case K.LONGRIGHTARROW:case K.LONGLEFTARROW:case K.OVERRIGHTARROW:case K.OVERLEFTARROW:case K.CAPLEFTRIGHTARROW:case K.LEFTRIGHTARROW:case K.LONGLEFTRIGHTARROW:case K.OVERLEFTRIGHTARROW:Y=ge.equals(Y,he);break;case K.PAREN:case K.BRACKET:case K.BRACE:case K.INTERVAL:case K.INTERVALOPEN:case K.INTERVALLEFTOPEN:case K.INTERVALRIGHTOPEN:Y=ge.paren(Y);break;default:ge.name!=="normalizeLiteral"&&ge.name!=="sort"&&(Y=t(K.VAR,[`INTERNAL ERROR Should not get here. Unhandled node operator ${Y.op}`]));break}return Y}function U(ie,Y){if(!Y)return"";const ge=K.option(ie,"words");let he;return ge&&(he=ge[Y]),he||(he=Y,he.charAt(0)==="\\"&&(he=he.substring(1))),he}function re(ie){let Y=[];switch(ie.op){case K.VAR:Y.push({code:ie.args[0]});break;case K.MUL:{let ge="",he;ie.args.forEach(Qe=>{Qe.op===K.VAR?ge+=Qe.args[0]:Qe.op===K.NUM&&(he=+Qe.args[0])}),Y.push({code:ge,length:he})}break;case K.COMMA:ie.args.forEach(ge=>{Y=Y.concat(re(ge))});break}return Y}function He(ie){const[Y,ge]=ie.split("[");return{name:Y,arg:ge&&ge.substring(0,ge.indexOf("]"))||void 0}}function fe(ie,Y){return re(ie).some(ge=>{const he=ge.code,Qe=ge.length;switch(he){case"integer":if(Y.numberFormat==="integer"&&(Qe===void 0||Qe===Y.args[0].length))return!0;break;case"decimal":if(Y.numberFormat==="decimal"&&Y.isRepeating)return Qe===void 0;if(Y.numberFormat==="decimal"&&(Qe===void 0||Qe===0&&Y.args[0].indexOf(".")===-1||Qe===Y.args[0].substring(Y.args[0].indexOf(".")+1).length))return!0;break;case"repeatingDecimal":return Y.numberFormat==="decimal"&&Y.isRepeating?(Dn(!Qe,"The repeatingDecimal pattern does not take a length"),!0):!1;case"number":if(Y.numberFormat==="decimal"&&Y.isRepeating)return Qe===void 0;if(Y.numberFormat==="integer"||Y.numberFormat==="decimal"){const Ze=Y.args[0].indexOf(".");if(Qe===void 0||Qe===0&&Ze===-1||Ze>=0&&Qe===Y.args[0].substring(Ze+1).length)return!0}break;case"scientific":if(Y.isScientific){const Ze=Y.args[0].args[0];if(Qe===void 0||Qe===0&&Ze.indexOf(".")===-1||Qe===Ze.substring(Ze.indexOf(".")+1).length)return!0}break;case"fraction":if(Y.isFraction||Y.isMixedNumber)return!0;break;case"simpleFraction":case"nonMixedFraction":if(Y.isFraction)return!0;break;case"mixedFraction":case"mixedNumber":if(Y.isMixedNumber)return!0;break;case"fractionOrDecimal":if(Y.isFraction||Y.isMixedNumber||Y.numberFormat==="decimal")return!0;break;default:Dn(!1,I_(2015,[he]));break}return!1})}function J(ie,Y){return re(ie).some(ge=>{switch(ge.code){case"simpleSmallRowMatrix":case"smallRowMatrix":return Y.op===K.MATRIX&&Y.m===1&&Y.n<4;case"simpleSmallColumnMatrix":case"smallColumnMatrix":return Y.op===K.MATRIX&&Y.m<4&&Y.n===1;case"simpleSmallMatrix":case"smallMatrix":return Y.op===K.MATRIX&&Y.m<4&&Y.n<4;case"matrix":return Y.op===K.MATRIX;case"row":return Y.op===K.ROW;case"column":return Y.op===K.COL;default:return!1}})}function T(ie,Y){const ge=He(ie),he=ge.name,Qe=ge.arg;switch(he){case"polynomial":if(Qe){if(Qe.indexOf(">")===0){const ye=parseInt(Qe.substring(1),10);return Y.isPolynomial>ye}const Ze=parseInt(Qe,10);return Y.isPolynomial>Ze}return Y.isPolynomial;default:return!1}}function le(ie){return ie.op===K.NUM||ie.op===K.VAR||typeof ie=="string"}function xe(ie){return Dn(ie.op===K.MATRIX||ie.op===K.ROW||ie.op===K.COL),ie.args.every(Y=>Y.op===K.MATRIX||Y.op===K.ROW||Y.op===K.COL?xe(Y):le(Y))}function C(ie,Y,ge){if(Y.op===K.TYPE&&Y.args[0].op===K.VAR){let he=Y.args[0].args[0];switch(he=he.indexOf("[")>0&&he.slice(0,he.indexOf("["))||he,he){case"number":case"integer":case"decimal":case"scientific":case"fraction":case"simpleFraction":case"mixedFraction":case"mixedNumber":case"fractionOrDecimal":case"repeatingDecimal":return fe(Y.args[0],ge);case"variable":return ge.op===K.VAR;case"simpleSmallRowMatrix":case"simpleSmallColumnMatrix":case"simpleSmallMatrix":return J(Y.args[0],ge)&&xe(ge);case"smallRowMatrix":case"smallColumnMatrix":case"smallMatrix":case"matrix":case"row":case"column":return J(Y.args[0],ge);case"polynomial":return T(Y.args[0].args[0],ge);default:{const Qe=K.option(ie,"types")[he];if(Qe)return Dn(Qe instanceof Array),Qe.some(Ze=>_(ie,[K.create(ie,Ze)],ge).length>0)}}return!1}if(Y.op===K.COLON&&Y.args[0].op===K.VAR&&Y.args[0].args[0]==="?"){switch(Dn(Y.args[1].op===K.VAR),Y.args[1].args[0]){case"N":return ge.op===K.NUM;case"V":return ge.op===K.VAR}return!1}return Y.op===K.VAR&&Y.args[0]==="?"||Y.op===K.MATRIX&&ge.op===K.MATRIX}function _(ie,Y,ge){return Y.size===0||ge===void 0?!1:Y.filter(he=>{if(he.op===void 0||ge.op===void 0)return!1;if(W.intern(he)===W.intern(ge)||C(ie,he,ge))return!0;if(he.op===ge.op){if(he.args.length===ge.args.length)return he.args.every((Qe,Ze)=>he.op===K.VAR?Qe===ge.args[Ze]:_(ie,[Qe],ge.args[Ze]).length===1);if(he.args.length<ge.args.length){const Qe=ge.args.slice(1);if(he.args.length===2)return _(ie,[he.args[0]],ge.args[0]).length>0&&_(ie,[he.args[1]],t(ge.op,Qe)).length>0}}return!1})}function P(ie,Y,ge){const he=ie;return Y.forEach((Qe,Ze)=>{ie=ie.replace(new RegExp(`%${Ze+1}`,"g"),Qe.args[0])}),Y.length>2?P(he,[t(K.VAR,[ie])].concat(Y.slice(2))):ie}function L(ie,Y,ge){ge=ge||{};let he=ie.template;if(Y.length===0&&Y.push(t(K.VAR,[""])),he&&he.indexOf("%OP")>=0&&ge.op&&(he=he.replace(new RegExp("%OP","g"),ge.op)),he&&Y){he.indexOf("%%")>=0&&(he=he.replace(new RegExp("%%","g"),Y[0].args[0]));const Qe=he.indexOf("{"),Ze=(Qe>0&&he.slice(0,Qe)||he).trim();if(x[Ze]){const ye=x[Ze].fn,ee=D(he),$e=ye({config:ee,env:ge}),Ke=[];Y.forEach((kt,Xe)=>{Ke.push(kt.args[0])}),he=$e(Ke)}if(he.indexOf("%*")>=0){let ye="";Y.forEach((ee,$e)=>{ye!==""&&(ye+=" "),$e===Y.length-1&&(he=he.slice(0,2*he.indexOf("%*")+2)),ye+=he.replace("%*",ee.args[0]).replace("%M",ee.m).replace("%N",ee.n)}),he=ye}return he.indexOf("%IP")>=0&&(he=he.replace(new RegExp("%IP","g"),ge.ip)),he.indexOf("%FP0")>=0&&(he=he.replace(new RegExp("%FP0","g"),ge.fp)),he.indexOf("%FP")>=0&&(he=he.replace(new RegExp("%FP","g"),ge.fp.split("").join(" "))),he.indexOf("%M")>=0&&(Dn(ge.m),he=he.replace(new RegExp("%M","g"),ge.m)),he.indexOf("%N")>=0&&(Dn(ge.n),he=he.replace(new RegExp("%N","g"),ge.n)),ie.isBinary&&Y.length>2?he=P(he,Y):Y.forEach((ye,ee)=>{he=he.replace(new RegExp(`%${ee+1}`,"g"),ye?ye.args[0]:"")}),{op:K.VAR,args:[he]}}return Y[0]}function pe(ie,Y,ge){let he=[];return ge.forEach(Qe=>{he=he.concat(Y[JSON.stringify(Qe)])}),he.length===0&&he.push({template:""}),he[0]}function oe(ie,Y){return Dn(typeof Y.template=="string"),Y.template.indexOf("%%")>=0?[ie]:ie.args}function ce(ie){if(ie.args.length<=2)return ie;const Y=ie.args.pop();return n(ie.op,[ce(ie),Y])}function Ce(ie){if(ie.args.length<=2)return ie;const Y=ie.args.shift();return n(ie.op,[Y,Ce(ie)])}function Pe(ie,Y,ge){ge instanceof Array&&(ge.length===1?ge=ge[0]:ge=V(ie,ge[1],ge[0]));const he=ge,Qe=Object.keys(ge),Ze=[];return Qe.forEach(ye=>{Ze.push(JSON.parse(ye))}),!Y||!Y.args?(Dn(!1,"Should not get here. Illformed node."),0):G(ie,Y,{name:"translate",numeric(ye){const ee=[{op:K.VAR,args:[U(ie,ye.args[0])]}],$e=ie.env||{};if(ye.numberFormat==="decimal"){const Xe=ye.args[0].split(".");$e.ip=Xe[0],$e.fp=Xe[1]||"0"}const Ke=_(ie,Ze,ye);if(Ke.length===0)return ye;const kt=pe(ie,ge,Ke);return L(kt,ee,$e)},binary(ye){ye.op===K.SUBSCRIPT?ye=Ce(ye):ye=ce(ye);const ee=_(ie,Ze,ye);if(ee.length===0)return ye;const $e=pe(ie,ge,ee,ye.args.length),Ke=I($e),kt=oe(ye,$e);let Xe=[];return kt.forEach((q,Z)=>{const B=K.option(ie,"RHS",Z>0);Xe=Xe.concat(Pe(ie,q,[he,Ke])),K.option(ie,"RHS",B)}),$e.isBinary=!0,L($e,Xe,{...ie.env,op:ye.op})},multiplicative(ye){ye=ce(ye);const ee=_(ie,Ze,ye);if(ee.length===0)return ye;const $e=pe(ie,ge,ee,ye.args.length),Ke=I($e),kt=oe(ye,$e);let Xe=[];return kt.forEach((q,Z)=>{const B=K.option(ie,"RHS",Z>0);Xe=Xe.concat(Pe(ie,q,[he,Ke])),K.option(ie,"RHS",B)}),$e.isBinary=!0,L($e,Xe,{...ie.env,op:ye.op})},unary(ye){const ee=_(ie,Ze,ye);if(ee.length===0)return ye;const $e=pe(ie,ge,ee,ye.args.length),Ke=I($e),kt=oe(ye,$e);let Xe=[];return kt.forEach(q=>{Xe=Xe.concat(Pe(ie,q,[he,Ke]))}),L($e,Xe,{...ie.env,op:ye.op})},exponential(ye){const ee=_(ie,Ze,ye);if(ee.length===0)return ye;const $e=pe(ie,ge,ee,ye.args.length),Ke=I($e),kt=oe(ye,$e);let Xe=[];return kt.forEach(q=>{Xe=Xe.concat(Pe(ie,q,[he,Ke]))}),L($e,Xe,ie.env)},variable(ye){const ee=_(ie,Ze,ye);if(ee.length===0)return ye;const $e=pe(ie,ge,ee,ye.args.length),Ke=I($e),kt=oe(ye,$e);let Xe=[];return Xe.push(t(K.VAR,[U(ie,kt.shift())])),kt.forEach(q=>{Xe=Xe.concat(Pe(ie,q,[he,Ke]))}),L($e,Xe,ie.env)},comma(ye){const ee=ie.env||{};if(ye.op===K.MATRIX||ye.op===K.ROW||ye.op===K.COL){ye.op===K.MATRIX?(Dn(ye.args[0].op===K.ROW),Dn(ye.args[0].args[0].op===K.COL),ye.m=ee.m=ye.args[0].args.length,ye.n=ee.n=ye.args[0].args[0].args.length,ye.args.forEach((Fe,Le)=>{Fe.m=Le+1})):ye.op===K.ROW?ye.args.forEach((Fe,Le)=>{Fe.m=Le+1,Fe.n=void 0}):ye.args.forEach((Fe,Le)=>{Fe.m=ye.m,Fe.n=Le+1});const Z=_(ie,Ze,ye);if(Z.length===0)return ye;const B=pe(ie,ge,Z,ye.args.length);let ne=[];const be=I(B);return oe(ye,B).forEach((Fe,Le)=>{ne=ne.concat(Pe(ie,Fe,[he,be])),ne[Le].m=Fe.m,ne[Le].n=Fe.n}),L(B,ne,ee)}const $e=_(ie,Ze,ye);if($e.length===0)return ye;const Ke=pe(ie,ge,$e,ye.args.length),kt=I(Ke),Xe=oe(ye,Ke);let q=[];return Xe.forEach(Z=>{q=q.concat(Pe(ie,Z,[he,kt]))}),Ke.isBinary=!0,L(Ke,q,ee)},equals(ye){const ee=_(ie,Ze,ye);if(ee.length===0)return ye;const $e=pe(ie,ge,ee,ye.args.length),Ke=I($e),kt=oe(ye,$e);let Xe=[];return kt.forEach(q=>{Xe=Xe.concat(Pe(ie,q,[he,Ke]))}),$e.isBinary=!0,L($e,Xe,ie.env)},paren(ye){const ee=_(ie,Ze,ye);if(ee.length===0)return ye;const $e=pe(ie,ge,ee),Ke=I($e),kt=oe(ye,$e),Xe=[];return kt.forEach(q=>{Xe.push(Pe(ie,q,[he,Ke]))}),L($e,Xe,ie.env)}})}this.translate=Pe}function I(W){return W.rules}function V(W,G,U){const re={};if(G){if(G instanceof Array){let J={};G.some(T=>T.context?(T.context&&T.context.split(" ")||[]).some(le=>W[le]?(J=T.value,!0):!1):(J=T,!0)),G=J}Object.keys(G).forEach(J=>{re[J]=G[J]})}const He=Object.keys(U);let fe;return He.forEach(J=>{Number.isNaN(parseInt(J,10))?fe=U:(fe=U[J],J=Object.keys(fe)[0]),re[J]||(re[J]=fe[J])}),re}function j(W){let G;const U=W.indexOf("\\context");if(U>=0){W=W.slice(U+8);const re=W.indexOf("}");G=W.slice(1,re),W=W.slice(re+1)}return{context:G,template:W}}function te(W,G){let U;if(G instanceof Array)Dn(G.length===1),U=te(W,G[0]);else if(typeof G=="string")U=j(G);else{let re="";const He=Object.keys(G);Dn(He.length===1);const fe=He[0],J=G[fe];let T;J instanceof Array?(T=[],J.forEach(le=>{le.options?(re+=le.options.RHS?" RHS":"",re+=le.options.EndRoot?" EndRoot":"",re+=le.options.NoParens?" NoParens":"",T.push({context:re,value:se(W,le.value)})):T.push(se(W,le))})):T=se(W,J),U={template:fe,rules:T}}return U}function se(W,G){const U={};return Object.keys(G).forEach(re=>{const He=JSON.stringify(K.create(W,re)),fe=te(W,G[re]);U[He]?U[He].push(fe):U[He]=[fe]}),U}function Se(W,G,U){const re=new F(e),He=se(W,U);return re.translate(W,G,He)}function me(W){let G=0,U="";for(;G<W.length;G++)switch(W.charAt(G)){case" ":case"	":case`
`:if(U.length===0||U.charAt(U.length-1)===" ")continue;U+=" ";break;default:U+=W.charAt(G);break}for(;U.charAt(U.length-1)===" ";)U=U.substring(0,U.length-1);for(;U.lastIndexOf("baseline")!==-1&&U.lastIndexOf(" baseline")===U.length-9;)U=U.substring(0,U.length-9);return U}K.fn.translate=function(W,G){const U=K.option(G,"rules");let re=Se(G,W,U);return(!re||re.op!==K.VAR)&&(re=t(K.VAR,[""])),me(re.args[0])},K.option=function(W,G,U){Dn(W);let re=W&&W[G];if(U!==void 0&&(K.options=W=W||{},W[G]=U),re===void 0)switch(G){case"field":re="integer";break;case"decimalPlaces":re=10;break;case"toleranceAbsolute":case"tolerancePercent":case"toleranceRange":case"setThousandsSeparator":case"setDecimalSeparator":case"dontExpandPowers":case"dontFactorDenominators":case"dontFactorTerms":case"dontConvertDecimalToFraction":case"strict":case"antiderivative":re=void 0;break;case"types":re={};break;default:re=!1;break}return re}})(new gV);const P_=function(){Tn.reserveCodeRange(4e3,4999,"core");const e=Tn.messages,t=Tn.message,n=Tn.assert;e[4001]="No Math Core spec provided.",e[4002]="No Math Core solution provided.",e[4003]="No Math Core spec value provided.",e[4004]="Invalid Math Core spec method '%1'.",e[4005]="Operation taking too long.",e[4006]="Invalid option name '%1'.",e[4007]="Invalid option value '%2' for option '%1'.",e[4008]="Internal error: %1";const r=10**-6,o={ROUND:{},SUM:{},MUL:{},matrix:{},pmatrix:{},bmatrix:{},Bmatrix:{},vmatrix:{},Vmatrix:{},array:{},"\\alpha":{type:"var"},"\\beta":{type:"var"},"\\gamma":{type:"var"},"\\delta":{type:"var"},"\\epsilon":{type:"var"},"\\zeta":{type:"var"},"\\eta":{type:"var"},"\\theta":{type:"var"},"\\iota":{type:"var"},"\\kappa":{type:"var"},"\\lambda":{type:"var"},"\\mu":{type:"const",value:r},"\\nu":{type:"var"},"\\xi":{type:"var"},"\\pi":{type:"const",value:Math.PI},"\\rho":{type:"var"},"\\sigma":{type:"var"},"\\tau":{type:"var"},"\\upsilon":{type:"var"},"\\phi":{type:"var"},"\\chi":{type:"var"},"\\psi":{type:"var"},"\\omega":{type:"var"},"\\sin":{type:"var"},"\\cos":{type:"var"},"\\tan":{type:"var"},"\\sec":{type:"var"},"\\csc":{type:"var"},"\\cot":{type:"var"},"\\arcsin":{type:"var"},"\\arccos":{type:"var"},"\\arctan":{type:"var"},"\\arcsec":{type:"var"},"\\arccsc":{type:"var"},"\\arccot":{type:"var"},"\\sinh":{type:"var"},"\\cosh":{type:"var"},"\\tanh":{type:"var"},"\\sech":{type:"var"},"\\csch":{type:"var"},"\\coth":{type:"var"},"\\log":{type:"var"},"\\ln":{type:"var"},"\\lg":{type:"var"}};function i(p,h){switch(p){case"field":switch(h){case void 0:case"integer":case"real":case"complex":break;default:n(!1,t(4007,[p,h]));break}break;case"decimalPlaces":if(h===void 0||+h>=0&&+h<=20)break;n(!1,t(4007,[p,h]));break;case"toleranceAbsolute":if(h===void 0||+h>=0||typeof h=="string")break;n(!1,t(4007,[p,h]));break;case"tolerancePercent":if(h===void 0||+h>=0)break;n(!1,t(4007,[p,h]));break;case"toleranceRange":if(h===void 0||h instanceof Array&&h.length===2)break;n(!1,t(4007,[p,h]));break;case"antiderivative":if(typeof h>"u"||typeof h=="string")break;n(!1,t(4007,[p,h]));break;case"RHS":case"NoParens":case"EndRoot":case"allowDecimal":case"allowInterval":case"dontExpandPowers":case"dontFactorDenominators":case"dontFactorTerms":case"dontConvertDecimalToFraction":case"dontSimplifyImaginary":case"ignoreOrder":case"inverseResult":case"requireThousandsSeparator":case"ignoreText":case"ignoreTrailingZeros":case"allowThousandsSeparator":case"compareSides":case"ignoreCoefficientOne":case"strict":case"integrationConstant":case"absoluteValue":case"parsingIntegralExpr":case"keepTextWhitespace":if(typeof h>"u"||typeof h=="boolean")break;n(!1,t(4007,[p,h]));break;case"setThousandsSeparator":if(typeof h>"u"||typeof h=="string"&&h.length===1||h instanceof Array)break;n(!1,t(4007,[p,h]));break;case"setDecimalSeparator":if(typeof h>"u"||typeof h=="string"&&h.length===1||h instanceof Array&&h.length>0&&h[0].length===1)break;n(!1,t(4007,[p,JSON.stringify(h)]));break;case"words":case"rules":case"types":case"data":case"env":if(typeof h>"u"||typeof h=="object")break;n(!1,t(4007,[p,h]));break;default:n(!1,t(4006,[p]));break}}function s(p){p&&Object.keys(p).forEach(h=>{i(h,p[h])})}function l(p,h,d){p||(p={}),p.rules||(p.words=Y0.words,p.rules=Y0.rules,p.types=Y0.types);const g={method:"translate",options:p};p.allowInterval=!0,f(g,d).evaluate(h,(y,b)=>{d(y,b)})}let u;function f(p,h){let d;const g=p.method,y=p.value,b=K.options=p.options;let N;try{Tn.setLocation("spec"),s(b),K.pushEnv({...o,...b.env}),d=y!==void 0?K.create(b,y,"spec"):void 0,K.popEnv()}catch(x){N=x,h([{result:null,errorCode:v(x.message),message:k(x.message),stack:x.stack,location:x.location,model:null,toString(){return`${this.errorCode}: (${this.location}) ${this.message}
${this.stack}`}}],"")}return{evaluate:function(x,D){try{if(N)throw N;Tn.setLocation("user"),n(x!==void 0,t(4002)),K.pushEnv({...o,...b.env});const F=K.create(b,x,"user");n(F,t(4008,["invalid input"])),Tn.setLocation("spec");let I;switch(g){case"translate":I=F.translate(b);break;default:n(!1,t(4004,[g]));break}K.popEnv(),D([],I)}catch(F){console.log(`ERROR evaluate() ${F.stack}`);const I=F.message;u=u||typeof process<"u"&&typeof Q0<"u"&&typeof Q0.readFileSync=="function"&&JSON.parse(Q0.readFileSync("package.json","utf8"))||{};const V=u.dependencies;console.error(`DEBUG ${JSON.stringify({dependencies:V,solution:x,spec:p},null,2)}`),D([{result:null,errorCode:v(I),message:k(I),stack:F.stack,location:F.location,toString(){return`${this.errorCode}: (${this.location}) ${this.message}
${this.stack}`}}],"")}},model:d};function v(x){x=typeof x=="string"&&x||"";const D=+x.slice(0,x.indexOf(":"));return Number.isNaN(D)?0:D}function k(x){return v(x)?x.slice(x.indexOf(":")+2):x}}return{translate:l}}();typeof window<"u"&&(window.Core=P_);const Cg=P_,gC={types:{args:["\\type{cellName}:\\type{cellName}","?,?"],cellName:["\\type{variable}\\type{integer}"],cellRange:["\\type{cellName}:\\type{cellName}"],fn:["SUM","MUL","ROUND","IF"]},rules:{"=\\type{cellName}":["$cell"],"=?":[{"%2":{"\\type{fn}(\\type{args})":"$fn","\\type{fn}(?,?)":"$fn","\\type{fn}(?)":"$fn","?+?":"$add","?-?":"$minus","?*?":"$multiply","?/?":"$divide","?%":"$percent","-?":"$minus"}}],"-?":["-%1"],"\\type{cellRange}":["$range"],"\\type{args}":["%1,%2"],"\\type{cellName}":["%1%2"],"\\type{fn}(\\type{cellRange})":["%1(%2)"],"??":["%1%2"],"{{var:\\type{cellName}}}":["{{var:%2}}"],"?":["%1"]}},OV={types:{cellName:["\\type{variable}\\type{integer}"],cellRange:["\\type{cellName}:\\type{cellName}"],fn:["SUM","MUL","ROUND","IF"]},rules:{"\\type{cellName}":["%1%2"],"=?":[{"%2":{"\\type{fn}(\\type{cellRange})":"%2","?+?":"%1,%2","?-?":"%1,%2","?*?":"%1,%2","?/?":"%1,%2","\\type{cellName}":"%1%2"}}],"\\type{cellRange}":["$range"],"??":["%1%2"],"?":["%1"]}},EV={rules:{"??":["%1%2"],"-\\type{number}":[{"%1":{"\\type{number}":"$fmt{isNegative:true}"}}],"\\type{number}":["$fmt{isNegative:false}"],"?":["%1"]}},CV={types:{cellName:["\\type{variable}\\type{integer}"],cellRange:["\\type{cellName}:\\type{cellName}"],fn:["SUM","MUL","ROUND","IF"]},rules:{"=\\type{cellName}":["$cell"],"=?":[{"%2":{"\\type{cellRange}":"%1:%2","\\type{fn}(\\type{cellRange})":"$normalize","?+?":'$normalize {"acc": ["SUM"]}',"?-?":'$normalize {"acc": ["SUB"]}',"?*?":'$normalize {"acc": ["MUL"]}',"?/?":'$normalize {"acc": ["DIV"]}',"?%":"$percent","-?":"$minus"}}],"\\type{cellRange}":["$range"],"\\type{cellName}":["%1%2"],"\\type{fn}(\\type{cellRange})":["%1(%2)"],"??":["%1%2"],"?":["%1"]}},NV=e=>['"',"'","`"].includes(e),$_=e=>(typeof e!="string"&&(e=e==null?"":String(e)),e&&e.split("").reduce((t,n)=>({inString:NV(n)?!t.inString:t.inString,text:t.text+(t.inString&&n||n.toUpperCase())}),{inString:!1,text:""}).text||e),TV=e=>{if(!e||typeof e!="string")return!1;const t=e.trim();return!isNaN(Number(t))&&!isNaN(parseFloat(t))},AV=e=>{if(!e||typeof e!="string")return!1;const t=e.trim();return[/^\d{1,2}\/\d{1,2}\/\d{2,4}$/,/^\d{1,2}-\d{1,2}-\d{2,4}$/,/^\d{4}-\d{1,2}-\d{1,2}$/,/^\d{1,2}\/\d{1,2}$/,/^\d{1,2}-\d{1,2}$/].some(n=>n.test(t))&&!isNaN(Date.parse(t))},yC=e=>{let t=0;for(let n=0;n<e.length;n++)t=t*26+(e.charCodeAt(n)-65+1);return t},MV=e=>{let t="";for(;e>0;)e--,t=String.fromCharCode(65+e%26)+t,e=Math.floor(e/26);return t},F_=(e,t)=>{const n=yC(e),r=yC(t),o=Math.min(n,r),i=Math.max(n,r),s=[];for(let l=o;l<=i;l++)s.push(MV(l));return s},L_=(e,t)=>{const n=parseInt(e),r=parseInt(t),o=Math.min(n,r),i=Math.max(n,r),s=[];for(let l=o;l<=i;l++)s.push(String(l));return s},j_=(e,t)=>{const n=u=>{const f=u.match(/^([A-Z]+)(\d+)$/);return f?{col:f[1],row:f[2]}:null},r=n(e),o=n(t);if(!r||!o)return[];const i=F_(r.col,o.col),s=L_(r.row,o.row),l=[];for(const u of s)for(const f of i)l.push(f+u);return l},z_=e=>{if(typeof e!="string"&&(e=e==null?"":String(e)),!e||e.length===0||e.indexOf("=")===0||e.trim().startsWith("\\text{")&&e.trim().endsWith("}")||e.includes("\\"))return e;const t=e.trim();return/%\s+\S/.test(t)?`\\text{${e}}`:/^[\d,.$-]+\s+[a-zA-Z]{4,}/.test(t)?`\\text{${e}}`:/^(\d{1,4}[-\/]\d{1,2}[-\/]\d{1,4}|\d{1,2}[-\/]\d{1,2}[-\/]\d{2,4})\s+\S/.test(t)?`\\text{${e}}`:TV(e)||AV(e)?e:`\\text{${e}}`},B_=e=>{if(!e||typeof e!="string")return null;let t=e.trim();if(!t||/%\s+\S/.test(t)||/^[\d,.$-]+\s+[a-zA-Z]{4,}/.test(t))return null;const n=t;["$","","","","","","R$","C$","A$","NZ$","HK$","S$"].forEach(g=>{const y=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp(y,"g"),"")});const r=t.includes("%");t=t.replace(/%/g,"");const o=/^\s*\([^)]+\)\s*$/.test(n)&&/\d/.test(n);o&&(t=t.replace(/[()]/g,"")),t=t.replace(/\s/g,"");const i=t.startsWith("-");i&&(t=t.substring(1));const s=(t.match(/,/g)||[]).length,l=(t.match(/\./g)||[]).length,u=t.lastIndexOf(","),f=t.lastIndexOf(".");let p;s===0&&l===0||s===0&&l===1?p=t:s===1&&l===0?t.substring(u+1).length===3&&t.length>4?p=t.replace(/,/g,""):p=t.replace(",","."):u>f?p=t.replace(/\./g,"").replace(",","."):p=t.replace(/,/g,"");const h=parseFloat(p);if(isNaN(h))return null;let d=h;return(i||o)&&(d=-Math.abs(d)),r&&(d=d/100),d},ul=e=>{const t=new Date(1904,0,1),n=24*60*60*1e3;return Math.floor((e.getTime()-t.getTime())/n)+1},U_=e=>{if(!e||typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=new Date,r=t.toLowerCase();if(r==="today")return ul(new Date(n.getFullYear(),n.getMonth(),n.getDate()));if(r==="tomorrow"){const g=new Date(n);return g.setDate(n.getDate()+1),ul(new Date(g.getFullYear(),g.getMonth(),g.getDate()))}if(r==="yesterday"){const g=new Date(n);return g.setDate(n.getDate()-1),ul(new Date(g.getFullYear(),g.getMonth(),g.getDate()))}if(/^-?\d+(\.\d+)?$/.test(t)||/^[$]?\s*-?\d{1,3}([,.]?\d{3})*([,.]\d+)?$|^-?\d{1,3}([,.]?\d{3})*([,.]\d+)?\s*[$%]?$/.test(t))return null;const o=Date.parse(t);if(!isNaN(o))return ul(new Date(o));const i=/^(\d{1,2})[\/\-\.](\d{1,2})[\/\-\.](\d{4})$/,s=t.match(i);if(s){const g=parseInt(s[1],10),y=parseInt(s[2],10),b=parseInt(s[3],10);if(g>=1&&g<=12&&y>=1&&y<=31)return ul(new Date(b,g-1,y))}const l=/^(\d{1,2})[\/\-\.](\d{1,2})[\/\-\.](\d{4})$/,u=t.match(l);if(u){const g=parseInt(u[1],10),y=parseInt(u[2],10),b=parseInt(u[3],10);if(y>=1&&y<=12&&g>=1&&g<=31&&g>12)return ul(new Date(b,y-1,g))}const f=/^(\d{1,2})[\/\-](\d{1,2})$/,p=t.match(f);if(p){const g=parseInt(p[1],10),y=parseInt(p[2],10);if(g>=1&&g<=12&&y>=1&&y<=31)return ul(new Date(n.getFullYear(),g-1,y))}const h=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,d=t.match(h);if(d){const g=parseInt(d[1],10),y=parseInt(d[2],10),b=parseInt(d[3],10);if(y>=1&&y<=12&&b>=1&&b<=31)return ul(new Date(g,y-1,b))}return null},vC=e=>{if(typeof e=="number")return[e];if(e==null)return[e];const t=String(e);let n=[t];try{const r={keepTextWhitespace:!0,...CV};if(t&&t.length>0){const o=t.indexOf("=")===0?$_(t):z_(t);Cg.translate(r,o,(i,s)=>{i&&i.length&&console.error(i),n=t.indexOf("=")===0?s.split(","):[s]})}}catch(r){console.log("parse error: "+r.stack)}return n},_V=(e,t)=>{const n=vC(e),r=vC(t);return n.length!==r.length?!1:n.every((o,i)=>{const s=r[i];return o===s})},RV=(e,t,n,r)=>n&&r&&n!==r?!1:e!==void 0&&e===t,DV=({method:e,expected:t,points:n=1},{val:r,formula:o,type:i}={val:void 0,formula:void 0,type:void 0})=>{if(e==="value"){let s="text",l=t;if(t!=null){const u=String(t),f=U_(u);if(f)s="date",l=String(f);else{const p=B_(u);p!==null&&(s="number",l=String(p))}}if(RV(r,l,i,s))return{points:n,isValid:!0}}else if(e==="formula"&&_V(o,t))return{points:n,isValid:!0};return{points:0,isValid:!1}},IV=e=>{var t;let n=((t=e.data.interaction)==null?void 0:t.hideMenu)||!1;return new Ql({view(r){const o=document.createElement("div"),i=Hf.createRoot(o);return r.dom.parentNode.insertBefore(o,r.dom),(()=>{var s;const l=((s=e.data.interaction)==null?void 0:s.hideMenu)||!1;i.render(qt.jsx(v1,{className:"",editorView:r,hideMenu:l}))})(),{update(){var s;const l=((s=e.data.interaction)==null?void 0:s.hideMenu)||!1;l!==n&&(n=l,i.render(qt.jsx(v1,{className:"",editorView:r,hideMenu:l})))},destroy(){i.unmount()}}}})},PV=({doc:e,cells:t})=>{const n=[];return t.forEach(({from:r,to:o,color:i,textColor:s,fontWeight:l,border:u,borderClass:f})=>{n.push(Vr.node(r,o,{style:`
        background-color: ${i};
        ${s?`color: ${s};`:""}
        ${l?`font-weight: ${l};`:""}
        ${u};
      `,class:f||""}))}),$n.create(e,n)},$V=e=>{const{row:t,col:n,name:r,background:o,"background-color":i,backgroundColor:s,lastFocusedCell:l,score:u}=e,f=i||s;return t<=1||n<=1?null:u!==void 0&&r!==l&&(u.isValid===!0&&"#efe"||"#fee")||f||o||null},FV=e=>e.text||e.val,LV=e=>{var t,n;return(e==null?void 0:e.text)||((n=(t=e==null?void 0:e.attrs)==null?void 0:t.assess)==null?void 0:n.expected)},jV=({cells:e,primaryColumn:t})=>{const n=Object.keys(e).sort((o,i)=>+o.slice(1)-+i.slice(1)).map(o=>o.slice(0,1)===t&&o||null).filter(o=>o!==null).map(o=>FV(e[o])||null),r=new Set;return n.map(o=>r.has(o)?null:(r.add(o),o)).filter(o=>o!==null)},zV=({cells:e,region:t})=>{const{primaryColumn:n,rows:r}=t,o=jV({cells:e,primaryColumn:n}),i=new Map(r.map(s=>[LV(s[n]),s]));return o.map(s=>s!==null&&i.get(s)||null)},BV=({cells:e,region:t})=>{const n=(t==null?void 0:t.order)==="actual"&&zV({cells:e,region:t})||(t==null?void 0:t.rows)||[];return M7(t,"getCellsValidationFromRegionValidation() missing region value"),n.reduce((r,o,i)=>(i=(o==null?void 0:o.id)||i+1,o&&Object.keys(o).forEach(s=>{var l;return((l=o[s])==null?void 0:l.assess)&&(r[s+i]=o[s])}),r),{})||{}},UV=({cells:e,validation:t})=>{const n=t.regions||t.ranges,r=Object.keys(n).find(o=>o);return[{region:n[r]||{},cells:e}]},VV=(e,t)=>{if(t===null)return!1;const n=e.doc.resolve(t);for(let r=n.depth;r>0;r--)if(n.node(r).type.name==="table_header")return!0;return!1},HV=(e,t)=>{const{doc:n,selection:r}=e,o=r.$anchor,i=US(o);if(!i)return null;const s=n.nodeAt(i.pos),l=An.get(s),u=l.width,f=l.height,p=o.pos-i.pos-1;let h=-1;for(let y=0;y<l.map.length;y++)if(l.map[y]<=p&&(y===l.map.length-1||l.map[y+1]>p)){h=y;break}if(h===-1)return l.map[u+1]+i.pos+1;const d=Math.floor(h/u),g=h%u;if(t>0){for(let y=g+1;y<u;y++){const b=d*u+y;if(d>0&&y>0&&b<l.map.length)return l.map[b]+i.pos+1}for(let y=d+1;y<f;y++)for(let b=1;b<u;b++){const N=y*u+b;if(y>0&&b>0&&N<l.map.length)return l.map[N]+i.pos+1}return l.map[u+1]+i.pos+1}else{for(let y=g-1;y>0;y--){const b=d*u+y;if(d>0&&y>0&&b<l.map.length)return l.map[b]+i.pos+1}for(let y=d-1;y>0;y--)for(let b=u-1;b>0;b--){const N=y*u+b;if(y>0&&b>0&&N<l.map.length)return l.map[N]+i.pos+1}for(let y=f-1;y>0;y--)for(let b=u-1;b>0;b--){const N=y*u+b;if(N<l.map.length)return l.map[N]+i.pos+1}return l.map[l.map.length-1]+i.pos+1}},Bd=e=>(t,n)=>{const r=HV(t,e);if(r!==null&&n){const o=t.tr,i=o.doc.resolve(r),s=_t.near(i);return n(o.setSelection(s)),!0}return!1},qV=({cells:e,validation:t})=>UV({cells:e,validation:t}).map(n=>BV(n))[0],WV=({cells:e,validation:t})=>{const n=qV({cells:e,validation:t});return Object.keys(n).reduce((r,o)=>({...r,[o]:r[o]&&{...r[o],score:DV(n[o].assess,r[o])}||void 0}),e)},Z0=(e,t,n,r,o)=>{var i;const s=Ud(e,t),l=WV({cells:n.cells,validation:r}),{doc:u,selection:f}=t,{lastFocusedCell:p}=n,h=(i=o==null?void 0:o.data)==null?void 0:i.focus;let d=[],g=[],y=[];s.forEach(v=>{var k,x,D,F,I;let V=$V({...v,lastFocusedCell:p,score:(k=l[v.name])==null?void 0:k.score}),j=null,te=null;if((v.row===1||v.col===1)&&(j="#5f6368",te="400"),h){if(v.row===1&&v.col>1){const me=(x=v.name.match(/^([A-Z]+)/))==null?void 0:x[1],W=(h==null?void 0:h.columns)||(h!=null&&h.name?[h==null?void 0:h.name]:[]);(h==null?void 0:h.type)==="column"&&(me===(h==null?void 0:h.name)||W.includes(me))||h.type==="sheet"?(V="#1a73e8",j="#ffffff",te="600"):(j="#5f6368",te="400")}else if(v.row>1&&v.col===1){const me=(D=v.name.match(/(\d+)$/))==null?void 0:D[1],W=(h==null?void 0:h.rows)||(h!=null&&h.name?[h==null?void 0:h.name]:[]);h.type==="row"&&(me===h.name||W.includes(me))||h.type==="sheet"?(V="#1a73e8",j="#ffffff",te="600"):(j="#5f6368",te="400")}else if(v.row===1&&v.col===1)h.type==="sheet"?(V="#1a73e8",j="#ffffff",te="600"):(j="#5f6368",te="400");else if(v.row>0&&v.col>0&&!(f.anchor>v.from&&f.anchor<v.to))if(h.type==="sheet")V="#e6f3ff";else if(h.type==="column"){const me=(F=v.name.match(/^([A-Z]+)/))==null?void 0:F[1],W=(h==null?void 0:h.columns)||(h!=null&&h.name?[h==null?void 0:h.name]:[]);(me===(h==null?void 0:h.name)||W.includes(me))&&(V="#e6f3ff")}else if(h.type==="row"){const me=(I=v.name.match(/(\d+)$/))==null?void 0:I[1],W=(h==null?void 0:h.rows)||(h!=null&&h.name?[h==null?void 0:h.name]:[]);(me===h.name||W.includes(me))&&(V="#e6f3ff")}else h.type==="cell"&&(h.cells&&h.cells.includes(v.name)?V="#e6f3ff":h.name&&h.name.includes(",")?h.name.split(",").map(me=>me.trim()).includes(v.name)&&(V="#e6f3ff"):h.name===v.name&&(V="#e6f3ff"))}const{row:se,col:Se}=v;d[se]===void 0&&(d[se]=[]),d[se][Se]=V,g[se]===void 0&&(g[se]=[]),g[se][Se]=j,y[se]===void 0&&(y[se]=[]),y[se][Se]=te});const b=(v,k)=>{let x=!1,D="";if(v.border&&typeof v.border=="string")if(x=!0,v.border.includes("px")||v.border.includes("solid")||v.border.includes("dashed")||v.border.includes("dotted")||v.border.includes("#")||v.border.includes("rgb")||v.border.includes("blue")||v.border.includes("red")||v.border.includes("green")||v.border.includes("black")||v.border.includes("gray")||v.border.includes("grey")){const j=v.border.match(/(\d+(?:\.\d+)?px)\s+\w+\s+(.+)/);if(j){const[,te,se]=j;D=`box-shadow: inset 0 0 0 ${te} ${se}; `}else D="box-shadow: inset 0 0 0 2px #666; "}else{const j=v.border.split(",").map(se=>se.trim().toLowerCase()),te=[];j.includes("all")?D="box-shadow: inset 0 0 0 2px #666; ":(j.includes("top")&&te.push("inset 0 2px 0 0 #666"),j.includes("bottom")&&te.push("inset 0 -2px 0 0 #666"),j.includes("left")&&te.push("inset 2px 0 0 0 #666"),j.includes("right")&&te.push("inset -2px 0 0 0 #666"),te.length>0&&(D=`box-shadow: ${te.join(", ")}; `))}let F="",I={top:"1px solid #e0e0e0",right:"1px solid #e0e0e0",bottom:"1px solid #e0e0e0",left:"1px solid #e0e0e0"};v.col===1&&v.row===1||v.col===1?(I.right="1px solid #e0e0e0",I.bottom=v.underline?"2px solid #333":"1px solid #e0e0e0"):(v.row,I.bottom=v.underline?"2px solid #333":"1px solid #e0e0e0");let V="";return V+=`border-top: ${I.top}; `,V+=`border-right: ${I.right}; `,V+=`border-bottom: ${I.bottom}; `,V+=`border-left: ${I.left}; `,k?V+="box-shadow: inset 0 0 0 2px #1a73e8 !important; z-index: 10; ":x&&(V+=D),v.col===1||v.row===1?V+="text-align: center; ":V+=`font-weight: ${v.fontWeight||"normal"}; text-align: ${v.align||"right"}; `,{styleStr:V,borderClass:F}},N=s.map(v=>{const k=f.anchor>v.from&&f.anchor<v.to,{styleStr:x,borderClass:D}=b(v,k),F=d[v.row]&&d[v.row][v.col],I=g[v.row]&&g[v.row][v.col],V=y[v.row]&&y[v.row][v.col];return{...v,readonly:v.readonly,border:x,borderClass:D,color:F||(v.col===1||v.row===1)&&"#f8f8f8"||"#fff",textColor:I,fontWeight:V}});return PV({doc:u,cells:N})},BS=e=>e.type.name==="table_cell"||e.type.name==="table_header",Ud=(e,t)=>{const{doc:n}=t,r=[];let o=0,i=0;return n.descendants((s,l)=>{var u,f,p,h;if(s.type.name==="table_row"&&(o++,i=0),BS(s)){i++;const d=s.attrs.name,g=e&&d&&((u=e.cells[d])==null?void 0:u.text)||s.textContent,y=e&&d&&((f=e.cells[d])==null?void 0:f.val),b=e&&d&&((p=e.cells[d])==null?void 0:p.formula),N=e&&d&&((h=e.cells[d])==null?void 0:h.type)||"text";r.push({row:o,col:i,name:d,text:g,val:y,formula:b,type:N,from:l,to:l+s.nodeSize,align:s.attrs.align||s.attrs.justify,background:s.attrs.background,"background-color":s.attrs["background-color"]||s.attrs.backgroundColor,backgroundColor:s.attrs.backgroundColor||s.attrs["background-color"],"font-weight":s.attrs["font-weight"]||s.attrs.fontWeight,fontWeight:s.attrs.fontWeight||s.attrs["font-weight"],format:s.attrs.format,numberFormat:s.attrs.numberFormat,assess:s.attrs.assess,underline:s.attrs.underline,border:s.attrs.border,protected:s.attrs.protected})}}),r},Rf=new NA({nodes:Rm.spec.nodes.append($7({tableGroup:"block",cellContent:"paragraph",cellAttributes:{name:{default:null,getFromDOM(e){return e.dataset.name||null},setDOMAttr(e,t){e&&(t.dataset=`data-name: ${e};`)}},format:{default:null,getFromDOM(e){return e.dataset.format||null},setDOMAttr(e,t){e&&(t.dataset=`data-format: ${e};`)}},assess:{default:null,getFromDOM(e){return JSON.parse(e.dataset.format)||null},setDOMAttr(e,t){e&&(t.dataset=`data-format: ${JSON.stringify(e)};`)}},align:{default:null,getFromDOM(e){return e.style.textAlign||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`text-align: ${e};`)}},justify:{default:null,getFromDOM(e){return e.style.textAlign||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`text-align: ${e};`)}},readonly:{default:null,getFromDOM(e){return e.dataset.readonly||null},setDOMAttr(e,t){e&&(t["data-readonly"]=e,t.class=(t.class||"")+" readonly-cell")}},background:{default:null,getFromDOM(e){return e.style.backgroundColor||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`background-color: ${e};`)}},"background-color":{default:null,getFromDOM(e){return e.style.backgroundColor||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`background-color: ${e};`)}},backgroundColor:{default:null,getFromDOM(e){return e.style.backgroundColor||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`background-color: ${e};`)}},"font-weight":{default:null,getFromDOM(e){return e.style.fontWeight||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-weight: ${e};`)}},fontWeight:{default:null,getFromDOM(e){return e.style.fontWeight||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-weight: ${e};`)}},"font-size":{default:null,getFromDOM(e){return e.style.fontSize||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-size: ${e};`)}},fontSize:{default:null,getFromDOM(e){return e.style.fontSize||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-size: ${e};`)}},"font-family":{default:null,getFromDOM(e){return e.style.fontFamily||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-family: ${e};`)}},fontFamily:{default:null,getFromDOM(e){return e.style.fontFamily||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-family: ${e};`)}},"font-style":{default:null,getFromDOM(e){return e.style.fontStyle||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-style: ${e};`)}},fontStyle:{default:null,getFromDOM(e){return e.style.fontStyle||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-style: ${e};`)}},color:{default:null,getFromDOM(e){return e.style.color||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`color: ${e};`)}},"text-decoration":{default:null,getFromDOM(e){return e.style.textDecoration||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`text-decoration: ${e};`)}},textDecoration:{default:null,getFromDOM(e){return e.style.textDecoration||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`text-decoration: ${e};`)}},"vertical-align":{default:null,getFromDOM(e){return e.style.verticalAlign||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`vertical-align: ${e};`)}},verticalAlign:{default:null,getFromDOM(e){return e.style.verticalAlign||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`vertical-align: ${e};`)}},height:{default:null,getFromDOM(e){return e.style.height||null},setDOMAttr(e,t){if(e){const n=e==="auto"?"auto":e;t.style=(t.style||"")+`height: ${n}; min-height: 24px;`}else t.style=(t.style||"")+"height: auto; min-height: 24px;"}},underline:{default:null,getFromDOM(e){return e.style.borderBottom||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+"border-bottom: 1px solid black;")}},border:{default:null,getFromDOM(e){return e.dataset.border||null},setDOMAttr(e,t){e&&typeof e=="string"&&(t["data-border"]=e)}},protected:{default:!1,getFromDOM(e){return e.dataset.protected==="true"},setDOMAttr(e,t){e&&(t["data-protected"]="true",t.class=(t.class||"")+" protected-cell",t.style=(t.style||"")+"caret-color: transparent;")}}}})),marks:Rm.spec.marks}),US=e=>{for(let t=e.depth;t>0;t--){const n=e.node(t);if(n.type.name==="table")return{pos:e.before(t),node:n}}return null},KV=e=>{const{$from:t}=e.selection,n=US(t);return n?n.pos:null},Hm="_ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),V_=e=>{const t=e.slice(0,1),n=e.slice(1),r=Hm.indexOf(t);return{row:+n,col:r}},Dc=({state:e,name:t})=>{const n=KV(e),r=e.doc.nodeAt(n),o=An.get(r),{row:i,col:s}=V_(t),l=i*o.width+s,u=o.map[l]+n+1;return{node:e.doc.nodeAt(u),pos:u}},GV=({state:e,name:t})=>{const{row:n,col:r}=V_(t),o=n===0&&n+1||n,i=r===0&&r+1||r,s=`${Hm[i]}${o}`;return Dc({state:e,name:s})},wC=(e,t,n,r=!1)=>{const{state:o,dispatch:i}=e,{pos:s,node:l}=Dc({state:o,name:t});if(!l||!BS(l)){console.error("Invalid cell position or node type: "+JSON.stringify(l,null,2));return}const u=s+1,f=s+l.nodeSize-1,p=n&&o.schema.node("paragraph",null,o.schema.text(n))||o.schema.node("paragraph"),h=o.tr;if(h.setMeta("systemFormatting",!0),h.replaceWith(u,f,p),r){let d=u+1;h.setSelection(_t.create(h.doc,d+n.length))}i(h)},Ca=({env:e,name:t})=>{var n;const r=e.cells[t],o=(r==null?void 0:r.text)||"",i=(r==null?void 0:r.format)||"";let s={formula:o,val:o,format:i,type:"text"};if(o&&o.length>0&&o.indexOf("=")===0){const l=gC.types.fn,u=/([A-Za-z][A-Za-z0-9_]*)/g,f=/^[A-Za-z]+[0-9]+$/;let p;const h=[];for(;(p=u.exec(o))!==null;){const g=p[1],y=g.toUpperCase();f.test(g)||l.includes(y)||h.push(g)}if(h.length>0){const g=[...new Set(h)];return{formula:o,val:"#NAME!",format:i,type:"error",error:`Undefined name${g.length>1?"s":""}: ${g.join(", ")}`}}const d=q_({env:e,startCell:t});if(d.hasCycle)return{formula:o,val:"#CYCLE!",format:i,type:"error",error:`Circular dependency: ${(n=d.cyclePath)==null?void 0:n.join("  ")}`}}if(o&&!o.startsWith("=")){const l=U_(o);if(l)s.val=String(l),s.type="date";else{const u=B_(o);u!==null&&(s.val=String(u),s.type="number")}}try{if(o&&o.length>0&&o.indexOf("=")===0){const l={keepTextWhitespace:!0,env:e.cells,...gC},u=$_(o);Cg.translate(l,u,(f,p)=>{f&&f.length&&console.error(f);const h=d=>{if(typeof d=="number")return!0;if(typeof d=="string"){const g=d.trim();if(g==="")return!1;const y=Number(g);return!isNaN(y)&&isFinite(y)}return!1};H_(i)&&h(p)?s={...s,val:String(p),type:"date"}:h(p)?s={...s,val:String(p),type:"number"}:s={...s,val:String(p),type:"text"}})}}catch(l){console.log("parse error: "+l.stack)}return s},SC=e=>(typeof e=="string"?e:String(e||"")).replace(new RegExp("\\{\\{","g"),"[[").replace(new RegExp("\\}\\}","g"),"]]"),H_=e=>e&&["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD","MM-DD-YYYY","DD-MM-YYYY","M/D/YY","D/M/YY","MMM DD, YYYY","DD MMM YYYY","date"].some(t=>e.toLowerCase().includes(t.toLowerCase())),JV=({env:e,name:t})=>{const n=e.cells[t]||{},r=n.val,o=n.type||"text",i=n.format||"";let s=r;const l=H_(i);if((o==="date"||l)&&r){const u=typeof r=="string"?parseFloat(r):r;if(!isNaN(u)){const f=new Date(1904,0,1),p=24*60*60*1e3,h=new Date(f.getTime()+(u-1)*p),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=h.getMonth()+1,y=h.getDate(),b=h.getFullYear(),N=b.toString().slice(-2);i.includes("DD/MM/YYYY")?s=`${y.toString().padStart(2,"0")}/${g.toString().padStart(2,"0")}/${b}`:i.includes("DD-MM-YYYY")?s=`${y.toString().padStart(2,"0")}-${g.toString().padStart(2,"0")}-${b}`:i.includes("YYYY-MM-DD")?s=`${b}-${g.toString().padStart(2,"0")}-${y.toString().padStart(2,"0")}`:i.includes("MM-DD-YYYY")?s=`${g.toString().padStart(2,"0")}-${y.toString().padStart(2,"0")}-${b}`:i.includes("M/D/YY")?s=`${g}/${y}/${N}`:i.includes("D/M/YY")?s=`${y}/${g}/${N}`:i.includes("MMM DD, YYYY")?s=`${d[h.getMonth()]} ${y.toString().padStart(2,"0")}, ${b}`:i.includes("DD MMM YYYY")?s=`${y.toString().padStart(2,"0")} ${d[h.getMonth()]} ${b}`:s=`${g.toString().padStart(2,"0")}/${y.toString().padStart(2,"0")}/${b}`}}try{if(typeof s=="number"&&i&&!l&&(s=s.toString()),i&&s&&typeof s=="string"&&s.length>0&&!l){const u={allowInterval:!0,keepTextWhitespace:!0,RHS:!1,env:{format:i},...EV},f=z_(s);Cg.translate(u,f,(p,h)=>{p&&p.length&&console.error(p),s=h})}}catch(u){console.log("parse error: "+u.stack)}return s},QV=({env:e,name:t})=>{var n;const r=((n=e.cells[t])==null?void 0:n.text)||"";let o=r;try{const i={env:e.cells,...OV};r&&r.length>0&&r.indexOf("=")===0?Cg.translate(i,r,(s,l)=>{s&&s.length&&console.error(s),o=l.split(",").map(u=>u.toUpperCase())}):o=[]}catch(i){console.log("parse error: "+i.stack)}return o},q_=({env:e,startCell:t})=>{const n=new Map,r=new Set;let o=[],i=!1;const s=(l,u)=>{if(n.get(l)===1){const p=u.indexOf(l);return o=u.slice(p).concat([l]),!0}if(n.get(l)===2)return!1;n.set(l,1);const f=QV({env:e,name:l});for(const p of f)if(r.add(p),s(p,[...u,l]))return!0;return n.set(l,2),!1};return i=s(t,[]),{hasCycle:i,cyclePath:i?o:void 0,dependencies:Array.from(r)}},bC=({env:e,names:t})=>{var n;const r=new Set;for(const o of t){const i=q_({env:e,startCell:o});if(i.hasCycle){console.error(`Circular dependency detected in cell ${o}: ${(n=i.cyclePath)==null?void 0:n.join("  ")}`);continue}i.dependencies.forEach(s=>r.add(s))}return Array.from(r)},YV=e=>new Ql({view(t){const n=r=>{var o,i,s,l;const u=r.shiftKey,f=r.metaKey||r.ctrlKey;if(!u&&!f)return;let p=r.target;for(;p&&p!==t.dom;){if(p.nodeName==="TH"||(o=p.classList)!=null&&o.contains("ProseMirror-tableheader")||p.nodeName==="TD"||(i=p.classList)!=null&&i.contains("ProseMirror-tablecell")){const h=t.posAtDOM(p,0),d=t.state.doc.resolve(h);for(let g=d.depth;g>0;g--){const y=d.node(g);if(y.type.name==="table_cell"){const b=y.attrs.name,N=e.data.focus;if(f){let v=[];N&&N.type==="cell"&&(N.cells&&N.cells.length>0?v=[...N.cells]:N.name&&(v=N.name.split(",").map(D=>D.trim())));const k=v.indexOf(b);k>-1?v.splice(k,1):v.push(b),v.length>0?e.apply({type:"focus",args:{type:"cell",name:v.join(","),cells:v,isRange:!1,isMultiple:!0}}):e.apply({type:"focus",args:null});const x=t.state.tr;x.setMeta("focusChanged",!0),t.dispatch(x),r.preventDefault(),r.stopPropagation();return}else if(u&&N&&N.type==="cell"){let v=null;if(N.isRange&&N.cells&&N.cells.length>0?v=N.cells[0]:N.name&&!N.name.includes(",")&&(v=N.name),v&&v!==b){const k=j_(v,b);if(k.length>0){e.apply({type:"focus",args:{type:"cell",name:k.join(","),cells:k,isRange:!0}});const x=t.state.tr;x.setMeta("focusChanged",!0),t.dispatch(x),r.preventDefault(),r.stopPropagation();return}}}break}else if(y.type.name==="table_header"){const b=y.attrs.name,N=(s=b==null?void 0:b.match(/^([_A-Z]+)/))==null?void 0:s[1],v=(l=b==null?void 0:b.match(/(\d+)$/))==null?void 0:l[1];if(N&&N!=="_"&&v==="0"){const k=e.data.focus;if(f){let x=[];k&&k.type==="column"&&(k.columns&&k.columns.length>0?x=[...k.columns]:k.name&&(x=[k.name]));const D=x.indexOf(N);D>-1?x.splice(D,1):x.push(N),x.length>0?e.apply({type:"focus",args:{type:"column",name:x[0],columns:x,isMultiple:!0}}):e.apply({type:"focus",args:null});const F=t.state.tr;F.setMeta("focusChanged",!0),F.setMeta("headerClick",!0),t.dispatch(F),r.preventDefault(),r.stopPropagation();return}else if(u&&k&&k.type==="column"&&k.name){const x=F_(k.name,N);e.apply({type:"focus",args:{type:"column",name:k.name,columns:x}});const D=t.state.tr;D.setMeta("focusChanged",!0),D.setMeta("headerClick",!0),t.dispatch(D),r.preventDefault(),r.stopPropagation();return}}else if(N==="_"&&v&&v!=="0"){const k=e.data.focus;if(f){let x=[];k&&k.type==="row"&&(k.rows&&k.rows.length>0?x=[...k.rows]:k.name&&(x=[k.name]));const D=x.indexOf(v);D>-1?x.splice(D,1):x.push(v),x.length>0?e.apply({type:"focus",args:{type:"row",name:x[0],rows:x,isMultiple:!0}}):e.apply({type:"focus",args:null});const F=t.state.tr;F.setMeta("focusChanged",!0),F.setMeta("headerClick",!0),t.dispatch(F),r.preventDefault(),r.stopPropagation();return}else if(u&&k&&k.type==="row"&&k.name){const x=L_(k.name,v);e.apply({type:"focus",args:{type:"row",name:k.name,rows:x}});const D=t.state.tr;D.setMeta("focusChanged",!0),D.setMeta("headerClick",!0),t.dispatch(D),r.preventDefault(),r.stopPropagation();return}}break}}break}p=p.parentElement}};return t.dom.addEventListener("mousedown",n,!0),{destroy(){t.dom.removeEventListener("mousedown",n,!0)}}},props:{handleClickOn(t,n,r,o,i,s){var l,u;const{state:f,dispatch:p}=t;if(r.type.name==="table_header"){if(i&&i.shiftKey)return!1;const h=r.attrs.name||"_0";{const y=(l=h.match(/^([_A-Z]+)/))==null?void 0:l[1],b=(u=h.match(/(\d+)$/))==null?void 0:u[1];if(y==="_"&&b==="0"){e.apply({type:"focus",args:{type:"sheet"}});const N=f.tr;N.setMeta("focusChanged",!0),N.setMeta("headerClick",!0),p(N)}else if(y&&y!=="_"&&b==="0"){e.apply({type:"focus",args:{type:"column",name:y,columns:[y]}});const N=f.tr;N.setMeta("focusChanged",!0),N.setMeta("headerClick",!0),p(N)}else if(y==="_"&&b&&b!=="0"){e.apply({type:"focus",args:{type:"row",name:b,rows:[b]}});const N=f.tr;N.setMeta("focusChanged",!0),N.setMeta("headerClick",!0),p(N)}}const{pos:d,node:g}=GV({state:f,name:h});if(d&&g){const y=d+2,b=g.textContent,N=_t.create(f.tr.doc,y+b.length),v=f.tr.setSelection(N);v.setMeta("syntheticFocus",!0),p(v)}return!0}return!1},handleDOMEvents:{mousedown(t,n){var r,o;if(!n.shiftKey)return!1;const i=t.posAtCoords({left:n.clientX,top:n.clientY});if(!i)return!1;const s=t.state.doc.resolve(i.pos);let l=null,u=null;for(let f=s.depth;f>0;f--){const p=s.node(f);if(p.type.name==="table_header"){l=p,u=p.attrs.name;break}}if(l&&u){const{state:f,dispatch:p}=t,h=u,d=(r=h.match(/^([_A-Z]+)/))==null?void 0:r[1],g=(o=h.match(/(\d+)$/))==null?void 0:o[1];if(d&&d!=="_"&&g==="0"){const y=e.data.focus;if(n.shiftKey&&y&&y.type==="column"){const b=(y==null?void 0:y.columns)||(y!=null&&y.name?[y==null?void 0:y.name]:[]),N=b.includes(d)?b.filter(k=>k!==d):[...b,d];e.apply({type:"focus",args:{type:"column",columns:N}});const v=f.tr;return v.setMeta("focusChanged",!0),v.setMeta("headerClick",!0),p(v),n.preventDefault(),!0}}}return!1},beforeinput(t,n){return Df(t.state)?(n.preventDefault(),!0):!1},keydown(t,n){const{state:r,dispatch:o}=t;if(Df(r)){if(n.preventDefault(),n.key==="Tab"){const s=n.shiftKey?-1:1;return Bd(s)(r,o),!0}const{pos:i}=Dc({state:r,name:"B2"});if(i){const s=r.tr,l=r.doc.resolve(i);s.setMeta("_headerRedirect",!0),s.setSelection(new _t(l)),o(s)}return!0}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key)){const i=r.selection.$anchor,s=US(i);if(s){const l=r.doc.nodeAt(s.pos),u=An.get(l),f=u.width,p=i.pos-s.pos-1;let h=-1;for(let d=0;d<u.map.length;d++)if(u.map[d]<=p&&(d===u.map.length-1||u.map[d+1]>p)){h=d;break}if(h!==-1){const d=Math.floor(h/f),g=h%f,y=u.height;if(n.key==="ArrowUp"&&d===1||n.key==="ArrowLeft"&&g===1||n.key==="ArrowRight"&&g===f-1||n.key==="ArrowDown"&&d===y-1)return n.preventDefault(),!0}}}return!1},copy(t,n){return!1},paste(t,n){return Df(t.state)?(n.preventDefault(),!0):!1},cut(t,n){return Df(t.state)?(n.preventDefault(),!0):!1}}},filterTransaction(t,n){if(t.getMeta("_headerRedirect"))return!0;if(t.steps.length>0&&Df(n))return t.steps.every(r=>r.toJSON().stepType==="setSelection");if(t.selectionSet){const r=t.selection.$anchor;if(r){for(let o=r.depth;o>0;o--){const i=r.node(o);if(i&&i.type.name==="table_header")return!1}if(r.pos===1)return!1}}return!0}});function Df(e){const{selection:t}=e;return VV(e,t.$anchor.pos)}function cl(e){const{selection:t}=e,n=e.doc.resolve(t.$anchor.pos);for(let r=n.depth;r>0;r--){const o=n.node(r);if(o.type.name==="table_cell"&&o.attrs.protected===!0)return!0}return!1}const ZV=e=>new Ql({props:{handleDOMEvents:{beforeinput(t,n){return cl(t.state)?(n.preventDefault(),e==null||e.showTooltip(n),!0):!1},input(t,n){return cl(t.state)?(n.preventDefault(),!0):!1},keypress(t,n){return cl(t.state)?(n.preventDefault(),e==null||e.showTooltip(n),!0):!1},keydown(t,n){if(cl(t.state)){const r=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Tab","Enter","Escape","Home","End","PageUp","PageDown"].includes(n.key),o=n.metaKey||n.ctrlKey||n.altKey;if(!r&&!o||o&&["c","C","v","V","x","X","a","A","z","Z","y","Y"].includes(n.key)&&["v","V","x","X","z","Z","y","Y"].includes(n.key))return n.preventDefault(),e==null||e.showTooltip(n),!0}return!1},paste(t,n){return cl(t.state)?(n.preventDefault(),e==null||e.showTooltip(n),!0):!1},cut(t,n){return cl(t.state)?(n.preventDefault(),e==null||e.showTooltip(n),!0):!1},drop(t,n){return cl(t.state)?(n.preventDefault(),e==null||e.showTooltip(n),!0):!1}}},filterTransaction(t,n){if(t.getMeta("systemFormatting"))return!0;if(t.steps.length>0)for(let r of t.steps){const o=r.toJSON();if(o.stepType!=="setSelection"&&cl(n))return!1;if(o.stepType==="replace"&&o.from!==void 0){const i=n.doc.resolve(o.from);for(let s=i.depth;s>0;s--){const l=i.node(s);if(l.type.name==="table_cell"&&l.attrs.protected===!0)return!1}}}return!0}}),XV=e=>Object.keys(e).reduce((t,n)=>{const{text:r,val:o,formula:i,assess:s}=e[n];return s&&{...t,[n]:{text:r,val:o,formula:i}}||t},{}),eH=e=>{const t=new Ql({view(n){return{update(r){var o;const{state:i,dispatch:s}=r,l=t.getState(i);if(l.dirtyCells.length>0){const d=i.tr;d.setMeta("updated",!0),s(d)}const u={...l.cells},{columns:f,cells:p,rows:h}=e.data.interaction;if(p&&Object.keys(u).forEach(d=>{var g;const y=p[d],b=(g=y==null?void 0:y.attrs)==null?void 0:g.format;b&&(u[d]={...u[d],format:b})}),Object.keys(u).forEach(d=>{const g=d.slice(0,1);if(parseInt(d.slice(1))<=1)return;const y=f&&f[g];y&&Object.keys(y).forEach(b=>{var N;y[b]!==void 0&&!((N=u[d])!=null&&N[b])&&(u[d]={...u[d],[b]:y[b]})})}),Object.keys(u).forEach(d=>{const g=parseInt(d.slice(1));if(!g||g<=0)return;const y=h&&h[g];y&&Object.keys(y).forEach(b=>{var N;y[b]!==void 0&&!((N=u[d])!=null&&N[b])&&(u[d]={...u[d],[b]:y[b]})})}),l.dirtyCells.forEach(d=>{u[d]={...u[d],...Ca({env:{cells:u},name:d})};const g=SC(JV({env:{cells:u},name:d})),{node:y}=Dc({state:r.state,name:d});d!==l.focusedCell&&g!==y.textContent&&wC(r,d,g)}),l.focusedCell){const d=l.focusedCell,g=SC(((o=l.cells[d])==null?void 0:o.text)||""),{node:y}=Dc({state:r.state,name:d});y.type.name==="table_cell"&&g!==y.textContent&&wC(r,d,g,!0)}}}},state:{init(n,r){var o;const i=t.getState(r),s=Ud(i,r).reduce((g,y)=>y.row>1&&y.col>1&&{...g,[y.name]:{...y,deps:[]}}||g,{}),l=Ud(i,r).reduce((g,y)=>y.row>1&&y.col>1&&y.text&&[...g,y.name]||g,[]),u=Ud(i,r).reduce((g,y)=>{if(y.row>1&&y.col>1){const b=bC({env:{cells:g},names:[y.name]}),N=y.name;return b.reduce((v,k)=>{const{formula:x,val:D}=Ca({env:{cells:v},name:k}),F=v[k];return F&&{...v,[k]:{...F,formula:x,val:D,deps:[...F==null?void 0:F.deps,N],format:F.format}}||v},g)}else return g},s),f=l.reduce((g,y)=>{const b=g[y];return b&&{...g,[y]:{...b,...Ca({env:{cells:g},name:y}),deps:[...b==null?void 0:b.deps]}}||g},u),p={lastFocusedCell:null,blurredCell:null,focusedCell:null,lastHeaderClick:0,dirtyCells:l,cells:f},h=((o=e.data)==null?void 0:o.validation)||null,d=Z0(i,r,p,h,e);return{...p,decorations:d}},apply(n,r,o,i){var s,l,u,f;if(n.getMeta("updated")&&(r={...r,focusedCell:null,dirtyCells:[]}),n.getMeta("headerClick")&&(r={...r,lastHeaderClick:Date.now()}),n.getMeta("focusChanged")||n.getMeta("focusCleared")||n.getMeta("headerClick")){const v=t.getState(i),{validation:k}=e.data,x=Z0(v,i,r,k,e);return{...r,decorations:x}}const{selection:p}=i,h=p.$anchor.node(-1),d=(s=h.attrs)==null?void 0:s.name,g=r.lastFocusedCell;if(g!==d){if(g&&r.cells[g]){const k=r.cells[g];r={...r,blurredCell:g,cells:{...r.cells,[g]:{...k,...Ca({env:r,name:g})}},dirtyCells:[...r==null?void 0:r.dirtyCells,g,...(k==null?void 0:k.deps)||[]]},r=bC({env:r,names:[g]}).reduce((x,D)=>{const F=x.cells[D];return F&&{...x,cells:{...x.cells,[D]:{...F,...Ca({env:x,name:D}),deps:[...F==null?void 0:F.deps,...!F.deps.includes(g)&&[g]||[]]}}}||x},r),r=((l=k.deps)==null?void 0:l.reduce((x,D)=>{const F=x.cells[D];return F&&{...x,cells:{...x.cells,[D]:{...F,...Ca({env:x,name:D})}}}||x},r))||r}r={...r,lastFocusedCell:h.attrs.name,focusedCell:h.attrs.name};const v=XV(r.cells);e.apply({type:"response",args:{cells:v}}),h.attrs.name&&!n.getMeta("syntheticFocus")&&e.apply({type:"focus",args:{type:"cell",name:h.attrs.name}})}else if(BS(h)&&(u=h.attrs)!=null&&u.name){const v=h.attrs.name,k=h.textContent.trim();r={...r,blurredCell:null,focusedCell:null,dirtyCells:[],cells:{...r.cells,[v]:{...r.cells[v],...Ca({env:r,name:v}),text:k,formula:k}}}}const y=t.getState(i),b=((f=e.data)==null?void 0:f.validation)||null,N=Z0(y,i,r,b,e);return{...r,decorations:N}}},props:{decorations(n){return this.getState(n).decorations},handleDOMEvents:{mousedown(n,r){var o,i;const s=n.posAtCoords({left:r.clientX,top:r.clientY});if(!s)return!1;const l=n.state.doc.resolve(s.pos);let u=null,f=null;for(let p=l.depth;p>0;p--){const h=l.node(p);if(h.type.name==="table_cell"){u=h,f=h.attrs.name;break}}if(u&&f){const p=e.data.focus;if(r.shiftKey&&p){let h=null;if(p.type==="cell"&&(p.isRange&&p.cells&&p.cells.length>0?h=p.cells[0]:p.name&&!p.name.includes(",")&&(h=p.name)),h){const d=j_(h,f);if(d.length>0){e.apply({type:"focus",args:{type:"cell",name:d.join(","),cells:d,isRange:!0}});const g=n.state.tr;return g.setMeta("focusChanged",!0),n.dispatch(g),r.preventDefault(),!0}}}if(p&&(p.type==="row"||p.type==="column"||p.type==="sheet"||p.type==="cell"&&p.isRange)){const h=(o=f.match(/^([A-Z]+)/))==null?void 0:o[1],d=(i=f.match(/(\d+)$/))==null?void 0:i[1];let g=!1;if(p.type==="sheet")g=!0;else if(p.type==="column"){const y=(p==null?void 0:p.columns)||(p!=null&&p.name?[p==null?void 0:p.name]:[]);(h===(p==null?void 0:p.name)||y.includes(h))&&(g=!0)}else if(p.type==="row"){const y=(p==null?void 0:p.rows)||(p!=null&&p.name?[p==null?void 0:p.name]:[]);(d===(p==null?void 0:p.name)||y.includes(d))&&(g=!0)}else p.type==="cell"&&p.isRange&&p.cells&&p.cells.includes(f)&&(g=!0);if(g){e.apply({type:"focus",args:{type:"cell",name:f}});const y=n.state.tr;y.setMeta("focusCleared",!0),n.dispatch(y)}}}return!1}}}});return t};class tH{constructor(t,n){Nf(this,"dom"),Nf(this,"contentDOM"),Nf(this,"value",""),Nf(this,"textContent",""),Nf(this,"hasFocus",!1),this.dom=document.createElement("div"),this.dom.className="custom-paragraph",this.contentDOM=document.createElement("p"),this.dom.appendChild(this.contentDOM),t.content.size==0&&this.dom.classList.add("empty")}update(t){return t.type.name!=="paragraph"?!1:(this.dom.classList.remove("empty"),this.hasFocus?t.content.size>0?(this.textContent=t.textContent,this.value=this.hasFocus&&this.textContent.indexOf("sum")>0&&"300"||this.textContent,this.contentDOM.textContent=this.textContent):this.contentDOM.textContent=this.value||this.contentDOM.textContent:this.dom.classList.add("empty"),!0)}}const nH=({col:e,row:t,attrs:n,colsAttrs:r})=>{var o,i,s,l,u,f;r=r||{};const p=t[e];let h,d=1,g=1;const y=e==="_"&&[40]||((o=r[e])!=null&&o.width?[r[e].width]:null);let b=((i=p==null?void 0:p.attrs)==null?void 0:i["background-color"])||((s=p==null?void 0:p.attrs)==null?void 0:s.backgroundColor)||((l=r[e])==null?void 0:l["background-color"])||((u=r[e])==null?void 0:u.backgroundColor)||(n==null?void 0:n["background-color"])||(n==null?void 0:n.backgroundColor);const{text:N}=p||{};h=[{type:"paragraph",content:N?[{type:"text",text:String(N)}]:[]}];const v=p.type==="th";let k="auto";const x=(n==null?void 0:n["font-size"])||((f=r[e])==null?void 0:f["font-size"])||(p==null?void 0:p["font-size"]);if(x&&!v){const T=x.match(/(\d+(?:\.\d+)?)/);if(T){const le=parseFloat(T[1]);k=`${Math.max(le*1.2+4,24)}px`}}const{backgroundColor:D,...F}=n||{},I=v?{...F}:F,{"background-color":V,backgroundColor:j,...te}=r[e]||{},se=v?{...te}:te,{text:Se,type:me,attrs:W,...G}=p||{},{"background-color":U,backgroundColor:re,background:He,...fe}=W||{},J=v?{...p||{}}:{...G,...fe};return v&&(I==null||delete I["font-size"],I==null||delete I.fontSize,se==null||delete se["font-size"],se==null||delete se.fontSize,J==null||delete J["font-size"],J==null||delete J.fontSize,I==null||delete I.border,se==null||delete se.border),{type:v&&"table_header"||"table_cell",attrs:{name:`${e}${t._.text||0}`,colspan:d,rowspan:g,colwidth:y,width:"50px",height:k,background:b,readonly:v?"true":null,...I,...se,...J},content:h}},rH=({cols:e,row:t,attrs:n,colsAttrs:r})=>({type:"table_row",content:e.map(o=>nH({col:o,row:t,attrs:n,colsAttrs:r}))}),oH=({cols:e,rows:t,attrs:n,colsAttrs:r})=>({type:"table",content:t.map((o,i)=>rH({cols:e,row:o,colsAttrs:r,attrs:n[i]}))}),iH=({cols:e,rows:t,colsAttrs:n,rowsAttrs:r})=>{const o=sH({cols:e,rows:t,rowsAttrs:r});return{type:"doc",content:[{...oH({cols:e,rows:t,attrs:o,colsAttrs:n})}]}},sH=({cols:e,rows:t,rowsAttrs:n})=>{const r=e.slice(0,e.length-1),o=[];return t.forEach((i,s)=>{let l=0;r.forEach(u=>{l+=+i[u]}),o[s]===void 0&&(o[s]={}),n&&n[s]&&(o[s]={...n[s]})}),o},kC=(e,t)=>{if(!e)return t;if(!t)return e;if(e.includes("px")||t.includes("px"))return t;const n=s=>s==="all"?["top","bottom","left","right"]:s.split(",").map(l=>l.trim().toLowerCase()),r=n(e),o=n(t),i=[...new Set([...r,...o])];return i.includes("top")&&i.includes("bottom")&&i.includes("left")&&i.includes("right")?"all":i.join(",")},lH=(e,t,n,r,o)=>{var i;if(e===0&&t==="_")return{type:"th",text:"",attrs:{readonly:"true"}};if(t==="_"&&e!==0)return{type:"th",text:e,attrs:{readonly:"true"}};if(e===0&&t!=="_")return{type:"th",text:t,attrs:{readonly:"true"}};if(e!==0&&t!=="_"){const s=`${t}${e}`,l=n[s]||{},u=r&&r[t]||{},f=o&&o[e]||{},{text:p,...h}=l,d=f==null?void 0:f.border,g=u==null?void 0:u.border,y=(h==null?void 0:h.border)||((i=l.attrs)==null?void 0:i.border),b=kC(kC(d,g),y),{border:N,...v}=f,{border:k,...x}=u,{border:D,...F}=h,{border:I,...V}=l.attrs||{},j={...v,...x,...F,...V,...b?{border:b}:{}};return{type:"td",text:p||"",attrs:{underline:j==null?void 0:j.underline,border:j==null?void 0:j.border,"font-weight":(j==null?void 0:j["font-weight"])||(j==null?void 0:j.fontWeight),fontWeight:(j==null?void 0:j.fontWeight)||(j==null?void 0:j["font-weight"]),"font-size":(j==null?void 0:j["font-size"])||(j==null?void 0:j.fontSize),fontSize:(j==null?void 0:j.fontSize)||(j==null?void 0:j["font-size"]),"font-family":(j==null?void 0:j["font-family"])||(j==null?void 0:j.fontFamily),fontFamily:(j==null?void 0:j.fontFamily)||(j==null?void 0:j["font-family"]),"font-style":(j==null?void 0:j["font-style"])||(j==null?void 0:j.fontStyle),fontStyle:(j==null?void 0:j.fontStyle)||(j==null?void 0:j["font-style"]),color:j==null?void 0:j.color,"text-decoration":(j==null?void 0:j["text-decoration"])||(j==null?void 0:j.textDecoration),textDecoration:(j==null?void 0:j.textDecoration)||(j==null?void 0:j["text-decoration"]),"vertical-align":(j==null?void 0:j["vertical-align"])||(j==null?void 0:j.verticalAlign),verticalAlign:(j==null?void 0:j.verticalAlign)||(j==null?void 0:j["vertical-align"]),background:j==null?void 0:j.background,"background-color":(j==null?void 0:j["background-color"])||(j==null?void 0:j.backgroundColor),backgroundColor:(j==null?void 0:j.backgroundColor)||(j==null?void 0:j["background-color"]),align:(j==null?void 0:j.align)||(j==null?void 0:j.justify),format:j==null?void 0:j.format,assess:j==null?void 0:j.assess,protected:j==null?void 0:j.protected}}}return{}},xC=({type:e,columns:t,cells:n,rows:r})=>{if(!n||Object.keys(n).length===0)return null;const{x:o,y:i}=Object.keys(n).reduce((s,l)=>{const u=Hm.indexOf(l.slice(0,1)),f=+l.slice(1);return{x:u>s.x&&u||s.x,y:f>s.y&&f||s.y}},{x:0,y:0});switch(e){case"table":{const s=Array.apply(null,Array(o+1)).map((u,f)=>Hm[f]),l=Array.apply(null,Array(i+1)).map((u,f)=>s.reduce((p,h)=>({...p,[h]:lH(f,h,n||{},t,r)}),{}));return{doc:iH({cols:s,rows:l,colsAttrs:t,rowsAttrs:r}),selection:{type:"text",anchor:1,head:1}}}default:return null}},aH=({state:e,onEditorViewChange:t})=>{const{type:n,columns:r,cells:o,rows:i}=e.data.interaction,[s,l]=Gt.useState(null),[u,f]=Gt.useState({visible:!1,x:0,y:0}),p={showTooltip:b=>{var N,v;let k=0,x=0;if(b.clientX&&b.clientY)k=b.clientX,x=b.clientY;else{const D=((v=(N=b.target)==null?void 0:N.getBoundingClientRect)==null?void 0:v.call(N))||{left:0,top:0,width:0};k=D.left+D.width/2,x=D.top}f({visible:!0,x:k,y:x}),setTimeout(()=>{f(D=>({...D,visible:!1}))},4e3)}},h=eH(e),d=IV(e),g=[tU(),fU(),IM(),Pm({"Mod-z":ES,"Mod-y":CS}),Pm({...ZA,Tab:Bd(1),"Shift-Tab":Bd(-1),Enter:Bd(1)}),d,YV(e),ZV(p),h],y=Gt.useRef(null);return Gt.useEffect(()=>{if(!y.current)return;let b;if(o&&Object.keys(o).length>0){const k=xC({type:n,columns:r,cells:o,rows:i});k?b=qo.fromJSON({schema:Rf,plugins:g},k):b=qo.create({schema:Rf,plugins:g})}else b=qo.create({schema:Rf,plugins:g});const N=v_(b);N&&(b=b.apply(N.setMeta("addToHistory",!1)));const v=new RM(y.current,{state:b,dispatchTransaction(k){const x=v.state.apply(k);v.updateState(x)},nodeViews:{paragraph(k,x){return new tH(k,x)}}});return l(v),t==null||t(v),()=>{v&&v.destroy()}},[]),Gt.useEffect(()=>{if(s&&o){const b=xC({type:n,columns:r,cells:o,rows:i});if(!b){const x=qo.create({schema:Rf,plugins:g});s.updateState(x);return}const N=qo.fromJSON({schema:Rf,plugins:g},b);s.updateState(N);const{pos:v}=Dc({state:N,name:"A1"});if(!v)return;const k=N.doc.resolve(v+1);s.dispatch(s.state.tr.setSelection(new _t(k)))}},[s,r,o]),qt.jsxs(qt.Fragment,{children:[qt.jsx("div",{ref:y,className:"border border-gray-300 p-2 bg-white text-xs font-sans"}),qt.jsx(hU,{visible:u.visible,x:u.x,y:u.y})]})},uH=({state:e})=>{var t;const[n,r]=Gt.useState(null),o=(t=e.data.interaction)==null?void 0:t.type;return qt.jsxs("div",{children:[qt.jsx(v1,{className:"hidden",editorView:n}),o==="table"&&qt.jsx(aH,{state:e,onEditorViewChange:r})||o==="text"&&qt.jsx(X9,{state:e})||qt.jsx("div",{})]})};function cH(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const fH=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pH=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hH={};function OC(e,t){return(hH.jsx?pH:fH).test(e)}const dH=/[ \t\n\f\r]/g;function mH(e){return typeof e=="object"?e.type==="text"?EC(e.value):!1:EC(e)}function EC(e){return e.replace(dH,"")===""}class Yp{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Yp.prototype.normal={};Yp.prototype.property={};Yp.prototype.space=void 0;function W_(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new Yp(n,r,t)}function G1(e){return e.toLowerCase()}class ho{constructor(t,n){this.attribute=n,this.property=t}}ho.prototype.attribute="";ho.prototype.booleanish=!1;ho.prototype.boolean=!1;ho.prototype.commaOrSpaceSeparated=!1;ho.prototype.commaSeparated=!1;ho.prototype.defined=!1;ho.prototype.mustUseProperty=!1;ho.prototype.number=!1;ho.prototype.overloadedBoolean=!1;ho.prototype.property="";ho.prototype.spaceSeparated=!1;ho.prototype.space=void 0;let gH=0;const Ct=ru(),Kn=ru(),J1=ru(),Ie=ru(),dn=ru(),dc=ru(),bo=ru();function ru(){return 2**++gH}const Q1=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ct,booleanish:Kn,commaOrSpaceSeparated:bo,commaSeparated:dc,number:Ie,overloadedBoolean:J1,spaceSeparated:dn},Symbol.toStringTag,{value:"Module"})),X0=Object.keys(Q1);class VS extends ho{constructor(t,n,r,o){let i=-1;if(super(t,n),CC(this,"space",o),typeof r=="number")for(;++i<X0.length;){const s=X0[i];CC(this,X0[i],(r&Q1[s])===Q1[s])}}}VS.prototype.defined=!0;function CC(e,t,n){n&&(e[t]=n)}function zc(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const i=new VS(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[G1(r)]=r,n[G1(i.attribute)]=r}return new Yp(t,n,e.space)}const K_=zc({properties:{ariaActiveDescendant:null,ariaAtomic:Kn,ariaAutoComplete:null,ariaBusy:Kn,ariaChecked:Kn,ariaColCount:Ie,ariaColIndex:Ie,ariaColSpan:Ie,ariaControls:dn,ariaCurrent:null,ariaDescribedBy:dn,ariaDetails:null,ariaDisabled:Kn,ariaDropEffect:dn,ariaErrorMessage:null,ariaExpanded:Kn,ariaFlowTo:dn,ariaGrabbed:Kn,ariaHasPopup:null,ariaHidden:Kn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:dn,ariaLevel:Ie,ariaLive:null,ariaModal:Kn,ariaMultiLine:Kn,ariaMultiSelectable:Kn,ariaOrientation:null,ariaOwns:dn,ariaPlaceholder:null,ariaPosInSet:Ie,ariaPressed:Kn,ariaReadOnly:Kn,ariaRelevant:null,ariaRequired:Kn,ariaRoleDescription:dn,ariaRowCount:Ie,ariaRowIndex:Ie,ariaRowSpan:Ie,ariaSelected:Kn,ariaSetSize:Ie,ariaSort:null,ariaValueMax:Ie,ariaValueMin:Ie,ariaValueNow:Ie,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function G_(e,t){return t in e?e[t]:t}function J_(e,t){return G_(e,t.toLowerCase())}const yH=zc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:dc,acceptCharset:dn,accessKey:dn,action:null,allow:null,allowFullScreen:Ct,allowPaymentRequest:Ct,allowUserMedia:Ct,alt:null,as:null,async:Ct,autoCapitalize:null,autoComplete:dn,autoFocus:Ct,autoPlay:Ct,blocking:dn,capture:null,charSet:null,checked:Ct,cite:null,className:dn,cols:Ie,colSpan:null,content:null,contentEditable:Kn,controls:Ct,controlsList:dn,coords:Ie|dc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ct,defer:Ct,dir:null,dirName:null,disabled:Ct,download:J1,draggable:Kn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ct,formTarget:null,headers:dn,height:Ie,hidden:J1,high:Ie,href:null,hrefLang:null,htmlFor:dn,httpEquiv:dn,id:null,imageSizes:null,imageSrcSet:null,inert:Ct,inputMode:null,integrity:null,is:null,isMap:Ct,itemId:null,itemProp:dn,itemRef:dn,itemScope:Ct,itemType:dn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ct,low:Ie,manifest:null,max:null,maxLength:Ie,media:null,method:null,min:null,minLength:Ie,multiple:Ct,muted:Ct,name:null,nonce:null,noModule:Ct,noValidate:Ct,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ct,optimum:Ie,pattern:null,ping:dn,placeholder:null,playsInline:Ct,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ct,referrerPolicy:null,rel:dn,required:Ct,reversed:Ct,rows:Ie,rowSpan:Ie,sandbox:dn,scope:null,scoped:Ct,seamless:Ct,selected:Ct,shadowRootClonable:Ct,shadowRootDelegatesFocus:Ct,shadowRootMode:null,shape:null,size:Ie,sizes:null,slot:null,span:Ie,spellCheck:Kn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ie,step:null,style:null,tabIndex:Ie,target:null,title:null,translate:null,type:null,typeMustMatch:Ct,useMap:null,value:Kn,width:Ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:dn,axis:null,background:null,bgColor:null,border:Ie,borderColor:null,bottomMargin:Ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ct,declare:Ct,event:null,face:null,frame:null,frameBorder:null,hSpace:Ie,leftMargin:Ie,link:null,longDesc:null,lowSrc:null,marginHeight:Ie,marginWidth:Ie,noResize:Ct,noHref:Ct,noShade:Ct,noWrap:Ct,object:null,profile:null,prompt:null,rev:null,rightMargin:Ie,rules:null,scheme:null,scrolling:Kn,standby:null,summary:null,text:null,topMargin:Ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ct,disableRemotePlayback:Ct,prefix:null,property:null,results:Ie,security:null,unselectable:null},space:"html",transform:J_}),vH=zc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:bo,accentHeight:Ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ie,amplitude:Ie,arabicForm:null,ascent:Ie,attributeName:null,attributeType:null,azimuth:Ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ie,by:null,calcMode:null,capHeight:Ie,className:dn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ie,diffuseConstant:Ie,direction:null,display:null,dur:null,divisor:Ie,dominantBaseline:null,download:Ct,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ie,enableBackground:null,end:null,event:null,exponent:Ie,externalResourcesRequired:null,fill:null,fillOpacity:Ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:dc,g2:dc,glyphName:dc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ie,horizOriginX:Ie,horizOriginY:Ie,id:null,ideographic:Ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ie,k:Ie,k1:Ie,k2:Ie,k3:Ie,k4:Ie,kernelMatrix:bo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ie,overlineThickness:Ie,paintOrder:null,panose1:null,path:null,pathLength:Ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:dn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ie,pointsAtY:Ie,pointsAtZ:Ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bo,rev:bo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bo,requiredFeatures:bo,requiredFonts:bo,requiredFormats:bo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ie,specularExponent:Ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ie,strikethroughThickness:Ie,string:null,stroke:null,strokeDashArray:bo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ie,strokeOpacity:Ie,strokeWidth:null,style:null,surfaceScale:Ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bo,tabIndex:Ie,tableValues:null,target:null,targetX:Ie,targetY:Ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ie,underlineThickness:Ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ie,values:null,vAlphabetic:Ie,vMathematical:Ie,vectorEffect:null,vHanging:Ie,vIdeographic:Ie,version:null,vertAdvY:Ie,vertOriginX:Ie,vertOriginY:Ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:G_}),Q_=zc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Y_=zc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:J_}),Z_=zc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),wH={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},SH=/[A-Z]/g,NC=/-[a-z]/g,bH=/^data[-\w.:]+$/i;function kH(e,t){const n=G1(t);let r=t,o=ho;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&bH.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(NC,OH);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!NC.test(i)){let s=i.replace(SH,xH);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}o=VS}return new o(r,t)}function xH(e){return"-"+e.toLowerCase()}function OH(e){return e.charAt(1).toUpperCase()}const EH=W_([K_,yH,Q_,Y_,Z_],"html"),HS=W_([K_,vH,Q_,Y_,Z_],"svg");function CH(e){return e.join(" ").trim()}var qS={},TC=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NH=/\n/g,TH=/^\s*/,AH=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,MH=/^:\s*/,_H=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,RH=/^[;\s]*/,DH=/^\s+|\s+$/g,IH=`
`,AC="/",MC="*",Ma="",PH="comment",$H="declaration",FH=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function o(y){var b=y.match(NH);b&&(n+=b.length);var N=y.lastIndexOf(IH);r=~N?y.length-N:r+y.length}function i(){var y={line:n,column:r};return function(b){return b.position=new s(y),f(),b}}function s(y){this.start=y,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function l(y){var b=new Error(t.source+":"+n+":"+r+": "+y);if(b.reason=y,b.filename=t.source,b.line=n,b.column=r,b.source=e,!t.silent)throw b}function u(y){var b=y.exec(e);if(b){var N=b[0];return o(N),e=e.slice(N.length),b}}function f(){u(TH)}function p(y){var b;for(y=y||[];b=h();)b!==!1&&y.push(b);return y}function h(){var y=i();if(!(AC!=e.charAt(0)||MC!=e.charAt(1))){for(var b=2;Ma!=e.charAt(b)&&(MC!=e.charAt(b)||AC!=e.charAt(b+1));)++b;if(b+=2,Ma===e.charAt(b-1))return l("End of comment missing");var N=e.slice(2,b-2);return r+=2,o(N),e=e.slice(b),r+=2,y({type:PH,comment:N})}}function d(){var y=i(),b=u(AH);if(b){if(h(),!u(MH))return l("property missing ':'");var N=u(_H),v=y({type:$H,property:_C(b[0].replace(TC,Ma)),value:N?_C(N[0].replace(TC,Ma)):Ma});return u(RH),v}}function g(){var y=[];p(y);for(var b;b=d();)b!==!1&&(y.push(b),p(y));return y}return f(),g()};function _C(e){return e?e.replace(DH,Ma):Ma}var LH=ci&&ci.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qS,"__esModule",{value:!0});qS.default=zH;var jH=LH(FH);function zH(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,jH.default)(e),o=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var s=i.property,l=i.value;o?t(s,l,i):l&&(n=n||{},n[s]=l)}}),n}var Ng={};Object.defineProperty(Ng,"__esModule",{value:!0});Ng.camelCase=void 0;var BH=/^--[a-zA-Z0-9_-]+$/,UH=/-([a-z])/g,VH=/^[^-]+$/,HH=/^-(webkit|moz|ms|o|khtml)-/,qH=/^-(ms)-/,WH=function(e){return!e||VH.test(e)||BH.test(e)},KH=function(e,t){return t.toUpperCase()},RC=function(e,t){return"".concat(t,"-")},GH=function(e,t){return t===void 0&&(t={}),WH(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(qH,RC):e=e.replace(HH,RC),e.replace(UH,KH))};Ng.camelCase=GH;var JH=ci&&ci.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},QH=JH(qS),YH=Ng;function Y1(e,t){var n={};return!e||typeof e!="string"||(0,QH.default)(e,function(r,o){r&&o&&(n[(0,YH.camelCase)(r,t)]=o)}),n}Y1.default=Y1;var ZH=Y1;const XH=aS(ZH),X_=eR("end"),WS=eR("start");function eR(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function eq(e){const t=WS(e),n=X_(e);if(t&&n)return{start:t,end:n}}function op(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?DC(e.position):"start"in e||"end"in e?DC(e):"line"in e||"column"in e?Z1(e):""}function Z1(e){return IC(e&&e.line)+":"+IC(e&&e.column)}function DC(e){return Z1(e&&e.start)+"-"+Z1(e&&e.end)}function IC(e){return e&&typeof e=="number"?e:1}class Fr extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",i={},s=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?o=t:!i.cause&&t&&(s=!0,o=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?i.ruleId=r:(i.source=r.slice(0,u),i.ruleId=r.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=l?l.line:void 0,this.name=op(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}Fr.prototype.file="";Fr.prototype.name="";Fr.prototype.reason="";Fr.prototype.message="";Fr.prototype.stack="";Fr.prototype.column=void 0;Fr.prototype.line=void 0;Fr.prototype.ancestors=void 0;Fr.prototype.cause=void 0;Fr.prototype.fatal=void 0;Fr.prototype.place=void 0;Fr.prototype.ruleId=void 0;Fr.prototype.source=void 0;const KS={}.hasOwnProperty,tq=new Map,nq=/[A-Z]/g,rq=new Set(["table","tbody","thead","tfoot","tr"]),oq=new Set(["td","th"]),tR="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function iq(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=hq(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=pq(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?HS:EH,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=nR(o,e,void 0);return i&&typeof i!="string"?i:o.create(e,o.Fragment,{children:i||void 0},void 0)}function nR(e,t,n){if(t.type==="element")return sq(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return lq(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return uq(e,t,n);if(t.type==="mdxjsEsm")return aq(e,t);if(t.type==="root")return cq(e,t,n);if(t.type==="text")return fq(e,t)}function sq(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=HS,e.schema=o),e.ancestors.push(t);const i=oR(e,t.tagName,!1),s=dq(e,t);let l=JS(e,t);return rq.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!mH(u):!0})),rR(e,s,i,t),GS(s,l),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function lq(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Ip(e,t.position)}function aq(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ip(e,t.position)}function uq(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=HS,e.schema=o),e.ancestors.push(t);const i=t.name===null?e.Fragment:oR(e,t.name,!0),s=mq(e,t),l=JS(e,t);return rR(e,s,i,t),GS(s,l),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function cq(e,t,n){const r={};return GS(r,JS(e,t)),e.create(t,e.Fragment,r,n)}function fq(e,t){return t.value}function rR(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function GS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function pq(e,t,n){return r;function r(o,i,s,l){const u=Array.isArray(s.children)?n:t;return l?u(i,s,l):u(i,s)}}function hq(e,t){return n;function n(r,o,i,s){const l=Array.isArray(i.children),u=WS(r);return t(o,i,s,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function dq(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&KS.call(t.properties,o)){const i=gq(e,o,t.properties[o]);if(i){const[s,l]=i;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&oq.has(t.tagName)?r=l:n[s]=l}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function mq(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const i=o.expression;i.type;const s=i.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Ip(e,t.position);else{const o=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,i=e.evaluater.evaluateExpression(s.expression)}else Ip(e,t.position);else i=r.value===null?!0:r.value;n[o]=i}return n}function JS(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:tq;for(;++r<t.children.length;){const i=t.children[r];let s;if(e.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const f=o.get(u)||0;s=u+"-"+f,o.set(u,f+1)}}const l=nR(e,i,s);l!==void 0&&n.push(l)}return n}function gq(e,t,n){const r=kH(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?cH(n):CH(n)),r.property==="style"){let o=typeof n=="object"?n:yq(e,String(n));return e.stylePropertyNameCase==="css"&&(o=vq(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?wH[r.property]||r.property:r.attribute,n]}}function yq(e,t){try{return XH(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new Fr("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=tR+"#cannot-parse-style-attribute",o}}function oR(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let i=-1,s;for(;++i<o.length;){const l=OC(o[i])?{type:"Identifier",name:o[i]}:{type:"Literal",value:o[i]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}r=s}else r=OC(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return KS.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ip(e)}function Ip(e,t){const n=new Fr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=tR+"#cannot-handle-mdx-estrees-without-createevaluater",n}function vq(e){const t={};let n;for(n in e)KS.call(e,n)&&(t[wq(n)]=e[n]);return t}function wq(e){let t=e.replace(nq,Sq);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Sq(e){return"-"+e.toLowerCase()}const ev={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bq={};function kq(e,t){const n=bq,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return iR(e,r,o)}function iR(e,t,n){if(xq(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return PC(e.children,t,n)}return Array.isArray(e)?PC(e,t,n):""}function PC(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=iR(e[o],t,n);return r.join("")}function xq(e){return!!(e&&typeof e=="object")}const $C=document.createElement("i");function QS(e){const t="&"+e+";";$C.innerHTML=t;const n=$C.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Xi(e,t,n,r){const o=e.length;let i=0,s;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function Vo(e,t){return e.length>0?(Xi(e,e.length,0,t),e):t}const FC={}.hasOwnProperty;function Oq(e){const t={};let n=-1;for(;++n<e.length;)Eq(t,e[n]);return t}function Eq(e,t){let n;for(n in t){const r=(FC.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){FC.call(r,i)||(r[i]=[]);const s=o[i];Cq(r[i],Array.isArray(s)?s:s?[s]:[])}}}function Cq(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Xi(e,0,0,r)}function sR(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function mc(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Bi=Xl(/[A-Za-z]/),Co=Xl(/[\dA-Za-z]/),Nq=Xl(/[#-'*+\--9=?A-Z^-~]/);function X1(e){return e!==null&&(e<32||e===127)}const ew=Xl(/\d/),Tq=Xl(/[\dA-Fa-f]/),Aq=Xl(/[!-/:-@[-`{-~]/);function dt(e){return e!==null&&e<-2}function fo(e){return e!==null&&(e<0||e===32)}function Yt(e){return e===-2||e===-1||e===32}const Mq=Xl(new RegExp("\\p{P}|\\p{S}","u")),_q=Xl(/\s/);function Xl(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Bc(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let s="";if(i===37&&Co(e.charCodeAt(n+1))&&Co(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(s=String.fromCharCode(i,l),o=1):s=""}else s=String.fromCharCode(i);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+o+1,s=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function gn(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(u){return Yt(u)?(e.enter(n),l(u)):t(u)}function l(u){return Yt(u)&&i++<o?(e.consume(u),l):(e.exit(n),t(u))}}const Rq={tokenize:Dq};function Dq(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),gn(e,t,"linePrefix")}function o(l){return e.enter("paragraph"),i(l)}function i(l){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return dt(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),s)}}const Iq={tokenize:Pq},LC={tokenize:$q};function Pq(e){const t=this,n=[];let r=0,o,i,s;return l;function l(x){if(r<n.length){const D=n[r];return t.containerState=D[1],e.attempt(D[0].continuation,u,f)(x)}return f(x)}function u(x){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&k();const D=t.events.length;let F=D,I;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){I=t.events[F][1].end;break}v(r);let V=D;for(;V<t.events.length;)t.events[V][1].end={...I},V++;return Xi(t.events,F+1,0,t.events.slice(D)),t.events.length=V,f(x)}return l(x)}function f(x){if(r===n.length){if(!o)return d(x);if(o.currentConstruct&&o.currentConstruct.concrete)return y(x);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(LC,p,h)(x)}function p(x){return o&&k(),v(r),d(x)}function h(x){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,y(x)}function d(x){return t.containerState={},e.attempt(LC,g,y)(x)}function g(x){return r++,n.push([t.currentConstruct,t.containerState]),d(x)}function y(x){if(x===null){o&&k(),v(0),e.consume(x);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:i}),b(x)}function b(x){if(x===null){N(e.exit("chunkFlow"),!0),v(0),e.consume(x);return}return dt(x)?(e.consume(x),N(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(x),b)}function N(x,D){const F=t.sliceStream(x);if(D&&F.push(null),x.previous=i,i&&(i.next=x),i=x,o.defineSkip(x.start),o.write(F),t.parser.lazy[x.start.line]){let I=o.events.length;for(;I--;)if(o.events[I][1].start.offset<s&&(!o.events[I][1].end||o.events[I][1].end.offset>s))return;const V=t.events.length;let j=V,te,se;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){if(te){se=t.events[j][1].end;break}te=!0}for(v(r),I=V;I<t.events.length;)t.events[I][1].end={...se},I++;Xi(t.events,j+1,0,t.events.slice(V)),t.events.length=I}}function v(x){let D=n.length;for(;D-- >x;){const F=n[D];t.containerState=F[1],F[0].exit.call(t,e)}n.length=x}function k(){o.write([null]),i=void 0,o=void 0,t.containerState._closeFlow=void 0}}function $q(e,t,n){return gn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jC(e){if(e===null||fo(e)||_q(e))return 1;if(Mq(e))return 2}function YS(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const tw={name:"attention",resolveAll:Fq,tokenize:Lq};function Fq(e,t){let n=-1,r,o,i,s,l,u,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},d={...e[n][1].start};zC(h,-u),zC(d,u),s={type:u>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:d},i={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:u>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},e[r][1].end={...s.start},e[n][1].start={...l.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Vo(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Vo(f,[["enter",o,t],["enter",s,t],["exit",s,t],["enter",i,t]]),f=Vo(f,YS(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Vo(f,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=Vo(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,Xi(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Lq(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=jC(r);let i;return s;function s(u){return i=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===i)return e.consume(u),l;const f=e.exit("attentionSequence"),p=jC(u),h=!p||p===2&&o||n.includes(u),d=!o||o===2&&p||n.includes(r);return f._open=!!(i===42?h:h&&(o||!d)),f._close=!!(i===42?d:d&&(p||!h)),t(u)}}function zC(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const jq={name:"autolink",tokenize:zq};function zq(e,t,n){let r=0;return o;function o(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(g){return Bi(g)?(e.consume(g),s):g===64?n(g):f(g)}function s(g){return g===43||g===45||g===46||Co(g)?(r=1,l(g)):f(g)}function l(g){return g===58?(e.consume(g),r=0,u):(g===43||g===45||g===46||Co(g))&&r++<32?(e.consume(g),l):(r=0,f(g))}function u(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||X1(g)?n(g):(e.consume(g),u)}function f(g){return g===64?(e.consume(g),p):Nq(g)?(e.consume(g),f):n(g)}function p(g){return Co(g)?h(g):n(g)}function h(g){return g===46?(e.consume(g),r=0,p):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):d(g)}function d(g){if((g===45||Co(g))&&r++<63){const y=g===45?d:h;return e.consume(g),y}return n(g)}}const Tg={partial:!0,tokenize:Bq};function Bq(e,t,n){return r;function r(i){return Yt(i)?gn(e,o,"linePrefix")(i):o(i)}function o(i){return i===null||dt(i)?t(i):n(i)}}const lR={continuation:{tokenize:Vq},exit:Hq,name:"blockQuote",tokenize:Uq};function Uq(e,t,n){const r=this;return o;function o(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),i}return n(s)}function i(s){return Yt(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Vq(e,t,n){const r=this;return o;function o(s){return Yt(s)?gn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return e.attempt(lR,t,n)(s)}}function Hq(e){e.exit("blockQuote")}const aR={name:"characterEscape",tokenize:qq};function qq(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),o}function o(i){return Aq(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const uR={name:"characterReference",tokenize:Wq};function Wq(e,t,n){const r=this;let o=0,i,s;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),u}function u(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),i=31,s=Co,p(h))}function f(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=Tq,p):(e.enter("characterReferenceValue"),i=7,s=ew,p(h))}function p(h){if(h===59&&o){const d=e.exit("characterReferenceValue");return s===Co&&!QS(r.sliceSerialize(d))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(h)&&o++<i?(e.consume(h),p):n(h)}}const BC={partial:!0,tokenize:Gq},UC={concrete:!0,name:"codeFenced",tokenize:Kq};function Kq(e,t,n){const r=this,o={partial:!0,tokenize:F};let i=0,s=0,l;return u;function u(I){return f(I)}function f(I){const V=r.events[r.events.length-1];return i=V&&V[1].type==="linePrefix"?V[2].sliceSerialize(V[1],!0).length:0,l=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(I)}function p(I){return I===l?(s++,e.consume(I),p):s<3?n(I):(e.exit("codeFencedFenceSequence"),Yt(I)?gn(e,h,"whitespace")(I):h(I))}function h(I){return I===null||dt(I)?(e.exit("codeFencedFence"),r.interrupt?t(I):e.check(BC,b,D)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),d(I))}function d(I){return I===null||dt(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(I)):Yt(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),gn(e,g,"whitespace")(I)):I===96&&I===l?n(I):(e.consume(I),d)}function g(I){return I===null||dt(I)?h(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(I))}function y(I){return I===null||dt(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(I)):I===96&&I===l?n(I):(e.consume(I),y)}function b(I){return e.attempt(o,D,N)(I)}function N(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),v}function v(I){return i>0&&Yt(I)?gn(e,k,"linePrefix",i+1)(I):k(I)}function k(I){return I===null||dt(I)?e.check(BC,b,D)(I):(e.enter("codeFlowValue"),x(I))}function x(I){return I===null||dt(I)?(e.exit("codeFlowValue"),k(I)):(e.consume(I),x)}function D(I){return e.exit("codeFenced"),t(I)}function F(I,V,j){let te=0;return se;function se(U){return I.enter("lineEnding"),I.consume(U),I.exit("lineEnding"),Se}function Se(U){return I.enter("codeFencedFence"),Yt(U)?gn(I,me,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):me(U)}function me(U){return U===l?(I.enter("codeFencedFenceSequence"),W(U)):j(U)}function W(U){return U===l?(te++,I.consume(U),W):te>=s?(I.exit("codeFencedFenceSequence"),Yt(U)?gn(I,G,"whitespace")(U):G(U)):j(U)}function G(U){return U===null||dt(U)?(I.exit("codeFencedFence"),V(U)):j(U)}}}function Gq(e,t,n){const r=this;return o;function o(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const tv={name:"codeIndented",tokenize:Qq},Jq={partial:!0,tokenize:Yq};function Qq(e,t,n){const r=this;return o;function o(f){return e.enter("codeIndented"),gn(e,i,"linePrefix",5)(f)}function i(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?s(f):n(f)}function s(f){return f===null?u(f):dt(f)?e.attempt(Jq,s,u)(f):(e.enter("codeFlowValue"),l(f))}function l(f){return f===null||dt(f)?(e.exit("codeFlowValue"),s(f)):(e.consume(f),l)}function u(f){return e.exit("codeIndented"),t(f)}}function Yq(e,t,n){const r=this;return o;function o(s){return r.parser.lazy[r.now().line]?n(s):dt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):gn(e,i,"linePrefix",5)(s)}function i(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):dt(s)?o(s):n(s)}}const Zq={name:"codeText",previous:eW,resolve:Xq,tokenize:tW};function Xq(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function eW(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tW(e,t,n){let r=0,o,i;return s;function s(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),r++,l):(e.exit("codeTextSequence"),u(h))}function u(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),u):h===96?(i=e.enter("codeTextSequence"),o=0,p(h)):dt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("codeTextData"),f(h))}function f(h){return h===null||h===32||h===96||dt(h)?(e.exit("codeTextData"),u(h)):(e.consume(h),f)}function p(h){return h===96?(e.consume(h),o++,p):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(i.type="codeTextData",f(h))}}class nW{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&If(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),If(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),If(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);If(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);If(this.left,n.reverse())}}}function If(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function cR(e){const t={};let n=-1,r,o,i,s,l,u,f;const p=new nW(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,rW(p,n)),n=t[n],f=!0);else if(r[1]._container){for(i=n,o=void 0;i--;)if(s=p.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(o&&(p.get(o)[1].type="lineEndingBlank"),s[1].type="lineEnding",o=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;o&&(r[1].end={...p.get(o)[1].start},l=p.slice(o,n),l.unshift(r),p.splice(o,n-o+1,l))}}return Xi(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function rW(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const i=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,u=[],f={};let p,h,d=-1,g=n,y=0,b=0;const N=[b];for(;g;){for(;e.get(++o)[1]!==g;);i.push(o),g._tokenizer||(p=r.sliceStream(g),g.next||p.push(null),h&&s.defineSkip(g.start),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(p),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=g,g=g.next}for(g=n;++d<l.length;)l[d][0]==="exit"&&l[d-1][0]==="enter"&&l[d][1].type===l[d-1][1].type&&l[d][1].start.line!==l[d][1].end.line&&(b=d+1,N.push(b),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(s.events=[],g?(g._tokenizer=void 0,g.previous=void 0):N.pop(),d=N.length;d--;){const v=l.slice(N[d],N[d+1]),k=i.pop();u.push([k,k+v.length-1]),e.splice(k,2,v)}for(u.reverse(),d=-1;++d<u.length;)f[y+u[d][0]]=y+u[d][1],y+=u[d][1]-u[d][0]-1;return f}const oW={resolve:sW,tokenize:lW},iW={partial:!0,tokenize:aW};function sW(e){return cR(e),e}function lW(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(l)}function o(l){return l===null?i(l):dt(l)?e.check(iW,s,i)(l):(e.consume(l),o)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function s(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function aW(e,t,n){const r=this;return o;function o(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),gn(e,i,"linePrefix")}function i(s){if(s===null||dt(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function fR(e,t,n,r,o,i,s,l,u){const f=u||Number.POSITIVE_INFINITY;let p=0;return h;function h(v){return v===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(v),e.exit(i),d):v===null||v===32||v===41||X1(v)?n(v):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),b(v))}function d(v){return v===62?(e.enter(i),e.consume(v),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===62?(e.exit("chunkString"),e.exit(l),d(v)):v===null||v===60||dt(v)?n(v):(e.consume(v),v===92?y:g)}function y(v){return v===60||v===62||v===92?(e.consume(v),g):g(v)}function b(v){return!p&&(v===null||v===41||fo(v))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),t(v)):p<f&&v===40?(e.consume(v),p++,b):v===41?(e.consume(v),p--,b):v===null||v===32||v===40||X1(v)?n(v):(e.consume(v),v===92?N:b)}function N(v){return v===40||v===41||v===92?(e.consume(v),b):b(v)}}function pR(e,t,n,r,o,i){const s=this;let l=0,u;return f;function f(g){return e.enter(r),e.enter(o),e.consume(g),e.exit(o),e.enter(i),p}function p(g){return l>999||g===null||g===91||g===93&&!u||g===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(g):g===93?(e.exit(i),e.enter(o),e.consume(g),e.exit(o),e.exit(r),t):dt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===null||g===91||g===93||dt(g)||l++>999?(e.exit("chunkString"),p(g)):(e.consume(g),u||(u=!Yt(g)),g===92?d:h)}function d(g){return g===91||g===92||g===93?(e.consume(g),l++,h):h(g)}}function hR(e,t,n,r,o,i){let s;return l;function l(d){return d===34||d===39||d===40?(e.enter(r),e.enter(o),e.consume(d),e.exit(o),s=d===40?41:d,u):n(d)}function u(d){return d===s?(e.enter(o),e.consume(d),e.exit(o),e.exit(r),t):(e.enter(i),f(d))}function f(d){return d===s?(e.exit(i),u(s)):d===null?n(d):dt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),gn(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(d))}function p(d){return d===s||d===null||dt(d)?(e.exit("chunkString"),f(d)):(e.consume(d),d===92?h:p)}function h(d){return d===s||d===92?(e.consume(d),p):p(d)}}function ip(e,t){let n;return r;function r(o){return dt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):Yt(o)?gn(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const uW={name:"definition",tokenize:fW},cW={partial:!0,tokenize:pW};function fW(e,t,n){const r=this;let o;return i;function i(g){return e.enter("definition"),s(g)}function s(g){return pR.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function l(g){return o=mc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),u):n(g)}function u(g){return fo(g)?ip(e,f)(g):f(g)}function f(g){return fR(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function p(g){return e.attempt(cW,h,h)(g)}function h(g){return Yt(g)?gn(e,d,"whitespace")(g):d(g)}function d(g){return g===null||dt(g)?(e.exit("definition"),r.parser.defined.push(o),t(g)):n(g)}}function pW(e,t,n){return r;function r(l){return fo(l)?ip(e,o)(l):n(l)}function o(l){return hR(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return Yt(l)?gn(e,s,"whitespace")(l):s(l)}function s(l){return l===null||dt(l)?t(l):n(l)}}const hW={name:"hardBreakEscape",tokenize:dW};function dW(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),o}function o(i){return dt(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const mW={name:"headingAtx",resolve:gW,tokenize:yW};function gW(e,t){let n=e.length-2,r=3,o,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Xi(e,r,n-r+1,[["enter",o,t],["enter",i,t],["exit",i,t],["exit",o,t]])),e}function yW(e,t,n){let r=0;return o;function o(p){return e.enter("atxHeading"),i(p)}function i(p){return e.enter("atxHeadingSequence"),s(p)}function s(p){return p===35&&r++<6?(e.consume(p),s):p===null||fo(p)?(e.exit("atxHeadingSequence"),l(p)):n(p)}function l(p){return p===35?(e.enter("atxHeadingSequence"),u(p)):p===null||dt(p)?(e.exit("atxHeading"),t(p)):Yt(p)?gn(e,l,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function u(p){return p===35?(e.consume(p),u):(e.exit("atxHeadingSequence"),l(p))}function f(p){return p===null||p===35||fo(p)?(e.exit("atxHeadingText"),l(p)):(e.consume(p),f)}}const vW=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],VC=["pre","script","style","textarea"],wW={concrete:!0,name:"htmlFlow",resolveTo:kW,tokenize:xW},SW={partial:!0,tokenize:EW},bW={partial:!0,tokenize:OW};function kW(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function xW(e,t,n){const r=this;let o,i,s,l,u;return f;function f(C){return p(C)}function p(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),h}function h(C){return C===33?(e.consume(C),d):C===47?(e.consume(C),i=!0,b):C===63?(e.consume(C),o=3,r.interrupt?t:T):Bi(C)?(e.consume(C),s=String.fromCharCode(C),N):n(C)}function d(C){return C===45?(e.consume(C),o=2,g):C===91?(e.consume(C),o=5,l=0,y):Bi(C)?(e.consume(C),o=4,r.interrupt?t:T):n(C)}function g(C){return C===45?(e.consume(C),r.interrupt?t:T):n(C)}function y(C){const _="CDATA[";return C===_.charCodeAt(l++)?(e.consume(C),l===_.length?r.interrupt?t:me:y):n(C)}function b(C){return Bi(C)?(e.consume(C),s=String.fromCharCode(C),N):n(C)}function N(C){if(C===null||C===47||C===62||fo(C)){const _=C===47,P=s.toLowerCase();return!_&&!i&&VC.includes(P)?(o=1,r.interrupt?t(C):me(C)):vW.includes(s.toLowerCase())?(o=6,_?(e.consume(C),v):r.interrupt?t(C):me(C)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):i?k(C):x(C))}return C===45||Co(C)?(e.consume(C),s+=String.fromCharCode(C),N):n(C)}function v(C){return C===62?(e.consume(C),r.interrupt?t:me):n(C)}function k(C){return Yt(C)?(e.consume(C),k):se(C)}function x(C){return C===47?(e.consume(C),se):C===58||C===95||Bi(C)?(e.consume(C),D):Yt(C)?(e.consume(C),x):se(C)}function D(C){return C===45||C===46||C===58||C===95||Co(C)?(e.consume(C),D):F(C)}function F(C){return C===61?(e.consume(C),I):Yt(C)?(e.consume(C),F):x(C)}function I(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),u=C,V):Yt(C)?(e.consume(C),I):j(C)}function V(C){return C===u?(e.consume(C),u=null,te):C===null||dt(C)?n(C):(e.consume(C),V)}function j(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||fo(C)?F(C):(e.consume(C),j)}function te(C){return C===47||C===62||Yt(C)?x(C):n(C)}function se(C){return C===62?(e.consume(C),Se):n(C)}function Se(C){return C===null||dt(C)?me(C):Yt(C)?(e.consume(C),Se):n(C)}function me(C){return C===45&&o===2?(e.consume(C),re):C===60&&o===1?(e.consume(C),He):C===62&&o===4?(e.consume(C),le):C===63&&o===3?(e.consume(C),T):C===93&&o===5?(e.consume(C),J):dt(C)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(SW,xe,W)(C)):C===null||dt(C)?(e.exit("htmlFlowData"),W(C)):(e.consume(C),me)}function W(C){return e.check(bW,G,xe)(C)}function G(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),U}function U(C){return C===null||dt(C)?W(C):(e.enter("htmlFlowData"),me(C))}function re(C){return C===45?(e.consume(C),T):me(C)}function He(C){return C===47?(e.consume(C),s="",fe):me(C)}function fe(C){if(C===62){const _=s.toLowerCase();return VC.includes(_)?(e.consume(C),le):me(C)}return Bi(C)&&s.length<8?(e.consume(C),s+=String.fromCharCode(C),fe):me(C)}function J(C){return C===93?(e.consume(C),T):me(C)}function T(C){return C===62?(e.consume(C),le):C===45&&o===2?(e.consume(C),T):me(C)}function le(C){return C===null||dt(C)?(e.exit("htmlFlowData"),xe(C)):(e.consume(C),le)}function xe(C){return e.exit("htmlFlow"),t(C)}}function OW(e,t,n){const r=this;return o;function o(s){return dt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):n(s)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function EW(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Tg,t,n)}}const CW={name:"htmlText",tokenize:NW};function NW(e,t,n){const r=this;let o,i,s;return l;function l(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),u}function u(T){return T===33?(e.consume(T),f):T===47?(e.consume(T),F):T===63?(e.consume(T),x):Bi(T)?(e.consume(T),j):n(T)}function f(T){return T===45?(e.consume(T),p):T===91?(e.consume(T),i=0,y):Bi(T)?(e.consume(T),k):n(T)}function p(T){return T===45?(e.consume(T),g):n(T)}function h(T){return T===null?n(T):T===45?(e.consume(T),d):dt(T)?(s=h,He(T)):(e.consume(T),h)}function d(T){return T===45?(e.consume(T),g):h(T)}function g(T){return T===62?re(T):T===45?d(T):h(T)}function y(T){const le="CDATA[";return T===le.charCodeAt(i++)?(e.consume(T),i===le.length?b:y):n(T)}function b(T){return T===null?n(T):T===93?(e.consume(T),N):dt(T)?(s=b,He(T)):(e.consume(T),b)}function N(T){return T===93?(e.consume(T),v):b(T)}function v(T){return T===62?re(T):T===93?(e.consume(T),v):b(T)}function k(T){return T===null||T===62?re(T):dt(T)?(s=k,He(T)):(e.consume(T),k)}function x(T){return T===null?n(T):T===63?(e.consume(T),D):dt(T)?(s=x,He(T)):(e.consume(T),x)}function D(T){return T===62?re(T):x(T)}function F(T){return Bi(T)?(e.consume(T),I):n(T)}function I(T){return T===45||Co(T)?(e.consume(T),I):V(T)}function V(T){return dt(T)?(s=V,He(T)):Yt(T)?(e.consume(T),V):re(T)}function j(T){return T===45||Co(T)?(e.consume(T),j):T===47||T===62||fo(T)?te(T):n(T)}function te(T){return T===47?(e.consume(T),re):T===58||T===95||Bi(T)?(e.consume(T),se):dt(T)?(s=te,He(T)):Yt(T)?(e.consume(T),te):re(T)}function se(T){return T===45||T===46||T===58||T===95||Co(T)?(e.consume(T),se):Se(T)}function Se(T){return T===61?(e.consume(T),me):dt(T)?(s=Se,He(T)):Yt(T)?(e.consume(T),Se):te(T)}function me(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),o=T,W):dt(T)?(s=me,He(T)):Yt(T)?(e.consume(T),me):(e.consume(T),G)}function W(T){return T===o?(e.consume(T),o=void 0,U):T===null?n(T):dt(T)?(s=W,He(T)):(e.consume(T),W)}function G(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||fo(T)?te(T):(e.consume(T),G)}function U(T){return T===47||T===62||fo(T)?te(T):n(T)}function re(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),t):n(T)}function He(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),fe}function fe(T){return Yt(T)?gn(e,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):J(T)}function J(T){return e.enter("htmlTextData"),s(T)}}const ZS={name:"labelEnd",resolveAll:_W,resolveTo:RW,tokenize:DW},TW={tokenize:IW},AW={tokenize:PW},MW={tokenize:$W};function _W(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&Xi(e,0,e.length,n),e}function RW(e,t){let n=e.length,r=0,o,i,s,l;for(;n--;)if(o=e[n][1],i){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(i=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(s=n);const u={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[i][1].start},end:{...e[s][1].end}},p={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[s-2][1].start}};return l=[["enter",u,t],["enter",f,t]],l=Vo(l,e.slice(i+1,i+r+3)),l=Vo(l,[["enter",p,t]]),l=Vo(l,YS(t.parser.constructs.insideSpan.null,e.slice(i+r+4,s-3),t)),l=Vo(l,[["exit",p,t],e[s-2],e[s-1],["exit",f,t]]),l=Vo(l,e.slice(s+1)),l=Vo(l,[["exit",u,t]]),Xi(e,i,e.length,l),e}function DW(e,t,n){const r=this;let o=r.events.length,i,s;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){i=r.events[o][1];break}return l;function l(d){return i?i._inactive?h(d):(s=r.parser.defined.includes(mc(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelEnd"),u):n(d)}function u(d){return d===40?e.attempt(TW,p,s?p:h)(d):d===91?e.attempt(AW,p,s?f:h)(d):s?p(d):h(d)}function f(d){return e.attempt(MW,p,h)(d)}function p(d){return t(d)}function h(d){return i._balanced=!0,n(d)}}function IW(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),o}function o(h){return fo(h)?ip(e,i)(h):i(h)}function i(h){return h===41?p(h):fR(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return fo(h)?ip(e,u)(h):p(h)}function l(h){return n(h)}function u(h){return h===34||h===39||h===40?hR(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):p(h)}function f(h){return fo(h)?ip(e,p)(h):p(h)}function p(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function PW(e,t,n){const r=this;return o;function o(l){return pR.call(r,e,i,s,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(mc(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function s(l){return n(l)}}function $W(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),o}function o(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const FW={name:"labelStartImage",resolveAll:ZS.resolveAll,tokenize:LW};function LW(e,t,n){const r=this;return o;function o(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const jW={name:"labelStartLink",resolveAll:ZS.resolveAll,tokenize:zW};function zW(e,t,n){const r=this;return o;function o(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const nv={name:"lineEnding",tokenize:BW};function BW(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),gn(e,t,"linePrefix")}}const Vd={name:"thematicBreak",tokenize:UW};function UW(e,t,n){let r=0,o;return i;function i(f){return e.enter("thematicBreak"),s(f)}function s(f){return o=f,l(f)}function l(f){return f===o?(e.enter("thematicBreakSequence"),u(f)):r>=3&&(f===null||dt(f))?(e.exit("thematicBreak"),t(f)):n(f)}function u(f){return f===o?(e.consume(f),r++,u):(e.exit("thematicBreakSequence"),Yt(f)?gn(e,l,"whitespace")(f):l(f))}}const oo={continuation:{tokenize:WW},exit:GW,name:"list",tokenize:qW},VW={partial:!0,tokenize:JW},HW={partial:!0,tokenize:KW};function qW(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,s=0;return l;function l(g){const y=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:ew(g)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(Vd,n,f)(g):f(g);if(!r.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(g)}return n(g)}function u(g){return ew(g)&&++s<10?(e.consume(g),u):(!r.interrupt||s<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),f(g)):n(g)}function f(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,e.check(Tg,r.interrupt?n:p,e.attempt(VW,d,h))}function p(g){return r.containerState.initialBlankLine=!0,i++,d(g)}function h(g){return Yt(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),d):n(g)}function d(g){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function WW(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Tg,o,i);function o(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,gn(e,t,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!Yt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(HW,t,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,gn(e,e.attempt(oo,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function KW(e,t,n){const r=this;return gn(e,o,"listItemIndent",r.containerState.size+1);function o(i){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(i):n(i)}}function GW(e){e.exit(this.containerState.type)}function JW(e,t,n){const r=this;return gn(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(i){const s=r.events[r.events.length-1];return!Yt(i)&&s&&s[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const HC={name:"setextUnderline",resolveTo:QW,tokenize:YW};function QW(e,t){let n=e.length,r,o,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",i?(e.splice(o,0,["enter",s,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function YW(e,t,n){const r=this;let o;return i;function i(f){let p=r.events.length,h;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){h=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),o=f,s(f)):n(f)}function s(f){return e.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===o?(e.consume(f),l):(e.exit("setextHeadingLineSequence"),Yt(f)?gn(e,u,"lineSuffix")(f):u(f))}function u(f){return f===null||dt(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const ZW={tokenize:XW};function XW(e){const t=this,n=e.attempt(Tg,r,e.attempt(this.parser.constructs.flowInitial,o,gn(e,e.attempt(this.parser.constructs.flow,o,e.attempt(oW,o)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const eK={resolveAll:mR()},tK=dR("string"),nK=dR("text");function dR(e){return{resolveAll:mR(e==="text"?rK:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],i=n.attempt(o,s,l);return s;function s(p){return f(p)?i(p):l(p)}function l(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),u}function u(p){return f(p)?(n.exit("data"),i(p)):(n.consume(p),u)}function f(p){if(p===null)return!0;const h=o[p];let d=-1;if(h)for(;++d<h.length;){const g=h[d];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function mR(e){return t;function t(n,r){let o=-1,i;for(;++o<=n.length;)i===void 0?n[o]&&n[o][1].type==="data"&&(i=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==i+2&&(n[i][1].end=n[o-1][1].end,n.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(n,r):n}}function rK(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i=o.length,s=-1,l=0,u;for(;i--;){const f=o[i];if(typeof f=="string"){for(s=f.length;f.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(f===-2)u=!0,l++;else if(f!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const f={type:n===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const oK={42:oo,43:oo,45:oo,48:oo,49:oo,50:oo,51:oo,52:oo,53:oo,54:oo,55:oo,56:oo,57:oo,62:lR},iK={91:uW},sK={[-2]:tv,[-1]:tv,32:tv},lK={35:mW,42:Vd,45:[HC,Vd],60:wW,61:HC,95:Vd,96:UC,126:UC},aK={38:uR,92:aR},uK={[-5]:nv,[-4]:nv,[-3]:nv,33:FW,38:uR,42:tw,60:[jq,CW],91:jW,92:[hW,aR],93:ZS,95:tw,96:Zq},cK={null:[tw,eK]},fK={null:[42,95]},pK={null:[]},hK=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fK,contentInitial:iK,disable:pK,document:oK,flow:lK,flowInitial:sK,insideSpan:cK,string:aK,text:uK},Symbol.toStringTag,{value:"Module"}));function dK(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},i=[];let s=[],l=[];const u={attempt:V(F),check:V(I),consume:k,enter:x,exit:D,interrupt:V(I,{interrupt:!0})},f={code:null,containerState:{},defineSkip:b,events:[],now:y,parser:e,previous:null,sliceSerialize:d,sliceStream:g,write:h};let p=t.tokenize.call(f,u);return t.resolveAll&&i.push(t),f;function h(Se){return s=Vo(s,Se),N(),s[s.length-1]!==null?[]:(j(t,0),f.events=YS(i,f.events,f),f.events)}function d(Se,me){return gK(g(Se),me)}function g(Se){return mK(s,Se)}function y(){const{_bufferIndex:Se,_index:me,line:W,column:G,offset:U}=r;return{_bufferIndex:Se,_index:me,line:W,column:G,offset:U}}function b(Se){o[Se.line]=Se.column,se()}function N(){let Se;for(;r._index<s.length;){const me=s[r._index];if(typeof me=="string")for(Se=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Se&&r._bufferIndex<me.length;)v(me.charCodeAt(r._bufferIndex));else v(me)}}function v(Se){p=p(Se)}function k(Se){dt(Se)?(r.line++,r.column=1,r.offset+=Se===-3?2:1,se()):Se!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=Se}function x(Se,me){const W=me||{};return W.type=Se,W.start=y(),f.events.push(["enter",W,f]),l.push(W),W}function D(Se){const me=l.pop();return me.end=y(),f.events.push(["exit",me,f]),me}function F(Se,me){j(Se,me.from)}function I(Se,me){me.restore()}function V(Se,me){return W;function W(G,U,re){let He,fe,J,T;return Array.isArray(G)?xe(G):"tokenize"in G?xe([G]):le(G);function le(L){return pe;function pe(oe){const ce=oe!==null&&L[oe],Ce=oe!==null&&L.null,Pe=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(Ce)?Ce:Ce?[Ce]:[]];return xe(Pe)(oe)}}function xe(L){return He=L,fe=0,L.length===0?re:C(L[fe])}function C(L){return pe;function pe(oe){return T=te(),J=L,L.partial||(f.currentConstruct=L),L.name&&f.parser.constructs.disable.null.includes(L.name)?P():L.tokenize.call(me?Object.assign(Object.create(f),me):f,u,_,P)(oe)}}function _(L){return Se(J,T),U}function P(L){return T.restore(),++fe<He.length?C(He[fe]):re}}}function j(Se,me){Se.resolveAll&&!i.includes(Se)&&i.push(Se),Se.resolve&&Xi(f.events,me,f.events.length-me,Se.resolve(f.events.slice(me),f)),Se.resolveTo&&(f.events=Se.resolveTo(f.events,f))}function te(){const Se=y(),me=f.previous,W=f.currentConstruct,G=f.events.length,U=Array.from(l);return{from:G,restore:re};function re(){r=Se,f.previous=me,f.currentConstruct=W,f.events.length=G,l=U,se()}}function se(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function mK(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex;let s;if(n===o)s=[e[n].slice(r,i)];else{if(s=e.slice(n,o),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}i>0&&s.push(e[o].slice(0,i))}return s}function gK(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const i=e[n];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&o)continue;s=" ";break}default:s=String.fromCharCode(i)}o=i===-2,r.push(s)}return r.join("")}function yK(e){const t={constructs:Oq([hK,...(e||{}).extensions||[]]),content:n(Rq),defined:[],document:n(Iq),flow:n(ZW),lazy:{},string:n(tK),text:n(nK)};return t;function n(r){return o;function o(i){return dK(t,r,i)}}}function vK(e){for(;!cR(e););return e}const qC=/[\0\t\n\r]/g;function wK(){let e=1,t="",n=!0,r;return o;function o(i,s,l){const u=[];let f,p,h,d,g;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),h=0,t="",n&&(i.charCodeAt(0)===65279&&h++,n=void 0);h<i.length;){if(qC.lastIndex=h,f=qC.exec(i),d=f&&f.index!==void 0?f.index:i.length,g=i.charCodeAt(d),!f){t=i.slice(h);break}if(g===10&&h===d&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),h<d&&(u.push(i.slice(h,d)),e+=d-h),g){case 0:{u.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,u.push(-2);e++<p;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}h=d+1}return l&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const SK=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bK(e){return e.replace(SK,kK)}function kK(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return sR(n.slice(o?2:1),o?16:10)}return QS(n)||e}const gR={}.hasOwnProperty;function xK(e,t,n){return typeof t!="string"&&(n=t,t=void 0),OK(n)(vK(yK(n).document().write(wK()(e,t,!0))))}function OK(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(ee),autolinkProtocol:te,autolinkEmail:te,atxHeading:i(he),blockQuote:i(Ce),characterEscape:te,characterReference:te,codeFenced:i(Pe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(Pe,s),codeText:i(ie,s),codeTextData:te,data:te,codeFlowValue:te,definition:i(Y),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(ge),hardBreakEscape:i(Qe),hardBreakTrailing:i(Qe),htmlFlow:i(Ze,s),htmlFlowData:te,htmlText:i(Ze,s),htmlTextData:te,image:i(ye),label:s,link:i(ee),listItem:i(Ke),listItemValue:d,listOrdered:i($e,h),listUnordered:i($e),paragraph:i(kt),reference:C,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(he),strong:i(Xe),thematicBreak:i(Z)},exit:{atxHeading:u(),atxHeadingSequence:F,autolink:u(),autolinkEmail:ce,autolinkProtocol:oe,blockQuote:u(),characterEscapeValue:se,characterReferenceMarkerHexadecimal:P,characterReferenceMarkerNumeric:P,characterReferenceValue:L,characterReference:pe,codeFenced:u(N),codeFencedFence:b,codeFencedFenceInfo:g,codeFencedFenceMeta:y,codeFlowValue:se,codeIndented:u(v),codeText:u(U),codeTextData:se,data:se,definition:u(),definitionDestinationString:D,definitionLabelString:k,definitionTitleString:x,emphasis:u(),hardBreakEscape:u(me),hardBreakTrailing:u(me),htmlFlow:u(W),htmlFlowData:se,htmlText:u(G),htmlTextData:se,image:u(He),label:J,labelText:fe,lineEnding:Se,link:u(re),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:_,resourceDestinationString:T,resourceTitleString:le,resource:xe,setextHeading:u(j),setextHeadingLineSequence:V,setextHeadingText:I,strong:u(),thematicBreak:u()}};yR(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(B){let ne={type:"root",children:[]};const be={stack:[ne],tokenStack:[],config:t,enter:l,exit:f,buffer:s,resume:p,data:n},Fe=[];let Le=-1;for(;++Le<B.length;)if(B[Le][1].type==="listOrdered"||B[Le][1].type==="listUnordered")if(B[Le][0]==="enter")Fe.push(Le);else{const et=Fe.pop();Le=o(B,et,Le)}for(Le=-1;++Le<B.length;){const et=t[B[Le][0]];gR.call(et,B[Le][1].type)&&et[B[Le][1].type].call(Object.assign({sliceSerialize:B[Le][2].sliceSerialize},be),B[Le][1])}if(be.tokenStack.length>0){const et=be.tokenStack[be.tokenStack.length-1];(et[1]||WC).call(be,void 0,et[0])}for(ne.position={start:fl(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:fl(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},Le=-1;++Le<t.transforms.length;)ne=t.transforms[Le](ne)||ne;return ne}function o(B,ne,be){let Fe=ne-1,Le=-1,et=!1,pt,gt,nn,kn;for(;++Fe<=be;){const rn=B[Fe];switch(rn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rn[0]==="enter"?Le++:Le--,kn=void 0;break}case"lineEndingBlank":{rn[0]==="enter"&&(pt&&!kn&&!Le&&!nn&&(nn=Fe),kn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:kn=void 0}if(!Le&&rn[0]==="enter"&&rn[1].type==="listItemPrefix"||Le===-1&&rn[0]==="exit"&&(rn[1].type==="listUnordered"||rn[1].type==="listOrdered")){if(pt){let Bn=Fe;for(gt=void 0;Bn--;){const pn=B[Bn];if(pn[1].type==="lineEnding"||pn[1].type==="lineEndingBlank"){if(pn[0]==="exit")continue;gt&&(B[gt][1].type="lineEndingBlank",et=!0),pn[1].type="lineEnding",gt=Bn}else if(!(pn[1].type==="linePrefix"||pn[1].type==="blockQuotePrefix"||pn[1].type==="blockQuotePrefixWhitespace"||pn[1].type==="blockQuoteMarker"||pn[1].type==="listItemIndent"))break}nn&&(!gt||nn<gt)&&(pt._spread=!0),pt.end=Object.assign({},gt?B[gt][1].start:rn[1].end),B.splice(gt||Fe,0,["exit",pt,rn[2]]),Fe++,be++}if(rn[1].type==="listItemPrefix"){const Bn={type:"listItem",_spread:!1,start:Object.assign({},rn[1].start),end:void 0};pt=Bn,B.splice(Fe,0,["enter",Bn,rn[2]]),Fe++,be++,nn=void 0,kn=!0}}}return B[ne][1]._spread=et,be}function i(B,ne){return be;function be(Fe){l.call(this,B(Fe),Fe),ne&&ne.call(this,Fe)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(B,ne,be){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([ne,be||void 0]),B.position={start:fl(ne.start),end:void 0}}function u(B){return ne;function ne(be){B&&B.call(this,be),f.call(this,be)}}function f(B,ne){const be=this.stack.pop(),Fe=this.tokenStack.pop();if(Fe)Fe[0].type!==B.type&&(ne?ne.call(this,B,Fe[0]):(Fe[1]||WC).call(this,B,Fe[0]));else throw new Error("Cannot close `"+B.type+"` ("+op({start:B.start,end:B.end})+"): its not open");be.position.end=fl(B.end)}function p(){return kq(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function d(B){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function g(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=B}function y(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=B}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.value=B.replace(/(\r?\n|\r)$/g,"")}function k(B){const ne=this.resume(),be=this.stack[this.stack.length-1];be.label=ne,be.identifier=mc(this.sliceSerialize(B)).toLowerCase()}function x(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.title=B}function D(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.url=B}function F(B){const ne=this.stack[this.stack.length-1];if(!ne.depth){const be=this.sliceSerialize(B).length;ne.depth=be}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function V(B){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function te(B){const ne=this.stack[this.stack.length-1].children;let be=ne[ne.length-1];(!be||be.type!=="text")&&(be=q(),be.position={start:fl(B.start),end:void 0},ne.push(be)),this.stack.push(be)}function se(B){const ne=this.stack.pop();ne.value+=this.sliceSerialize(B),ne.position.end=fl(B.end)}function Se(B){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=ne.children[ne.children.length-1];be.position.end=fl(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ne.type)&&(te.call(this,B),se.call(this,B))}function me(){this.data.atHardBreak=!0}function W(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.value=B}function G(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.value=B}function U(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.value=B}function re(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=ne,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function He(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=ne,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function fe(B){const ne=this.sliceSerialize(B),be=this.stack[this.stack.length-2];be.label=bK(ne),be.identifier=mc(ne).toLowerCase()}function J(){const B=this.stack[this.stack.length-1],ne=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Fe=B.children;be.children=Fe}else be.alt=ne}function T(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.url=B}function le(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.title=B}function xe(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function _(B){const ne=this.resume(),be=this.stack[this.stack.length-1];be.label=ne,be.identifier=mc(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function P(B){this.data.characterReferenceType=B.type}function L(B){const ne=this.sliceSerialize(B),be=this.data.characterReferenceType;let Fe;be?(Fe=sR(ne,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Fe=QS(ne);const Le=this.stack[this.stack.length-1];Le.value+=Fe}function pe(B){const ne=this.stack.pop();ne.position.end=fl(B.end)}function oe(B){se.call(this,B);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(B)}function ce(B){se.call(this,B);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(B)}function Ce(){return{type:"blockquote",children:[]}}function Pe(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ge(){return{type:"emphasis",children:[]}}function he(){return{type:"heading",depth:0,children:[]}}function Qe(){return{type:"break"}}function Ze(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function ee(){return{type:"link",title:null,url:"",children:[]}}function $e(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function Ke(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function kt(){return{type:"paragraph",children:[]}}function Xe(){return{type:"strong",children:[]}}function q(){return{type:"text",value:""}}function Z(){return{type:"thematicBreak"}}}function fl(e){return{line:e.line,column:e.column,offset:e.offset}}function yR(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?yR(e,r):EK(e,r)}}function EK(e,t){let n;for(n in t)if(gR.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function WC(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+op({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+op({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+op({start:t.start,end:t.end})+") is still open")}function CK(e){const t=this;t.parser=n;function n(r){return xK(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function NK(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function TK(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function AK(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function MK(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _K(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function RK(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=Bc(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let s,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=i+1,l+=1,e.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,u);const f={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,f),e.applyData(t,f)}function DK(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function IK(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function vR(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),i=o[0];i&&i.type==="text"?i.value="["+i.value:o.unshift({type:"text",value:"["});const s=o[o.length-1];return s&&s.type==="text"?s.value+=r:o.push({type:"text",value:r}),o}function PK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return vR(e,t);const o={src:Bc(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,i),e.applyData(t,i)}function $K(e,t){const n={src:Bc(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function FK(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function LK(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return vR(e,t);const o={href:Bc(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function jK(e,t){const n={href:Bc(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function zK(e,t,n){const r=e.all(t),o=n?BK(n):wR(t),i={},s=[];if(typeof t.checked=="boolean"){const p=r[0];let h;p&&p.type==="element"&&p.tagName==="p"?h=p:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const p=r[l];(o||l!==0||p.type!=="element"||p.tagName!=="p")&&s.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!o?s.push(...p.children):s.push(p)}const u=r[r.length-1];u&&(o||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:i,children:s};return e.patch(t,f),e.applyData(t,f)}function BK(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=wR(n[r])}return t}function wR(e){return e.spread??e.children.length>1}function UK(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const s=r[o];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function VK(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HK(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function qK(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WK(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),o.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=WS(t.children[1]),u=X_(t.children[t.children.length-1]);l&&u&&(s.position={start:l,end:u}),o.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,i),e.applyData(t,i)}function KK(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,s=i?i.length:t.children.length;let l=-1;const u=[];for(;++l<s;){const p=t.children[l],h={},d=i?i[l]:void 0;d&&(h.align=d);let g={type:"element",tagName:o,properties:h,children:[]};p&&(g.children=e.all(p),e.patch(p,g),g=e.applyData(p,g)),u.push(g)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function GK(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const KC=9,GC=32;function JK(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const i=[];for(;r;)i.push(JC(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return i.push(JC(t.slice(o),o>0,!1)),i.join("")}function JC(e,t,n){let r=0,o=e.length;if(t){let i=e.codePointAt(r);for(;i===KC||i===GC;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(o-1);for(;i===KC||i===GC;)o--,i=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function QK(e,t){const n={type:"text",value:JK(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function YK(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const ZK={blockquote:NK,break:TK,code:AK,delete:MK,emphasis:_K,footnoteReference:RK,heading:DK,html:IK,imageReference:PK,image:$K,inlineCode:FK,linkReference:LK,link:jK,listItem:zK,list:UK,paragraph:VK,root:HK,strong:qK,table:WK,tableCell:GK,tableRow:KK,text:QK,thematicBreak:YK,toml:ld,yaml:ld,definition:ld,footnoteDefinition:ld};function ld(){}const SR=-1,Ag=0,sp=1,qm=2,XS=3,eb=4,tb=5,nb=6,bR=7,kR=8,QC=typeof self=="object"?self:globalThis,XK=(e,t)=>{const n=(o,i)=>(e.set(i,o),o),r=o=>{if(e.has(o))return e.get(o);const[i,s]=t[o];switch(i){case Ag:case SR:return n(s,o);case sp:{const l=n([],o);for(const u of s)l.push(r(u));return l}case qm:{const l=n({},o);for(const[u,f]of s)l[r(u)]=r(f);return l}case XS:return n(new Date(s),o);case eb:{const{source:l,flags:u}=s;return n(new RegExp(l,u),o)}case tb:{const l=n(new Map,o);for(const[u,f]of s)l.set(r(u),r(f));return l}case nb:{const l=n(new Set,o);for(const u of s)l.add(r(u));return l}case bR:{const{name:l,message:u}=s;return n(new QC[l](u),o)}case kR:return n(BigInt(s),o);case"BigInt":return n(Object(BigInt(s)),o);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new QC[i](s),o)};return r},YC=e=>XK(new Map,e)(0),Bu="",{toString:eG}={},{keys:tG}=Object,Pf=e=>{const t=typeof e;if(t!=="object"||!e)return[Ag,t];const n=eG.call(e).slice(8,-1);switch(n){case"Array":return[sp,Bu];case"Object":return[qm,Bu];case"Date":return[XS,Bu];case"RegExp":return[eb,Bu];case"Map":return[tb,Bu];case"Set":return[nb,Bu];case"DataView":return[sp,n]}return n.includes("Array")?[sp,n]:n.includes("Error")?[bR,n]:[qm,n]},ad=([e,t])=>e===Ag&&(t==="function"||t==="symbol"),nG=(e,t,n,r)=>{const o=(s,l)=>{const u=r.push(s)-1;return n.set(l,u),u},i=s=>{if(n.has(s))return n.get(s);let[l,u]=Pf(s);switch(l){case Ag:{let p=s;switch(u){case"bigint":l=kR,p=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return o([SR],s)}return o([l,p],s)}case sp:{if(u){let d=s;return u==="DataView"?d=new Uint8Array(s.buffer):u==="ArrayBuffer"&&(d=new Uint8Array(s)),o([u,[...d]],s)}const p=[],h=o([l,p],s);for(const d of s)p.push(i(d));return h}case qm:{if(u)switch(u){case"BigInt":return o([u,s.toString()],s);case"Boolean":case"Number":case"String":return o([u,s.valueOf()],s)}if(t&&"toJSON"in s)return i(s.toJSON());const p=[],h=o([l,p],s);for(const d of tG(s))(e||!ad(Pf(s[d])))&&p.push([i(d),i(s[d])]);return h}case XS:return o([l,s.toISOString()],s);case eb:{const{source:p,flags:h}=s;return o([l,{source:p,flags:h}],s)}case tb:{const p=[],h=o([l,p],s);for(const[d,g]of s)(e||!(ad(Pf(d))||ad(Pf(g))))&&p.push([i(d),i(g)]);return h}case nb:{const p=[],h=o([l,p],s);for(const d of s)(e||!ad(Pf(d)))&&p.push(i(d));return h}}const{message:f}=s;return o([l,{name:u,message:f}],s)};return i},ZC=(e,{json:t,lossy:n}={})=>{const r=[];return nG(!(t||n),!!t,new Map,r)(e),r},Wm=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?YC(ZC(e,t)):structuredClone(e):(e,t)=>YC(ZC(e,t));function rG(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function oG(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function iG(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||rG,r=e.options.footnoteBackLabel||oG,o=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[u]);if(!f)continue;const p=e.all(f),h=String(f.identifier).toUpperCase(),d=Bc(h.toLowerCase());let g=0;const y=[],b=e.footnoteCounts.get(h);for(;b!==void 0&&++g<=b;){y.length>0&&y.push({type:"text",value:" "});let k=typeof n=="string"?n:n(u,g);typeof k=="string"&&(k={type:"text",value:k}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+d+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,g),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const N=p[p.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const k=N.children[N.children.length-1];k&&k.type==="text"?k.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...y)}else p.push(...y);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+d},children:e.wrap(p,!0)};e.patch(f,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Wm(s),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const xR=function(e){if(e==null)return uG;if(typeof e=="function")return Mg(e);if(typeof e=="object")return Array.isArray(e)?sG(e):lG(e);if(typeof e=="string")return aG(e);throw new Error("Expected function, string, or object as test")};function sG(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=xR(e[n]);return Mg(r);function r(...o){let i=-1;for(;++i<t.length;)if(t[i].apply(this,o))return!0;return!1}}function lG(e){const t=e;return Mg(n);function n(r){const o=r;let i;for(i in e)if(o[i]!==t[i])return!1;return!0}}function aG(e){return Mg(t);function t(n){return n&&n.type===e}}function Mg(e){return t;function t(n,r,o){return!!(cG(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function uG(){return!0}function cG(e){return e!==null&&typeof e=="object"&&"type"in e}const OR=[],fG=!0,XC=!1,pG="skip";function hG(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const i=xR(o),s=r?-1:1;l(e,void 0,[])();function l(u,f,p){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const g=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(u.type+(g?"<"+g+">":""))+")"})}return d;function d(){let g=OR,y,b,N;if((!t||i(u,f,p[p.length-1]||void 0))&&(g=dG(n(u,p)),g[0]===XC))return g;if("children"in u&&u.children){const v=u;if(v.children&&g[0]!==pG)for(b=(r?v.children.length:-1)+s,N=p.concat(v);b>-1&&b<v.children.length;){const k=v.children[b];if(y=l(k,b,N)(),y[0]===XC)return y;b=typeof y[1]=="number"?y[1]:b+s}}return g}}}function dG(e){return Array.isArray(e)?e:typeof e=="number"?[fG,e]:e==null?OR:[e]}function ER(e,t,n,r){let o,i,s;typeof t=="function"?(i=void 0,s=t,o=n):(i=t,s=n,o=r),hG(e,i,l,o);function l(u,f){const p=f[f.length-1],h=p?p.children.indexOf(u):void 0;return s(u,h,p)}}const nw={}.hasOwnProperty,mG={};function gG(e,t){const n=t||mG,r=new Map,o=new Map,i=new Map,s={...ZK,...n.handlers},l={all:f,applyData:vG,definitionById:r,footnoteById:o,footnoteCounts:i,footnoteOrder:[],handlers:s,one:u,options:n,patch:yG,wrap:SG};return ER(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const h=p.type==="definition"?r:o,d=String(p.identifier).toUpperCase();h.has(d)||h.set(d,p)}}),l;function u(p,h){const d=p.type,g=l.handlers[d];if(nw.call(l.handlers,d)&&g)return g(l,p,h);if(l.options.passThrough&&l.options.passThrough.includes(d)){if("children"in p){const{children:y,...b}=p,N=Wm(b);return N.children=l.all(p),N}return Wm(p)}return(l.options.unknownHandler||wG)(l,p,h)}function f(p){const h=[];if("children"in p){const d=p.children;let g=-1;for(;++g<d.length;){const y=l.one(d[g],p);if(y){if(g&&d[g-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=eN(y.value)),!Array.isArray(y)&&y.type==="element")){const b=y.children[0];b&&b.type==="text"&&(b.value=eN(b.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function yG(e,t){e.position&&(t.position=eq(e))}function vG(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&i&&Object.assign(n.properties,Wm(i)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function wG(e,t){const n=t.data||{},r="value"in t&&!(nw.call(n,"hProperties")||nw.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function SG(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function eN(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function tN(e,t){const n=gG(e,t),r=n.one(e,void 0),o=iG(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&i.children.push({type:"text",value:`
`},o),i}function bG(e,t){return e&&"run"in e?async function(n,r){const o=tN(n,{file:r,...t});await e.run(o,r)}:function(n,r){return tN(n,{file:r,...e||t})}}function nN(e){if(e)throw e}var Hd=Object.prototype.hasOwnProperty,CR=Object.prototype.toString,rN=Object.defineProperty,oN=Object.getOwnPropertyDescriptor,iN=function(e){return typeof Array.isArray=="function"?Array.isArray(e):CR.call(e)==="[object Array]"},sN=function(e){if(!e||CR.call(e)!=="[object Object]")return!1;var t=Hd.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&Hd.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||Hd.call(e,r)},lN=function(e,t){rN&&t.name==="__proto__"?rN(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},aN=function(e,t){if(t==="__proto__")if(Hd.call(e,t)){if(oN)return oN(e,t).value}else return;return e[t]},kG=function e(){var t,n,r,o,i,s,l=arguments[0],u=1,f=arguments.length,p=!1;for(typeof l=="boolean"&&(p=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<f;++u)if(t=arguments[u],t!=null)for(n in t)r=aN(l,n),o=aN(t,n),l!==o&&(p&&o&&(sN(o)||(i=iN(o)))?(i?(i=!1,s=r&&iN(r)?r:[]):s=r&&sN(r)?r:{},lN(l,{name:n,newValue:e(p,s,o)})):typeof o<"u"&&lN(l,{name:n,newValue:o}));return l};const rv=aS(kG);function rw(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function xG(){const e=[],t={run:n,use:r};return t;function n(...o){let i=-1;const s=o.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...o);function l(u,...f){const p=e[++i];let h=-1;if(u){s(u);return}for(;++h<o.length;)(f[h]===null||f[h]===void 0)&&(f[h]=o[h]);o=f,p?OG(p,l)(...f):s(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function OG(e,t){let n;return r;function r(...s){const l=e.length>s.length;let u;l&&s.push(o);try{u=e.apply(this,s)}catch(f){const p=f;if(l&&n)throw p;return o(p)}l||(u&&u.then&&typeof u.then=="function"?u.then(i,o):u instanceof Error?o(u):i(u))}function o(s,...l){n||(n=!0,t(s,...l))}function i(s){o(null,s)}}const Li={basename:EG,dirname:CG,extname:NG,join:TG,sep:"/"};function EG(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Zp(e);let n=0,r=-1,o=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else r<0&&(i=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,l=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else s<0&&(i=!0,s=o+1),l>-1&&(e.codePointAt(o)===t.codePointAt(l--)?l<0&&(r=o):(l=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function CG(e){if(Zp(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function NG(e){Zp(e);let t=e.length,n=-1,r=0,o=-1,i=0,s;for(;t--;){const l=e.codePointAt(t);if(l===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),l===46?o<0?o=t:i!==1&&(i=1):o>-1&&(i=-1)}return o<0||n<0||i===0||i===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function TG(...e){let t=-1,n;for(;++t<e.length;)Zp(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":AG(n)}function AG(e){Zp(e);const t=e.codePointAt(0)===47;let n=MG(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function MG(e,t){let n="",r=0,o=-1,i=0,s=-1,l,u;for(;++s<=e.length;){if(s<e.length)l=e.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(o===s-1||i===1))if(o!==s-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),o=s,i=0;continue}}else if(n.length>0){n="",r=0,o=s,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,s):n=e.slice(o+1,s),r=s-o-1;o=s,i=0}else l===46&&i>-1?i++:i=-1}return n}function Zp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const _G={cwd:RG};function RG(){return"/"}function ow(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function DG(e){if(typeof e=="string")e=new URL(e);else if(!ow(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return IG(e)}function IG(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const ov=["history","path","basename","stem","extname","dirname"];class NR{constructor(t){let n;t?ow(t)?n={path:t}:typeof t=="string"||PG(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":_G.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<ov.length;){const i=ov[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let o;for(o in n)ov.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Li.basename(this.path):void 0}set basename(t){sv(t,"basename"),iv(t,"basename"),this.path=Li.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Li.dirname(this.path):void 0}set dirname(t){uN(this.basename,"dirname"),this.path=Li.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Li.extname(this.path):void 0}set extname(t){if(iv(t,"extname"),uN(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Li.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ow(t)&&(t=DG(t)),sv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Li.basename(this.path,this.extname):void 0}set stem(t){sv(t,"stem"),iv(t,"stem"),this.path=Li.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new Fr(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function iv(e,t){if(e&&e.includes(Li.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Li.sep+"`")}function sv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function uN(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function PG(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $G=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},FG={}.hasOwnProperty;class rb extends $G{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=xG()}copy(){const t=new rb;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(rv(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(uv("data",this.frozen),this.namespace[t]=n,this):FG.call(this.namespace,t)&&this.namespace[t]||void 0:t?(uv("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=ud(t),r=this.parser||this.Parser;return lv("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),lv("process",this.parser||this.Parser),av("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(i,s){const l=ud(t),u=r.parse(l);r.run(u,l,function(p,h,d){if(p||!h||!d)return f(p);const g=h,y=r.stringify(g,d);zG(y)?d.value=y:d.result=y,f(p,d)});function f(p,h){p||!h?s(p):i?i(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),lv("processSync",this.parser||this.Parser),av("processSync",this.compiler||this.Compiler),this.process(t,o),fN("processSync","process",n),r;function o(i,s){n=!0,nN(i),r=s}}run(t,n,r){cN(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(s,l){const u=ud(n);o.run(t,u,f);function f(p,h,d){const g=h||t;p?l(p):s?s(g):r(void 0,g,d)}}}runSync(t,n){let r=!1,o;return this.run(t,n,i),fN("runSync","run",r),o;function i(s,l){nN(s),o=l,r=!0}}stringify(t,n){this.freeze();const r=ud(n),o=this.compiler||this.Compiler;return av("stringify",o),cN(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(uv("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(f){if(typeof f=="function")u(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...h]=f;u(p,h)}else s(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function s(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(f.plugins),f.settings&&(o.settings=rv(!0,o.settings,f.settings))}function l(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const h=f[p];i(h)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function u(f,p){let h=-1,d=-1;for(;++h<r.length;)if(r[h][0]===f){d=h;break}if(d===-1)r.push([f,...p]);else if(p.length>0){let[g,...y]=p;const b=r[d][1];rw(b)&&rw(g)&&(g=rv(!0,b,g)),r[d]=[f,g,...y]}}}}const LG=new rb().freeze();function lv(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function av(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function uv(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function cN(e){if(!rw(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function fN(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ud(e){return jG(e)?e:new NR(e)}function jG(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function zG(e){return typeof e=="string"||BG(e)}function BG(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const UG="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",pN=[],hN={allowDangerousHtml:!0},VG=/^(https?|ircs?|mailto|xmpp)$/i,HG=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function dN(e){const t=qG(e),n=WG(e);return KG(t.runSync(t.parse(n),n),e)}function qG(e){const t=e.rehypePlugins||pN,n=e.remarkPlugins||pN,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...hN}:hN;return LG().use(CK).use(n).use(bG,r).use(t)}function WG(e){const t=e.children||"",n=new NR;return typeof t=="string"&&(n.value=t),n}function KG(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,i=t.disallowedElements,s=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||GG;for(const p of HG)Object.hasOwn(t,p.from)&&""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+UG+p.id;return ER(e,f),iq(e,{Fragment:qt.Fragment,components:o,ignoreInvalidStyle:!0,jsx:qt.jsx,jsxs:qt.jsxs,passKeys:!0,passNode:!0});function f(p,h,d){if(p.type==="raw"&&d&&typeof h=="number")return s?d.children.splice(h,1):d.children[h]={type:"text",value:p.value},h;if(p.type==="element"){let g;for(g in ev)if(Object.hasOwn(ev,g)&&Object.hasOwn(p.properties,g)){const y=p.properties[g],b=ev[g];(b===null||b.includes(p.tagName))&&(p.properties[g]=u(String(y||""),g,p))}}if(p.type==="element"){let g=n?!n.includes(p.tagName):i?i.includes(p.tagName):!1;if(!g&&r&&typeof h=="number"&&(g=!r(p,h,d)),g&&d&&typeof h=="number")return l&&p.children?d.children.splice(h,1,...p.children):d.children.splice(h,1),h}}}function GG(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||VG.test(e.slice(0,t))?e:""}function JG(...e){return e.filter(Boolean).join(" ")}const QG=({state:e})=>{var t,n,r,o;return qt.jsxs("div",{className:JG("rounded-md font-mono flex flex-col gap-4 p-4"),children:[(((t=e.data)==null?void 0:t.title)||((n=e.data)==null?void 0:n.instructions))&&qt.jsxs("div",{className:"instruction-panel mb-4 p-4 border border-gray-200 rounded-none font-sans",style:{fontFamily:"Arial, sans-serif"},children:[((r=e.data)==null?void 0:r.title)&&qt.jsx("h1",{className:"text-xl font-bold mb-2",children:qt.jsx(dN,{children:e.data.title})}),((o=e.data)==null?void 0:o.instructions)&&qt.jsx("div",{className:"text-gray-700 prose max-w-none",children:qt.jsx(dN,{components:{ul:({node:i,...s})=>qt.jsx("ul",{className:"list-disc pl-5 mb-4",...s}),ol:({node:i,...s})=>qt.jsx("ol",{className:"list-decimal pl-5 mb-4",...s}),li:({node:i,...s})=>qt.jsx("li",{className:"mb-1",...s})},children:e.data.instructions})})]}),qt.jsx(uH,{state:e})]})};var cv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function YG(){if(mN)return cv;mN=1;var e=Wl;function t(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function l(h,d){var g=d(),y=r({inst:{value:g,getSnapshot:d}}),b=y[0].inst,N=y[1];return i(function(){b.value=g,b.getSnapshot=d,u(b)&&N({inst:b})},[h,g,d]),o(function(){return u(b)&&N({inst:b}),h(function(){u(b)&&N({inst:b})})},[h]),s(g),g}function u(h){var d=h.getSnapshot;h=h.value;try{var g=d();return!n(h,g)}catch{return!0}}function f(h,d){return d()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return cv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,cv}var fv={},gN;function ZG(){if(gN)return fv;gN=1;var e={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return e.NODE_ENV!=="production"&&function(){function t(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}function n(y,b){h||i.startTransition===void 0||(h=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var N=b();if(!d){var v=b();s(N,v)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),d=!0)}v=l({inst:{value:N,getSnapshot:b}});var k=v[0].inst,x=v[1];return f(function(){k.value=N,k.getSnapshot=b,r(k)&&x({inst:k})},[y,N,b]),u(function(){return r(k)&&x({inst:k}),y(function(){r(k)&&x({inst:k})})},[y]),p(N),N}function r(y){var b=y.getSnapshot;y=y.value;try{var N=b();return!s(y,N)}catch{return!0}}function o(y,b){return b()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var i=Wl,s=typeof Object.is=="function"?Object.is:t,l=i.useState,u=i.useEffect,f=i.useLayoutEffect,p=i.useDebugValue,h=!1,d=!1,g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o:n;fv.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:g,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}(),fv}var XG={};XG.NODE_ENV==="production"?YG():ZG();const eJ=0,tJ=1,nJ=2;var yN=Object.prototype.hasOwnProperty;function iw(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&iw(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(yN.call(e,n)&&++r&&!yN.call(t,n)||!(n in t)||!iw(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const kl=new WeakMap,Ml=()=>{},Ho=Ml(),sw=Object,pi=e=>e===Ho,_a=e=>typeof e=="function",_g=(e,t)=>({...e,...t}),rJ=e=>_a(e.then),pv={},cd={},TR="undefined",Rg=typeof window!=TR,lw=typeof document!=TR,oJ=Rg&&"Deno"in window,iJ=(e,t)=>{const n=kl.get(e);return[()=>!pi(t)&&e.get(t)||pv,r=>{if(!pi(t)){const o=e.get(t);t in cd||(cd[t]=o),n[5](t,_g(o,r),o||pv)}},n[6],()=>!pi(t)&&t in cd?cd[t]:!pi(t)&&e.get(t)||pv]};let aw=!0;const sJ=()=>aw,[uw,cw]=Rg&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Ml,Ml],lJ=()=>{const e=lw&&document.visibilityState;return pi(e)||e!=="hidden"},aJ=e=>(lw&&document.addEventListener("visibilitychange",e),uw("focus",e),()=>{lw&&document.removeEventListener("visibilitychange",e),cw("focus",e)}),uJ=e=>{const t=()=>{aw=!0,e()},n=()=>{aw=!1};return uw("online",t),uw("offline",n),()=>{cw("online",t),cw("offline",n)}},cJ={isOnline:sJ,isVisible:lJ},fJ={initFocus:aJ,initReconnect:uJ};Wl.useId;const AR=!Rg||oJ,hv=typeof navigator<"u"&&navigator.connection,vN=!AR&&hv&&(["slow-2g","2g"].includes(hv.effectiveType)||hv.saveData),fd=new WeakMap,dv=(e,t)=>sw.prototype.toString.call(e)===`[object ${t}]`;let pJ=0;const fw=e=>{const t=typeof e,n=dv(e,"Date"),r=dv(e,"RegExp"),o=dv(e,"Object");let i,s;if(sw(e)===e&&!n&&!r){if(i=fd.get(e),i)return i;if(i=++pJ+"~",fd.set(e,i),Array.isArray(e)){for(i="@",s=0;s<e.length;s++)i+=fw(e[s])+",";fd.set(e,i)}if(o){i="#";const l=sw.keys(e).sort();for(;!pi(s=l.pop());)pi(e[s])||(i+=s+":"+fw(e[s])+",");fd.set(e,i)}}else i=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},MR=e=>{if(_a(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?fw(e):"",[e,t]};let hJ=0;const wN=()=>++hJ;async function dJ(...e){const[t,n,r,o]=e,i=_g({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let s=i.populateCache;const l=i.rollbackOnError;let u=i.optimisticData;const f=d=>typeof l=="function"?l(d):l!==!1,p=i.throwOnError;if(_a(n)){const d=n,g=[],y=t.keys();for(const b of y)!/^\$(inf|sub)\$/.test(b)&&d(t.get(b)._k)&&g.push(b);return Promise.all(g.map(h))}return h(n);async function h(d){const[g]=MR(d);if(!g)return;const[y,b]=iJ(t,g),[N,v,k,x]=kl.get(t),D=()=>{const W=N[g];return(_a(i.revalidate)?i.revalidate(y().data,d):i.revalidate!==!1)&&(delete k[g],delete x[g],W&&W[0])?W[0](nJ).then(()=>y().data):y().data};if(e.length<3)return D();let F=r,I;const V=wN();v[g]=[V,0];const j=!pi(u),te=y(),se=te.data,Se=te._c,me=pi(Se)?se:Se;if(j&&(u=_a(u)?u(me,se):u,b({data:u,_c:me})),_a(F))try{F=F(me)}catch(W){I=W}if(F&&rJ(F))if(F=await F.catch(W=>{I=W}),V!==v[g][0]){if(I)throw I;return F}else I&&j&&f(I)&&(s=!0,b({data:me,_c:Ho}));if(s&&!I)if(_a(s)){const W=s(F,me);b({data:W,error:Ho,_c:Ho})}else b({data:F,error:Ho,_c:Ho});if(v[g][1]=wN(),Promise.resolve(D()).then(()=>{b({_c:Ho})}),I){if(p)throw I;return}return F}}const SN=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},mJ=(e,t)=>{if(!kl.has(e)){const n=_g(fJ,t),r=Object.create(null),o=dJ.bind(Ho,e);let i=Ml;const s=Object.create(null),l=(p,h)=>{const d=s[p]||[];return s[p]=d,d.push(h),()=>d.splice(d.indexOf(h),1)},u=(p,h,d)=>{e.set(p,h);const g=s[p];if(g)for(const y of g)y(h,d)},f=()=>{if(!kl.has(e)&&(kl.set(e,[r,Object.create(null),Object.create(null),Object.create(null),o,u,l]),!AR)){const p=n.initFocus(setTimeout.bind(Ho,SN.bind(Ho,r,eJ))),h=n.initReconnect(setTimeout.bind(Ho,SN.bind(Ho,r,tJ)));i=()=>{p&&p(),h&&h(),kl.delete(e)}}};return f(),[e,o,f,i]}return[e,kl.get(e)[4]]},gJ=(e,t,n,r,o)=>{const i=n.errorRetryCount,s=o.retryCount,l=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!pi(i)&&s>i||setTimeout(r,l,o)},yJ=iw,[_R,vJ]=mJ(new Map);_g({onLoadingSlow:Ml,onSuccess:Ml,onError:Ml,onErrorRetry:gJ,onDiscarded:Ml,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:vN?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:vN?5e3:3e3,compare:yJ,isPaused:()=>!1,cache:_R,mutate:vJ,fallback:{}},cJ);Gt.createContext({});const wJ="$inf$",RR=Rg&&window.__SWR_DEVTOOLS_USE__,SJ=RR?window.__SWR_DEVTOOLS_USE__:[],bJ=()=>{RR&&(window.__SWR_DEVTOOLS_REACT__=Wl)},kJ=e=>(t,n,r)=>e(t,n&&((...o)=>{const[i]=MR(t),[,,,s]=kl.get(_R);if(i.startsWith(wJ))return n(...o);const l=s[i];return pi(l)?n(...o):(delete s[i],l)}),r);SJ.concat(kJ);bJ();Wl.use;const xJ=(e,t)=>{let n=e;const r=[];return{get data(){return n},apply(o){const i=t(n,o);i!==void 0&&(n=i,r.forEach(s=>s()))},subscribe(o){return r.push(o),()=>{const i=r.indexOf(o);i>-1&&r.splice(i,1)}}}},OJ={title:"",instructions:"",validation:{points:0,regions:{"*":{primaryColumn:null,order:"expected",rows:[{id:1,A:{text:"Name"},B:{text:"Email"},C:{text:"Status"}},{id:2,A:{text:"John Doe"},B:{text:"john@example.com"},C:{text:"Active"}},{id:3,A:{text:"Jane Smith"},B:{text:"jane@example.com"},C:{text:"Pending"}},{id:4,A:{text:"Bob Johnson"},B:{text:"bob@example.com"},C:{text:"Active"}}]}},cells:{}},interaction:{type:"table",v:"0.0.1",cells:{A1:{text:"Name"},B1:{text:"Email"},C1:{text:"Status"},A2:{text:"John Doe"},B2:{text:"john@example.com"},C2:{text:"Active"},A3:{text:"Jane Smith"},B3:{text:"jane@example.com"},C3:{text:"Pending"},A4:{text:"Bob Johnson"},B4:{text:"bob@example.com"},C4:{text:"Active"}},columns:{A:{align:"center",width:150},B:{align:"center",width:200},C:{align:"center",width:100}}}},EJ=({onFormChange:e})=>{const{context:t,Front:n,isReady:r}=fA(),[,o]=Gt.useState(0),[i,s]=Gt.useState(null),[l,u]=Gt.useState(null),f=Gt.useRef(null),p="0166",[h]=Gt.useState(()=>xJ(OJ,(N,v)=>{switch(console.log("L0166 state.apply()","type="+v.type,"args="+JSON.stringify(v.args,null,2),"data="+JSON.stringify(N,null,2)),v.type){case"init":return{...v.args};case"update":case"response":return o(x=>x+1),e&&e({...N,...v.args}),{...N,...v.args};case"focus":const k={};if(N.interaction&&v.args.type){const{type:x,name:D}=v.args;x==="cell"&&D&&N.interaction.cells&&N.interaction.cells[D]&&Object.assign(k,N.interaction.cells[D])}return{...N,focus:v.args};default:return console.error(`Unimplemented action type: ${v.type}`),N}}));Gt.useEffect(()=>h.subscribe(()=>{o(v=>v+1)}),[h]),Gt.useEffect(()=>{t&&(t.draft&&t.draft.id&&(console.log("Composer context detected, draft ID:",t.draft.id),u(t.draft.id)),t.formData&&h.apply({type:"update",args:t.formData}))},[t]),Gt.useEffect(()=>{const N=v=>{if(console.log("handleGraffiticodeMessage()","origin="+v.origin,"event type="+(v.data?v.data.type:"unknown")),v.origin==="https://graffiticode.com"){if(v.data.type==="graffiticode-ready")console.log("Graffiticode editor is ready");else if(v.data.type==="item-created"){console.log("Item created:",v.data.itemId),s(v.data.itemId);const k={...h.data,gcItemId:v.data.itemId};h.apply({type:"update",args:k})}else if(v.data.type==="data-updated"){if(console.log("Data updated:",v.data.data),v.data.data){const k={...h.data,...v.data.data};v.data.itemId&&(k.gcItemId=v.data.itemId,s(v.data.itemId)),h.apply({type:"update",args:k})}}else if(v.data.type==="item-updated"&&(console.log("Item updated:",v.data),v.data.data||v.data.itemId)){const k={...h.data};v.data.data&&Object.assign(k,v.data.data),v.data.itemId&&(k.gcItemId=v.data.itemId,s(v.data.itemId)),h.apply({type:"update",args:k})}}};return window.addEventListener("message",N),()=>{window.removeEventListener("message",N)}},[h]);const d=()=>{let N="";if(h.data&&h.data.interaction&&h.data.interaction.cells){const v=h.data.interaction.cells,k=Object.keys(v),x=new Set,D=new Set;k.forEach(V=>{var se,Se;const j=((se=V.match(/^[A-Z]+/))==null?void 0:se[0])||"",te=((Se=V.match(/\d+$/))==null?void 0:Se[0])||"";j&&D.add(j),te&&x.add(te)});const F=Array.from(D).sort(),I=Array.from(x).sort((V,j)=>parseInt(V)-parseInt(j));N=`<table border="1" cellpadding="4" cellspacing="0" style="border-collapse: collapse;">
`,F.length>0&&(N+=`  <tr>
`,N+=`    <th></th>
`,F.forEach(V=>{N+=`    <th>${V}</th>
`}),N+=`  </tr>
`),I.forEach(V=>{N+=`  <tr>
`,N+=`    <th>${V}</th>
`,F.forEach(j=>{const te=`${j}${V}`,se=v[te];let Se="";if(se)if(typeof se=="object"&&se!==null){if(se.value!==void 0)Se=String(se.value);else if(se.text!==void 0)Se=String(se.text);else if(Object.keys(se).length>0){const me=Object.keys(se)[0];Se=se[me]?String(se[me]):JSON.stringify(se)}}else se!=null&&(Se=String(se));N+=`    <td>${Se}</td>
`}),N+=`  </tr>
`}),N+="</table>"}else N='[No table data available. Click "Create Spreadsheet" to define a table.]';return N},g=async()=>{var N,v,k;if(console.log("Fetching draft content..."),n&&l)try{console.log("Draft ID:",l),console.log("Context:",t),t!=null&&t.draft?(console.log("Draft object:",t.draft),console.log("Draft content:",t.draft.content),console.log("Draft body:",(N=t.draft.content)==null?void 0:N.body),alert(`Draft ID: ${l}

Current body length: ${((k=(v=t.draft.content)==null?void 0:v.body)==null?void 0:k.length)||0} chars

Check console for full content`)):(console.error("No draft in context"),alert("No draft found in context"))}catch(x){console.error("Error fetching draft:",x)}else console.error("No Front SDK or draft ID available"),alert("No Front SDK or draft ID available")},y=async()=>{console.log("Inserting table data into composer...");const N=d();if(n&&l)try{console.log("Attempting to insert table with Front.updateDraft..."),console.log("Draft ID:",l),console.log("Table content preview:",N.substring(0,100)+"..."),await n.updateDraft(l,{updateMode:"insert",content:{body:N,type:"html"}}),console.log("Table data inserted successfully using Front.updateDraft");const v=document.querySelector(".insert-table-btn");if(v){const k=v.textContent;v.textContent="Inserted! ",v.style.backgroundColor="#28a745",setTimeout(()=>{v.textContent=k,v.style.backgroundColor=""},2e3)}return}catch(v){console.error("Error using Front.updateDraft:",v),n&&(console.log("Available Front SDK methods:",Object.getOwnPropertyNames(n)),console.log("Front SDK object:",n),console.log("Draft ID:",l),console.log("Context:",t),typeof n.updateDraft=="function"?console.log("updateDraft method exists"):(console.log("updateDraft method NOT found"),console.log("Type of Front.updateDraft:",typeof n.updateDraft))),console.error("Failed to insert table. See error details above.")}else n&&!l?(console.warn("Front SDK available but no draft ID. This plugin may not be in a composer context."),console.log("Current context:",t),console.error("No draft ID found. Plugin must be opened in a composer context.")):n||(console.warn("Front SDK not available. This may be running in development mode."),console.error("Front SDK not available."))},b=()=>{console.log("Opening Graffiticode editor...");const N=new URLSearchParams({lang:p,mode:"editor",origin:window.location.origin,editorMode:"true",editorOrigin:window.location.origin});i?(N.append("itemId",i),console.log("Editing existing item:",i)):console.log("Creating new item");const k=`https://graffiticode.com/editor?${N.toString()}`;if(console.log("Opening URL:",k),f.current&&!f.current.closed)f.current.location.href=k,f.current.focus();else try{f.current=window.open(k,"graffiticode-editor","width=1200,height=800")}catch(D){console.error("Error opening window:",D),f.current=window.open(k,"graffiticode-editor")}if(!f.current){alert("Unable to open Graffiticode. Please check your popup blocker settings.");return}const x=setInterval(()=>{try{f.current&&!f.current.closed?f.current.postMessage({type:"establish-communication",origin:window.location.origin},"https://graffiticode.com"):clearInterval(x)}catch{}},1e3);setTimeout(()=>clearInterval(x),1e4)};return r?un.jsxs("div",{className:"l0166-form-container",children:[un.jsxs("div",{className:"form-toolbar",children:[un.jsx("button",{type:"button",onClick:b,className:"edit-spreadsheet-btn",children:i?"Edit Spreadsheet ":"Create Spreadsheet "}),un.jsx("button",{type:"button",onClick:g,className:`insert-table-btn ${l?"":"no-draft"}`,title:"Fetch current draft content",children:"Fetch Draft"}),un.jsx("button",{type:"button",onClick:y,className:`insert-table-btn ${l?"":"no-draft"}`,title:l?"Insert table data into composer message":"Insert table (requires composer context)",children:"Insert Table "})]}),un.jsx(QG,{state:h})]}):un.jsx("div",{className:"loading",children:"Loading form..."})},CJ=({formData:e})=>{const{context:t,Front:n,isReady:r}=fA();return un.jsxs("div",{className:"debug-panel",children:[un.jsx("h3",{children:"Debug Panel"}),un.jsxs("div",{className:"debug-section",children:[un.jsx("h4",{children:"Front SDK Status"}),un.jsxs("div",{className:"debug-item",children:[un.jsx("strong",{children:"SDK Available:"})," ",n?"Yes":"No"]}),un.jsxs("div",{className:"debug-item",children:[un.jsx("strong",{children:"Context Ready:"})," ",r?"Yes":"No"]})]}),un.jsxs("div",{className:"debug-section",children:[un.jsx("h4",{children:"Front Context"}),un.jsx("pre",{className:"debug-code",children:t?JSON.stringify(t,null,2):"No context available"})]}),un.jsxs("div",{className:"debug-section",children:[un.jsx("h4",{children:"Form Data"}),un.jsx("pre",{className:"debug-code",children:e?JSON.stringify(e,null,2):"No form data"})]})]})};function NJ(){const[e,t]=Gt.useState(!1),[n,r]=Gt.useState(null);Gt.useEffect(()=>{const i=new URLSearchParams(window.location.search);t(i.get("debug")==="true")},[]);const o=i=>{r(i)};return un.jsx(kj,{children:un.jsxs("div",{className:"app",children:[un.jsx(EJ,{onFormChange:o}),e&&un.jsx(CJ,{formData:n})]})})}mv.createRoot(document.getElementById("root")).render(un.jsx(Wl.StrictMode,{children:un.jsx(NJ,{})}));
