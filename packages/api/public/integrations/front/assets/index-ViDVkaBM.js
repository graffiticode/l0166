(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function kE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xE={exports:{}},bm={},OE={exports:{}},It={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp=Symbol.for("react.element"),r8=Symbol.for("react.portal"),o8=Symbol.for("react.fragment"),i8=Symbol.for("react.strict_mode"),s8=Symbol.for("react.profiler"),l8=Symbol.for("react.provider"),a8=Symbol.for("react.context"),u8=Symbol.for("react.forward_ref"),c8=Symbol.for("react.suspense"),f8=Symbol.for("react.memo"),p8=Symbol.for("react.lazy"),nk=Symbol.iterator;function d8(e){return e===null||typeof e!="object"?null:(e=nk&&e[nk]||e["@@iterator"],typeof e=="function"?e:null)}var CE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EE=Object.assign,NE={};function kc(e,t,n){this.props=e,this.context=t,this.refs=NE,this.updater=n||CE}kc.prototype.isReactComponent={};kc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function TE(){}TE.prototype=kc.prototype;function Av(e,t,n){this.props=e,this.context=t,this.refs=NE,this.updater=n||CE}var Mv=Av.prototype=new TE;Mv.constructor=Av;EE(Mv,kc.prototype);Mv.isPureReactComponent=!0;var rk=Array.isArray,AE=Object.prototype.hasOwnProperty,Rv={current:null},ME={key:!0,ref:!0,__self:!0,__source:!0};function RE(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)AE.call(t,r)&&!ME.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var u=Array(l),f=0;f<l;f++)u[f]=arguments[f+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Sp,type:e,key:i,ref:s,props:o,_owner:Rv.current}}function h8(e,t){return{$$typeof:Sp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sp}function m8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ok=/\/+/g;function ny(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m8(""+e.key):t.toString(36)}function Jd(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Sp:case r8:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+ny(s,0):r,rk(o)?(n="",e!=null&&(n=e.replace(ok,"$&/")+"/"),Jd(o,t,n,"",function(f){return f})):o!=null&&(Dv(o)&&(o=h8(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(ok,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",rk(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+ny(i,l);s+=Jd(i,t,n,u,o)}else if(u=d8(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+ny(i,l++),s+=Jd(i,t,n,u,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Sd(e,t,n){if(e==null)return e;var r=[],o=0;return Jd(e,r,"","",function(i){return t.call(n,i,o++)}),r}function g8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kr={current:null},Qd={transition:null},y8={ReactCurrentDispatcher:Kr,ReactCurrentBatchConfig:Qd,ReactCurrentOwner:Rv};function DE(){throw Error("act(...) is not supported in production builds of React.")}It.Children={map:Sd,forEach:function(e,t,n){Sd(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sd(e,function(){t++}),t},toArray:function(e){return Sd(e,function(t){return t})||[]},only:function(e){if(!Dv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};It.Component=kc;It.Fragment=o8;It.Profiler=s8;It.PureComponent=Av;It.StrictMode=i8;It.Suspense=c8;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y8;It.act=DE;It.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=EE({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Rv.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)AE.call(t,u)&&!ME.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:Sp,type:e.type,key:o,ref:i,props:r,_owner:s}};It.createContext=function(e){return e={$$typeof:a8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:l8,_context:e},e.Consumer=e};It.createElement=RE;It.createFactory=function(e){var t=RE.bind(null,e);return t.type=e,t};It.createRef=function(){return{current:null}};It.forwardRef=function(e){return{$$typeof:u8,render:e}};It.isValidElement=Dv;It.lazy=function(e){return{$$typeof:p8,_payload:{_status:-1,_result:e},_init:g8}};It.memo=function(e,t){return{$$typeof:f8,type:e,compare:t===void 0?null:t}};It.startTransition=function(e){var t=Qd.transition;Qd.transition={};try{e()}finally{Qd.transition=t}};It.unstable_act=DE;It.useCallback=function(e,t){return Kr.current.useCallback(e,t)};It.useContext=function(e){return Kr.current.useContext(e)};It.useDebugValue=function(){};It.useDeferredValue=function(e){return Kr.current.useDeferredValue(e)};It.useEffect=function(e,t){return Kr.current.useEffect(e,t)};It.useId=function(){return Kr.current.useId()};It.useImperativeHandle=function(e,t,n){return Kr.current.useImperativeHandle(e,t,n)};It.useInsertionEffect=function(e,t){return Kr.current.useInsertionEffect(e,t)};It.useLayoutEffect=function(e,t){return Kr.current.useLayoutEffect(e,t)};It.useMemo=function(e,t){return Kr.current.useMemo(e,t)};It.useReducer=function(e,t,n){return Kr.current.useReducer(e,t,n)};It.useRef=function(e){return Kr.current.useRef(e)};It.useState=function(e){return Kr.current.useState(e)};It.useSyncExternalStore=function(e,t,n){return Kr.current.useSyncExternalStore(e,t,n)};It.useTransition=function(){return Kr.current.useTransition()};It.version="18.3.1";OE.exports=It;var Gt=OE.exports;const Fl=kE(Gt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v8=Gt,w8=Symbol.for("react.element"),S8=Symbol.for("react.fragment"),b8=Object.prototype.hasOwnProperty,k8=v8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x8={key:!0,ref:!0,__self:!0,__source:!0};function IE(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)b8.call(t,r)&&!x8.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:w8,type:e,key:i,ref:s,props:o,_owner:k8.current}}bm.Fragment=S8;bm.jsx=IE;bm.jsxs=IE;xE.exports=bm;var cn=xE.exports,L0={},_E={exports:{}},Mo={},PE={exports:{}},$E={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(fe,J){var T=fe.length;fe.push(J);e:for(;0<T;){var se=T-1>>>1,xe=fe[se];if(0<o(xe,J))fe[se]=J,fe[T]=xe,T=se;else break e}}function n(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var J=fe[0],T=fe.pop();if(T!==J){fe[0]=T;e:for(var se=0,xe=fe.length,N=xe>>>1;se<N;){var R=2*(se+1)-1,P=fe[R],F=R+1,pe=fe[F];if(0>o(P,T))F<xe&&0>o(pe,P)?(fe[se]=pe,fe[F]=T,se=F):(fe[se]=P,fe[R]=T,se=R);else if(F<xe&&0>o(pe,T))fe[se]=pe,fe[F]=T,se=F;else break e}}return J}function o(fe,J){var T=fe.sortIndex-J.sortIndex;return T!==0?T:fe.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],f=[],p=1,d=null,m=3,g=!1,y=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(fe){for(var J=n(f);J!==null;){if(J.callback===null)r(f);else if(J.startTime<=fe)r(f),J.sortIndex=J.expirationTime,t(u,J);else break;J=n(f)}}function I(fe){if(b=!1,k(fe),!y)if(n(u)!==null)y=!0,re(L);else{var J=n(f);J!==null&&He(I,J.startTime-fe)}}function L(fe,J){y=!1,b&&(b=!1,S(j),j=-1),g=!0;var T=m;try{for(k(J),d=n(u);d!==null&&(!(d.expirationTime>J)||fe&&!Se());){var se=d.callback;if(typeof se=="function"){d.callback=null,m=d.priorityLevel;var xe=se(d.expirationTime<=J);J=e.unstable_now(),typeof xe=="function"?d.callback=xe:d===n(u)&&r(u),k(J)}else r(u);d=n(u)}if(d!==null)var N=!0;else{var R=n(f);R!==null&&He(I,R.startTime-J),N=!1}return N}finally{d=null,m=T,g=!1}}var _=!1,H=null,j=-1,Y=5,ue=-1;function Se(){return!(e.unstable_now()-ue<Y)}function ge(){if(H!==null){var fe=e.unstable_now();ue=fe;var J=!0;try{J=H(!0,fe)}finally{J?W():(_=!1,H=null)}}else _=!1}var W;if(typeof x=="function")W=function(){x(ge)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,U=G.port2;G.port1.onmessage=ge,W=function(){U.postMessage(null)}}else W=function(){E(ge,0)};function re(fe){H=fe,_||(_=!0,W())}function He(fe,J){j=E(function(){fe(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(fe){fe.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,re(L))},e.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<fe?Math.floor(1e3/fe):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(fe){switch(m){case 1:case 2:case 3:var J=3;break;default:J=m}var T=m;m=J;try{return fe()}finally{m=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(fe,J){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var T=m;m=fe;try{return J()}finally{m=T}},e.unstable_scheduleCallback=function(fe,J,T){var se=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?se+T:se):T=se,fe){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=T+xe,fe={id:p++,callback:J,priorityLevel:fe,startTime:T,expirationTime:xe,sortIndex:-1},T>se?(fe.sortIndex=T,t(f,fe),n(u)===null&&fe===n(f)&&(b?(S(j),j=-1):b=!0,He(I,T-se))):(fe.sortIndex=xe,t(u,fe),y||g||(y=!0,re(L))),fe},e.unstable_shouldYield=Se,e.unstable_wrapCallback=function(fe){var J=m;return function(){var T=m;m=J;try{return fe.apply(this,arguments)}finally{m=T}}}})($E);PE.exports=$E;var O8=PE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C8=Gt,Ao=O8;function Ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LE=new Set,Wf={};function Wa(e,t){sc(e,t),sc(e+"Capture",t)}function sc(e,t){for(Wf[e]=t,e=0;e<t.length;e++)LE.add(t[e])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F0=Object.prototype.hasOwnProperty,E8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ik={},sk={};function N8(e){return F0.call(sk,e)?!0:F0.call(ik,e)?!1:E8.test(e)?sk[e]=!0:(ik[e]=!0,!1)}function T8(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A8(e,t,n,r){if(t===null||typeof t>"u"||T8(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gr(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){br[e]=new Gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];br[t]=new Gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){br[e]=new Gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){br[e]=new Gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){br[e]=new Gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){br[e]=new Gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){br[e]=new Gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){br[e]=new Gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){br[e]=new Gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Iv=/[\-:]([a-z])/g;function _v(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Iv,_v);br[t]=new Gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Iv,_v);br[t]=new Gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Iv,_v);br[t]=new Gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){br[e]=new Gr(e,1,!1,e.toLowerCase(),null,!1,!1)});br.xlinkHref=new Gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){br[e]=new Gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pv(e,t,n,r){var o=br.hasOwnProperty(t)?br[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A8(t,n,o,r)&&(n=null),r||o===null?N8(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ms=C8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bd=Symbol.for("react.element"),$u=Symbol.for("react.portal"),Lu=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),z0=Symbol.for("react.profiler"),FE=Symbol.for("react.provider"),zE=Symbol.for("react.context"),Lv=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),B0=Symbol.for("react.suspense_list"),Fv=Symbol.for("react.memo"),sl=Symbol.for("react.lazy"),jE=Symbol.for("react.offscreen"),lk=Symbol.iterator;function sf(e){return e===null||typeof e!="object"?null:(e=lk&&e[lk]||e["@@iterator"],typeof e=="function"?e:null)}var Rn=Object.assign,ry;function xf(e){if(ry===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ry=t&&t[1]||""}return`
`+ry+e}var oy=!1;function iy(e,t){if(!e||oy)return"";oy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var u=`
`+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=l);break}}}finally{oy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xf(e):""}function M8(e){switch(e.tag){case 5:return xf(e.type);case 16:return xf("Lazy");case 13:return xf("Suspense");case 19:return xf("SuspenseList");case 0:case 2:case 15:return e=iy(e.type,!1),e;case 11:return e=iy(e.type.render,!1),e;case 1:return e=iy(e.type,!0),e;default:return""}}function U0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lu:return"Fragment";case $u:return"Portal";case z0:return"Profiler";case $v:return"StrictMode";case j0:return"Suspense";case B0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zE:return(e.displayName||"Context")+".Consumer";case FE:return(e._context.displayName||"Context")+".Provider";case Lv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fv:return t=e.displayName||null,t!==null?t:U0(e.type)||"Memo";case sl:t=e._payload,e=e._init;try{return U0(e(t))}catch{}}return null}function R8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U0(t);case 8:return t===$v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _l(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function BE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D8(e){var t=BE(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kd(e){e._valueTracker||(e._valueTracker=D8(e))}function UE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=BE(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Nh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function V0(e,t){var n=t.checked;return Rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ak(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_l(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function VE(e,t){t=t.checked,t!=null&&Pv(e,"checked",t,!1)}function H0(e,t){VE(e,t);var n=_l(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?q0(e,t.type,n):t.hasOwnProperty("defaultValue")&&q0(e,t.type,_l(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uk(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function q0(e,t,n){(t!=="number"||Nh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Of=Array.isArray;function Ju(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_l(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function W0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return Rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ck(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ie(92));if(Of(n)){if(1<n.length)throw Error(Ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_l(n)}}function HE(e,t){var n=_l(t.value),r=_l(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fk(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xd,WE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xd=xd||document.createElement("div"),xd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Rf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I8=["Webkit","ms","Moz","O"];Object.keys(Rf).forEach(function(e){I8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rf[t]=Rf[e]})});function KE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Rf.hasOwnProperty(e)&&Rf[e]?(""+t).trim():t+"px"}function GE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=KE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var _8=Rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function G0(e,t){if(t){if(_8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ie(62))}}function J0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q0=null;function zv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Y0=null,Qu=null,Yu=null;function pk(e){if(e=xp(e)){if(typeof Y0!="function")throw Error(Ie(280));var t=e.stateNode;t&&(t=Em(t),Y0(e.stateNode,e.type,t))}}function JE(e){Qu?Yu?Yu.push(e):Yu=[e]:Qu=e}function QE(){if(Qu){var e=Qu,t=Yu;if(Yu=Qu=null,pk(e),t)for(e=0;e<t.length;e++)pk(t[e])}}function YE(e,t){return e(t)}function ZE(){}var sy=!1;function XE(e,t,n){if(sy)return e(t,n);sy=!0;try{return YE(e,t,n)}finally{sy=!1,(Qu!==null||Yu!==null)&&(ZE(),QE())}}function Gf(e,t){var n=e.stateNode;if(n===null)return null;var r=Em(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ie(231,t,typeof n));return n}var Z0=!1;if(Es)try{var lf={};Object.defineProperty(lf,"passive",{get:function(){Z0=!0}}),window.addEventListener("test",lf,lf),window.removeEventListener("test",lf,lf)}catch{Z0=!1}function P8(e,t,n,r,o,i,s,l,u){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(p){this.onError(p)}}var Df=!1,Th=null,Ah=!1,X0=null,$8={onError:function(e){Df=!0,Th=e}};function L8(e,t,n,r,o,i,s,l,u){Df=!1,Th=null,P8.apply($8,arguments)}function F8(e,t,n,r,o,i,s,l,u){if(L8.apply(this,arguments),Df){if(Df){var f=Th;Df=!1,Th=null}else throw Error(Ie(198));Ah||(Ah=!0,X0=f)}}function Ka(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function e2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dk(e){if(Ka(e)!==e)throw Error(Ie(188))}function z8(e){var t=e.alternate;if(!t){if(t=Ka(e),t===null)throw Error(Ie(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return dk(o),e;if(i===r)return dk(o),t;i=i.sibling}throw Error(Ie(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(Ie(189))}}if(n.alternate!==r)throw Error(Ie(190))}if(n.tag!==3)throw Error(Ie(188));return n.stateNode.current===n?e:t}function t2(e){return e=z8(e),e!==null?n2(e):null}function n2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=n2(e);if(t!==null)return t;e=e.sibling}return null}var r2=Ao.unstable_scheduleCallback,hk=Ao.unstable_cancelCallback,j8=Ao.unstable_shouldYield,B8=Ao.unstable_requestPaint,jn=Ao.unstable_now,U8=Ao.unstable_getCurrentPriorityLevel,jv=Ao.unstable_ImmediatePriority,o2=Ao.unstable_UserBlockingPriority,Mh=Ao.unstable_NormalPriority,V8=Ao.unstable_LowPriority,i2=Ao.unstable_IdlePriority,km=null,ji=null;function H8(e){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(km,e,void 0,(e.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:K8,q8=Math.log,W8=Math.LN2;function K8(e){return e>>>=0,e===0?32:31-(q8(e)/W8|0)|0}var Od=64,Cd=4194304;function Cf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rh(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=Cf(l):(i&=s,i!==0&&(r=Cf(i)))}else s=n&~o,s!==0?r=Cf(s):i!==0&&(r=Cf(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pi(t),o=1<<n,r|=e[n],t&=~o;return r}function G8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-pi(i),l=1<<s,u=o[s];u===-1?(!(l&n)||l&r)&&(o[s]=G8(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function e1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function s2(){var e=Od;return Od<<=1,!(Od&4194240)&&(Od=64),e}function ly(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pi(t),e[t]=n}function Q8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-pi(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Bv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pi(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var sn=0;function l2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var a2,Uv,u2,c2,f2,t1=!1,Ed=[],xl=null,Ol=null,Cl=null,Jf=new Map,Qf=new Map,fl=[],Y8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mk(e,t){switch(e){case"focusin":case"focusout":xl=null;break;case"dragenter":case"dragleave":Ol=null;break;case"mouseover":case"mouseout":Cl=null;break;case"pointerover":case"pointerout":Jf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qf.delete(t.pointerId)}}function af(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=xp(t),t!==null&&Uv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Z8(e,t,n,r,o){switch(t){case"focusin":return xl=af(xl,e,t,n,r,o),!0;case"dragenter":return Ol=af(Ol,e,t,n,r,o),!0;case"mouseover":return Cl=af(Cl,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Jf.set(i,af(Jf.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Qf.set(i,af(Qf.get(i)||null,e,t,n,r,o)),!0}return!1}function p2(e){var t=Oa(e.target);if(t!==null){var n=Ka(t);if(n!==null){if(t=n.tag,t===13){if(t=e2(n),t!==null){e.blockedOn=t,f2(e.priority,function(){u2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=n1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Q0=r,n.target.dispatchEvent(r),Q0=null}else return t=xp(n),t!==null&&Uv(t),e.blockedOn=n,!1;t.shift()}return!0}function gk(e,t,n){Yd(e)&&n.delete(t)}function X8(){t1=!1,xl!==null&&Yd(xl)&&(xl=null),Ol!==null&&Yd(Ol)&&(Ol=null),Cl!==null&&Yd(Cl)&&(Cl=null),Jf.forEach(gk),Qf.forEach(gk)}function uf(e,t){e.blockedOn===t&&(e.blockedOn=null,t1||(t1=!0,Ao.unstable_scheduleCallback(Ao.unstable_NormalPriority,X8)))}function Yf(e){function t(o){return uf(o,e)}if(0<Ed.length){uf(Ed[0],e);for(var n=1;n<Ed.length;n++){var r=Ed[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xl!==null&&uf(xl,e),Ol!==null&&uf(Ol,e),Cl!==null&&uf(Cl,e),Jf.forEach(t),Qf.forEach(t),n=0;n<fl.length;n++)r=fl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<fl.length&&(n=fl[0],n.blockedOn===null);)p2(n),n.blockedOn===null&&fl.shift()}var Zu=Ms.ReactCurrentBatchConfig,Dh=!0;function e4(e,t,n,r){var o=sn,i=Zu.transition;Zu.transition=null;try{sn=1,Vv(e,t,n,r)}finally{sn=o,Zu.transition=i}}function t4(e,t,n,r){var o=sn,i=Zu.transition;Zu.transition=null;try{sn=4,Vv(e,t,n,r)}finally{sn=o,Zu.transition=i}}function Vv(e,t,n,r){if(Dh){var o=n1(e,t,n,r);if(o===null)yy(e,t,r,Ih,n),mk(e,r);else if(Z8(o,e,t,n,r))r.stopPropagation();else if(mk(e,r),t&4&&-1<Y8.indexOf(e)){for(;o!==null;){var i=xp(o);if(i!==null&&a2(i),i=n1(e,t,n,r),i===null&&yy(e,t,r,Ih,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else yy(e,t,r,null,n)}}var Ih=null;function n1(e,t,n,r){if(Ih=null,e=zv(r),e=Oa(e),e!==null)if(t=Ka(e),t===null)e=null;else if(n=t.tag,n===13){if(e=e2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ih=e,null}function d2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U8()){case jv:return 1;case o2:return 4;case Mh:case V8:return 16;case i2:return 536870912;default:return 16}default:return 16}}var gl=null,Hv=null,Zd=null;function h2(){if(Zd)return Zd;var e,t=Hv,n=t.length,r,o="value"in gl?gl.value:gl.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Zd=o.slice(e,1<r?1-r:void 0)}function Xd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nd(){return!0}function yk(){return!1}function Ro(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nd:yk,this.isPropagationStopped=yk,this}return Rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nd)},persist:function(){},isPersistent:Nd}),t}var xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qv=Ro(xc),kp=Rn({},xc,{view:0,detail:0}),n4=Ro(kp),ay,uy,cf,xm=Rn({},kp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cf&&(cf&&e.type==="mousemove"?(ay=e.screenX-cf.screenX,uy=e.screenY-cf.screenY):uy=ay=0,cf=e),ay)},movementY:function(e){return"movementY"in e?e.movementY:uy}}),vk=Ro(xm),r4=Rn({},xm,{dataTransfer:0}),o4=Ro(r4),i4=Rn({},kp,{relatedTarget:0}),cy=Ro(i4),s4=Rn({},xc,{animationName:0,elapsedTime:0,pseudoElement:0}),l4=Ro(s4),a4=Rn({},xc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u4=Ro(a4),c4=Rn({},xc,{data:0}),wk=Ro(c4),f4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d4[e])?!!t[e]:!1}function Wv(){return h4}var m4=Rn({},kp,{key:function(e){if(e.key){var t=f4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wv,charCode:function(e){return e.type==="keypress"?Xd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g4=Ro(m4),y4=Rn({},xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sk=Ro(y4),v4=Rn({},kp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wv}),w4=Ro(v4),S4=Rn({},xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),b4=Ro(S4),k4=Rn({},xm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x4=Ro(k4),O4=[9,13,27,32],Kv=Es&&"CompositionEvent"in window,If=null;Es&&"documentMode"in document&&(If=document.documentMode);var C4=Es&&"TextEvent"in window&&!If,m2=Es&&(!Kv||If&&8<If&&11>=If),bk=" ",kk=!1;function g2(e,t){switch(e){case"keyup":return O4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fu=!1;function E4(e,t){switch(e){case"compositionend":return y2(t);case"keypress":return t.which!==32?null:(kk=!0,bk);case"textInput":return e=t.data,e===bk&&kk?null:e;default:return null}}function N4(e,t){if(Fu)return e==="compositionend"||!Kv&&g2(e,t)?(e=h2(),Zd=Hv=gl=null,Fu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return m2&&t.locale!=="ko"?null:t.data;default:return null}}var T4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!T4[e.type]:t==="textarea"}function v2(e,t,n,r){JE(r),t=_h(t,"onChange"),0<t.length&&(n=new qv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var _f=null,Zf=null;function A4(e){A2(e,0)}function Om(e){var t=Bu(e);if(UE(t))return e}function M4(e,t){if(e==="change")return t}var w2=!1;if(Es){var fy;if(Es){var py="oninput"in document;if(!py){var Ok=document.createElement("div");Ok.setAttribute("oninput","return;"),py=typeof Ok.oninput=="function"}fy=py}else fy=!1;w2=fy&&(!document.documentMode||9<document.documentMode)}function Ck(){_f&&(_f.detachEvent("onpropertychange",S2),Zf=_f=null)}function S2(e){if(e.propertyName==="value"&&Om(Zf)){var t=[];v2(t,Zf,e,zv(e)),XE(A4,t)}}function R4(e,t,n){e==="focusin"?(Ck(),_f=t,Zf=n,_f.attachEvent("onpropertychange",S2)):e==="focusout"&&Ck()}function D4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Om(Zf)}function I4(e,t){if(e==="click")return Om(t)}function _4(e,t){if(e==="input"||e==="change")return Om(t)}function P4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mi=typeof Object.is=="function"?Object.is:P4;function Xf(e,t){if(mi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!F0.call(t,o)||!mi(e[o],t[o]))return!1}return!0}function Ek(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nk(e,t){var n=Ek(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ek(n)}}function b2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?b2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function k2(){for(var e=window,t=Nh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Nh(e.document)}return t}function Gv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $4(e){var t=k2(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&b2(n.ownerDocument.documentElement,n)){if(r!==null&&Gv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Nk(n,i);var s=Nk(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L4=Es&&"documentMode"in document&&11>=document.documentMode,zu=null,r1=null,Pf=null,o1=!1;function Tk(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;o1||zu==null||zu!==Nh(r)||(r=zu,"selectionStart"in r&&Gv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pf&&Xf(Pf,r)||(Pf=r,r=_h(r1,"onSelect"),0<r.length&&(t=new qv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zu)))}function Td(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ju={animationend:Td("Animation","AnimationEnd"),animationiteration:Td("Animation","AnimationIteration"),animationstart:Td("Animation","AnimationStart"),transitionend:Td("Transition","TransitionEnd")},dy={},x2={};Es&&(x2=document.createElement("div").style,"AnimationEvent"in window||(delete ju.animationend.animation,delete ju.animationiteration.animation,delete ju.animationstart.animation),"TransitionEvent"in window||delete ju.transitionend.transition);function Cm(e){if(dy[e])return dy[e];if(!ju[e])return e;var t=ju[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in x2)return dy[e]=t[n];return e}var O2=Cm("animationend"),C2=Cm("animationiteration"),E2=Cm("animationstart"),N2=Cm("transitionend"),T2=new Map,Ak="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zl(e,t){T2.set(e,t),Wa(t,[e])}for(var hy=0;hy<Ak.length;hy++){var my=Ak[hy],F4=my.toLowerCase(),z4=my[0].toUpperCase()+my.slice(1);zl(F4,"on"+z4)}zl(O2,"onAnimationEnd");zl(C2,"onAnimationIteration");zl(E2,"onAnimationStart");zl("dblclick","onDoubleClick");zl("focusin","onFocus");zl("focusout","onBlur");zl(N2,"onTransitionEnd");sc("onMouseEnter",["mouseout","mouseover"]);sc("onMouseLeave",["mouseout","mouseover"]);sc("onPointerEnter",["pointerout","pointerover"]);sc("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ef));function Mk(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,F8(r,t,void 0,e),e.currentTarget=null}function A2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==i&&o.isPropagationStopped())break e;Mk(o,l,f),i=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,f=l.currentTarget,l=l.listener,u!==i&&o.isPropagationStopped())break e;Mk(o,l,f),i=u}}}if(Ah)throw e=X0,Ah=!1,X0=null,e}function vn(e,t){var n=t[u1];n===void 0&&(n=t[u1]=new Set);var r=e+"__bubble";n.has(r)||(M2(t,e,2,!1),n.add(r))}function gy(e,t,n){var r=0;t&&(r|=4),M2(n,e,r,t)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function ep(e){if(!e[Ad]){e[Ad]=!0,LE.forEach(function(n){n!=="selectionchange"&&(j4.has(n)||gy(n,!1,e),gy(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ad]||(t[Ad]=!0,gy("selectionchange",!1,t))}}function M2(e,t,n,r){switch(d2(t)){case 1:var o=e4;break;case 4:o=t4;break;default:o=Vv}n=o.bind(null,t,n,e),o=void 0,!Z0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function yy(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Oa(l),s===null)return;if(u=s.tag,u===5||u===6){r=i=s;continue e}l=l.parentNode}}r=r.return}XE(function(){var f=i,p=zv(n),d=[];e:{var m=T2.get(e);if(m!==void 0){var g=qv,y=e;switch(e){case"keypress":if(Xd(n)===0)break e;case"keydown":case"keyup":g=g4;break;case"focusin":y="focus",g=cy;break;case"focusout":y="blur",g=cy;break;case"beforeblur":case"afterblur":g=cy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=vk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=o4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=w4;break;case O2:case C2:case E2:g=l4;break;case N2:g=b4;break;case"scroll":g=n4;break;case"wheel":g=x4;break;case"copy":case"cut":case"paste":g=u4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Sk}var b=(t&4)!==0,E=!b&&e==="scroll",S=b?m!==null?m+"Capture":null:m;b=[];for(var x=f,k;x!==null;){k=x;var I=k.stateNode;if(k.tag===5&&I!==null&&(k=I,S!==null&&(I=Gf(x,S),I!=null&&b.push(tp(x,I,k)))),E)break;x=x.return}0<b.length&&(m=new g(m,y,null,n,p),d.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==Q0&&(y=n.relatedTarget||n.fromElement)&&(Oa(y)||y[Ns]))break e;if((g||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=f,y=y?Oa(y):null,y!==null&&(E=Ka(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=f),g!==y)){if(b=vk,I="onMouseLeave",S="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=Sk,I="onPointerLeave",S="onPointerEnter",x="pointer"),E=g==null?m:Bu(g),k=y==null?m:Bu(y),m=new b(I,x+"leave",g,n,p),m.target=E,m.relatedTarget=k,I=null,Oa(p)===f&&(b=new b(S,x+"enter",y,n,p),b.target=k,b.relatedTarget=E,I=b),E=I,g&&y)t:{for(b=g,S=y,x=0,k=b;k;k=Nu(k))x++;for(k=0,I=S;I;I=Nu(I))k++;for(;0<x-k;)b=Nu(b),x--;for(;0<k-x;)S=Nu(S),k--;for(;x--;){if(b===S||S!==null&&b===S.alternate)break t;b=Nu(b),S=Nu(S)}b=null}else b=null;g!==null&&Rk(d,m,g,b,!1),y!==null&&E!==null&&Rk(d,E,y,b,!0)}}e:{if(m=f?Bu(f):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var L=M4;else if(xk(m))if(w2)L=_4;else{L=D4;var _=R4}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=I4);if(L&&(L=L(e,f))){v2(d,L,n,p);break e}_&&_(e,m,f),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&q0(m,"number",m.value)}switch(_=f?Bu(f):window,e){case"focusin":(xk(_)||_.contentEditable==="true")&&(zu=_,r1=f,Pf=null);break;case"focusout":Pf=r1=zu=null;break;case"mousedown":o1=!0;break;case"contextmenu":case"mouseup":case"dragend":o1=!1,Tk(d,n,p);break;case"selectionchange":if(L4)break;case"keydown":case"keyup":Tk(d,n,p)}var H;if(Kv)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Fu?g2(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(m2&&n.locale!=="ko"&&(Fu||j!=="onCompositionStart"?j==="onCompositionEnd"&&Fu&&(H=h2()):(gl=p,Hv="value"in gl?gl.value:gl.textContent,Fu=!0)),_=_h(f,j),0<_.length&&(j=new wk(j,e,null,n,p),d.push({event:j,listeners:_}),H?j.data=H:(H=y2(n),H!==null&&(j.data=H)))),(H=C4?E4(e,n):N4(e,n))&&(f=_h(f,"onBeforeInput"),0<f.length&&(p=new wk("onBeforeInput","beforeinput",null,n,p),d.push({event:p,listeners:f}),p.data=H))}A2(d,t)})}function tp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function _h(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Gf(e,n),i!=null&&r.unshift(tp(e,i,o)),i=Gf(e,t),i!=null&&r.push(tp(e,i,o))),e=e.return}return r}function Nu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rk(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,f=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&f!==null&&(l=f,o?(u=Gf(n,i),u!=null&&s.unshift(tp(n,u,l))):o||(u=Gf(n,i),u!=null&&s.push(tp(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var B4=/\r\n?/g,U4=/\u0000|\uFFFD/g;function Dk(e){return(typeof e=="string"?e:""+e).replace(B4,`
`).replace(U4,"")}function Md(e,t,n){if(t=Dk(t),Dk(e)!==t&&n)throw Error(Ie(425))}function Ph(){}var i1=null,s1=null;function l1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a1=typeof setTimeout=="function"?setTimeout:void 0,V4=typeof clearTimeout=="function"?clearTimeout:void 0,Ik=typeof Promise=="function"?Promise:void 0,H4=typeof queueMicrotask=="function"?queueMicrotask:typeof Ik<"u"?function(e){return Ik.resolve(null).then(e).catch(q4)}:a1;function q4(e){setTimeout(function(){throw e})}function vy(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Yf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Yf(t)}function El(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _k(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Oc=Math.random().toString(36).slice(2),$i="__reactFiber$"+Oc,np="__reactProps$"+Oc,Ns="__reactContainer$"+Oc,u1="__reactEvents$"+Oc,W4="__reactListeners$"+Oc,K4="__reactHandles$"+Oc;function Oa(e){var t=e[$i];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ns]||n[$i]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_k(e);e!==null;){if(n=e[$i])return n;e=_k(e)}return t}e=n,n=e.parentNode}return null}function xp(e){return e=e[$i]||e[Ns],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ie(33))}function Em(e){return e[np]||null}var c1=[],Uu=-1;function jl(e){return{current:e}}function wn(e){0>Uu||(e.current=c1[Uu],c1[Uu]=null,Uu--)}function mn(e,t){Uu++,c1[Uu]=e.current,e.current=t}var Pl={},Ir=jl(Pl),so=jl(!1),La=Pl;function lc(e,t){var n=e.type.contextTypes;if(!n)return Pl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function lo(e){return e=e.childContextTypes,e!=null}function $h(){wn(so),wn(Ir)}function Pk(e,t,n){if(Ir.current!==Pl)throw Error(Ie(168));mn(Ir,t),mn(so,n)}function R2(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Ie(108,R8(e)||"Unknown",o));return Rn({},n,r)}function Lh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pl,La=Ir.current,mn(Ir,e),mn(so,so.current),!0}function $k(e,t,n){var r=e.stateNode;if(!r)throw Error(Ie(169));n?(e=R2(e,t,La),r.__reactInternalMemoizedMergedChildContext=e,wn(so),wn(Ir),mn(Ir,e)):wn(so),mn(so,n)}var vs=null,Nm=!1,wy=!1;function D2(e){vs===null?vs=[e]:vs.push(e)}function G4(e){Nm=!0,D2(e)}function Bl(){if(!wy&&vs!==null){wy=!0;var e=0,t=sn;try{var n=vs;for(sn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vs=null,Nm=!1}catch(o){throw vs!==null&&(vs=vs.slice(e+1)),r2(jv,Bl),o}finally{sn=t,wy=!1}}return null}var Vu=[],Hu=0,Fh=null,zh=0,jo=[],Bo=0,Fa=null,Ss=1,bs="";function wa(e,t){Vu[Hu++]=zh,Vu[Hu++]=Fh,Fh=e,zh=t}function I2(e,t,n){jo[Bo++]=Ss,jo[Bo++]=bs,jo[Bo++]=Fa,Fa=e;var r=Ss;e=bs;var o=32-pi(r)-1;r&=~(1<<o),n+=1;var i=32-pi(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Ss=1<<32-pi(t)+o|n<<o|r,bs=i+e}else Ss=1<<i|n<<o|r,bs=e}function Jv(e){e.return!==null&&(wa(e,1),I2(e,1,0))}function Qv(e){for(;e===Fh;)Fh=Vu[--Hu],Vu[Hu]=null,zh=Vu[--Hu],Vu[Hu]=null;for(;e===Fa;)Fa=jo[--Bo],jo[Bo]=null,bs=jo[--Bo],jo[Bo]=null,Ss=jo[--Bo],jo[Bo]=null}var Eo=null,Oo=null,bn=!1,ai=null;function _2(e,t){var n=Wo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lk(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Eo=e,Oo=El(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Eo=e,Oo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Fa!==null?{id:Ss,overflow:bs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wo(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Eo=e,Oo=null,!0):!1;default:return!1}}function f1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function p1(e){if(bn){var t=Oo;if(t){var n=t;if(!Lk(e,t)){if(f1(e))throw Error(Ie(418));t=El(n.nextSibling);var r=Eo;t&&Lk(e,t)?_2(r,n):(e.flags=e.flags&-4097|2,bn=!1,Eo=e)}}else{if(f1(e))throw Error(Ie(418));e.flags=e.flags&-4097|2,bn=!1,Eo=e}}}function Fk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Eo=e}function Rd(e){if(e!==Eo)return!1;if(!bn)return Fk(e),bn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!l1(e.type,e.memoizedProps)),t&&(t=Oo)){if(f1(e))throw P2(),Error(Ie(418));for(;t;)_2(e,t),t=El(t.nextSibling)}if(Fk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Oo=El(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Oo=null}}else Oo=Eo?El(e.stateNode.nextSibling):null;return!0}function P2(){for(var e=Oo;e;)e=El(e.nextSibling)}function ac(){Oo=Eo=null,bn=!1}function Yv(e){ai===null?ai=[e]:ai.push(e)}var J4=Ms.ReactCurrentBatchConfig;function ff(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ie(309));var r=n.stateNode}if(!r)throw Error(Ie(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ie(284));if(!n._owner)throw Error(Ie(290,e))}return e}function Dd(e,t){throw e=Object.prototype.toString.call(t),Error(Ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zk(e){var t=e._init;return t(e._payload)}function $2(e){function t(S,x){if(e){var k=S.deletions;k===null?(S.deletions=[x],S.flags|=16):k.push(x)}}function n(S,x){if(!e)return null;for(;x!==null;)t(S,x),x=x.sibling;return null}function r(S,x){for(S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function o(S,x){return S=Ml(S,x),S.index=0,S.sibling=null,S}function i(S,x,k){return S.index=k,e?(k=S.alternate,k!==null?(k=k.index,k<x?(S.flags|=2,x):k):(S.flags|=2,x)):(S.flags|=1048576,x)}function s(S){return e&&S.alternate===null&&(S.flags|=2),S}function l(S,x,k,I){return x===null||x.tag!==6?(x=Ey(k,S.mode,I),x.return=S,x):(x=o(x,k),x.return=S,x)}function u(S,x,k,I){var L=k.type;return L===Lu?p(S,x,k.props.children,I,k.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===sl&&zk(L)===x.type)?(I=o(x,k.props),I.ref=ff(S,x,k),I.return=S,I):(I=sh(k.type,k.key,k.props,null,S.mode,I),I.ref=ff(S,x,k),I.return=S,I)}function f(S,x,k,I){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Ny(k,S.mode,I),x.return=S,x):(x=o(x,k.children||[]),x.return=S,x)}function p(S,x,k,I,L){return x===null||x.tag!==7?(x=Ma(k,S.mode,I,L),x.return=S,x):(x=o(x,k),x.return=S,x)}function d(S,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ey(""+x,S.mode,k),x.return=S,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bd:return k=sh(x.type,x.key,x.props,null,S.mode,k),k.ref=ff(S,null,x),k.return=S,k;case $u:return x=Ny(x,S.mode,k),x.return=S,x;case sl:var I=x._init;return d(S,I(x._payload),k)}if(Of(x)||sf(x))return x=Ma(x,S.mode,k,null),x.return=S,x;Dd(S,x)}return null}function m(S,x,k,I){var L=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return L!==null?null:l(S,x,""+k,I);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case bd:return k.key===L?u(S,x,k,I):null;case $u:return k.key===L?f(S,x,k,I):null;case sl:return L=k._init,m(S,x,L(k._payload),I)}if(Of(k)||sf(k))return L!==null?null:p(S,x,k,I,null);Dd(S,k)}return null}function g(S,x,k,I,L){if(typeof I=="string"&&I!==""||typeof I=="number")return S=S.get(k)||null,l(x,S,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case bd:return S=S.get(I.key===null?k:I.key)||null,u(x,S,I,L);case $u:return S=S.get(I.key===null?k:I.key)||null,f(x,S,I,L);case sl:var _=I._init;return g(S,x,k,_(I._payload),L)}if(Of(I)||sf(I))return S=S.get(k)||null,p(x,S,I,L,null);Dd(x,I)}return null}function y(S,x,k,I){for(var L=null,_=null,H=x,j=x=0,Y=null;H!==null&&j<k.length;j++){H.index>j?(Y=H,H=null):Y=H.sibling;var ue=m(S,H,k[j],I);if(ue===null){H===null&&(H=Y);break}e&&H&&ue.alternate===null&&t(S,H),x=i(ue,x,j),_===null?L=ue:_.sibling=ue,_=ue,H=Y}if(j===k.length)return n(S,H),bn&&wa(S,j),L;if(H===null){for(;j<k.length;j++)H=d(S,k[j],I),H!==null&&(x=i(H,x,j),_===null?L=H:_.sibling=H,_=H);return bn&&wa(S,j),L}for(H=r(S,H);j<k.length;j++)Y=g(H,S,j,k[j],I),Y!==null&&(e&&Y.alternate!==null&&H.delete(Y.key===null?j:Y.key),x=i(Y,x,j),_===null?L=Y:_.sibling=Y,_=Y);return e&&H.forEach(function(Se){return t(S,Se)}),bn&&wa(S,j),L}function b(S,x,k,I){var L=sf(k);if(typeof L!="function")throw Error(Ie(150));if(k=L.call(k),k==null)throw Error(Ie(151));for(var _=L=null,H=x,j=x=0,Y=null,ue=k.next();H!==null&&!ue.done;j++,ue=k.next()){H.index>j?(Y=H,H=null):Y=H.sibling;var Se=m(S,H,ue.value,I);if(Se===null){H===null&&(H=Y);break}e&&H&&Se.alternate===null&&t(S,H),x=i(Se,x,j),_===null?L=Se:_.sibling=Se,_=Se,H=Y}if(ue.done)return n(S,H),bn&&wa(S,j),L;if(H===null){for(;!ue.done;j++,ue=k.next())ue=d(S,ue.value,I),ue!==null&&(x=i(ue,x,j),_===null?L=ue:_.sibling=ue,_=ue);return bn&&wa(S,j),L}for(H=r(S,H);!ue.done;j++,ue=k.next())ue=g(H,S,j,ue.value,I),ue!==null&&(e&&ue.alternate!==null&&H.delete(ue.key===null?j:ue.key),x=i(ue,x,j),_===null?L=ue:_.sibling=ue,_=ue);return e&&H.forEach(function(ge){return t(S,ge)}),bn&&wa(S,j),L}function E(S,x,k,I){if(typeof k=="object"&&k!==null&&k.type===Lu&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case bd:e:{for(var L=k.key,_=x;_!==null;){if(_.key===L){if(L=k.type,L===Lu){if(_.tag===7){n(S,_.sibling),x=o(_,k.props.children),x.return=S,S=x;break e}}else if(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===sl&&zk(L)===_.type){n(S,_.sibling),x=o(_,k.props),x.ref=ff(S,_,k),x.return=S,S=x;break e}n(S,_);break}else t(S,_);_=_.sibling}k.type===Lu?(x=Ma(k.props.children,S.mode,I,k.key),x.return=S,S=x):(I=sh(k.type,k.key,k.props,null,S.mode,I),I.ref=ff(S,x,k),I.return=S,S=I)}return s(S);case $u:e:{for(_=k.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(S,x.sibling),x=o(x,k.children||[]),x.return=S,S=x;break e}else{n(S,x);break}else t(S,x);x=x.sibling}x=Ny(k,S.mode,I),x.return=S,S=x}return s(S);case sl:return _=k._init,E(S,x,_(k._payload),I)}if(Of(k))return y(S,x,k,I);if(sf(k))return b(S,x,k,I);Dd(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(S,x.sibling),x=o(x,k),x.return=S,S=x):(n(S,x),x=Ey(k,S.mode,I),x.return=S,S=x),s(S)):n(S,x)}return E}var uc=$2(!0),L2=$2(!1),jh=jl(null),Bh=null,qu=null,Zv=null;function Xv(){Zv=qu=Bh=null}function ew(e){var t=jh.current;wn(jh),e._currentValue=t}function d1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xu(e,t){Bh=e,Zv=qu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(io=!0),e.firstContext=null)}function Jo(e){var t=e._currentValue;if(Zv!==e)if(e={context:e,memoizedValue:t,next:null},qu===null){if(Bh===null)throw Error(Ie(308));qu=e,Bh.dependencies={lanes:0,firstContext:e}}else qu=qu.next=e;return t}var Ca=null;function tw(e){Ca===null?Ca=[e]:Ca.push(e)}function F2(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,tw(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ts(e,r)}function Ts(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ll=!1;function nw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Wt&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ts(e,n)}return o=r.interleaved,o===null?(t.next=t,tw(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ts(e,n)}function eh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bv(e,n)}}function jk(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Uh(e,t,n,r){var o=e.updateQueue;ll=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var u=l,f=u.next;u.next=null,s===null?i=f:s.next=f,s=u;var p=e.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==s&&(l===null?p.firstBaseUpdate=f:l.next=f,p.lastBaseUpdate=u))}if(i!==null){var d=o.baseState;s=0,p=f=u=null,l=i;do{var m=l.lane,g=l.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(m=t,g=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){d=y.call(g,d,m);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,m=typeof y=="function"?y.call(g,d,m):y,m==null)break e;d=Rn({},d,m);break e;case 2:ll=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=o.effects,m===null?o.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(f=p=g,u=d):p=p.next=g,s|=m;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;m=l,l=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(!0);if(p===null&&(u=d),o.baseState=u,o.firstBaseUpdate=f,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);ja|=s,e.lanes=s,e.memoizedState=d}}function Bk(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Ie(191,o));o.call(r)}}}var Op={},Bi=jl(Op),rp=jl(Op),op=jl(Op);function Ea(e){if(e===Op)throw Error(Ie(174));return e}function rw(e,t){switch(mn(op,t),mn(rp,e),mn(Bi,Op),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:K0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=K0(t,e)}wn(Bi),mn(Bi,t)}function cc(){wn(Bi),wn(rp),wn(op)}function j2(e){Ea(op.current);var t=Ea(Bi.current),n=K0(t,e.type);t!==n&&(mn(rp,e),mn(Bi,n))}function ow(e){rp.current===e&&(wn(Bi),wn(rp))}var Nn=jl(0);function Vh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sy=[];function iw(){for(var e=0;e<Sy.length;e++)Sy[e]._workInProgressVersionPrimary=null;Sy.length=0}var th=Ms.ReactCurrentDispatcher,by=Ms.ReactCurrentBatchConfig,za=0,Mn=null,er=null,lr=null,Hh=!1,$f=!1,ip=0,Q4=0;function Nr(){throw Error(Ie(321))}function sw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mi(e[n],t[n]))return!1;return!0}function lw(e,t,n,r,o,i){if(za=i,Mn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,th.current=e===null||e.memoizedState===null?e$:t$,e=n(r,o),$f){i=0;do{if($f=!1,ip=0,25<=i)throw Error(Ie(301));i+=1,lr=er=null,t.updateQueue=null,th.current=n$,e=n(r,o)}while($f)}if(th.current=qh,t=er!==null&&er.next!==null,za=0,lr=er=Mn=null,Hh=!1,t)throw Error(Ie(300));return e}function aw(){var e=ip!==0;return ip=0,e}function Ii(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lr===null?Mn.memoizedState=lr=e:lr=lr.next=e,lr}function Qo(){if(er===null){var e=Mn.alternate;e=e!==null?e.memoizedState:null}else e=er.next;var t=lr===null?Mn.memoizedState:lr.next;if(t!==null)lr=t,er=e;else{if(e===null)throw Error(Ie(310));er=e,e={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},lr===null?Mn.memoizedState=lr=e:lr=lr.next=e}return lr}function sp(e,t){return typeof t=="function"?t(e):t}function ky(e){var t=Qo(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=er,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,u=null,f=i;do{var p=f.lane;if((za&p)===p)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var d={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(l=u=d,s=r):u=u.next=d,Mn.lanes|=p,ja|=p}f=f.next}while(f!==null&&f!==i);u===null?s=r:u.next=l,mi(r,t.memoizedState)||(io=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Mn.lanes|=i,ja|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xy(e){var t=Qo(),n=t.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);mi(i,t.memoizedState)||(io=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function B2(){}function U2(e,t){var n=Mn,r=Qo(),o=t(),i=!mi(r.memoizedState,o);if(i&&(r.memoizedState=o,io=!0),r=r.queue,uw(q2.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||lr!==null&&lr.memoizedState.tag&1){if(n.flags|=2048,lp(9,H2.bind(null,n,r,o,t),void 0,null),ar===null)throw Error(Ie(349));za&30||V2(n,t,o)}return o}function V2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Mn.updateQueue,t===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function H2(e,t,n,r){t.value=n,t.getSnapshot=r,W2(t)&&K2(e)}function q2(e,t,n){return n(function(){W2(t)&&K2(e)})}function W2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mi(e,n)}catch{return!0}}function K2(e){var t=Ts(e,1);t!==null&&di(t,e,1,-1)}function Uk(e){var t=Ii();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:e},t.queue=e,e=e.dispatch=X4.bind(null,Mn,e),[t.memoizedState,e]}function lp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Mn.updateQueue,t===null?(t={lastEffect:null,stores:null},Mn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function G2(){return Qo().memoizedState}function nh(e,t,n,r){var o=Ii();Mn.flags|=e,o.memoizedState=lp(1|t,n,void 0,r===void 0?null:r)}function Tm(e,t,n,r){var o=Qo();r=r===void 0?null:r;var i=void 0;if(er!==null){var s=er.memoizedState;if(i=s.destroy,r!==null&&sw(r,s.deps)){o.memoizedState=lp(t,n,i,r);return}}Mn.flags|=e,o.memoizedState=lp(1|t,n,i,r)}function Vk(e,t){return nh(8390656,8,e,t)}function uw(e,t){return Tm(2048,8,e,t)}function J2(e,t){return Tm(4,2,e,t)}function Q2(e,t){return Tm(4,4,e,t)}function Y2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Z2(e,t,n){return n=n!=null?n.concat([e]):null,Tm(4,4,Y2.bind(null,t,e),n)}function cw(){}function X2(e,t){var n=Qo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function eN(e,t){var n=Qo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tN(e,t,n){return za&21?(mi(n,t)||(n=s2(),Mn.lanes|=n,ja|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,io=!0),e.memoizedState=n)}function Y4(e,t){var n=sn;sn=n!==0&&4>n?n:4,e(!0);var r=by.transition;by.transition={};try{e(!1),t()}finally{sn=n,by.transition=r}}function nN(){return Qo().memoizedState}function Z4(e,t,n){var r=Al(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rN(e))oN(t,n);else if(n=F2(e,t,n,r),n!==null){var o=Vr();di(n,e,r,o),iN(n,t,r)}}function X4(e,t,n){var r=Al(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rN(e))oN(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,mi(l,s)){var u=t.interleaved;u===null?(o.next=o,tw(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=F2(e,t,o,r),n!==null&&(o=Vr(),di(n,e,r,o),iN(n,t,r))}}function rN(e){var t=e.alternate;return e===Mn||t!==null&&t===Mn}function oN(e,t){$f=Hh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function iN(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Bv(e,n)}}var qh={readContext:Jo,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},e$={readContext:Jo,useCallback:function(e,t){return Ii().memoizedState=[e,t===void 0?null:t],e},useContext:Jo,useEffect:Vk,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nh(4194308,4,Y2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nh(4194308,4,e,t)},useInsertionEffect:function(e,t){return nh(4,2,e,t)},useMemo:function(e,t){var n=Ii();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ii();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Z4.bind(null,Mn,e),[r.memoizedState,e]},useRef:function(e){var t=Ii();return e={current:e},t.memoizedState=e},useState:Uk,useDebugValue:cw,useDeferredValue:function(e){return Ii().memoizedState=e},useTransition:function(){var e=Uk(!1),t=e[0];return e=Y4.bind(null,e[1]),Ii().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Mn,o=Ii();if(bn){if(n===void 0)throw Error(Ie(407));n=n()}else{if(n=t(),ar===null)throw Error(Ie(349));za&30||V2(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Vk(q2.bind(null,r,i,e),[e]),r.flags|=2048,lp(9,H2.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ii(),t=ar.identifierPrefix;if(bn){var n=bs,r=Ss;n=(r&~(1<<32-pi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ip++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Q4++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t$={readContext:Jo,useCallback:X2,useContext:Jo,useEffect:uw,useImperativeHandle:Z2,useInsertionEffect:J2,useLayoutEffect:Q2,useMemo:eN,useReducer:ky,useRef:G2,useState:function(){return ky(sp)},useDebugValue:cw,useDeferredValue:function(e){var t=Qo();return tN(t,er.memoizedState,e)},useTransition:function(){var e=ky(sp)[0],t=Qo().memoizedState;return[e,t]},useMutableSource:B2,useSyncExternalStore:U2,useId:nN,unstable_isNewReconciler:!1},n$={readContext:Jo,useCallback:X2,useContext:Jo,useEffect:uw,useImperativeHandle:Z2,useInsertionEffect:J2,useLayoutEffect:Q2,useMemo:eN,useReducer:xy,useRef:G2,useState:function(){return xy(sp)},useDebugValue:cw,useDeferredValue:function(e){var t=Qo();return er===null?t.memoizedState=e:tN(t,er.memoizedState,e)},useTransition:function(){var e=xy(sp)[0],t=Qo().memoizedState;return[e,t]},useMutableSource:B2,useSyncExternalStore:U2,useId:nN,unstable_isNewReconciler:!1};function si(e,t){if(e&&e.defaultProps){t=Rn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function h1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Rn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Am={isMounted:function(e){return(e=e._reactInternals)?Ka(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vr(),o=Al(e),i=Os(r,o);i.payload=t,n!=null&&(i.callback=n),t=Nl(e,i,o),t!==null&&(di(t,e,o,r),eh(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vr(),o=Al(e),i=Os(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Nl(e,i,o),t!==null&&(di(t,e,o,r),eh(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vr(),r=Al(e),o=Os(n,r);o.tag=2,t!=null&&(o.callback=t),t=Nl(e,o,r),t!==null&&(di(t,e,r,n),eh(t,e,r))}};function Hk(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Xf(n,r)||!Xf(o,i):!0}function sN(e,t,n){var r=!1,o=Pl,i=t.contextType;return typeof i=="object"&&i!==null?i=Jo(i):(o=lo(t)?La:Ir.current,r=t.contextTypes,i=(r=r!=null)?lc(e,o):Pl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Am,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function qk(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Am.enqueueReplaceState(t,t.state,null)}function m1(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},nw(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Jo(i):(i=lo(t)?La:Ir.current,o.context=lc(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(h1(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Am.enqueueReplaceState(o,o.state,null),Uh(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function fc(e,t){try{var n="",r=t;do n+=M8(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Oy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function g1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var r$=typeof WeakMap=="function"?WeakMap:Map;function lN(e,t,n){n=Os(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kh||(Kh=!0,E1=r),g1(e,t)},n}function aN(e,t,n){n=Os(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){g1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){g1(e,t),typeof r!="function"&&(Tl===null?Tl=new Set([this]):Tl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Wk(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new r$;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=y$.bind(null,e,t,n),t.then(e,e))}function Kk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gk(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Os(-1,1),t.tag=2,Nl(n,t,1))),n.lanes|=1),e)}var o$=Ms.ReactCurrentOwner,io=!1;function Br(e,t,n,r){t.child=e===null?L2(t,null,n,r):uc(t,e.child,n,r)}function Jk(e,t,n,r,o){n=n.render;var i=t.ref;return Xu(t,o),r=lw(e,t,n,r,i,o),n=aw(),e!==null&&!io?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,As(e,t,o)):(bn&&n&&Jv(t),t.flags|=1,Br(e,t,r,o),t.child)}function Qk(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!vw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,uN(e,t,i,r,o)):(e=sh(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xf,n(s,r)&&e.ref===t.ref)return As(e,t,o)}return t.flags|=1,e=Ml(i,r),e.ref=t.ref,e.return=t,t.child=e}function uN(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Xf(i,r)&&e.ref===t.ref)if(io=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(io=!0);else return t.lanes=e.lanes,As(e,t,o)}return y1(e,t,n,r,o)}function cN(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(Ku,bo),bo|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mn(Ku,bo),bo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,mn(Ku,bo),bo|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,mn(Ku,bo),bo|=r;return Br(e,t,o,n),t.child}function fN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function y1(e,t,n,r,o){var i=lo(n)?La:Ir.current;return i=lc(t,i),Xu(t,o),n=lw(e,t,n,r,i,o),r=aw(),e!==null&&!io?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,As(e,t,o)):(bn&&r&&Jv(t),t.flags|=1,Br(e,t,n,o),t.child)}function Yk(e,t,n,r,o){if(lo(n)){var i=!0;Lh(t)}else i=!1;if(Xu(t,o),t.stateNode===null)rh(e,t),sN(t,n,r),m1(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var u=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=Jo(f):(f=lo(n)?La:Ir.current,f=lc(t,f));var p=n.getDerivedStateFromProps,d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==f)&&qk(t,s,r,f),ll=!1;var m=t.memoizedState;s.state=m,Uh(t,r,s,o),u=t.memoizedState,l!==r||m!==u||so.current||ll?(typeof p=="function"&&(h1(t,n,p,r),u=t.memoizedState),(l=ll||Hk(t,n,l,r,m,u,f))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=f,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,z2(e,t),l=t.memoizedProps,f=t.type===t.elementType?l:si(t.type,l),s.props=f,d=t.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jo(u):(u=lo(n)?La:Ir.current,u=lc(t,u));var g=n.getDerivedStateFromProps;(p=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||m!==u)&&qk(t,s,r,u),ll=!1,m=t.memoizedState,s.state=m,Uh(t,r,s,o);var y=t.memoizedState;l!==d||m!==y||so.current||ll?(typeof g=="function"&&(h1(t,n,g,r),y=t.memoizedState),(f=ll||Hk(t,n,f,r,m,y,u)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=u,r=f):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return v1(e,t,n,r,i,o)}function v1(e,t,n,r,o,i){fN(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&$k(t,n,!1),As(e,t,i);r=t.stateNode,o$.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=uc(t,e.child,null,i),t.child=uc(t,null,l,i)):Br(e,t,l,i),t.memoizedState=r.state,o&&$k(t,n,!0),t.child}function pN(e){var t=e.stateNode;t.pendingContext?Pk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pk(e,t.context,!1),rw(e,t.containerInfo)}function Zk(e,t,n,r,o){return ac(),Yv(o),t.flags|=256,Br(e,t,n,r),t.child}var w1={dehydrated:null,treeContext:null,retryLane:0};function S1(e){return{baseLanes:e,cachePool:null,transitions:null}}function dN(e,t,n){var r=t.pendingProps,o=Nn.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),mn(Nn,o&1),e===null)return p1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Dm(s,r,0,null),e=Ma(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=S1(n),t.memoizedState=w1,e):fw(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return i$(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ml(o,u),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Ml(l,i):(i=Ma(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?S1(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=w1,r}return i=e.child,e=i.sibling,r=Ml(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fw(e,t){return t=Dm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Id(e,t,n,r){return r!==null&&Yv(r),uc(t,e.child,null,n),e=fw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function i$(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Oy(Error(Ie(422))),Id(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Dm({mode:"visible",children:r.children},o,0,null),i=Ma(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&uc(t,e.child,null,s),t.child.memoizedState=S1(s),t.memoizedState=w1,i);if(!(t.mode&1))return Id(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Ie(419)),r=Oy(i,r,void 0),Id(e,t,s,r)}if(l=(s&e.childLanes)!==0,io||l){if(r=ar,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ts(e,o),di(r,e,o,-1))}return yw(),r=Oy(Error(Ie(421))),Id(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=v$.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Oo=El(o.nextSibling),Eo=t,bn=!0,ai=null,e!==null&&(jo[Bo++]=Ss,jo[Bo++]=bs,jo[Bo++]=Fa,Ss=e.id,bs=e.overflow,Fa=t),t=fw(t,r.children),t.flags|=4096,t)}function Xk(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),d1(e.return,t,n)}function Cy(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function hN(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Br(e,t,r.children,n),r=Nn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xk(e,n,t);else if(e.tag===19)Xk(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mn(Nn,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Vh(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Cy(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Vh(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Cy(t,!0,n,null,i);break;case"together":Cy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function As(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ja|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ie(153));if(t.child!==null){for(e=t.child,n=Ml(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ml(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function s$(e,t,n){switch(t.tag){case 3:pN(t),ac();break;case 5:j2(t);break;case 1:lo(t.type)&&Lh(t);break;case 4:rw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;mn(jh,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(mn(Nn,Nn.current&1),t.flags|=128,null):n&t.child.childLanes?dN(e,t,n):(mn(Nn,Nn.current&1),e=As(e,t,n),e!==null?e.sibling:null);mn(Nn,Nn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hN(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),mn(Nn,Nn.current),r)break;return null;case 22:case 23:return t.lanes=0,cN(e,t,n)}return As(e,t,n)}var mN,b1,gN,yN;mN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};b1=function(){};gN=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ea(Bi.current);var i=null;switch(n){case"input":o=V0(e,o),r=V0(e,r),i=[];break;case"select":o=Rn({},o,{value:void 0}),r=Rn({},r,{value:void 0}),i=[];break;case"textarea":o=W0(e,o),r=W0(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ph)}G0(n,r);var s;n=null;for(f in o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var l=o[f];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Wf.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in r){var u=r[f];if(l=o!=null?o[f]:void 0,r.hasOwnProperty(f)&&u!==l&&(u!=null||l!=null))if(f==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(i||(i=[]),i.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Wf.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&vn("scroll",e),i||l===u||(i=[])):(i=i||[]).push(f,u))}n&&(i=i||[]).push("style",n);var f=i;(t.updateQueue=f)&&(t.flags|=4)}};yN=function(e,t,n,r){n!==r&&(t.flags|=4)};function pf(e,t){if(!bn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function l$(e,t,n){var r=t.pendingProps;switch(Qv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(t),null;case 1:return lo(t.type)&&$h(),Tr(t),null;case 3:return r=t.stateNode,cc(),wn(so),wn(Ir),iw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Rd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ai!==null&&(A1(ai),ai=null))),b1(e,t),Tr(t),null;case 5:ow(t);var o=Ea(op.current);if(n=t.type,e!==null&&t.stateNode!=null)gN(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ie(166));return Tr(t),null}if(e=Ea(Bi.current),Rd(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[$i]=t,r[np]=i,e=(t.mode&1)!==0,n){case"dialog":vn("cancel",r),vn("close",r);break;case"iframe":case"object":case"embed":vn("load",r);break;case"video":case"audio":for(o=0;o<Ef.length;o++)vn(Ef[o],r);break;case"source":vn("error",r);break;case"img":case"image":case"link":vn("error",r),vn("load",r);break;case"details":vn("toggle",r);break;case"input":ak(r,i),vn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},vn("invalid",r);break;case"textarea":ck(r,i),vn("invalid",r)}G0(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Md(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Md(r.textContent,l,e),o=["children",""+l]):Wf.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&vn("scroll",r)}switch(n){case"input":kd(r),uk(r,i,!0);break;case"textarea":kd(r),fk(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ph)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[$i]=t,e[np]=r,mN(e,t,!1,!1),t.stateNode=e;e:{switch(s=J0(n,r),n){case"dialog":vn("cancel",e),vn("close",e),o=r;break;case"iframe":case"object":case"embed":vn("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ef.length;o++)vn(Ef[o],e);o=r;break;case"source":vn("error",e),o=r;break;case"img":case"image":case"link":vn("error",e),vn("load",e),o=r;break;case"details":vn("toggle",e),o=r;break;case"input":ak(e,r),o=V0(e,r),vn("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Rn({},r,{value:void 0}),vn("invalid",e);break;case"textarea":ck(e,r),o=W0(e,r),vn("invalid",e);break;default:o=r}G0(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?GE(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&WE(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Kf(e,u):typeof u=="number"&&Kf(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wf.hasOwnProperty(i)?u!=null&&i==="onScroll"&&vn("scroll",e):u!=null&&Pv(e,i,u,s))}switch(n){case"input":kd(e),uk(e,r,!1);break;case"textarea":kd(e),fk(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_l(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ju(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ju(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ph)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tr(t),null;case 6:if(e&&t.stateNode!=null)yN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ie(166));if(n=Ea(op.current),Ea(Bi.current),Rd(t)){if(r=t.stateNode,n=t.memoizedProps,r[$i]=t,(i=r.nodeValue!==n)&&(e=Eo,e!==null))switch(e.tag){case 3:Md(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Md(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$i]=t,t.stateNode=r}return Tr(t),null;case 13:if(wn(Nn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bn&&Oo!==null&&t.mode&1&&!(t.flags&128))P2(),ac(),t.flags|=98560,i=!1;else if(i=Rd(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ie(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ie(317));i[$i]=t}else ac(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tr(t),i=!1}else ai!==null&&(A1(ai),ai=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Nn.current&1?nr===0&&(nr=3):yw())),t.updateQueue!==null&&(t.flags|=4),Tr(t),null);case 4:return cc(),b1(e,t),e===null&&ep(t.stateNode.containerInfo),Tr(t),null;case 10:return ew(t.type._context),Tr(t),null;case 17:return lo(t.type)&&$h(),Tr(t),null;case 19:if(wn(Nn),i=t.memoizedState,i===null)return Tr(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)pf(i,!1);else{if(nr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Vh(e),s!==null){for(t.flags|=128,pf(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return mn(Nn,Nn.current&1|2),t.child}e=e.sibling}i.tail!==null&&jn()>pc&&(t.flags|=128,r=!0,pf(i,!1),t.lanes=4194304)}else{if(!r)if(e=Vh(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),pf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!bn)return Tr(t),null}else 2*jn()-i.renderingStartTime>pc&&n!==1073741824&&(t.flags|=128,r=!0,pf(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=jn(),t.sibling=null,n=Nn.current,mn(Nn,r?n&1|2:n&1),t):(Tr(t),null);case 22:case 23:return gw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bo&1073741824&&(Tr(t),t.subtreeFlags&6&&(t.flags|=8192)):Tr(t),null;case 24:return null;case 25:return null}throw Error(Ie(156,t.tag))}function a$(e,t){switch(Qv(t),t.tag){case 1:return lo(t.type)&&$h(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cc(),wn(so),wn(Ir),iw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ow(t),null;case 13:if(wn(Nn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ie(340));ac()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wn(Nn),null;case 4:return cc(),null;case 10:return ew(t.type._context),null;case 22:case 23:return gw(),null;case 24:return null;default:return null}}var _d=!1,Mr=!1,u$=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Wu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pn(e,t,r)}else n.current=null}function k1(e,t,n){try{n()}catch(r){Pn(e,t,r)}}var ex=!1;function c$(e,t){if(i1=Dh,e=k2(),Gv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,f=0,p=0,d=e,m=null;t:for(;;){for(var g;d!==n||o!==0&&d.nodeType!==3||(l=s+o),d!==i||r!==0&&d.nodeType!==3||(u=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)m=d,d=g;for(;;){if(d===e)break t;if(m===n&&++f===o&&(l=s),m===i&&++p===r&&(u=s),(g=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(s1={focusedElem:e,selectionRange:n},Dh=!1,Ye=t;Ye!==null;)if(t=Ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ye=e;else for(;Ye!==null;){t=Ye;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,E=y.memoizedState,S=t.stateNode,x=S.getSnapshotBeforeUpdate(t.elementType===t.type?b:si(t.type,b),E);S.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(I){Pn(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,Ye=e;break}Ye=t.return}return y=ex,ex=!1,y}function Lf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&k1(t,n,i)}o=o.next}while(o!==r)}}function Mm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function x1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vN(e){var t=e.alternate;t!==null&&(e.alternate=null,vN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$i],delete t[np],delete t[u1],delete t[W4],delete t[K4])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wN(e){return e.tag===5||e.tag===3||e.tag===4}function tx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function O1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ph));else if(r!==4&&(e=e.child,e!==null))for(O1(e,t,n),e=e.sibling;e!==null;)O1(e,t,n),e=e.sibling}function C1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(C1(e,t,n),e=e.sibling;e!==null;)C1(e,t,n),e=e.sibling}var mr=null,li=!1;function tl(e,t,n){for(n=n.child;n!==null;)SN(e,t,n),n=n.sibling}function SN(e,t,n){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(km,n)}catch{}switch(n.tag){case 5:Mr||Wu(n,t);case 6:var r=mr,o=li;mr=null,tl(e,t,n),mr=r,li=o,mr!==null&&(li?(e=mr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mr.removeChild(n.stateNode));break;case 18:mr!==null&&(li?(e=mr,n=n.stateNode,e.nodeType===8?vy(e.parentNode,n):e.nodeType===1&&vy(e,n),Yf(e)):vy(mr,n.stateNode));break;case 4:r=mr,o=li,mr=n.stateNode.containerInfo,li=!0,tl(e,t,n),mr=r,li=o;break;case 0:case 11:case 14:case 15:if(!Mr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&k1(n,t,s),o=o.next}while(o!==r)}tl(e,t,n);break;case 1:if(!Mr&&(Wu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Pn(n,t,l)}tl(e,t,n);break;case 21:tl(e,t,n);break;case 22:n.mode&1?(Mr=(r=Mr)||n.memoizedState!==null,tl(e,t,n),Mr=r):tl(e,t,n);break;default:tl(e,t,n)}}function nx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new u$),t.forEach(function(r){var o=w$.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ii(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:mr=l.stateNode,li=!1;break e;case 3:mr=l.stateNode.containerInfo,li=!0;break e;case 4:mr=l.stateNode.containerInfo,li=!0;break e}l=l.return}if(mr===null)throw Error(Ie(160));SN(i,s,o),mr=null,li=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(f){Pn(o,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bN(t,e),t=t.sibling}function bN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ii(t,e),Di(e),r&4){try{Lf(3,e,e.return),Mm(3,e)}catch(b){Pn(e,e.return,b)}try{Lf(5,e,e.return)}catch(b){Pn(e,e.return,b)}}break;case 1:ii(t,e),Di(e),r&512&&n!==null&&Wu(n,n.return);break;case 5:if(ii(t,e),Di(e),r&512&&n!==null&&Wu(n,n.return),e.flags&32){var o=e.stateNode;try{Kf(o,"")}catch(b){Pn(e,e.return,b)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&VE(o,i),J0(l,s);var f=J0(l,i);for(s=0;s<u.length;s+=2){var p=u[s],d=u[s+1];p==="style"?GE(o,d):p==="dangerouslySetInnerHTML"?WE(o,d):p==="children"?Kf(o,d):Pv(o,p,d,f)}switch(l){case"input":H0(o,i);break;case"textarea":HE(o,i);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ju(o,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ju(o,!!i.multiple,i.defaultValue,!0):Ju(o,!!i.multiple,i.multiple?[]:"",!1))}o[np]=i}catch(b){Pn(e,e.return,b)}}break;case 6:if(ii(t,e),Di(e),r&4){if(e.stateNode===null)throw Error(Ie(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(b){Pn(e,e.return,b)}}break;case 3:if(ii(t,e),Di(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yf(t.containerInfo)}catch(b){Pn(e,e.return,b)}break;case 4:ii(t,e),Di(e);break;case 13:ii(t,e),Di(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(hw=jn())),r&4&&nx(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Mr=(f=Mr)||p,ii(t,e),Mr=f):ii(t,e),Di(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!p&&e.mode&1)for(Ye=e,p=e.child;p!==null;){for(d=Ye=p;Ye!==null;){switch(m=Ye,g=m.child,m.tag){case 0:case 11:case 14:case 15:Lf(4,m,m.return);break;case 1:Wu(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Pn(r,n,b)}}break;case 5:Wu(m,m.return);break;case 22:if(m.memoizedState!==null){ox(d);continue}}g!==null?(g.return=m,Ye=g):ox(d)}p=p.sibling}e:for(p=null,d=e;;){if(d.tag===5){if(p===null){p=d;try{o=d.stateNode,f?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,u=d.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=KE("display",s))}catch(b){Pn(e,e.return,b)}}}else if(d.tag===6){if(p===null)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(b){Pn(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ii(t,e),Di(e),r&4&&nx(e);break;case 21:break;default:ii(t,e),Di(e)}}function Di(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wN(n)){var r=n;break e}n=n.return}throw Error(Ie(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Kf(o,""),r.flags&=-33);var i=tx(e);C1(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=tx(e);O1(e,l,s);break;default:throw Error(Ie(161))}}catch(u){Pn(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function f$(e,t,n){Ye=e,kN(e)}function kN(e,t,n){for(var r=(e.mode&1)!==0;Ye!==null;){var o=Ye,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||_d;if(!s){var l=o.alternate,u=l!==null&&l.memoizedState!==null||Mr;l=_d;var f=Mr;if(_d=s,(Mr=u)&&!f)for(Ye=o;Ye!==null;)s=Ye,u=s.child,s.tag===22&&s.memoizedState!==null?ix(o):u!==null?(u.return=s,Ye=u):ix(o);for(;i!==null;)Ye=i,kN(i),i=i.sibling;Ye=o,_d=l,Mr=f}rx(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ye=i):rx(e)}}function rx(e){for(;Ye!==null;){var t=Ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mr||Mm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Mr)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:si(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Bk(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bk(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var d=p.dehydrated;d!==null&&Yf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}Mr||t.flags&512&&x1(t)}catch(m){Pn(t,t.return,m)}}if(t===e){Ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function ox(e){for(;Ye!==null;){var t=Ye;if(t===e){Ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ye=n;break}Ye=t.return}}function ix(e){for(;Ye!==null;){var t=Ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mm(4,t)}catch(u){Pn(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){Pn(t,o,u)}}var i=t.return;try{x1(t)}catch(u){Pn(t,i,u)}break;case 5:var s=t.return;try{x1(t)}catch(u){Pn(t,s,u)}}}catch(u){Pn(t,t.return,u)}if(t===e){Ye=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ye=l;break}Ye=t.return}}var p$=Math.ceil,Wh=Ms.ReactCurrentDispatcher,pw=Ms.ReactCurrentOwner,Ko=Ms.ReactCurrentBatchConfig,Wt=0,ar=null,Gn=null,Sr=0,bo=0,Ku=jl(0),nr=0,ap=null,ja=0,Rm=0,dw=0,Ff=null,oo=null,hw=0,pc=1/0,gs=null,Kh=!1,E1=null,Tl=null,Pd=!1,yl=null,Gh=0,zf=0,N1=null,oh=-1,ih=0;function Vr(){return Wt&6?jn():oh!==-1?oh:oh=jn()}function Al(e){return e.mode&1?Wt&2&&Sr!==0?Sr&-Sr:J4.transition!==null?(ih===0&&(ih=s2()),ih):(e=sn,e!==0||(e=window.event,e=e===void 0?16:d2(e.type)),e):1}function di(e,t,n,r){if(50<zf)throw zf=0,N1=null,Error(Ie(185));bp(e,n,r),(!(Wt&2)||e!==ar)&&(e===ar&&(!(Wt&2)&&(Rm|=n),nr===4&&pl(e,Sr)),ao(e,r),n===1&&Wt===0&&!(t.mode&1)&&(pc=jn()+500,Nm&&Bl()))}function ao(e,t){var n=e.callbackNode;J8(e,t);var r=Rh(e,e===ar?Sr:0);if(r===0)n!==null&&hk(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hk(n),t===1)e.tag===0?G4(sx.bind(null,e)):D2(sx.bind(null,e)),H4(function(){!(Wt&6)&&Bl()}),n=null;else{switch(l2(r)){case 1:n=jv;break;case 4:n=o2;break;case 16:n=Mh;break;case 536870912:n=i2;break;default:n=Mh}n=MN(n,xN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xN(e,t){if(oh=-1,ih=0,Wt&6)throw Error(Ie(327));var n=e.callbackNode;if(ec()&&e.callbackNode!==n)return null;var r=Rh(e,e===ar?Sr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Jh(e,r);else{t=r;var o=Wt;Wt|=2;var i=CN();(ar!==e||Sr!==t)&&(gs=null,pc=jn()+500,Aa(e,t));do try{m$();break}catch(l){ON(e,l)}while(!0);Xv(),Wh.current=i,Wt=o,Gn!==null?t=0:(ar=null,Sr=0,t=nr)}if(t!==0){if(t===2&&(o=e1(e),o!==0&&(r=o,t=T1(e,o))),t===1)throw n=ap,Aa(e,0),pl(e,r),ao(e,jn()),n;if(t===6)pl(e,r);else{if(o=e.current.alternate,!(r&30)&&!d$(o)&&(t=Jh(e,r),t===2&&(i=e1(e),i!==0&&(r=i,t=T1(e,i))),t===1))throw n=ap,Aa(e,0),pl(e,r),ao(e,jn()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Ie(345));case 2:Sa(e,oo,gs);break;case 3:if(pl(e,r),(r&130023424)===r&&(t=hw+500-jn(),10<t)){if(Rh(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Vr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=a1(Sa.bind(null,e,oo,gs),t);break}Sa(e,oo,gs);break;case 4:if(pl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-pi(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p$(r/1960))-r,10<r){e.timeoutHandle=a1(Sa.bind(null,e,oo,gs),r);break}Sa(e,oo,gs);break;case 5:Sa(e,oo,gs);break;default:throw Error(Ie(329))}}}return ao(e,jn()),e.callbackNode===n?xN.bind(null,e):null}function T1(e,t){var n=Ff;return e.current.memoizedState.isDehydrated&&(Aa(e,t).flags|=256),e=Jh(e,t),e!==2&&(t=oo,oo=n,t!==null&&A1(t)),e}function A1(e){oo===null?oo=e:oo.push.apply(oo,e)}function d$(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!mi(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pl(e,t){for(t&=~dw,t&=~Rm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pi(t),r=1<<n;e[n]=-1,t&=~r}}function sx(e){if(Wt&6)throw Error(Ie(327));ec();var t=Rh(e,0);if(!(t&1))return ao(e,jn()),null;var n=Jh(e,t);if(e.tag!==0&&n===2){var r=e1(e);r!==0&&(t=r,n=T1(e,r))}if(n===1)throw n=ap,Aa(e,0),pl(e,t),ao(e,jn()),n;if(n===6)throw Error(Ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sa(e,oo,gs),ao(e,jn()),null}function mw(e,t){var n=Wt;Wt|=1;try{return e(t)}finally{Wt=n,Wt===0&&(pc=jn()+500,Nm&&Bl())}}function Ba(e){yl!==null&&yl.tag===0&&!(Wt&6)&&ec();var t=Wt;Wt|=1;var n=Ko.transition,r=sn;try{if(Ko.transition=null,sn=1,e)return e()}finally{sn=r,Ko.transition=n,Wt=t,!(Wt&6)&&Bl()}}function gw(){bo=Ku.current,wn(Ku)}function Aa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,V4(n)),Gn!==null)for(n=Gn.return;n!==null;){var r=n;switch(Qv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$h();break;case 3:cc(),wn(so),wn(Ir),iw();break;case 5:ow(r);break;case 4:cc();break;case 13:wn(Nn);break;case 19:wn(Nn);break;case 10:ew(r.type._context);break;case 22:case 23:gw()}n=n.return}if(ar=e,Gn=e=Ml(e.current,null),Sr=bo=t,nr=0,ap=null,dw=Rm=ja=0,oo=Ff=null,Ca!==null){for(t=0;t<Ca.length;t++)if(n=Ca[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Ca=null}return e}function ON(e,t){do{var n=Gn;try{if(Xv(),th.current=qh,Hh){for(var r=Mn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Hh=!1}if(za=0,lr=er=Mn=null,$f=!1,ip=0,pw.current=null,n===null||n.return===null){nr=1,ap=t,Gn=null;break}e:{var i=e,s=n.return,l=n,u=t;if(t=Sr,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,p=l,d=p.tag;if(!(p.mode&1)&&(d===0||d===11||d===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=Kk(s);if(g!==null){g.flags&=-257,Gk(g,s,l,i,t),g.mode&1&&Wk(i,f,t),t=g,u=f;var y=t.updateQueue;if(y===null){var b=new Set;b.add(u),t.updateQueue=b}else y.add(u);break e}else{if(!(t&1)){Wk(i,f,t),yw();break e}u=Error(Ie(426))}}else if(bn&&l.mode&1){var E=Kk(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Gk(E,s,l,i,t),Yv(fc(u,l));break e}}i=u=fc(u,l),nr!==4&&(nr=2),Ff===null?Ff=[i]:Ff.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var S=lN(i,u,t);jk(i,S);break e;case 1:l=u;var x=i.type,k=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Tl===null||!Tl.has(k)))){i.flags|=65536,t&=-t,i.lanes|=t;var I=aN(i,l,t);jk(i,I);break e}}i=i.return}while(i!==null)}NN(n)}catch(L){t=L,Gn===n&&n!==null&&(Gn=n=n.return);continue}break}while(!0)}function CN(){var e=Wh.current;return Wh.current=qh,e===null?qh:e}function yw(){(nr===0||nr===3||nr===2)&&(nr=4),ar===null||!(ja&268435455)&&!(Rm&268435455)||pl(ar,Sr)}function Jh(e,t){var n=Wt;Wt|=2;var r=CN();(ar!==e||Sr!==t)&&(gs=null,Aa(e,t));do try{h$();break}catch(o){ON(e,o)}while(!0);if(Xv(),Wt=n,Wh.current=r,Gn!==null)throw Error(Ie(261));return ar=null,Sr=0,nr}function h$(){for(;Gn!==null;)EN(Gn)}function m$(){for(;Gn!==null&&!j8();)EN(Gn)}function EN(e){var t=AN(e.alternate,e,bo);e.memoizedProps=e.pendingProps,t===null?NN(e):Gn=t,pw.current=null}function NN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=a$(n,t),n!==null){n.flags&=32767,Gn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nr=6,Gn=null;return}}else if(n=l$(n,t,bo),n!==null){Gn=n;return}if(t=t.sibling,t!==null){Gn=t;return}Gn=t=e}while(t!==null);nr===0&&(nr=5)}function Sa(e,t,n){var r=sn,o=Ko.transition;try{Ko.transition=null,sn=1,g$(e,t,n,r)}finally{Ko.transition=o,sn=r}return null}function g$(e,t,n,r){do ec();while(yl!==null);if(Wt&6)throw Error(Ie(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ie(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Q8(e,i),e===ar&&(Gn=ar=null,Sr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pd||(Pd=!0,MN(Mh,function(){return ec(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ko.transition,Ko.transition=null;var s=sn;sn=1;var l=Wt;Wt|=4,pw.current=null,c$(e,n),bN(n,e),$4(s1),Dh=!!i1,s1=i1=null,e.current=n,f$(n),B8(),Wt=l,sn=s,Ko.transition=i}else e.current=n;if(Pd&&(Pd=!1,yl=e,Gh=o),i=e.pendingLanes,i===0&&(Tl=null),H8(n.stateNode),ao(e,jn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Kh)throw Kh=!1,e=E1,E1=null,e;return Gh&1&&e.tag!==0&&ec(),i=e.pendingLanes,i&1?e===N1?zf++:(zf=0,N1=e):zf=0,Bl(),null}function ec(){if(yl!==null){var e=l2(Gh),t=Ko.transition,n=sn;try{if(Ko.transition=null,sn=16>e?16:e,yl===null)var r=!1;else{if(e=yl,yl=null,Gh=0,Wt&6)throw Error(Ie(331));var o=Wt;for(Wt|=4,Ye=e.current;Ye!==null;){var i=Ye,s=i.child;if(Ye.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var f=l[u];for(Ye=f;Ye!==null;){var p=Ye;switch(p.tag){case 0:case 11:case 15:Lf(8,p,i)}var d=p.child;if(d!==null)d.return=p,Ye=d;else for(;Ye!==null;){p=Ye;var m=p.sibling,g=p.return;if(vN(p),p===f){Ye=null;break}if(m!==null){m.return=g,Ye=m;break}Ye=g}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}Ye=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ye=s;else e:for(;Ye!==null;){if(i=Ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lf(9,i,i.return)}var S=i.sibling;if(S!==null){S.return=i.return,Ye=S;break e}Ye=i.return}}var x=e.current;for(Ye=x;Ye!==null;){s=Ye;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,Ye=k;else e:for(s=x;Ye!==null;){if(l=Ye,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mm(9,l)}}catch(L){Pn(l,l.return,L)}if(l===s){Ye=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,Ye=I;break e}Ye=l.return}}if(Wt=o,Bl(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(km,e)}catch{}r=!0}return r}finally{sn=n,Ko.transition=t}}return!1}function lx(e,t,n){t=fc(n,t),t=lN(e,t,1),e=Nl(e,t,1),t=Vr(),e!==null&&(bp(e,1,t),ao(e,t))}function Pn(e,t,n){if(e.tag===3)lx(e,e,n);else for(;t!==null;){if(t.tag===3){lx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tl===null||!Tl.has(r))){e=fc(n,e),e=aN(t,e,1),t=Nl(t,e,1),e=Vr(),t!==null&&(bp(t,1,e),ao(t,e));break}}t=t.return}}function y$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Vr(),e.pingedLanes|=e.suspendedLanes&n,ar===e&&(Sr&n)===n&&(nr===4||nr===3&&(Sr&130023424)===Sr&&500>jn()-hw?Aa(e,0):dw|=n),ao(e,t)}function TN(e,t){t===0&&(e.mode&1?(t=Cd,Cd<<=1,!(Cd&130023424)&&(Cd=4194304)):t=1);var n=Vr();e=Ts(e,t),e!==null&&(bp(e,t,n),ao(e,n))}function v$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),TN(e,n)}function w$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(t),TN(e,n)}var AN;AN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||so.current)io=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return io=!1,s$(e,t,n);io=!!(e.flags&131072)}else io=!1,bn&&t.flags&1048576&&I2(t,zh,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rh(e,t),e=t.pendingProps;var o=lc(t,Ir.current);Xu(t,n),o=lw(null,t,r,e,o,n);var i=aw();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lo(r)?(i=!0,Lh(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,nw(t),o.updater=Am,t.stateNode=o,o._reactInternals=t,m1(t,r,e,n),t=v1(null,t,r,!0,i,n)):(t.tag=0,bn&&i&&Jv(t),Br(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rh(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=b$(r),e=si(r,e),o){case 0:t=y1(null,t,r,e,n);break e;case 1:t=Yk(null,t,r,e,n);break e;case 11:t=Jk(null,t,r,e,n);break e;case 14:t=Qk(null,t,r,si(r.type,e),n);break e}throw Error(Ie(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:si(r,o),y1(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:si(r,o),Yk(e,t,r,o,n);case 3:e:{if(pN(t),e===null)throw Error(Ie(387));r=t.pendingProps,i=t.memoizedState,o=i.element,z2(e,t),Uh(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=fc(Error(Ie(423)),t),t=Zk(e,t,r,n,o);break e}else if(r!==o){o=fc(Error(Ie(424)),t),t=Zk(e,t,r,n,o);break e}else for(Oo=El(t.stateNode.containerInfo.firstChild),Eo=t,bn=!0,ai=null,n=L2(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ac(),r===o){t=As(e,t,n);break e}Br(e,t,r,n)}t=t.child}return t;case 5:return j2(t),e===null&&p1(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,l1(r,o)?s=null:i!==null&&l1(r,i)&&(t.flags|=32),fN(e,t),Br(e,t,s,n),t.child;case 6:return e===null&&p1(t),null;case 13:return dN(e,t,n);case 4:return rw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=uc(t,null,r,n):Br(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:si(r,o),Jk(e,t,r,o,n);case 7:return Br(e,t,t.pendingProps,n),t.child;case 8:return Br(e,t,t.pendingProps.children,n),t.child;case 12:return Br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,mn(jh,r._currentValue),r._currentValue=s,i!==null)if(mi(i.value,s)){if(i.children===o.children&&!so.current){t=As(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Os(-1,n&-n),u.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?u.next=u:(u.next=p.next,p.next=u),f.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),d1(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ie(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),d1(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Br(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Xu(t,n),o=Jo(o),r=r(o),t.flags|=1,Br(e,t,r,n),t.child;case 14:return r=t.type,o=si(r,t.pendingProps),o=si(r.type,o),Qk(e,t,r,o,n);case 15:return uN(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:si(r,o),rh(e,t),t.tag=1,lo(r)?(e=!0,Lh(t)):e=!1,Xu(t,n),sN(t,r,o),m1(t,r,o,n),v1(null,t,r,!0,e,n);case 19:return hN(e,t,n);case 22:return cN(e,t,n)}throw Error(Ie(156,t.tag))};function MN(e,t){return r2(e,t)}function S$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wo(e,t,n,r){return new S$(e,t,n,r)}function vw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function b$(e){if(typeof e=="function")return vw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lv)return 11;if(e===Fv)return 14}return 2}function Ml(e,t){var n=e.alternate;return n===null?(n=Wo(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sh(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")vw(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Lu:return Ma(n.children,o,i,t);case $v:s=8,o|=8;break;case z0:return e=Wo(12,n,t,o|2),e.elementType=z0,e.lanes=i,e;case j0:return e=Wo(13,n,t,o),e.elementType=j0,e.lanes=i,e;case B0:return e=Wo(19,n,t,o),e.elementType=B0,e.lanes=i,e;case jE:return Dm(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FE:s=10;break e;case zE:s=9;break e;case Lv:s=11;break e;case Fv:s=14;break e;case sl:s=16,r=null;break e}throw Error(Ie(130,e==null?e:typeof e,""))}return t=Wo(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Ma(e,t,n,r){return e=Wo(7,e,r,t),e.lanes=n,e}function Dm(e,t,n,r){return e=Wo(22,e,r,t),e.elementType=jE,e.lanes=n,e.stateNode={isHidden:!1},e}function Ey(e,t,n){return e=Wo(6,e,null,t),e.lanes=n,e}function Ny(e,t,n){return t=Wo(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function k$(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ly(0),this.expirationTimes=ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ly(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ww(e,t,n,r,o,i,s,l,u){return e=new k$(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Wo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nw(i),e}function x$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$u,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function RN(e){if(!e)return Pl;e=e._reactInternals;e:{if(Ka(e)!==e||e.tag!==1)throw Error(Ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ie(171))}if(e.tag===1){var n=e.type;if(lo(n))return R2(e,n,t)}return t}function DN(e,t,n,r,o,i,s,l,u){return e=ww(n,r,!0,e,o,i,s,l,u),e.context=RN(null),n=e.current,r=Vr(),o=Al(n),i=Os(r,o),i.callback=t??null,Nl(n,i,o),e.current.lanes=o,bp(e,o,r),ao(e,r),e}function Im(e,t,n,r){var o=t.current,i=Vr(),s=Al(o);return n=RN(n),t.context===null?t.context=n:t.pendingContext=n,t=Os(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Nl(o,t,s),e!==null&&(di(e,o,s,i),eh(e,o,s)),s}function Qh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ax(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sw(e,t){ax(e,t),(e=e.alternate)&&ax(e,t)}function O$(){return null}var IN=typeof reportError=="function"?reportError:function(e){console.error(e)};function bw(e){this._internalRoot=e}_m.prototype.render=bw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ie(409));Im(e,t,null,null)};_m.prototype.unmount=bw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ba(function(){Im(null,e,null,null)}),t[Ns]=null}};function _m(e){this._internalRoot=e}_m.prototype.unstable_scheduleHydration=function(e){if(e){var t=c2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<fl.length&&t!==0&&t<fl[n].priority;n++);fl.splice(n,0,e),n===0&&p2(e)}};function kw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ux(){}function C$(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var f=Qh(s);i.call(f)}}var s=DN(t,r,e,0,null,!1,!1,"",ux);return e._reactRootContainer=s,e[Ns]=s.current,ep(e.nodeType===8?e.parentNode:e),Ba(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var f=Qh(u);l.call(f)}}var u=ww(e,0,!1,null,null,!1,!1,"",ux);return e._reactRootContainer=u,e[Ns]=u.current,ep(e.nodeType===8?e.parentNode:e),Ba(function(){Im(t,u,n,r)}),u}function $m(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var u=Qh(s);l.call(u)}}Im(t,s,e,o)}else s=C$(n,t,e,o,r);return Qh(s)}a2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cf(t.pendingLanes);n!==0&&(Bv(t,n|1),ao(t,jn()),!(Wt&6)&&(pc=jn()+500,Bl()))}break;case 13:Ba(function(){var r=Ts(e,1);if(r!==null){var o=Vr();di(r,e,1,o)}}),Sw(e,1)}};Uv=function(e){if(e.tag===13){var t=Ts(e,134217728);if(t!==null){var n=Vr();di(t,e,134217728,n)}Sw(e,134217728)}};u2=function(e){if(e.tag===13){var t=Al(e),n=Ts(e,t);if(n!==null){var r=Vr();di(n,e,t,r)}Sw(e,t)}};c2=function(){return sn};f2=function(e,t){var n=sn;try{return sn=e,t()}finally{sn=n}};Y0=function(e,t,n){switch(t){case"input":if(H0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Em(r);if(!o)throw Error(Ie(90));UE(r),H0(r,o)}}}break;case"textarea":HE(e,n);break;case"select":t=n.value,t!=null&&Ju(e,!!n.multiple,t,!1)}};YE=mw;ZE=Ba;var E$={usingClientEntryPoint:!1,Events:[xp,Bu,Em,JE,QE,mw]},df={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N$={bundleType:df.bundleType,version:df.version,rendererPackageName:df.rendererPackageName,rendererConfig:df.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=t2(e),e===null?null:e.stateNode},findFiberByHostInstance:df.findFiberByHostInstance||O$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{km=$d.inject(N$),ji=$d}catch{}}Mo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E$;Mo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kw(t))throw Error(Ie(200));return x$(e,t,null,n)};Mo.createRoot=function(e,t){if(!kw(e))throw Error(Ie(299));var n=!1,r="",o=IN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ww(e,1,!1,null,null,n,!1,r,o),e[Ns]=t.current,ep(e.nodeType===8?e.parentNode:e),new bw(t)};Mo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ie(188)):(e=Object.keys(e).join(","),Error(Ie(268,e)));return e=t2(t),e=e===null?null:e.stateNode,e};Mo.flushSync=function(e){return Ba(e)};Mo.hydrate=function(e,t,n){if(!Pm(t))throw Error(Ie(200));return $m(null,e,t,!0,n)};Mo.hydrateRoot=function(e,t,n){if(!kw(e))throw Error(Ie(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=IN;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=DN(t,null,e,1,n??null,o,!1,i,s),e[Ns]=t.current,ep(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new _m(t)};Mo.render=function(e,t,n){if(!Pm(t))throw Error(Ie(200));return $m(null,e,t,!1,n)};Mo.unmountComponentAtNode=function(e){if(!Pm(e))throw Error(Ie(40));return e._reactRootContainer?(Ba(function(){$m(null,null,e,!1,function(){e._reactRootContainer=null,e[Ns]=null})}),!0):!1};Mo.unstable_batchedUpdates=mw;Mo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pm(n))throw Error(Ie(200));if(e==null||e._reactInternals===void 0)throw Error(Ie(38));return $m(e,t,n,!1,r)};Mo.version="18.3.1-next-f1338f8080-20240426";function _N(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_N)}catch(e){console.error(e)}}_N(),_E.exports=Mo;var PN=_E.exports;const T$=kE(PN);var cx=PN;L0.createRoot=cx.createRoot,L0.hydrateRoot=cx.hydrateRoot;const $N={setSize:e=>{console.log("Mock Front.setSize:",e)},contextUpdates:{subscribe:e=>(console.log("Mock Front.contextUpdates.subscribe"),setTimeout(()=>{e({draft:{id:"mock-draft-123",content:{body:"",type:"html"}}})},100),()=>console.log("Mock unsubscribe"))},updateDraft:async(e,t)=>(console.log("Mock Front.updateDraft called:",{draftId:e,options:t}),console.log("Table HTML would be inserted:",t.content.body),Promise.resolve())},A$=window.Front||$N,LN=Gt.createContext({context:null,Front:null,isReady:!1}),FN=()=>Gt.useContext(LN),M$=({children:e})=>{const[t,n]=Gt.useState(null),[r,o]=Gt.useState(!1);Gt.useEffect(()=>{let l=0;const u=20;let f;const p=()=>{l++,console.log(`Checking for Front SDK... (attempt ${l}/${u})`),console.log("window.Front:",window.Front),console.log("window.location:",window.location.href),console.log("Is in iframe?:",window!==window.top),console.log("Parent origin:",window!==window.top?document.referrer:"N/A");const d=window.Front;if(d){console.log(" Front SDK found!"),clearInterval(f),i(d);return}l>=u&&(console.warn(" Front SDK not available - Using mock for development"),console.log("The Front SDK is only available when this plugin is loaded inside Front."),console.log("IMPORTANT: In Front settings, make sure:"),console.log('1. Plugin type is set to "Composer"'),console.log("2. The plugin URL is correct"),console.log("3. You are opening this from the composer toolbar"),console.log("window object keys:",Object.keys(window).filter(m=>m.toLowerCase().includes("front"))),clearInterval(f),i($N))};return p(),f=setInterval(p,200),()=>clearInterval(f)},[]);const i=l=>{try{console.log(" Front SDK detected - Initializing..."),console.log("Available Front methods:",Object.keys(l)),l.setSize({width:800,height:700}),console.log("Subscribing to Front.contextUpdates...");const u=l.contextUpdates.subscribe(f=>{console.log(" Front context updated:",f),console.log("Context type:",f==null?void 0:f.type),console.log("Has draft?:",!!(f!=null&&f.draft)),f!=null&&f.draft?(console.log(" Composer context detected with draft:",f.draft),console.log("Draft ID:",f.draft.id)):console.log(" No draft found in context. Make sure to open this plugin from the composer toolbar."),n(f),o(!0)});console.log(" Front SDK initialized successfully"),console.log("Subscription created:",!!u)}catch(u){console.error(" Error initializing Front SDK:",u),o(!0)}},s=window.Front||A$;return cn.jsx(LN.Provider,{value:{context:t,Front:s,isReady:r},children:e})};var R$=Object.defineProperty,D$=(e,t,n)=>t in e?R$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hf=(e,t,n)=>D$(e,typeof t!="symbol"?t+"":t,n),ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var M1={exports:{}},mf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function I$(){if(fx)return mf;fx=1;var e=Fl,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(l,u,f){var p,d={},m=null,g=null;f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),u.ref!==void 0&&(g=u.ref);for(p in u)r.call(u,p)&&!i.hasOwnProperty(p)&&(d[p]=u[p]);if(l&&l.defaultProps)for(p in u=l.defaultProps,u)d[p]===void 0&&(d[p]=u[p]);return{$$typeof:t,type:l,key:m,ref:g,props:d,_owner:o.current}}return mf.Fragment=n,mf.jsx=s,mf.jsxs=s,mf}var gf={},px;function _$(){if(px)return gf;px=1;var e={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return e.NODE_ENV!=="production"&&function(){var t=Fl,n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),b=Symbol.iterator,E="@@iterator";function S(z){if(z===null||typeof z!="object")return null;var Re=b&&z[b]||z[E];return typeof Re=="function"?Re:null}var x=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function k(z){{for(var Re=arguments.length,Ue=new Array(Re>1?Re-1:0),ot=1;ot<Re;ot++)Ue[ot-1]=arguments[ot];I("error",z,Ue)}}function I(z,Re,Ue){{var ot=x.ReactDebugCurrentFrame,Lt=ot.getStackAddendum();Lt!==""&&(Re+="%s",Ue=Ue.concat([Lt]));var Bt=Ue.map(function(Tt){return String(Tt)});Bt.unshift("Warning: "+Re),Function.prototype.apply.call(console[z],console,Bt)}}var L=!1,_=!1,H=!1,j=!1,Y=!1,ue;ue=Symbol.for("react.module.reference");function Se(z){return!!(typeof z=="string"||typeof z=="function"||z===o||z===s||Y||z===i||z===p||z===d||j||z===y||L||_||H||typeof z=="object"&&z!==null&&(z.$$typeof===g||z.$$typeof===m||z.$$typeof===l||z.$$typeof===u||z.$$typeof===f||z.$$typeof===ue||z.getModuleId!==void 0))}function ge(z,Re,Ue){var ot=z.displayName;if(ot)return ot;var Lt=Re.displayName||Re.name||"";return Lt!==""?Ue+"("+Lt+")":Ue}function W(z){return z.displayName||"Context"}function G(z){if(z==null)return null;if(typeof z.tag=="number"&&k("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof z=="function")return z.displayName||z.name||null;if(typeof z=="string")return z;switch(z){case o:return"Fragment";case r:return"Portal";case s:return"Profiler";case i:return"StrictMode";case p:return"Suspense";case d:return"SuspenseList"}if(typeof z=="object")switch(z.$$typeof){case u:var Re=z;return W(Re)+".Consumer";case l:var Ue=z;return W(Ue._context)+".Provider";case f:return ge(z,z.render,"ForwardRef");case m:var ot=z.displayName||null;return ot!==null?ot:G(z.type)||"Memo";case g:{var Lt=z,Bt=Lt._payload,Tt=Lt._init;try{return G(Tt(Bt))}catch{return null}}}return null}var U=Object.assign,re=0,He,fe,J,T,se,xe,N;function R(){}R.__reactDisabledLog=!0;function P(){{if(re===0){He=console.log,fe=console.info,J=console.warn,T=console.error,se=console.group,xe=console.groupCollapsed,N=console.groupEnd;var z={configurable:!0,enumerable:!0,value:R,writable:!0};Object.defineProperties(console,{info:z,log:z,warn:z,error:z,group:z,groupCollapsed:z,groupEnd:z})}re++}}function F(){{if(re--,re===0){var z={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:U({},z,{value:He}),info:U({},z,{value:fe}),warn:U({},z,{value:J}),error:U({},z,{value:T}),group:U({},z,{value:se}),groupCollapsed:U({},z,{value:xe}),groupEnd:U({},z,{value:N})})}re<0&&k("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var pe=x.ReactCurrentDispatcher,oe;function ce(z,Re,Ue){{if(oe===void 0)try{throw Error()}catch(Lt){var ot=Lt.stack.trim().match(/\n( *(at )?)/);oe=ot&&ot[1]||""}return`
`+oe+z}}var Ee=!1,Pe;{var ie=typeof WeakMap=="function"?WeakMap:Map;Pe=new ie}function Z(z,Re){if(!z||Ee)return"";{var Ue=Pe.get(z);if(Ue!==void 0)return Ue}var ot;Ee=!0;var Lt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Bt;Bt=pe.current,pe.current=null,P();try{if(Re){var Tt=function(){throw Error()};if(Object.defineProperty(Tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Tt,[])}catch(Un){ot=Un}Reflect.construct(z,[],Tt)}else{try{Tt.call()}catch(Un){ot=Un}z.call(Tt.prototype)}}else{try{throw Error()}catch(Un){ot=Un}z()}}catch(Un){if(Un&&ot&&typeof Un.stack=="string"){for(var wt=Un.stack.split(`
`),xn=ot.stack.split(`
`),on=wt.length-1,un=xn.length-1;on>=1&&un>=0&&wt[on]!==xn[un];)un--;for(;on>=1&&un>=0;on--,un--)if(wt[on]!==xn[un]){if(on!==1||un!==1)do if(on--,un--,un<0||wt[on]!==xn[un]){var On=`
`+wt[on].replace(" at new "," at ");return z.displayName&&On.includes("<anonymous>")&&(On=On.replace("<anonymous>",z.displayName)),typeof z=="function"&&Pe.set(z,On),On}while(on>=1&&un>=0);break}}}finally{Ee=!1,pe.current=Bt,F(),Error.prepareStackTrace=Lt}var Do=z?z.displayName||z.name:"",kr=Do?ce(Do):"";return typeof z=="function"&&Pe.set(z,kr),kr}function me(z,Re,Ue){return Z(z,!1)}function de(z){var Re=z.prototype;return!!(Re&&Re.isReactComponent)}function Qe(z,Re,Ue){if(z==null)return"";if(typeof z=="function")return Z(z,de(z));if(typeof z=="string")return ce(z);switch(z){case p:return ce("Suspense");case d:return ce("SuspenseList")}if(typeof z=="object")switch(z.$$typeof){case f:return me(z.render);case m:return Qe(z.type,Re,Ue);case g:{var ot=z,Lt=ot._payload,Bt=ot._init;try{return Qe(Bt(Lt),Re,Ue)}catch{}}}return""}var Ze=Object.prototype.hasOwnProperty,ye={},te=x.ReactDebugCurrentFrame;function $e(z){if(z){var Re=z._owner,Ue=Qe(z.type,z._source,Re?Re.type:null);te.setExtraStackFrame(Ue)}else te.setExtraStackFrame(null)}function Ke(z,Re,Ue,ot,Lt){{var Bt=Function.call.bind(Ze);for(var Tt in z)if(Bt(z,Tt)){var wt=void 0;try{if(typeof z[Tt]!="function"){var xn=Error((ot||"React class")+": "+Ue+" type `"+Tt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof z[Tt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw xn.name="Invariant Violation",xn}wt=z[Tt](Re,Tt,ot,Ue,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(on){wt=on}wt&&!(wt instanceof Error)&&($e(Lt),k("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ot||"React class",Ue,Tt,typeof wt),$e(null)),wt instanceof Error&&!(wt.message in ye)&&(ye[wt.message]=!0,$e(Lt),k("Failed %s type: %s",Ue,wt.message),$e(null))}}}var kt=Array.isArray;function Xe(z){return kt(z)}function q(z){{var Re=typeof Symbol=="function"&&Symbol.toStringTag,Ue=Re&&z[Symbol.toStringTag]||z.constructor.name||"Object";return Ue}}function X(z){try{return B(z),!1}catch{return!0}}function B(z){return""+z}function ne(z){if(X(z))return k("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",q(z)),B(z)}var be=x.ReactCurrentOwner,Le={key:!0,ref:!0,__self:!0,__source:!0},Fe,et;function pt(z){if(Ze.call(z,"ref")){var Re=Object.getOwnPropertyDescriptor(z,"ref").get;if(Re&&Re.isReactWarning)return!1}return z.ref!==void 0}function gt(z){if(Ze.call(z,"key")){var Re=Object.getOwnPropertyDescriptor(z,"key").get;if(Re&&Re.isReactWarning)return!1}return z.key!==void 0}function nn(z,Re){typeof z.ref=="string"&&be.current}function kn(z,Re){{var Ue=function(){Fe||(Fe=!0,k("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Re))};Ue.isReactWarning=!0,Object.defineProperty(z,"key",{get:Ue,configurable:!0})}}function rn(z,Re){{var Ue=function(){et||(et=!0,k("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Re))};Ue.isReactWarning=!0,Object.defineProperty(z,"ref",{get:Ue,configurable:!0})}}var Bn=function(z,Re,Ue,ot,Lt,Bt,Tt){var wt={$$typeof:n,type:z,key:Re,ref:Ue,props:Tt,_owner:Bt};return wt._store={},Object.defineProperty(wt._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(wt,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ot}),Object.defineProperty(wt,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Lt}),Object.freeze&&(Object.freeze(wt.props),Object.freeze(wt)),wt};function pn(z,Re,Ue,ot,Lt){{var Bt,Tt={},wt=null,xn=null;Ue!==void 0&&(ne(Ue),wt=""+Ue),gt(Re)&&(ne(Re.key),wt=""+Re.key),pt(Re)&&(xn=Re.ref,nn(Re));for(Bt in Re)Ze.call(Re,Bt)&&!Le.hasOwnProperty(Bt)&&(Tt[Bt]=Re[Bt]);if(z&&z.defaultProps){var on=z.defaultProps;for(Bt in on)Tt[Bt]===void 0&&(Tt[Bt]=on[Bt])}if(wt||xn){var un=typeof z=="function"?z.displayName||z.name||"Unknown":z;wt&&kn(Tt,un),xn&&rn(Tt,un)}return Bn(z,wt,xn,Lt,ot,be.current,Tt)}}var fr=x.ReactCurrentOwner,Gi=x.ReactDebugCurrentFrame;function Jr(z){if(z){var Re=z._owner,Ue=Qe(z.type,z._source,Re?Re.type:null);Gi.setExtraStackFrame(Ue)}else Gi.setExtraStackFrame(null)}var Yo;Yo=!1;function pr(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function yi(){{if(fr.current){var z=G(fr.current.type);if(z)return`

Check the render method of \``+z+"`."}return""}}function Ji(z){return""}var Qi={};function vi(z){{var Re=yi();if(!Re){var Ue=typeof z=="string"?z:z.displayName||z.name;Ue&&(Re=`

Check the top-level render call using <`+Ue+">.")}return Re}}function Rs(z,Re){{if(!z._store||z._store.validated||z.key!=null)return;z._store.validated=!0;var Ue=vi(Re);if(Qi[Ue])return;Qi[Ue]=!0;var ot="";z&&z._owner&&z._owner!==fr.current&&(ot=" It was passed a child from "+G(z._owner.type)+"."),Jr(z),k('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Ue,ot),Jr(null)}}function Ds(z,Re){{if(typeof z!="object")return;if(Xe(z))for(var Ue=0;Ue<z.length;Ue++){var ot=z[Ue];pr(ot)&&Rs(ot,Re)}else if(pr(z))z._store&&(z._store.validated=!0);else if(z){var Lt=S(z);if(typeof Lt=="function"&&Lt!==z.entries)for(var Bt=Lt.call(z),Tt;!(Tt=Bt.next()).done;)pr(Tt.value)&&Rs(Tt.value,Re)}}}function Wl(z){{var Re=z.type;if(Re==null||typeof Re=="string")return;var Ue;if(typeof Re=="function")Ue=Re.propTypes;else if(typeof Re=="object"&&(Re.$$typeof===f||Re.$$typeof===m))Ue=Re.propTypes;else return;if(Ue){var ot=G(Re);Ke(Ue,z.props,"prop",ot,z)}else if(Re.PropTypes!==void 0&&!Yo){Yo=!0;var Lt=G(Re);k("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Lt||"Unknown")}typeof Re.getDefaultProps=="function"&&!Re.getDefaultProps.isReactClassApproved&&k("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function wi(z){{for(var Re=Object.keys(z.props),Ue=0;Ue<Re.length;Ue++){var ot=Re[Ue];if(ot!=="children"&&ot!=="key"){Jr(z),k("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ot),Jr(null);break}}z.ref!==null&&(Jr(z),k("Invalid attribute `ref` supplied to `React.Fragment`."),Jr(null))}}var Is={};function Si(z,Re,Ue,ot,Lt,Bt){{var Tt=Se(z);if(!Tt){var wt="";(z===void 0||typeof z=="object"&&z!==null&&Object.keys(z).length===0)&&(wt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var xn=Ji();xn?wt+=xn:wt+=yi();var on;z===null?on="null":Xe(z)?on="array":z!==void 0&&z.$$typeof===n?(on="<"+(G(z.type)||"Unknown")+" />",wt=" Did you accidentally export a JSX literal instead of a component?"):on=typeof z,k("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",on,wt)}var un=pn(z,Re,Ue,Lt,Bt);if(un==null)return un;if(Tt){var On=Re.children;if(On!==void 0)if(ot)if(Xe(On)){for(var Do=0;Do<On.length;Do++)Ds(On[Do],z);Object.freeze&&Object.freeze(On)}else k("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Ds(On,z)}if(Ze.call(Re,"key")){var kr=G(z),Un=Object.keys(Re).filter(function(ki){return ki!=="key"}),bi=Un.length>0?"{key: someKey, "+Un.join(": ..., ")+": ...}":"{key: someKey}";if(!Is[kr+bi]){var _s=Un.length>0?"{"+Un.join(": ..., ")+": ...}":"{}";k(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,bi,kr,_s,kr),Is[kr+bi]=!0}}return z===o?wi(un):Wl(un),un}}function Kl(z,Re,Ue){return Si(z,Re,Ue,!0)}function Yi(z,Re,Ue){return Si(z,Re,Ue,!1)}var Gl=Yi,Ja=Kl;gf.Fragment=o,gf.jsx=Gl,gf.jsxs=Ja}(),gf}var P$={};P$.NODE_ENV==="production"?M1.exports=I$():M1.exports=_$();var qt=M1.exports;function gr(e){this.content=e}gr.prototype={constructor:gr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return o==-1?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new gr(i)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new gr(n)},addToStart:function(e,t){return new gr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new gr(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(i==-1?o.length:i,0,t,n),new gr(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=gr.from(e),e.size?new gr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=gr.from(e),e.size?new gr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=gr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};gr.from=function(e){if(e instanceof gr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new gr(t)};function zN(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o==i){n+=o.nodeSize;continue}if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){let s=zN(o.content,i.content,n+1);if(s!=null)return s}n+=o.nodeSize}}function jN(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(o==0||i==0)return o==i?null:{a:n,b:r};let s=e.child(--o),l=t.child(--i),u=s.nodeSize;if(s==l){n-=u,r-=u;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let f=0,p=Math.min(s.text.length,l.text.length);for(;f<p&&s.text[s.text.length-f-1]==l.text[l.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let f=jN(s.content,l.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class ze{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,o=0,i){for(let s=0,l=0;l<n;s++){let u=this.content[s],f=l+u.nodeSize;if(f>t&&r(u,o+l,i||null,s)!==!1&&u.content.size){let p=l+1;u.nodesBetween(Math.max(0,t-p),Math.min(u.content.size,n-p),r,o+p)}l=f}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,o){let i="",s=!0;return this.nodesBetween(t,n,(l,u)=>{let f=l.isText?l.text.slice(Math.max(t,u)-u,n-u):l.isLeaf?o?typeof o=="function"?o(l):o:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&f||l.isTextblock)&&r&&(s?s=!1:i+=r),i+=f},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,o=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),i=1);i<t.content.length;i++)o.push(t.content[i]);return new ze(o,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],o=0;if(n>t)for(let i=0,s=0;s<n;i++){let l=this.content[i],u=s+l.nodeSize;u>t&&((s<t||u>n)&&(l.isText?l=l.cut(Math.max(0,t-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,t-s-1),Math.min(l.content.size,n-s-1))),r.push(l),o+=l.nodeSize),s=u}return new ze(r,o)}cutByIndex(t,n){return t==n?ze.empty:t==0&&n==this.content.length?this:new ze(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let o=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return o[t]=n,new ze(o,i)}addToStart(t){return new ze([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new ze(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];t(o,r,n),r+=o.nodeSize}}findDiffStart(t,n=0){return zN(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return jN(this,t,n,r)}findIndex(t,n=-1){if(t==0)return Ld(0,t);if(t==this.size)return Ld(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,o=0;;r++){let i=this.child(r),s=o+i.nodeSize;if(s>=t)return s==t||n>0?Ld(r+1,s):Ld(r,o);o=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return ze.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ze(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return ze.empty;let n,r=0;for(let o=0;o<t.length;o++){let i=t[o];r+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(n||(n=t.slice(0,o)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new ze(n||t,r)}static from(t){if(!t)return ze.empty;if(t instanceof ze)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new ze([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ze.empty=new ze([],0);const Ty={index:0,offset:0};function Ld(e,t){return Ty.index=e,Ty.offset=t,Ty}function Yh(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!Yh(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!Yh(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}class tn{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let o=0;o<t.length;o++){let i=t[o];if(this.eq(i))return t;if(this.type.excludes(i.type))n||(n=t.slice(0,o));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(n||(n=t.slice(0,o)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Yh(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return tn.none;if(t instanceof tn)return[t];let n=t.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}}tn.none=[];class Zh extends Error{}class We{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=UN(this.content,t+this.openStart,n);return r&&new We(r,this.openStart,this.openEnd)}removeBetween(t,n){return new We(BN(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return We.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new We(ze.fromJSON(t,n.content),r,o)}static maxOpen(t,n=!0){let r=0,o=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)o++;return new We(t,r,o)}}We.empty=new We(ze.empty,0,0);function BN(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:l}=e.findIndex(n);if(o==t||i.isText){if(l!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(BN(i.content,t-o-1,n-o-1)))}function UN(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),s=e.maybeChild(o);if(i==t||s.isText)return e.cut(0,t).append(n).append(e.cut(t));let l=UN(s.content,t-i-1,n);return l&&e.replaceChild(o,s.copy(l))}function $$(e,t,n){if(n.openStart>e.depth)throw new Zh("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Zh("Inconsistent open depths");return VN(e,t,n,0)}function VN(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let s=VN(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,l=s.content;return Da(s,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:s,end:l}=L$(n,e);return Da(i,qN(e,s,l,t,r))}else return Da(i,Xh(e,t,r))}function HN(e,t){if(!t.type.compatibleContent(e.type))throw new Zh("Cannot join "+t.type.name+" onto "+e.type.name)}function R1(e,t,n){let r=e.node(n);return HN(r,t.node(n)),r}function Ra(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function jf(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(Ra(e.nodeAfter,r),i++));for(let l=i;l<s;l++)Ra(o.child(l),r);t&&t.depth==n&&t.textOffset&&Ra(t.nodeBefore,r)}function Da(e,t){return e.type.checkContent(t),e.copy(t)}function qN(e,t,n,r,o){let i=e.depth>o&&R1(e,t,o+1),s=r.depth>o&&R1(n,r,o+1),l=[];return jf(null,e,o,l),i&&s&&t.index(o)==n.index(o)?(HN(i,s),Ra(Da(i,qN(e,t,n,r,o+1)),l)):(i&&Ra(Da(i,Xh(e,t,o+1)),l),jf(t,n,o,l),s&&Ra(Da(s,Xh(n,r,o+1)),l)),jf(r,null,o,l),new ze(l)}function Xh(e,t,n){let r=[];if(jf(null,e,n,r),e.depth>n){let o=R1(e,t,n+1);Ra(Da(o,Xh(e,t,n+1)),r)}return jf(t,null,n,r),new ze(r)}function L$(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)r=t.node(o).copy(ze.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}class up{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=t.child(n);return r?t.child(n).cut(r):o}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let i=0;i<t;i++)o+=r.child(i).nodeSize;return o}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return tn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),o=t.maybeChild(n);if(!r){let l=r;r=o,o=l}let i=r.marks;for(var s=0;s<i.length;s++)i[s].type.spec.inclusive===!1&&(!o||!i[s].isInSet(o.marks))&&(i=i[s--].removeFromSet(i));return i}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new j$(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,i=n;for(let s=t;;){let{index:l,offset:u}=s.content.findIndex(i),f=i-u;if(r.push(s,l,o+u),!f||(s=s.child(l),s.isText))break;i=f-1,o+=u+1}return new up(n,r,i)}static resolveCached(t,n){let r=dx.get(t);if(r)for(let i=0;i<r.elts.length;i++){let s=r.elts[i];if(s.pos==n)return s}else dx.set(t,r=new F$);let o=r.elts[r.i]=up.resolve(t,n);return r.i=(r.i+1)%z$,o}}class F${constructor(){this.elts=[],this.i=0}}const z$=12,dx=new WeakMap;class j${constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const B$=Object.create(null);class Ui{constructor(t,n,r,o=tn.none){this.type=t,this.attrs=n,this.marks=o,this.content=r||ze.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,o=0){this.content.nodesBetween(t,n,r,o,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,o){return this.content.textBetween(t,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&Yh(this.attrs,n||t.defaultAttrs||B$)&&tn.sameSet(this.marks,r||tn.none)}copy(t=null){return t==this.content?this:new Ui(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Ui(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return We.empty;let o=this.resolve(t),i=this.resolve(n),s=r?0:o.sharedDepth(n),l=o.start(s),u=o.node(s).content.cut(o.pos-l,i.pos-l);return new We(u,o.depth-s,i.depth-s)}replace(t,n,r){return $$(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(o==t||n.isText)return n;t-=o+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(t){return up.resolveCached(this,t)}resolveNoCache(t){return up.resolve(this,t)}rangeHasMark(t,n,r){let o=!1;return n>t&&this.nodesBetween(t,n,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),WN(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=ze.empty,o=0,i=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,o,i),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=o;u<i;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(t,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(t).matchType(r),s=i&&i.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=tn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!tn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let o=ze.fromJSON(t,n.content),i=t.nodeType(n.type).create(n.attrs,o,r);return i.type.checkAttrs(i.attrs),i}}Ui.prototype.text=void 0;class em extends Ui{constructor(t,n,r,o){if(super(t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):WN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new em(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new em(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function WN(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Ua{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new U$(t,n);if(r.next==null)return Ua.empty;let o=KN(r);r.next&&r.err("Unexpected trailing text");let i=J$(G$(o));return Q$(i,r),i}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let o=this;for(let i=n;o&&i<r;i++)o=o.matchType(t.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let o=[this];function i(s,l){let u=s.matchFragment(t,r);if(u&&(!n||u.validEnd))return ze.from(l.map(f=>f.createAndFill()));for(let f=0;f<s.next.length;f++){let{type:p,next:d}=s.next[f];if(!(p.isText||p.hasRequiredAttrs())&&o.indexOf(d)==-1){o.push(d);let m=i(d,l.concat(p));if(m)return m}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(t)){let s=[];for(let l=o;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<i.next.length;s++){let{type:l,next:u}=i.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!o.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:o}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let o=0;o<r.next.length;o++)t.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),t.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)i+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return i}).join(`
`)}}Ua.empty=new Ua(!0);class U${constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function KN(e){let t=[];do t.push(V$(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function V$(e){let t=[];do t.push(H$(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function H$(e){let t=K$(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=q$(e,t);else break;return t}function hx(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function q$(e,t){let n=hx(e),r=n;return e.eat(",")&&(e.next!="}"?r=hx(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function W$(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let i in n){let s=n[i];s.isInGroup(t)&&o.push(s)}return o.length==0&&e.err("No node type or group '"+t+"' found"),o}function K$(e){if(e.eat("(")){let t=KN(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=W$(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function G$(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(s,l,u){let f={term:u,to:l};return t[s].push(f),f}function o(s,l){s.forEach(u=>u.to=l)}function i(s,l){if(s.type=="choice")return s.exprs.reduce((u,f)=>u.concat(i(f,l)),[]);if(s.type=="seq")for(let u=0;;u++){let f=i(s.exprs[u],l);if(u==s.exprs.length-1)return f;o(f,l=n())}else if(s.type=="star"){let u=n();return r(l,u),o(i(s.expr,u),u),[r(u)]}else if(s.type=="plus"){let u=n();return o(i(s.expr,l),u),o(i(s.expr,u),u),[r(u)]}else{if(s.type=="opt")return[r(l)].concat(i(s.expr,l));if(s.type=="range"){let u=l;for(let f=0;f<s.min;f++){let p=n();o(i(s.expr,u),p),u=p}if(s.max==-1)o(i(s.expr,u),u);else for(let f=s.min;f<s.max;f++){let p=n();r(u,p),o(i(s.expr,u),p),u=p}return[r(u)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function GN(e,t){return t-e}function mx(e,t){let n=[];return r(t),n.sort(GN);function r(o){let i=e[o];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(o);for(let s=0;s<i.length;s++){let{term:l,to:u}=i[s];!l&&n.indexOf(u)==-1&&r(u)}}}function J$(e){let t=Object.create(null);return n(mx(e,0));function n(r){let o=[];r.forEach(s=>{e[s].forEach(({term:l,to:u})=>{if(!l)return;let f;for(let p=0;p<o.length;p++)o[p][0]==l&&(f=o[p][1]);mx(e,u).forEach(p=>{f||o.push([l,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let i=t[r.join(",")]=new Ua(r.indexOf(e.length-1)>-1);for(let s=0;s<o.length;s++){let l=o[s][1].sort(GN);i.next.push({type:o[s][0],next:t[l.join(",")]||n(l)})}return i}}function Q$(e,t){for(let n=0,r=[e];n<r.length;n++){let o=r[n],i=!o.validEnd,s=[];for(let l=0;l<o.next.length;l++){let{type:u,next:f}=o.next[l];s.push(u.name),i&&!(u.isText||u.hasRequiredAttrs())&&(i=!1),r.indexOf(f)==-1&&r.push(f)}i&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function JN(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function QN(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(o===void 0){let i=e[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function YN(e,t,n,r){for(let o in t)if(!(o in e))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in e){let i=e[o];i.validate&&i.validate(t[o])}}function ZN(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Z$(e,r,t[r]);return n}let gx=class XN{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=ZN(t,r.attrs),this.defaultAttrs=JN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ua.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:QN(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ui(this,this.computeAttrs(t),ze.from(n),tn.setFrom(r))}createChecked(t=null,n,r){return n=ze.from(n),this.checkContent(n),new Ui(this,this.computeAttrs(t),n,tn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=ze.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let o=this.contentMatch.matchFragment(n),i=o&&o.fillBefore(ze.empty,!0);return i?new Ui(this,t,n.append(i),tn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){YN(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:tn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((i,s)=>r[i]=new XN(i,n,s));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Y$(e,t,n){let r=n.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${i}`)}}class Z${constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Y$(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Lm{constructor(t,n,r,o){this.name=t,this.rank=n,this.schema=r,this.spec=o,this.attrs=ZN(t,o.attrs),this.excluded=null;let i=JN(this.attrs);this.instance=i?new tn(this,i):null}create(t=null){return!t&&this.instance?this.instance:new tn(this,QN(this.attrs,t))}static compile(t,n){let r=Object.create(null),o=0;return t.forEach((i,s)=>r[i]=new Lm(i,o++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){YN(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}let eT=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=gr.from(e.nodes),t.marks=gr.from(e.marks||{}),this.nodes=gx.compile(this.spec.nodes,this),this.marks=Lm.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],i=o.spec.content||"",s=o.spec.marks;if(o.contentMatch=n[i]||(n[i]=Ua.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=s=="_"?null:s?yx(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],i=o.spec.excludes;o.excluded=i==null?[o]:i==""?[]:yx(this,i.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof gx){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new em(n,n.defaultAttrs,e,tn.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Ui.fromJSON(this,e)}markFromJSON(e){return tn.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}};function yx(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(let l in e.marks){let u=e.marks[l];(o=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function X$(e){return e.tag!=null}function eL(e){return e.style!=null}class cp{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(X$(o))this.tags.push(o);else if(eL(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=t.nodes[o.node];return i.contentMatch.matchType(i)})}parse(t,n={}){let r=new wx(this,n,!1);return r.addAll(t,tn.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new wx(this,n,!0);return r.addAll(t,tn.none,n.from,n.to),We.maxOpen(r.finish())}matchTag(t,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(rL(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let s=i.getAttrs(t);if(s===!1)continue;i.attrs=s||void 0}return i}}}matchStyle(t,n,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let s=this.styles[i],l=s.style;if(!(l.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(s.getAttrs){let u=s.getAttrs(n);if(u===!1)continue;s.attrs=u||void 0}return s}}}static schemaRules(t){let n=[];function r(o){let i=o.priority==null?50:o.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<i)break}n.splice(s,0,o)}for(let o in t.marks){let i=t.marks[o].spec.parseDOM;i&&i.forEach(s=>{r(s=Sx(s)),s.mark||s.ignore||s.clearMark||(s.mark=o)})}for(let o in t.nodes){let i=t.nodes[o].spec.parseDOM;i&&i.forEach(s=>{r(s=Sx(s)),s.node||s.ignore||s.mark||(s.node=o)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new cp(t,cp.schemaRules(t)))}}const tT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},tL={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},nT={ol:!0,ul:!0},fp=1,D1=2,lh=4;function vx(e,t,n){return t!=null?(t?fp:0)|(t==="full"?D1:0):e&&e.whitespace=="pre"?fp|D1:n&-5}class Fd{constructor(t,n,r,o,i,s){this.type=t,this.attrs=n,this.marks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=tn.none,this.match=i||(s&lh?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ze.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(t.type))?(this.match=r,o):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&fp)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let n=ze.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(ze.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!tT.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class wx{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,i,s=vx(null,n.preserveWhitespace,0)|(r?lh:0);o?i=new Fd(o.type,o.attrs,tn.none,!0,n.topMatch||o.type.contentMatch,s):r?i=new Fd(null,null,tn.none,!0,null,s):i=new Fd(t.schema.topNodeType,null,tn.none,!0,null,s),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,o=this.top,i=o.options&D1?"full":this.localPreserveWS||(o.options&fp)>0;if(i==="full"||o.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],l=t.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let o=this.localPreserveWS,i=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),l;nT.hasOwnProperty(s)&&this.parser.normalizeLists&&nL(t);let u=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,r));e:if(u?u.ignore:tL.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(t=u.skip);let f,p=this.needsBlock;if(tT.hasOwnProperty(s))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),f=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=u&&u.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),f&&this.sync(i),this.needsBlock=p}else{let f=this.readStyles(t,n);f&&this.addElementByRule(t,u,f,u.consuming===!1?l:void 0)}this.localPreserveWS=o}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],s=r.getPropertyValue(i);if(s)for(let l=void 0;;){let u=this.parser.matchStyle(i,s,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(f=>!u.clearMark(f)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(t,n,r,o){let i,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let u=this.enter(s,n.attrs||null,r,n.preserveWhitespace);u&&(i=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let l=this.top;if(s&&s.isLeaf)this.findInside(t);else if(o)this.addElement(t,r,o);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=t;typeof n.contentElement=="string"?u=t.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(t):n.contentElement&&(u=n.contentElement),this.findAround(t,u,!0),this.addAll(u,r),this.findAround(t,u,!1)}i&&this.sync(l)&&this.open--}addAll(t,n,r,o){let i=r||0;for(let s=r?t.childNodes[r]:t.firstChild,l=o==null?null:t.childNodes[o];s!=l;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s,n);this.findAtPoint(t,i)}findPlace(t,n,r){let o,i;for(let s=this.open,l=0;s>=0;s--){let u=this.nodes[s],f=u.findWrapping(t);if(f&&(!o||o.length>f.length+l)&&(o=f,i=u,!f.length))break;if(u.solid){if(r)break;l+=2}}if(!o)return null;this.sync(i);for(let s=0;s<o.length;s++)n=this.enterInner(o[s],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let o=this.findPlace(t,n,r);if(o){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let s=tn.none;for(let l of o.concat(t.marks))(i.type?i.type.allowsMarkType(l.type):bx(l.type,t.type))&&(s=l.addToSet(s));return i.content.push(t.mark(s)),!0}return!1}enter(t,n,r,o){let i=this.findPlace(t.create(n),r,!1);return i&&(i=this.enterInner(t,n,r,!0,o)),i}enterInner(t,n,r,o=!1,i){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let l=vx(t,i,s.options);s.options&lh&&s.content.length==0&&(l|=lh);let u=tn.none;return r=r.filter(f=>(s.type?s.type.allowsMarkType(f.type):bx(f.type,t))?(u=f.addToSet(u),!1):!0),this.nodes.push(new Fd(t,n,u,o,null,l)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=fp)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)t+=r[o].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&t.nodeType==1&&t.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=(l,u)=>{for(;l>=0;l--){let f=n[l];if(f==""){if(l==n.length-1||l==0)continue;for(;u>=i;u--)if(s(l-1,u))return!0;return!1}else{let p=u>0||u==0&&o?this.nodes[u].type:r&&u>=i?r.node(u-i).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;u--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function nL(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&nT.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function rL(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Sx(e){let t={};for(let n in e)t[n]=e[n];return t}function bx(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],s=l=>{i.push(l);for(let u=0;u<l.edgeCount;u++){let{type:f,next:p}=l.edge(u);if(f==t||i.indexOf(p)<0&&s(p))return!0}};if(s(o.contentMatch))return!0}}class Cc{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=Ay(n).createDocumentFragment());let o=r,i=[];return t.forEach(s=>{if(i.length||s.marks.length){let l=0,u=0;for(;l<i.length&&u<s.marks.length;){let f=s.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(i[l][0])||f.type.spec.spanning===!1)break;l++,u++}for(;l<i.length;)o=i.pop()[1];for(;u<s.marks.length;){let f=s.marks[u++],p=this.serializeMark(f,s.isInline,n);p&&(i.push([f,o]),o.appendChild(p.dom),o=p.contentDOM||p.dom)}}o.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:o}=ah(Ay(n),this.nodes[t.type.name](t),null,t.attrs);if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,o)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let o=t.marks.length-1;o>=0;o--){let i=this.serializeMark(t.marks[o],t.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,n,r={}){let o=this.marks[t.type.name];return o&&ah(Ay(r),o(t,n),null,t.attrs)}static renderSpec(t,n,r=null,o){return ah(t,n,r,o)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Cc(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=kx(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return kx(t.marks)}}function kx(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Ay(e){return e.document||window.document}const xx=new WeakMap;function oL(e){let t=xx.get(e);return t===void 0&&xx.set(e,t=iL(e)),t}function iL(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(e),t}function ah(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let o=t[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=oL(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let l,u=n?e.createElementNS(n,o):e.createElement(o),f=t[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let d in f)if(f[d]!=null){let m=d.indexOf(" ");m>0?u.setAttributeNS(d.slice(0,m),d.slice(m+1),f[d]):u.setAttribute(d,f[d])}}for(let d=p;d<t.length;d++){let m=t[d];if(m===0){if(d<t.length-1||d>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:g,contentDOM:y}=ah(e,m,n,r);if(u.appendChild(g),y){if(l)throw new RangeError("Multiple content holes");l=y}}}return{dom:u,contentDOM:l}}const rT=65535,oT=Math.pow(2,16);function sL(e,t){return e+t*oT}function Ox(e){return e&rT}function lL(e){return(e-(e&rT))/oT}const iT=1,sT=2,uh=4,lT=8;class I1{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&lT)>0}get deletedBefore(){return(this.delInfo&(iT|uh))>0}get deletedAfter(){return(this.delInfo&(sT|uh))>0}get deletedAcross(){return(this.delInfo&uh)>0}}class ko{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&ko.empty)return ko.empty}recover(t){let n=0,r=Ox(t);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+lL(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let o=0,i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?o:0);if(u>t)break;let f=this.ranges[l+i],p=this.ranges[l+s],d=u+f;if(t<=d){let m=f?t==u?-1:t==d?1:n:n,g=u+o+(m<0?0:p);if(r)return g;let y=t==(n<0?u:d)?null:sL(l/3,t-u),b=t==u?sT:t==d?iT:uh;return(n<0?t!=u:t!=d)&&(b|=lT),new I1(g,b,y)}o+=p-f}return r?t+o:new I1(t+o,0,null)}touches(t,n){let r=0,o=Ox(n),i=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>t)break;let f=this.ranges[l+i],p=u+f;if(t<=p&&l==o*3)return!0;r+=this.ranges[l+s]-f}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let s=this.ranges[o],l=s-(this.inverted?i:0),u=s+(this.inverted?0:i),f=this.ranges[o+n],p=this.ranges[o+r];t(l,l+f,u,u+p),i+=p-f}}invert(){return new ko(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?ko.empty:new ko(t<0?[0,-t,0]:[0,0,t])}}ko.empty=new ko([]);class pp{constructor(t,n,r=0,o=t?t.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new pp(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let o=t.getMirror(n);this.appendMap(t._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let o=t.getMirror(n);this.appendMap(t._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let t=new pp;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let o=0;for(let i=this.from;i<this.to;i++){let s=this._maps[i],l=s.mapResult(t,n);if(l.recover!=null){let u=this.getMirror(i);if(u!=null&&u>i&&u<this.to){i=u,t=this._maps[u].recover(l.recover);continue}}o|=l.delInfo,t=l.pos}return r?t:new I1(t,o,null)}}const My=Object.create(null);class Pr{getMap(){return ko.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=My[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in My)throw new RangeError("Duplicate use of step JSON ID "+t);return My[t]=n,n.prototype.jsonID=t,n}}class Jn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Jn(t,null)}static fail(t){return new Jn(null,t)}static fromReplace(t,n,r,o){try{return Jn.ok(t.replace(n,r,o))}catch(i){if(i instanceof Zh)return Jn.fail(i.message);throw i}}}function Ow(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(Ow(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return ze.fromArray(r)}class vl extends Pr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new We(Ow(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),o),n.openStart,n.openEnd);return Jn.fromReplace(t,this.from,this.to,i)}invert(){return new Fi(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new vl(n.pos,r.pos,this.mark)}merge(t){return t instanceof vl&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new vl(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new vl(n.from,n.to,t.markFromJSON(n.mark))}}Pr.jsonID("addMark",vl);class Fi extends Pr{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new We(Ow(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),t),n.openStart,n.openEnd);return Jn.fromReplace(t,this.from,this.to,r)}invert(){return new vl(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Fi(n.pos,r.pos,this.mark)}merge(t){return t instanceof Fi&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Fi(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fi(n.from,n.to,t.markFromJSON(n.mark))}}Pr.jsonID("removeMark",Fi);class wl extends Pr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Jn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Jn.fromReplace(t,this.pos,this.pos+1,new We(ze.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new wl(this.pos,n.marks[o]);return new wl(this.pos,this.mark)}}return new Va(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new wl(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new wl(n.pos,t.markFromJSON(n.mark))}}Pr.jsonID("addNodeMark",wl);class Va extends Pr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Jn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Jn.fromReplace(t,this.pos,this.pos+1,new We(ze.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new wl(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Va(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Va(n.pos,t.markFromJSON(n.mark))}}Pr.jsonID("removeNodeMark",Va);class Rr extends Pr{constructor(t,n,r,o=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=o}apply(t){return this.structure&&_1(t,this.from,this.to)?Jn.fail("Structure replace would overwrite content"):Jn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ko([this.from,this.to-this.from,this.slice.size])}invert(t){return new Rr(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Rr(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Rr)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?We.empty:new We(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Rr(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?We.empty:new We(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Rr(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Rr(n.from,n.to,We.fromJSON(t,n.slice),!!n.structure)}}Pr.jsonID("replace",Rr);class No extends Pr{constructor(t,n,r,o,i,s,l=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=l}apply(t){if(this.structure&&(_1(t,this.from,this.gapFrom)||_1(t,this.gapTo,this.to)))return Jn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Jn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Jn.fromReplace(t,this.from,this.to,r):Jn.fail("Content does not fit in gap")}getMap(){return new ko([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new No(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||i>r.pos?null:new No(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new No(n.from,n.to,n.gapFrom,n.gapTo,We.fromJSON(t,n.slice),n.insert,!!n.structure)}}Pr.jsonID("replaceAround",No);function _1(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let s=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}}return!1}function aL(e,t,n,r){let o=[],i=[],s,l;e.doc.nodesBetween(t,n,(u,f,p)=>{if(!u.isInline)return;let d=u.marks;if(!r.isInSet(d)&&p.type.allowsMarkType(r.type)){let m=Math.max(f,t),g=Math.min(f+u.nodeSize,n),y=r.addToSet(d);for(let b=0;b<d.length;b++)d[b].isInSet(y)||(s&&s.to==m&&s.mark.eq(d[b])?s.to=g:o.push(s=new Fi(m,g,d[b])));l&&l.to==m?l.to=g:i.push(l=new vl(m,g,r))}}),o.forEach(u=>e.step(u)),i.forEach(u=>e.step(u))}function uL(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,(s,l)=>{if(!s.isInline)return;i++;let u=null;if(r instanceof Lm){let f=s.marks,p;for(;p=r.isInSet(f);)(u||(u=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(s.marks)&&(u=[r]):u=s.marks;if(u&&u.length){let f=Math.min(l+s.nodeSize,n);for(let p=0;p<u.length;p++){let d=u[p],m;for(let g=0;g<o.length;g++){let y=o[g];y.step==i-1&&d.eq(o[g].style)&&(m=y)}m?(m.to=f,m.step=i):o.push({style:d,from:Math.max(l,t),to:f,step:i})}}}),o.forEach(s=>e.step(new Fi(s.from,s.to,s.style)))}function Cw(e,t,n,r=n.contentMatch,o=!0){let i=e.doc.nodeAt(t),s=[],l=t+1;for(let u=0;u<i.childCount;u++){let f=i.child(u),p=l+f.nodeSize,d=r.matchType(f.type);if(!d)s.push(new Rr(l,p,We.empty));else{r=d;for(let m=0;m<f.marks.length;m++)n.allowsMarkType(f.marks[m].type)||e.step(new Fi(l,p,f.marks[m]));if(o&&f.isText&&n.whitespace!="pre"){let m,g=/\r?\n|\r/g,y;for(;m=g.exec(f.text);)y||(y=new We(ze.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),s.push(new Rr(l+m.index,l+m.index+m[0].length,y))}}l=p}if(!r.validEnd){let u=r.fillBefore(ze.empty,!0);e.replace(l,l,new We(u,0,0))}for(let u=s.length-1;u>=0;u--)e.step(s[u])}function cL(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Ew(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(n==0||r.type.spec.isolating||!cL(r,o,i))break}return null}function fL(e,t,n){let{$from:r,$to:o,depth:i}=t,s=r.before(i+1),l=o.after(i+1),u=s,f=l,p=ze.empty,d=0;for(let y=i,b=!1;y>n;y--)b||r.index(y)>0?(b=!0,p=ze.from(r.node(y).copy(p)),d++):u--;let m=ze.empty,g=0;for(let y=i,b=!1;y>n;y--)b||o.after(y+1)<o.end(y)?(b=!0,m=ze.from(o.node(y).copy(m)),g++):f++;e.step(new No(u,f,s,l,new We(p.append(m),d,g),p.size-d,!0))}function pL(e,t,n){let r=ze.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ze.from(n[s].type.create(n[s].attrs,r))}let o=t.start,i=t.end;e.step(new No(o,i,o,i,new We(r,0,0),n.length,!0))}function dL(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,(s,l)=>{let u=typeof o=="function"?o(s):o;if(s.isTextblock&&!s.hasMarkup(r,u)&&hL(e.doc,e.mapping.slice(i).map(l),r)){let f=null;if(r.schema.linebreakReplacement){let g=r.whitespace=="pre",y=!!r.contentMatch.matchType(r.schema.linebreakReplacement);g&&!y?f=!1:!g&&y&&(f=!0)}f===!1&&uT(e,s,l,i),Cw(e,e.mapping.slice(i).map(l,1),r,void 0,f===null);let p=e.mapping.slice(i),d=p.map(l,1),m=p.map(l+s.nodeSize,1);return e.step(new No(d,m,d+1,m-1,new We(ze.from(r.create(u,null,s.marks)),0,0),1,!0)),f===!0&&aT(e,s,l,i),!1}})}function aT(e,t,n,r){t.forEach((o,i)=>{if(o.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(o.text);){let u=e.mapping.slice(r).map(n+1+i+s.index);e.replaceWith(u,u+1,t.type.schema.linebreakReplacement.create())}}})}function uT(e,t,n,r){t.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let s=e.mapping.slice(r).map(n+1+i);e.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function hL(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function mL(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new No(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new We(ze.from(s),0,0),1,!0))}function ch(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let f=o.depth-1,p=n-2;f>i;f--,p--){let d=o.node(f),m=o.index(f);if(d.type.spec.isolating)return!1;let g=d.content.cutByIndex(m,d.childCount),y=r&&r[p+1];y&&(g=g.replaceChild(0,y.type.create(y.attrs)));let b=r&&r[p]||d;if(!d.canReplace(m+1,d.childCount)||!b.type.validContent(g))return!1}let l=o.indexAfter(i),u=r&&r[0];return o.node(i).canReplaceWith(l,l,u?u.type:o.node(i+1).type)}function gL(e,t,n=1,r){let o=e.doc.resolve(t),i=ze.empty,s=ze.empty;for(let l=o.depth,u=o.depth-n,f=n-1;l>u;l--,f--){i=ze.from(o.node(l).copy(i));let p=r&&r[f];s=ze.from(p?p.type.create(p.attrs,s):o.node(l).copy(s))}e.step(new Rr(t,t,new We(i.append(s),n,n),!0))}function cT(e,t){let n=e.resolve(t),r=n.index();return vL(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function yL(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let i=t.child(o),s=i.type==r?e.type.schema.nodes.text:i.type;if(n=n.matchType(s),!n||!e.type.allowsMarks(i.marks))return!1}return n.validEnd}function vL(e,t){return!!(e&&t&&!e.isLeaf&&yL(e,t))}function wL(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,i=e.doc.resolve(t-n),s=i.node().type;if(o&&s.inlineContent){let p=s.whitespace=="pre",d=!!s.contentMatch.matchType(o);p&&!d?r=!1:!p&&d&&(r=!0)}let l=e.steps.length;if(r===!1){let p=e.doc.resolve(t+n);uT(e,p.node(),p.before(),l)}s.inlineContent&&Cw(e,t+n-1,s,i.node().contentMatchAt(i.index()),r==null);let u=e.mapping.slice(l),f=u.map(t-n);if(e.step(new Rr(f,u.map(t+n,-1),We.empty,!0)),r===!0){let p=e.doc.resolve(f);aT(e,p.node(),p.before(),e.steps.length)}return e}function SL(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,n))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function bL(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,u=r.index(s)+(l>0?1:0),f=r.node(s),p=!1;if(i==1)p=f.canReplace(u,u,o);else{let d=f.contentMatchAt(u).findWrapping(o.firstChild.type);p=d&&f.canReplaceWith(u,u,d[0])}if(p)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Nw(e,t,n=t,r=We.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return fT(o,i,r)?new Rr(t,n,r):new kL(o,i,r).fit()}function fT(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class kL{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ze.empty;for(let o=0;o<=t.depth;o++){let i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}for(let o=t.depth;o>0;o--)this.placed=ze.from(t.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let i=this.placed,s=r.depth,l=o.depth;for(;s&&l&&i.childCount==1;)i=i.firstChild.content,s--,l--;let u=new We(i,s,l);return t>-1?new No(r.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Rr(r.pos,o.pos,u):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<t;r++){let i=n.firstChild;if(n.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){t=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=Ry(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let s=o.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:f}=this.frontier[l],p,d=null;if(n==1&&(s?f.matchType(s.type)||(d=f.fillBefore(ze.from(s),!1)):i&&u.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:d};if(n==2&&s&&(p=f.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:p};if(i&&f.matchType(i.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=Ry(t,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new We(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=Ry(t,n);if(o.childCount<=1&&n>0){let i=t.size-n<=n+o.size;this.unplaced=new We(Nf(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new We(Nf(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let b=0;b<i.length;b++)this.openFrontierNode(i[b]);let s=this.unplaced,l=r?r.content:s.content,u=s.openStart-t,f=0,p=[],{match:d,type:m}=this.frontier[n];if(o){for(let b=0;b<o.childCount;b++)p.push(o.child(b));d=d.matchFragment(o)}let g=l.size+t-(s.content.size-s.openEnd);for(;f<l.childCount;){let b=l.child(f),E=d.matchType(b.type);if(!E)break;f++,(f>1||u==0||b.content.size)&&(d=E,p.push(pT(b.mark(m.allowedMarks(b.marks)),f==1?u:0,f==l.childCount?g:-1)))}let y=f==l.childCount;y||(g=-1),this.placed=Tf(this.placed,n,ze.from(p)),this.frontier[n].match=d,y&&g<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,E=l;b<g;b++){let S=E.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),E=S.content}this.unplaced=y?t==0?We.empty:new We(Nf(s.content,t-1,1),t-1,g<0?s.openEnd:t-1):new We(Nf(s.content,t,f),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Dy(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],i=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=Dy(t,n,o,r,i);if(s){for(let l=n-1;l>=0;l--){let{match:u,type:f}=this.frontier[l],p=Dy(t,l,f,u,!0);if(!p||p.childCount)continue e}return{depth:n,fit:s,move:i?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Tf(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let o=t.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,t.index(r));this.openFrontierNode(o.type,o.attrs,i)}return t}openFrontierNode(t,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=Tf(this.placed,this.depth,ze.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ze.empty,!0);t.childCount&&(this.placed=Tf(this.placed,this.frontier.length,t))}}function Nf(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Nf(e.firstChild.content,t-1,n)))}function Tf(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Tf(e.lastChild.content,t-1,n)))}function Ry(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function pT(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,pT(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(ze.empty,!0)))),e.copy(r)}function Dy(e,t,n,r,o){let i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,s);return l&&!xL(n,i.content,s)?l:null}function xL(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function OL(e){return e.spec.defining||e.spec.definingForContent}function CL(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(fT(o,i,r))return e.step(new Rr(t,n,r));let s=hT(o,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let m=o.depth,g=o.pos-1;m>0;m--,g--){let y=o.node(m).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;s.indexOf(m)>-1?l=m:o.before(m)==g&&s.splice(1,0,-m)}let u=s.indexOf(l),f=[],p=r.openStart;for(let m=r.content,g=0;;g++){let y=m.firstChild;if(f.push(y),g==r.openStart)break;m=y.content}for(let m=p-1;m>=0;m--){let g=f[m],y=OL(g.type);if(y&&!g.sameMarkup(o.node(Math.abs(l)-1)))p=m;else if(y||!g.type.isTextblock)break}for(let m=r.openStart;m>=0;m--){let g=(m+p+1)%(r.openStart+1),y=f[g];if(y)for(let b=0;b<s.length;b++){let E=s[(b+u)%s.length],S=!0;E<0&&(S=!1,E=-E);let x=o.node(E-1),k=o.index(E-1);if(x.canReplaceWith(k,k,y.type,y.marks))return e.replace(o.before(E),S?i.after(E):n,new We(dT(r.content,0,r.openStart,g),g,r.openEnd))}}let d=e.steps.length;for(let m=s.length-1;m>=0&&(e.replace(t,n,r),!(e.steps.length>d));m--){let g=s[m];g<0||(t=o.before(g),n=i.after(g))}}function dT(e,t,n,r,o){if(t<n){let i=e.firstChild;e=e.replaceChild(0,i.copy(dT(i.content,t+1,n,r,i)))}if(t>r){let i=o.contentMatchAt(0),s=i.fillBefore(e).append(e);e=s.append(i.matchFragment(s).fillBefore(ze.empty,!0))}return e}function EL(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=SL(e.doc,t,r.type);o!=null&&(t=n=o)}e.replaceRange(t,n,new We(ze.from(r),0,0))}function NL(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=hT(r,o);for(let s=0;s<i.length;s++){let l=i[s],u=s==i.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return e.delete(r.start(l),o.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),o.indexAfter(l-1))))return e.delete(r.before(l),o.after(l))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s&&r.start(s-1)==o.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),o.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}function hT(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let o=r;o>=0;o--){let i=e.start(o);if(i<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(i==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==i-1)&&n.push(o)}return n}class tc extends Pr{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return Jn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return Jn.fromReplace(t,this.pos,this.pos+1,new We(ze.from(o),0,n.isLeaf?0:1))}getMap(){return ko.empty}invert(t){return new tc(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new tc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new tc(n.pos,n.attr,n.value)}}Pr.jsonID("attr",tc);class dp extends Pr{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return Jn.ok(r)}getMap(){return ko.empty}invert(t){return new dp(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new dp(n.attr,n.value)}}Pr.jsonID("docAttr",dp);let dc=class extends Error{};dc=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};dc.prototype=Object.create(Error.prototype);dc.prototype.constructor=dc;dc.prototype.name="TransformError";class mT{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new pp}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new dc(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=We.empty){let o=Nw(this.doc,t,n,r);return o&&this.step(o),this}replaceWith(t,n,r){return this.replace(t,n,new We(ze.from(r),0,0))}delete(t,n){return this.replace(t,n,We.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return CL(this,t,n,r),this}replaceRangeWith(t,n,r){return EL(this,t,n,r),this}deleteRange(t,n){return NL(this,t,n),this}lift(t,n){return fL(this,t,n),this}join(t,n=1){return wL(this,t,n),this}wrap(t,n){return pL(this,t,n),this}setBlockType(t,n=t,r,o=null){return dL(this,t,n,r,o),this}setNodeMarkup(t,n,r=null,o){return mL(this,t,n,r,o),this}setNodeAttribute(t,n,r){return this.step(new tc(t,n,r)),this}setDocAttribute(t,n){return this.step(new dp(t,n)),this}addNodeMark(t,n){return this.step(new wl(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof tn)n.isInSet(r.marks)&&this.step(new Va(t,n));else{let o=r.marks,i,s=[];for(;i=n.isInSet(o);)s.push(new Va(t,i)),o=i.removeFromSet(o);for(let l=s.length-1;l>=0;l--)this.step(s[l])}return this}split(t,n=1,r){return gL(this,t,n,r),this}addMark(t,n,r){return aL(this,t,n,r),this}removeMark(t,n,r){return uL(this,t,n,r),this}clearIncompatible(t,n,r){return Cw(this,t,n,r),this}}const Iy=Object.create(null);class Mt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new gT(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=We.empty){let r=n.content.lastChild,o=null;for(let l=0;l<n.openEnd;l++)o=r,r=r.lastChild;let i=t.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:u,$to:f}=s[l],p=t.mapping.slice(i);t.replaceRange(p.map(u.pos),p.map(f.pos),l?We.empty:n),l==0&&Nx(t,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:s,$to:l}=o[i],u=t.mapping.slice(r),f=u.map(s.pos),p=u.map(l.pos);i?t.deleteRange(f,p):(t.replaceRangeWith(f,p,n),Nx(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let o=t.parent.inlineContent?new Rt(t):Iu(t.node(0),t.parent,t.pos,t.index(),n,r);if(o)return o;for(let i=t.depth-1;i>=0;i--){let s=n<0?Iu(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):Iu(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new To(t.node(0))}static atStart(t){return Iu(t,t,0,0,1)||new To(t)}static atEnd(t){return Iu(t,t,t.content.size,t.childCount,-1)||new To(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Iy[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Iy)throw new RangeError("Duplicate use of selection JSON ID "+t);return Iy[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Rt.between(this.$anchor,this.$head).getBookmark()}}Mt.prototype.visible=!0;class gT{constructor(t,n){this.$from=t,this.$to=n}}let Cx=!1;function Ex(e){!Cx&&!e.parent.inlineContent&&(Cx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Rt extends Mt{constructor(t,n=t){Ex(t),Ex(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Mt.near(r);let o=t.resolve(n.map(this.anchor));return new Rt(o.parent.inlineContent?o:r,r)}replace(t,n=We.empty){if(super.replace(t,n),n==We.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Rt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Fm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Rt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let o=t.resolve(n);return new this(o,r==n?o:t.resolve(r))}static between(t,n,r){let o=t.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let i=Mt.findFrom(n,r,!0)||Mt.findFrom(n,-r,!0);if(i)n=i.$head;else return Mt.near(n,r)}return t.parent.inlineContent||(o==0?t=n:(t=(Mt.findFrom(t,-r,!0)||Mt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=o<0&&(t=n))),new Rt(t,n)}}Mt.jsonID("text",Rt);class Fm{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Fm(t.map(this.anchor),t.map(this.head))}resolve(t){return Rt.between(t.resolve(this.anchor),t.resolve(this.head))}}class vt extends Mt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),i=t.resolve(o);return r?Mt.near(i):new vt(i)}content(){return new We(ze.from(this.node),0,0)}eq(t){return t instanceof vt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Tw(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new vt(t.resolve(n.anchor))}static create(t,n){return new vt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}vt.prototype.visible=!1;Mt.jsonID("node",vt);class Tw{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Fm(r,r):new Tw(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&vt.isSelectable(r)?new vt(n):Mt.near(n)}}class To extends Mt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=We.empty){if(n==We.empty){t.delete(0,t.doc.content.size);let r=Mt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new To(t)}map(t){return new To(t)}eq(t){return t instanceof To}getBookmark(){return TL}}Mt.jsonID("all",To);const TL={map(){return this},resolve(e){return new To(e)}};function Iu(e,t,n,r,o,i=!1){if(t.inlineContent)return Rt.create(e,n);for(let s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let l=t.child(s);if(l.isAtom){if(!i&&vt.isSelectable(l))return vt.create(e,n-(o<0?l.nodeSize:0))}else{let u=Iu(e,l,n+o,o<0?l.childCount:0,o,i);if(u)return u}n+=l.nodeSize*o}return null}function Nx(e,t,n){let r=e.steps.length-1;if(r<t)return;let o=e.steps[r];if(!(o instanceof Rr||o instanceof No))return;let i=e.mapping.maps[r],s;i.forEach((l,u,f,p)=>{s==null&&(s=p)}),e.setSelection(Mt.near(e.doc.resolve(s),n))}const Tx=1,Ax=2,Mx=4;class AL extends mT{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Tx)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&Tx)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Ax,this}ensureMarks(t){return tn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ax)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&-3,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||tn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let o=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(o.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let s=this.doc.resolve(n);i=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(t,i)),this.selection.empty||this.setSelection(Mt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Mx,this}get scrolledIntoView(){return(this.updated&Mx)>0}}function Rx(e,t){return!t||!e?e:e.bind(t)}class Af{constructor(t,n,r){this.name=t,this.init=Rx(n.init,r),this.apply=Rx(n.apply,r)}}const ML=[new Af("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Af("selection",{init(e,t){return e.selection||Mt.atStart(t.doc)},apply(e){return e.selection}}),new Af("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Af("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class _y{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ML.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Af(r.key,r.spec.state,r))})}}class Ho{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),o=null;for(;;){let i=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let u=o?o[s].n:0,f=o?o[s].state:this,p=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,f,r);if(p&&r.filterTransaction(p,s)){if(p.setMeta("appendedTransaction",t),!o){o=[];for(let d=0;d<this.config.plugins.length;d++)o.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),i=!0}o&&(o[s]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ho(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];n[i.name]=i.apply(t,this[i.name],this,n)}return n}get tr(){return new AL(this)}static create(t){let n=new _y(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Ho(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(t,r);return r}reconfigure(t){let n=new _y(this.schema,t.plugins),r=n.fields,o=new Ho(n);for(let i=0;i<r.length;i++){let s=r[i].name;o[s]=this.hasOwnProperty(s)?this[s]:r[i].init(t,o)}return o}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=t[r],i=o.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(o,this[o.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new _y(t.schema,t.plugins),i=new Ho(o);return o.fields.forEach(s=>{if(s.name=="doc")i.doc=Ui.fromJSON(t.schema,n.doc);else if(s.name=="selection")i.selection=Mt.fromJSON(i.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],f=u.spec.state;if(u.key==s.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[s.name]=f.fromJSON.call(u,t,n[l],i);return}}i[s.name]=s.init(t,i)}}),i}}function yT(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):r=="handleDOMEvents"&&(o=yT(o,t,{})),n[r]=o}return n}class Ul{constructor(t){this.spec=t,this.props={},t.props&&yT(t.props,this,this.props),this.key=t.key?t.key.key:vT("plugin")}getState(t){return t[this.key]}}const Py=Object.create(null);function vT(e){return e in Py?e+"$"+ ++Py[e]:(Py[e]=0,e+"$")}class Cp{constructor(t="key"){this.key=vT(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const wT=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function RL(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const DL=(e,t,n)=>{let r=RL(e,n);if(!r)return!1;let o=ST(r);if(!o){let s=r.blockRange(),l=s&&Ew(s);return l==null?!1:(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}let i=o.nodeBefore;if(kT(e,o,t,-1))return!0;if(r.parent.content.size==0&&(hc(i,"end")||vt.isSelectable(i)))for(let s=r.depth;;s--){let l=Nw(e.doc,r.before(s),r.after(s),We.empty);if(l&&l.slice.size<l.to-l.from){if(t){let u=e.tr.step(l);u.setSelection(hc(i,"end")?Mt.findFrom(u.doc.resolve(u.mapping.map(o.pos,-1)),-1):vt.create(u.doc,o.pos-i.nodeSize)),t(u.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1};function hc(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const IL=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=ST(r)}let s=i&&i.nodeBefore;return!s||!vt.isSelectable(s)?!1:(t&&t(e.tr.setSelection(vt.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)};function ST(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function _L(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const PL=(e,t,n)=>{let r=_L(e,n);if(!r)return!1;let o=bT(r);if(!o)return!1;let i=o.nodeAfter;if(kT(e,o,t,1))return!0;if(r.parent.content.size==0&&(hc(i,"start")||vt.isSelectable(i))){let s=Nw(e.doc,r.before(),r.after(),We.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=e.tr.step(s);l.setSelection(hc(i,"start")?Mt.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):vt.create(l.doc,l.mapping.map(o.pos))),t(l.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},$L=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=bT(r)}let s=i&&i.nodeAfter;return!s||!vt.isSelectable(s)?!1:(t&&t(e.tr.setSelection(vt.create(e.doc,i.pos)).scrollIntoView()),!0)};function bT(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const LL=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function Aw(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const FL=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=Aw(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(t){let l=n.after(),u=e.tr.replaceWith(l,l,s.createAndFill());u.setSelection(Mt.near(u.doc.resolve(l),1)),t(u.scrollIntoView())}return!0},zL=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof To||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=Aw(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,l=e.tr.insert(s,i.createAndFill());l.setSelection(Rt.create(l.doc,s+1)),t(l.scrollIntoView())}return!0},jL=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(ch(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),o=r&&Ew(r);return o==null?!1:(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};function BL(e){return(t,n)=>{let{$from:r,$to:o}=t.selection;if(t.selection instanceof vt&&t.selection.node.isBlock)return!r.parentOffset||!ch(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],s,l,u=!1,f=!1;for(let g=r.depth;;g--)if(r.node(g).isBlock){u=r.end(g)==r.pos+(r.depth-g),f=r.start(g)==r.pos-(r.depth-g),l=Aw(r.node(g-1).contentMatchAt(r.indexAfter(g-1))),i.unshift(u&&l?{type:l}:null),s=g;break}else{if(g==1)return!1;i.unshift(null)}let p=t.tr;(t.selection instanceof Rt||t.selection instanceof To)&&p.deleteSelection();let d=p.mapping.map(r.pos),m=ch(p.doc,d,i.length,i);if(m||(i[0]=l?{type:l}:null,m=ch(p.doc,d,i.length,i)),!m)return!1;if(p.split(d,i.length,i),!u&&f&&r.node(s).type!=l){let g=p.mapping.map(r.before(s)),y=p.doc.resolve(g);l&&r.node(s-1).canReplaceWith(y.index(),y.index()+1,l)&&p.setNodeMarkup(p.mapping.map(r.before(s)),l)}return n&&n(p.scrollIntoView()),!0}}const UL=BL(),VL=(e,t)=>(t&&t(e.tr.setSelection(new To(e.doc))),!0);function HL(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(o.isTextblock||cT(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function kT(e,t,n,r){let o=t.nodeBefore,i=t.nodeAfter,s,l,u=o.type.spec.isolating||i.type.spec.isolating;if(!u&&HL(e,t,n))return!0;let f=!u&&t.parent.canReplace(t.index(),t.index()+1);if(f&&(s=(l=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&l.matchType(s[0]||i.type).validEnd){if(n){let g=t.pos+i.nodeSize,y=ze.empty;for(let S=s.length-1;S>=0;S--)y=ze.from(s[S].create(null,y));y=ze.from(o.copy(y));let b=e.tr.step(new No(t.pos-1,g,t.pos,g,new We(y,1,0),s.length,!0)),E=b.doc.resolve(g+2*s.length);E.nodeAfter&&E.nodeAfter.type==o.type&&cT(b.doc,E.pos)&&b.join(E.pos),n(b.scrollIntoView())}return!0}let p=i.type.spec.isolating||r>0&&u?null:Mt.findFrom(t,1),d=p&&p.$from.blockRange(p.$to),m=d&&Ew(d);if(m!=null&&m>=t.depth)return n&&n(e.tr.lift(d,m).scrollIntoView()),!0;if(f&&hc(i,"start",!0)&&hc(o,"end")){let g=o,y=[];for(;y.push(g),!g.isTextblock;)g=g.lastChild;let b=i,E=1;for(;!b.isTextblock;b=b.firstChild)E++;if(g.canReplace(g.childCount,g.childCount,b.content)){if(n){let S=ze.empty;for(let k=y.length-1;k>=0;k--)S=ze.from(y[k].copy(S));let x=e.tr.step(new No(t.pos-y.length,t.pos+i.nodeSize,t.pos+E,t.pos+i.nodeSize-E,new We(S,y.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function xT(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(n&&n(t.tr.setSelection(Rt.create(t.doc,e<0?o.start(i):o.end(i)))),!0):!1}}const qL=xT(-1),WL=xT(1);function KL(e,t,n,r){for(let o=0;o<t.length;o++){let{$from:i,$to:s}=t[o],l=i.depth==0?e.inlineContent&&e.type.allowsMarkType(n):!1;if(e.nodesBetween(i.pos,s.pos,(u,f)=>{if(l)return!1;l=u.inlineContent&&u.type.allowsMarkType(n)}),l)return!0}return!1}function Dx(e,t=null,n){return function(r,o){let{empty:i,$cursor:s,ranges:l}=r.selection;if(i&&!s||!KL(r.doc,l,e))return!1;if(o)if(s)e.isInSet(r.storedMarks||s.marks())?o(r.tr.removeStoredMark(e)):o(r.tr.addStoredMark(e.create(t)));else{let u,f=r.tr;u=!l.some(p=>r.doc.rangeHasMark(p.$from.pos,p.$to.pos,e));for(let p=0;p<l.length;p++){let{$from:d,$to:m}=l[p];if(!u)f.removeMark(d.pos,m.pos,e);else{let g=d.pos,y=m.pos,b=d.nodeAfter,E=m.nodeBefore,S=b&&b.isText?/^\s*/.exec(b.text)[0].length:0,x=E&&E.isText?/\s*$/.exec(E.text)[0].length:0;g+S<y&&(g+=S,y-=x),f.addMark(g,y,e.create(t))}}o(f.scrollIntoView())}return!0}}function Mw(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let $y=Mw(wT,DL,IL),Ix=Mw(wT,PL,$L);const ws={Enter:Mw(LL,zL,jL,UL),"Mod-Enter":FL,Backspace:$y,"Mod-Backspace":$y,"Shift-Backspace":$y,Delete:Ix,"Mod-Delete":Ix,"Mod-a":VL},OT={"Ctrl-h":ws.Backspace,"Alt-Backspace":ws["Mod-Backspace"],"Ctrl-d":ws.Delete,"Ctrl-Alt-Backspace":ws["Mod-Delete"],"Alt-Delete":ws["Mod-Delete"],"Alt-d":ws["Mod-Delete"],"Ctrl-a":qL,"Ctrl-e":WL};for(let e in ws)OT[e]=ws[e];const GL=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,CT=GL?OT:ws,JL=({editorView:e,from:t,text:n})=>{console.log("updateTextNode()","text="+n);const{doc:r,tr:o}=e.state,i=r.resolve(t),s=i.start(i.depth),l=i.end(i.depth),u=n.length>0&&o.replaceWith(s,l,e.state.schema.text(n))||o.delete(s,l);e.dispatch(u)},QL=({editorView:e})=>{const[t,n]=Gt.useState(""),r=()=>{if(e!=null&&e.state){const{from:i}=e.state.selection,s=e.state.doc.resolve(i),l=e.state.doc.nodeAt(s.pos-1),u=(l==null?void 0:l.textContent)||"";n(u)}};Gt.useEffect(()=>{if(!e)return;r();const i=()=>{r()},s=()=>{setTimeout(r,0)},l=()=>{setTimeout(r,0)};return e.dom&&(e.dom.addEventListener("keydown",s),e.dom.addEventListener("click",l),document.addEventListener("selectionchange",i)),()=>{e.dom&&(e.dom.removeEventListener("keydown",s),e.dom.removeEventListener("click",l),document.removeEventListener("selectionchange",i))}},[e]);const o=i=>{n(i);const{from:s}=e.state.selection;JL({editorView:e,from:s,text:i})};return qt.jsxs("div",{className:"flex flex-row gap-2 rounded-md",children:[qt.jsx("label",{className:"block text-md font-medium font-serif italic text-gray-500 mb-0",children:"fx"}),qt.jsx("input",{id:"formula",name:"formula",type:"text",value:t,style:{borderStyle:"none"},onChange:i=>o(i.target.value),className:"block w-full ring-0 border-0 p-0 text-gray-900 placeholder:text-gray-400 sm:text-sm/6 focus:outline-0 focus:ring-0 border-none p-0 mb-0"})]})};function YL(...e){return e.filter(Boolean).join(" ")}const ZL=[{name:"B",className:"font-bold",selected:!1,command:e=>Dx(e.marks.strong),mark:e=>e.marks.strong},{name:"I",className:"italic",selected:!1,command:e=>Dx(e.marks.em),mark:e=>e.marks.em}],XL=({state:e,mark:t})=>{const{from:n,$from:r,to:o,empty:i}=e.selection;return i?!!t.isInSet(e.storedMarks||r.marks()):e.doc.rangeHasMark(n,o,t)},P1=({className:e,editorView:t,hideMenu:n=!1})=>(t&&ZL.forEach(r=>r.selected=XL({state:t.state,mark:r.mark(t.state.schema)})),n?null:qt.jsx("div",{className:YL("flex flex-col gap-1 mb-2 text-sm font-sans pb-1 border-b border-gray-200",e),children:qt.jsx(QL,{editorView:t})})),yr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},mc=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let $1=null;const ys=function(e,t,n){let r=$1||($1=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},eF=function(){$1=null},Ha=function(e,t,n,r){return n&&(_x(e,t,n,r,-1)||_x(e,t,n,r,1))},tF=/^(img|br|input|textarea|hr)$/i;function _x(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:qo(e))){let i=e.parentNode;if(!i||i.nodeType!=1||Ep(e)||tF.test(e.nodeName)||e.contentEditable=="false")return!1;t=yr(e)+(o<0?0:1),e=i}else if(e.nodeType==1){if(e=e.childNodes[t+(o<0?-1:0)],e.contentEditable=="false")return!1;t=o<0?qo(e):0}else return!1}}function qo(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function nF(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=qo(e)}else if(e.parentNode&&!Ep(e))t=yr(e),e=e.parentNode;else return null}}function rF(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Ep(e))t=yr(e)+1,e=e.parentNode;else return null}}function oF(e,t,n){for(let r=t==0,o=t==qo(e);r||o;){if(e==n)return!0;let i=yr(e);if(e=e.parentNode,!e)return!1;r=r&&i==0,o=o&&i==qo(e)}}function Ep(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const zm=function(e){return e.focusNode&&Ha(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function ba(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function iF(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function sF(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(qo(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(qo(r.startContainer),r.startOffset)}}}const Vi=typeof navigator<"u"?navigator:null,Px=typeof document<"u"?document:null,Vl=Vi&&Vi.userAgent||"",L1=/Edge\/(\d+)/.exec(Vl),ET=/MSIE \d/.exec(Vl),F1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Vl),uo=!!(ET||F1||L1),Rl=ET?document.documentMode:F1?+F1[1]:L1?+L1[1]:0,gi=!uo&&/gecko\/(\d+)/i.test(Vl);gi&&+(/Firefox\/(\d+)/.exec(Vl)||[0,0])[1];const z1=!uo&&/Chrome\/(\d+)/.exec(Vl),Dr=!!z1,NT=z1?+z1[1]:0,Hr=!uo&&!!Vi&&/Apple Computer/.test(Vi.vendor),gc=Hr&&(/Mobile\/\w+/.test(Vl)||!!Vi&&Vi.maxTouchPoints>2),zo=gc||(Vi?/Mac/.test(Vi.platform):!1),lF=Vi?/Win/.test(Vi.platform):!1,ks=/Android \d/.test(Vl),Np=!!Px&&"webkitFontSmoothing"in Px.documentElement.style,aF=Np?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function uF(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function hs(e,t){return typeof e=="number"?e:e[t]}function cF(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function $x(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(s.nodeType!=1){s=mc(s);continue}let l=s,u=l==i.body,f=u?uF(i):cF(l),p=0,d=0;if(t.top<f.top+hs(r,"top")?d=-(f.top-t.top+hs(o,"top")):t.bottom>f.bottom-hs(r,"bottom")&&(d=t.bottom-t.top>f.bottom-f.top?t.top+hs(o,"top")-f.top:t.bottom-f.bottom+hs(o,"bottom")),t.left<f.left+hs(r,"left")?p=-(f.left-t.left+hs(o,"left")):t.right>f.right-hs(r,"right")&&(p=t.right-f.right+hs(o,"right")),p||d)if(u)i.defaultView.scrollBy(p,d);else{let g=l.scrollLeft,y=l.scrollTop;d&&(l.scrollTop+=d),p&&(l.scrollLeft+=p);let b=l.scrollLeft-g,E=l.scrollTop-y;t={left:t.left-b,top:t.top-E,right:t.right-b,bottom:t.bottom-E}}let m=u?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(m))break;s=m=="absolute"?s.offsetParent:mc(s)}}function fF(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,o;for(let i=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let l=e.root.elementFromPoint(i,s);if(!l||l==e.dom||!e.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,o=u.top;break}}return{refDOM:r,refTop:o,stack:TT(e.dom)}}function TT(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=mc(r));return t}function pF({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;AT(n,r==0?0:r-t)}function AT(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Tu=null;function dF(e){if(e.setActive)return e.setActive();if(Tu)return e.focus(Tu);let t=TT(e);e.focus(Tu==null?{get preventScroll(){return Tu={preventScroll:!0},!0}}:void 0),Tu||(Tu=!1,AT(t,0))}function MT(e,t){let n,r=2e8,o,i=0,s=t.top,l=t.top,u,f;for(let p=e.firstChild,d=0;p;p=p.nextSibling,d++){let m;if(p.nodeType==1)m=p.getClientRects();else if(p.nodeType==3)m=ys(p).getClientRects();else continue;for(let g=0;g<m.length;g++){let y=m[g];if(y.top<=s&&y.bottom>=l){s=Math.max(y.bottom,s),l=Math.min(y.top,l);let b=y.left>t.left?y.left-t.left:y.right<t.left?t.left-y.right:0;if(b<r){n=p,r=b,o=b&&n.nodeType==3?{left:y.right<t.left?y.right:y.left,top:t.top}:t,p.nodeType==1&&b&&(i=d+(t.left>=(y.left+y.right)/2?1:0));continue}}else y.top>t.top&&!u&&y.left<=t.left&&y.right>=t.left&&(u=p,f={left:Math.max(y.left,Math.min(y.right,t.left)),top:y.top});!n&&(t.left>=y.right&&t.top>=y.top||t.left>=y.left&&t.top>=y.bottom)&&(i=d+1)}}return!n&&u&&(n=u,o=f,r=0),n&&n.nodeType==3?hF(n,o):!n||r&&n.nodeType==1?{node:e,offset:i}:MT(n,o)}function hF(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let i=il(r,1);if(i.top!=i.bottom&&Rw(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function Rw(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function mF(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function gF(e,t,n){let{node:r,offset:o}=MT(t,n),i=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();i=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}function yF(e,t,n,r){let o=-1;for(let i=t,s=!1;i!=e.dom;){let l=e.docView.nearestDesc(i,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&(!s&&u.left>r.left||u.top>r.top?o=l.posBefore:(!s&&u.right<r.left||u.bottom<r.top)&&(o=l.posAfter),s=!0),!l.contentDOM&&o<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}function RT(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let s=e.childNodes[i];if(s.nodeType==1){let l=s.getClientRects();for(let u=0;u<l.length;u++){let f=l[u];if(Rw(t,f))return RT(s,t,f)}}if((i=(i+1)%r)==o)break}return e}function vF(e,t){let n=e.dom.ownerDocument,r,o=0,i=sF(n,t.left,t.top);i&&({node:r,offset:o}=i);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),l;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let f=e.dom.getBoundingClientRect();if(!Rw(t,f)||(s=RT(e.dom,t,f),!s))return null}if(Hr)for(let f=s;r&&f;f=mc(f))f.draggable&&(r=void 0);if(s=mF(s,t),r){if(gi&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let p=r.childNodes[o],d;p.nodeName=="IMG"&&(d=p.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&o++}let f;Np&&o&&r.nodeType==1&&(f=r.childNodes[o-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=t.top&&o--,r==e.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(l=yF(e,r,o,t))}l==null&&(l=gF(e,s,t));let u=e.docView.nearestDesc(s,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function Lx(e){return e.top<e.bottom||e.left<e.right}function il(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(Lx(r))return r}return Array.prototype.find.call(n,Lx)||e.getBoundingClientRect()}const wF=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function DT(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=Np||gi;if(r.nodeType==3)if(s&&(wF.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=il(ys(r,o,o),n);if(gi&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let u=il(ys(r,o-1,o-1),-1);if(u.top==l.top){let f=il(ys(r,o,o+1),-1);if(f.top!=l.top)return yf(f,f.left<u.left)}}return l}else{let l=o,u=o,f=n<0?1:-1;return n<0&&!o?(u++,f=-1):n>=0&&o==r.nodeValue.length?(l--,f=1):n<0?l--:u++,yf(il(ys(r,l,u),f),f<0)}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&o&&(n<0||o==qo(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return Ly(l.getBoundingClientRect(),!1)}if(i==null&&o<qo(r)){let l=r.childNodes[o];if(l.nodeType==1)return Ly(l.getBoundingClientRect(),!0)}return Ly(r.getBoundingClientRect(),n>=0)}if(i==null&&o&&(n<0||o==qo(r))){let l=r.childNodes[o-1],u=l.nodeType==3?ys(l,qo(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return yf(il(u,1),!1)}if(i==null&&o<qo(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?ys(l,0,s?0:1):l.nodeType==1?l:null:null;if(u)return yf(il(u,-1),!0)}return yf(il(r.nodeType==3?ys(r):r,-n),n>=0)}function yf(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Ly(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function IT(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function SF(e,t,n){let r=t.selection,o=n=="up"?r.$from:r.$to;return IT(e,t,()=>{let{node:i}=e.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let s=DT(e,o.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=ys(l,0,l.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let p=u[f];if(p.bottom>p.top+1&&(n=="up"?s.top-p.top>(p.bottom-s.top)*2:p.bottom-s.bottom>(s.bottom-p.top)*2))return!1}}return!0})}const bF=/[\u0590-\u08ac]/;function kF(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,l=e.domSelection();return l?!bF.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:s:IT(e,t,()=>{let{focusNode:u,focusOffset:f,anchorNode:p,anchorOffset:d}=e.domSelectionRange(),m=l.caretBidiLevel;l.modify("move",n,"character");let g=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:y,focusOffset:b}=e.domSelectionRange(),E=y&&!g.contains(y.nodeType==1?y:y.parentNode)||u==y&&f==b;try{l.collapse(p,d),u&&(u!=p||f!=d)&&l.extend&&l.extend(u,f)}catch{}return m!=null&&(l.caretBidiLevel=m),E}):r.pos==r.start()||r.pos==r.end()}let Fx=null,zx=null,jx=!1;function xF(e,t,n){return Fx==t&&zx==n?jx:(Fx=t,zx=n,jx=n=="up"||n=="down"?SF(e,t,n):kF(e,t,n))}const Go=0,Bx=1,Na=2,Hi=3;class Tp{constructor(t,n,r,o){this.parent=t,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=Go,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==t)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,s;if(t==this.contentDOM)i=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(s)+s.size:this.posAtStart}else{let i,s;if(t==this.contentDOM)i=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((s=i.pmViewDesc)&&s.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}let o;if(t==this.dom&&this.contentDOM)o=n>yr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&n==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,o=t;o;o=o.parentNode){let i=this.getDesc(o),s;if(i&&(!n||i.node))if(r&&(s=i.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return i}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let o=t;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],i=r+o.size;if(r==t&&i!=r){for(;!o.border&&o.children.length;)for(let s=0;s<o.children.length;s++){let l=o.children[s];if(l.size){o=l;break}}return o}if(t<i)return o.descAt(t-r-o.border);r=i}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let s=this.children[r],l=i+s.size;if(l>t||s instanceof PT){o=t-i;break}i=l}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof _T&&i.side>=0;r--);if(n<=0){let i,s=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,s=!1);return i&&n&&s&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?yr(i.dom)+1:0}}else{let i,s=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,s=!1);return i&&s&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?yr(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=r,l=0;;l++){let u=this.children[l],f=s+u.size;if(o==-1&&t<=f){let p=s+u.border;if(t>=p&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(t,n,p);t=s;for(let d=l;d>0;d--){let m=this.children[d-1];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(1)){o=yr(m.dom)+1;break}t-=m.size}o==-1&&(o=0)}if(o>-1&&(f>n||l==this.children.length-1)){n=f;for(let p=l+1;p<this.children.length;p++){let d=this.children[p];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=yr(d.dom);break}n+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}s=f}return{node:this.contentDOM,from:t,to:n,fromOffset:o,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,o=!1){let i=Math.min(t,n),s=Math.max(t,n);for(let g=0,y=0;g<this.children.length;g++){let b=this.children[g],E=y+b.size;if(i>y&&s<E)return b.setSelection(t-y-b.border,n-y-b.border,r,o);y=E}let l=this.domFromPos(t,t?-1:1),u=n==t?l:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),d=!1;if((gi||Hr)&&t==n){let{node:g,offset:y}=l;if(g.nodeType==3){if(d=!!(y&&g.nodeValue[y-1]==`
`),d&&y==g.nodeValue.length)for(let b=g,E;b;b=b.parentNode){if(E=b.nextSibling){E.nodeName=="BR"&&(l=u={node:E.parentNode,offset:yr(E)+1});break}let S=b.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let b=g.childNodes[y-1];d=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(gi&&p.focusNode&&p.focusNode!=u.node&&p.focusNode.nodeType==1){let g=p.focusNode.childNodes[p.focusOffset];g&&g.contentEditable=="false"&&(o=!0)}if(!(o||d&&Hr)&&Ha(l.node,l.offset,p.anchorNode,p.anchorOffset)&&Ha(u.node,u.offset,p.focusNode,p.focusOffset))return;let m=!1;if((f.extend||t==n)&&!d){f.collapse(l.node,l.offset);try{t!=n&&f.extend(u.node,u.offset),m=!0}catch{}}if(!m){if(t>n){let y=l;l=u,u=y}let g=document.createRange();g.setEnd(u.node,u.offset),g.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(g)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],s=r+i.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let l=r+i.border,u=s-i.border;if(t>=l&&n<=u){this.dirty=t==r||n==s?Na:Bx,t==l&&n==u&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Hi:i.markDirty(t-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Na:Hi}r=s}this.dirty=Na}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Na:Bx;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class _T extends Tp{constructor(t,n,r,o){let i,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,i=this}matchesWidget(t){return this.dirty==Go&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class OF extends Tp{constructor(t,n,r,o){super(t,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class qa extends Tp{constructor(t,n,r,o,i){super(t,[],r,o),this.mark=n,this.spec=i}static create(t,n,r,o){let i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return(!s||!s.dom)&&(s=Cc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new qa(t,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Hi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Hi&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Go){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Go}}slice(t,n,r){let o=qa.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=B1(i,n,s,r)),t>0&&(i=B1(i,0,t,r));for(let l=0;l<i.length;l++)i[l].parent=o;return o.children=i,o}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Dl extends Tp{constructor(t,n,r,o,i,s,l,u,f){super(t,[],i,s),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=l}static create(t,n,r,o,i,s){let l=i.nodeViews[n.type.name],u,f=l&&l(n,i,()=>{if(!u)return s;if(u.parent)return u.parent.posBeforeChild(u)},r,o),p=f&&f.dom,d=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:d}=Cc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let m=p;return p=FT(p,r,n),f?u=new CF(t,n,r,o,p,d||null,m,f,i,s+1):n.isText?new jm(t,n,r,o,p,m,i):new Dl(t,n,r,o,p,d||null,m,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>ze.empty)}return t}matchesNode(t,n,r){return this.dirty==Go&&t.eq(this.node)&&tm(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,o=n,i=t.composing?this.localCompositionInfo(t,n):null,s=i&&i.pos>-1?i:null,l=i&&i.pos<0,u=new NF(this,s&&s.node,t);MF(this.node,this.innerDeco,(f,p,d)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,t):f.type.side>=0&&!d&&u.syncToMarks(p==this.node.childCount?tn.none:this.node.child(p).marks,r,t),u.placeWidget(f,t,o)},(f,p,d,m)=>{u.syncToMarks(f.marks,r,t);let g;u.findNodeMatch(f,p,d,m)||l&&t.state.selection.from>o&&t.state.selection.to<o+f.nodeSize&&(g=u.findIndexWithChild(i.node))>-1&&u.updateNodeAt(f,p,d,g,t)||u.updateNextNode(f,p,d,t,m,o)||u.addNode(f,p,d,t,o),o+=f.nodeSize}),u.syncToMarks([],r,t),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Na)&&(s&&this.protectLocalComposition(t,s),$T(this.contentDOM,this.children,t),gc&&RF(this.dom))}localCompositionInfo(t,n){let{from:r,to:o}=t.state.selection;if(!(t.state.selection instanceof Rt)||r<n||o>n+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let s=i.nodeValue,l=DF(this.node.content,s,r-n,o-n);return l<0?null:{node:i,pos:l,text:s}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new OF(this,i,n,o);t.input.compositionNodes.push(s),this.children=B1(this.children,r,r+o.length,t,s)}update(t,n,r,o){return this.dirty==Hi||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,o),!0)}updateInner(t,n,r,o){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=Go}updateOuterDeco(t){if(tm(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=LT(this.dom,this.nodeDOM,j1(this.outerDeco,this.node,n),j1(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Ux(e,t,n,r,o){FT(r,t,e);let i=new Dl(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class jm extends Dl{constructor(t,n,r,o,i,s,l){super(t,n,r,o,i,null,s,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,o){return this.dirty==Hi||this.dirty!=Go&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Go||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=t,this.dirty=Go,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let o=this.node.cut(t,n),i=document.createTextNode(o.text);return new jm(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Hi)}get domAtom(){return!1}isText(t){return this.node.text==t}}class PT extends Tp{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Go&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CF extends Dl{constructor(t,n,r,o,i,s,l,u,f,p){super(t,n,r,o,i,s,l,f,p),this.spec=u}update(t,n,r,o){if(this.dirty==Hi)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,o),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function $T(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let s=t[i],l=s.dom;if(l.parentNode==e){for(;l!=r;)r=Vx(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(l,r);if(s instanceof qa){let u=r?r.previousSibling:e.lastChild;$T(s.contentDOM,s.children,n),r=u?u.nextSibling:e.firstChild}}for(;r;)r=Vx(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const Bf=function(e){e&&(this.nodeName=e)};Bf.prototype=Object.create(null);const Ta=[new Bf];function j1(e,t,n){if(e.length==0)return Ta;let r=n?Ta[0]:new Bf,o=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&o.push(r=new Bf(s.nodeName));for(let l in s){let u=s[l];u!=null&&(n&&o.length==1&&o.push(r=new Bf(t.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return o}function LT(e,t,n,r){if(n==Ta&&r==Ta)return t;let o=t;for(let i=0;i<r.length;i++){let s=r[i],l=n[i];if(i){let u;l&&l.nodeName==s.nodeName&&o!=e&&(u=o.parentNode)&&u.nodeName.toLowerCase()==s.nodeName||(u=document.createElement(s.nodeName),u.pmIsDeco=!0,u.appendChild(o),l=Ta[0]),o=u}EF(o,l||Ta[0],s)}return o}function EF(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&e.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&e.classList.add(o[i]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(t.style);)e.style.removeProperty(o[1])}n.style&&(e.style.cssText+=n.style)}}function FT(e,t,n){return LT(e,e,Ta,j1(t,n,e.nodeType!=1))}function tm(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Vx(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class NF{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=TF(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let o=0,i=this.stack.length>>1,s=Math.min(i,t.length);for(;o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=Go,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(t[i])&&!this.isLocked(f.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=qa.create(this.top,t[i],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,i++}}findNodeMatch(t,n,r,o){let i=-1,s;if(o>=this.preMatch.index&&(s=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))i=this.top.children.indexOf(s,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let f=this.top.children[l];if(f.matchesNode(t,n,r)&&!this.preMatch.matched.has(f)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,n,r,o,i){let s=this.top.children[o];return s.dirty==Hi&&s.dom==s.contentDOM&&(s.dirty=Na),s.update(t,n,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}t=n}}updateNextNode(t,n,r,o,i,s){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof Dl){let f=this.preMatch.matched.get(u);if(f!=null&&f!=i)return!1;let p=u.dom,d,m=this.isLocked(p)&&!(t.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==t.text&&u.dirty!=Hi&&tm(n,u.outerDeco));if(!m&&u.update(t,n,r,o))return this.destroyBetween(this.index,l),u.dom!=p&&(this.changed=!0),this.index++,!0;if(!m&&(d=this.recreateWrapper(u,t,n,r,o,s)))return this.destroyBetween(this.index,l),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Na,d.updateChildren(o,s+1),d.dirty=Go),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,o,i,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!tm(r,t.outerDeco)||!o.eq(t.innerDeco))return null;let l=Dl.create(this.top,n,r,o,i,s);if(l.contentDOM){l.children=t.children,t.children=[];for(let u of l.children)u.parent=l}return t.destroy(),l}addNode(t,n,r,o,i){let s=Dl.create(this.top,t,n,r,o,i);s.contentDOM&&s.updateChildren(o,i+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(t)&&(t==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new _T(this.top,t,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof qa;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof jm)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Hr||Dr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new PT(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function TF(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:for(;o>0;){let l;for(;;)if(r){let f=n.children[r-1];if(f instanceof qa)n=f,r=f.children.length;else{l=f,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=e.child(o-1))break;--o,i.set(l,o),s.push(l)}}return{index:o,matched:i,matches:s.reverse()}}function AF(e,t){return e.type.side-t.type.side}function MF(e,t,n,r){let o=t.locals(e),i=0;if(o.length==0){for(let f=0;f<e.childCount;f++){let p=e.child(f);r(p,o,t.forChild(i,p),f),i+=p.nodeSize}return}let s=0,l=[],u=null;for(let f=0;;){let p,d;for(;s<o.length&&o[s].to==i;){let E=o[s++];E.widget&&(p?(d||(d=[p])).push(E):p=E)}if(p)if(d){d.sort(AF);for(let E=0;E<d.length;E++)n(d[E],f,!!u)}else n(p,f,!!u);let m,g;if(u)g=-1,m=u,u=null;else if(f<e.childCount)g=f,m=e.child(f++);else break;for(let E=0;E<l.length;E++)l[E].to<=i&&l.splice(E--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)l.push(o[s++]);let y=i+m.nodeSize;if(m.isText){let E=y;s<o.length&&o[s].from<E&&(E=o[s].from);for(let S=0;S<l.length;S++)l[S].to<E&&(E=l[S].to);E<y&&(u=m.cut(E-i),m=m.cut(0,E-i),y=E,g=-1)}else for(;s<o.length&&o[s].to<y;)s++;let b=m.isInline&&!m.isLeaf?l.filter(E=>!E.inline):l.slice();r(m,b,t.forChild(i,m),g),i=y}}function RF(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function DF(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let s=e.child(o++),l=i;if(i+=s.nodeSize,!s.isText)continue;let u=s.text;for(;o<e.childCount;){let f=e.child(o++);if(i+=f.nodeSize,!f.isText)break;u+=f.text}if(i>=n){if(i>=r&&u.slice(r-t.length-l,r-l)==t)return r-t.length;let f=l<r?u.lastIndexOf(t,r-l-1):-1;if(f>=0&&f+t.length+l>=n)return l+f;if(n==r&&u.length>=r+t.length-l&&u.slice(r-l,r-l+t.length)==t)return r}}return-1}function B1(e,t,n,r,o){let i=[];for(let s=0,l=0;s<e.length;s++){let u=e[s],f=l,p=l+=u.size;f>=n||p<=t?i.push(u):(f<t&&i.push(u.slice(0,t-f,r)),o&&(i.push(o),o=void 0),p>n&&i.push(u.slice(n-f,u.size,r)))}return i}function Dw(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&o.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),u,f;if(zm(n)){for(u=s;o&&!o.node;)o=o.parent;let d=o.node;if(o&&d.isAtom&&vt.isSelectable(d)&&o.parent&&!(d.isInline&&oF(n.focusNode,n.focusOffset,o.dom))){let m=o.posBefore;f=new vt(s==m?l:r.resolve(m))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,m=s;for(let g=0;g<n.rangeCount;g++){let y=n.getRangeAt(g);d=Math.min(d,e.docView.posFromDOM(y.startContainer,y.startOffset,1)),m=Math.max(m,e.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(d<0)return null;[u,s]=m==e.state.selection.anchor?[m,d]:[d,m],l=r.resolve(s)}else u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let p=r.resolve(u);if(!f){let d=t=="pointer"||e.state.selection.head<l.pos&&!i?1:-1;f=Iw(e,p,l,d)}return f}function zT(e){return e.editable?e.hasFocus():BT(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Cs(e,t=!1){let n=e.state.selection;if(jT(e,n),!!zT(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Dr){let r=e.domSelectionRange(),o=e.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Ha(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)_F(e);else{let{anchor:r,head:o}=n,i,s;Hx&&!(n instanceof Rt)&&(n.$from.parent.inlineContent||(i=qx(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=qx(e,n.to))),e.docView.setSelection(r,o,e,t),Hx&&(i&&Wx(i),s&&Wx(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&IF(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Hx=Hr||Dr&&NT<63;function qx(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Hr&&o&&o.contentEditable=="false")return Fy(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return Fy(o);if(i)return Fy(i)}}function Fy(e){return e.contentEditable="true",Hr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Wx(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function IF(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!zT(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function _F(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setStart(r.parentNode,yr(r)+1):n.setStart(r,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&uo&&Rl<=11&&(r.disabled=!0,r.disabled=!1)}function jT(e,t){if(t instanceof vt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Kx(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Kx(e)}function Kx(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Iw(e,t,n,r){return e.someProp("createSelectionBetween",o=>o(e,t,n))||Rt.between(t,n,r)}function Gx(e){return e.editable&&!e.hasFocus()?!1:BT(e)}function BT(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function PF(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Ha(t.node,t.offset,n.anchorNode,n.anchorOffset)}function U1(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&Mt.findFrom(i,t)}function al(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Jx(e,t,n){let r=e.state.selection;if(r instanceof Rt)if(n.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let s=e.state.doc.resolve(o.pos+i.nodeSize*(t<0?-1:1));return al(e,new Rt(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let o=U1(e.state,t);return o&&o instanceof vt?al(e,o):!1}else if(!(zo&&n.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,s;if(!i||i.isText)return!1;let l=t<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(s=e.docView.descAt(l))&&!s.contentDOM?vt.isSelectable(i)?al(e,new vt(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):Np?al(e,new Rt(e.state.doc.resolve(t<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof vt&&r.node.isInline)return al(e,new Rt(t>0?r.$to:r.$from));{let o=U1(e.state,t);return o?al(e,o):!1}}}function nm(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Uf(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Au(e,t){return t<0?$F(e):LF(e)}function $F(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=!1;for(gi&&n.nodeType==1&&r<nm(n)&&Uf(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Uf(l,-1))o=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(UT(n))break;{let l=n.previousSibling;for(;l&&Uf(l,-1);)o=n.parentNode,i=yr(l),l=l.previousSibling;if(l)n=l,r=nm(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?V1(e,n,r):o&&V1(e,o,i)}function LF(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o=nm(n),i,s;for(;;)if(r<o){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Uf(l,1))i=n,s=++r;else break}else{if(UT(n))break;{let l=n.nextSibling;for(;l&&Uf(l,1);)i=l.parentNode,s=yr(l)+1,l=l.nextSibling;if(l)n=l,r=0,o=nm(n);else{if(n=n.parentNode,n==e.dom)break;r=o=0}}}i&&V1(e,i,s)}function UT(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function FF(e,t){for(;e&&t==e.childNodes.length&&!Ep(e);)t=yr(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function zF(e,t){for(;e&&!t&&!Ep(e);)t=yr(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function V1(e,t,n){if(t.nodeType!=3){let i,s;(s=FF(t,n))?(t=s,n=0):(i=zF(t,n))&&(t=i,n=i.nodeValue.length)}let r=e.domSelection();if(!r)return;if(zm(r)){let i=document.createRange();i.setEnd(t,n),i.setStart(t,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&Cs(e)},50)}function Qx(e,t){let n=e.state.doc.resolve(t);if(!(Dr||lF)&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),i=(o.top+o.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),i=(o.top+o.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function Yx(e,t,n){let r=e.state.selection;if(r instanceof Rt&&!r.empty||n.indexOf("s")>-1||zo&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=U1(e.state,t);if(s&&s instanceof vt)return al(e,s)}if(!o.parent.inlineContent){let s=t<0?o:i,l=r instanceof To?Mt.near(s,t):Mt.findFrom(s,t);return l?al(e,l):!1}return!1}function Zx(e,t){if(!(e.state.selection instanceof Rt))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let s=e.state.tr;return t<0?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),e.dispatch(s),!0}return!1}function Xx(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function jF(e){if(!Hr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;Xx(e,r,"true"),setTimeout(()=>Xx(e,r,"false"),20)}return!1}function BF(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function UF(e,t){let n=t.keyCode,r=BF(t);if(n==8||zo&&n==72&&r=="c")return Zx(e,-1)||Au(e,-1);if(n==46&&!t.shiftKey||zo&&n==68&&r=="c")return Zx(e,1)||Au(e,1);if(n==13||n==27)return!0;if(n==37||zo&&n==66&&r=="c"){let o=n==37?Qx(e,e.state.selection.from)=="ltr"?-1:1:-1;return Jx(e,o,r)||Au(e,o)}else if(n==39||zo&&n==70&&r=="c"){let o=n==39?Qx(e,e.state.selection.from)=="ltr"?1:-1:1;return Jx(e,o,r)||Au(e,o)}else{if(n==38||zo&&n==80&&r=="c")return Yx(e,-1,r)||Au(e,-1);if(n==40||zo&&n==78&&r=="c")return jF(e)||Yx(e,1,r)||Au(e,1);if(r==(zo?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function _w(e,t){e.someProp("transformCopied",g=>{t=g(t,e)});let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let g=r.firstChild;n.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),r=g.content}let s=e.someProp("clipboardSerializer")||Cc.fromSchema(e.state.schema),l=GT(),u=l.createElement("div");u.appendChild(s.serializeFragment(r,{document:l}));let f=u.firstChild,p,d=0;for(;f&&f.nodeType==1&&(p=KT[f.nodeName.toLowerCase()]);){for(let g=p.length-1;g>=0;g--){let y=l.createElement(p[g]);for(;u.firstChild;)y.appendChild(u.firstChild);u.appendChild(y),d++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${o} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let m=e.someProp("clipboardTextSerializer",g=>g(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:m,slice:t}}function VT(e,t,n,r,o){let i=o.parent.type.spec.code,s,l;if(!n&&!t)return null;let u=t&&(r||i||!n);if(u){if(e.someProp("transformPastedText",m=>{t=m(t,i||r,e)}),i)return t?new We(ze.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):We.empty;let d=e.someProp("clipboardTextParser",m=>m(t,o,r,e));if(d)l=d;else{let m=o.marks(),{schema:g}=e.state,y=Cc.fromSchema(g);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(b=>{let E=s.appendChild(document.createElement("p"));b&&E.appendChild(y.serializeNode(g.text(b,m)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),s=WF(n),Np&&KF(s);let f=s&&s.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let d=+p[3];d>0;d--){let m=s.firstChild;for(;m&&m.nodeType!=1;)m=m.nextSibling;if(!m)break;s=m}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||cp.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(u||p),context:o,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!VF.test(d.parentNode.nodeName)?{ignore:!0}:null}})),p)l=GF(eO(l,+p[1],+p[2]),p[4]);else if(l=We.maxOpen(HF(l.content,o),!0),l.openStart||l.openEnd){let d=0,m=0;for(let g=l.content.firstChild;d<l.openStart&&!g.type.spec.isolating;d++,g=g.firstChild);for(let g=l.content.lastChild;m<l.openEnd&&!g.type.spec.isolating;m++,g=g.lastChild);l=eO(l,d,m)}return e.someProp("transformPasted",d=>{l=d(l,e)}),l}const VF=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function HF(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.index(n)),o,i=[];if(e.forEach(s=>{if(!i)return;let l=r.findWrapping(s.type),u;if(!l)return i=null;if(u=i.length&&o.length&&qT(l,o,s,i[i.length-1],0))i[i.length-1]=u;else{i.length&&(i[i.length-1]=WT(i[i.length-1],o.length));let f=HT(s,l);i.push(f),r=r.matchType(f.type),o=l}}),i)return ze.from(i)}return e}function HT(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,ze.from(e));return e}function qT(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=qT(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(ze.from(HT(n,e,o+1))))}}function WT(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,WT(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(ze.empty,!0);return e.copy(n.append(r))}function H1(e,t,n,r,o,i){let s=t<0?e.firstChild:e.lastChild,l=s.content;return e.childCount>1&&(i=0),o<r-1&&(l=H1(l,t,n,r,o+1,i)),o>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,i<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(ze.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}function eO(e,t,n){return t<e.openStart&&(e=new We(H1(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new We(H1(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const KT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let tO=null;function GT(){return tO||(tO=document.implementation.createHTMLDocument("title"))}let zy=null;function qF(e){let t=window.trustedTypes;return t?(zy||(zy=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),zy.createHTML(e)):e}function WF(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=GT().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),o;if((o=r&&KT[r[1].toLowerCase()])&&(e=o.map(i=>"<"+i+">").join("")+e+o.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=qF(e),o)for(let i=0;i<o.length;i++)n=n.querySelector(o[i])||n;return n}function KF(e){let t=e.querySelectorAll(Dr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function GF(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:o,openStart:i,openEnd:s}=e;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;o=ze.from(u.create(r[l+1],o)),i++,s++}return new We(o,i,s)}const qr={},Wr={},JF={touchstart:!0,touchmove:!0};class QF{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function YF(e){for(let t in qr){let n=qr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{XF(e,r)&&!Pw(e,r)&&(e.editable||!(r.type in Wr))&&n(e,r)},JF[t]?{passive:!0}:void 0)}Hr&&e.dom.addEventListener("input",()=>null),q1(e)}function Sl(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function ZF(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function q1(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>Pw(e,r))})}function Pw(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function XF(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function e6(e,t){!Pw(e,t)&&qr[t.type]&&(e.editable||!(t.type in Wr))&&qr[t.type](e,t)}Wr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!QT(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(ks&&Dr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),gc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",o=>o(e,ba(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||UF(e,n)?n.preventDefault():Sl(e,"key")};Wr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Wr.keypress=(e,t)=>{let n=t;if(QT(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||zo&&n.metaKey)return;if(e.someProp("handleKeyPress",o=>o(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Rt)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!e.someProp("handleTextInput",i=>i(e,r.$from.pos,r.$to.pos,o))&&e.dispatch(e.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function Bm(e){return{left:e.clientX,top:e.clientY}}function t6(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function $w(e,t,n,r,o){if(r==-1)return!1;let i=e.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(e.someProp(t,l=>s>i.depth?l(e,n,i.nodeAfter,i.before(s),o,!0):l(e,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function nc(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function n6(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&vt.isSelectable(r)?(nc(e,new vt(n)),!0):!1}function r6(e,t){if(t==-1)return!1;let n=e.state.selection,r,o;n instanceof vt&&(r=n.node);let i=e.state.doc.resolve(t);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s);if(vt.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?o=i.before(n.$from.depth):o=i.before(s);break}}return o!=null?(nc(e,vt.create(e.state.doc,o)),!0):!1}function o6(e,t,n,r,o){return $w(e,"handleClickOn",t,n,r)||e.someProp("handleClick",i=>i(e,t,r))||(o?r6(e,n):n6(e,n))}function i6(e,t,n,r){return $w(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",o=>o(e,t,r))}function s6(e,t,n,r){return $w(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",o=>o(e,t,r))||l6(e,n,r)}function l6(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(nc(e,Rt.create(r,0,r.content.size)),!0):!1;let o=r.resolve(t);for(let i=o.depth+1;i>0;i--){let s=i>o.depth?o.nodeAfter:o.node(i),l=o.before(i);if(s.inlineContent)nc(e,Rt.create(r,l+1,l+1+s.content.size));else if(vt.isSelectable(s))nc(e,vt.create(r,l));else continue;return!0}}function Lw(e){return rm(e)}const JT=zo?"metaKey":"ctrlKey";qr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Lw(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&t6(n,e.input.lastClick)&&!n[JT]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?i="doubleClick":e.input.lastClick.type=="doubleClick"&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i,button:n.button};let s=e.posAtCoords(Bm(n));s&&(i=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new a6(e,s,n,!!r)):(i=="doubleClick"?i6:s6)(e,s.pos,s.inside,n)?n.preventDefault():Sl(e,"pointer"))};class a6{constructor(t,n,r,o){this.view=t,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[JT],this.allowDefault=r.shiftKey;let i,s;if(n.inside>-1)i=t.state.doc.nodeAt(n.inside),s=n.inside;else{let p=t.state.doc.resolve(n.pos);i=p.parent,s=p.depth?p.before():0}const l=o?null:r.target,u=l?t.docView.nearestDesc(l,!0):null;this.target=u&&u.dom.nodeType==1?u.dom:null;let{selection:f}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||f instanceof vt&&f.from<=s&&f.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Sl(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Cs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Bm(t))),this.updateAllowDefault(t),this.allowDefault||!n?Sl(this.view,"pointer"):o6(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Hr&&this.mightDrag&&!this.mightDrag.node.isAtom||Dr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(nc(this.view,Mt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Sl(this.view,"pointer")}move(t){this.updateAllowDefault(t),Sl(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}qr.touchstart=e=>{e.input.lastTouch=Date.now(),Lw(e),Sl(e,"pointer")};qr.touchmove=e=>{e.input.lastTouch=Date.now(),Sl(e,"pointer")};qr.contextmenu=e=>Lw(e);function QT(e,t){return e.composing?!0:Hr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const u6=ks?5e3:-1;Wr.compositionstart=Wr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Rt&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),rm(e,!0),e.markCursor=null;else if(rm(e,!t.selection.empty),gi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(s.nodeType==3){let l=e.domSelection();l&&l.collapse(s,s.nodeValue.length);break}else o=s,i=-1}}e.input.composing=!0}YT(e,u6)};Wr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,YT(e,20))};function YT(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>rm(e),t))}function ZT(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=f6());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function c6(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=nF(t.focusNode,t.focusOffset),r=rF(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,i=e.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function f6(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function rm(e,t=!1){if(!(ks&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),ZT(e),t||e.docView&&e.docView.dirty){let n=Dw(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function p6(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const hp=uo&&Rl<15||gc&&aF<604;qr.copy=Wr.cut=(e,t)=>{let n=t,r=e.state.selection,o=n.type=="cut";if(r.empty)return;let i=hp?null:n.clipboardData,s=r.content(),{dom:l,text:u}=_w(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",u)):p6(e,l),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function d6(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function h6(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?mp(e,r.value,null,o,t):mp(e,r.textContent,r.innerHTML,o,t)},50)}function mp(e,t,n,r,o){let i=VT(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",u=>u(e,o,i||We.empty)))return!0;if(!i)return!1;let s=d6(i),l=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function XT(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Wr.paste=(e,t)=>{let n=t;if(e.composing&&!ks)return;let r=hp?null:n.clipboardData,o=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&mp(e,XT(r),r.getData("text/html"),o,n)?n.preventDefault():h6(e,n)};class eA{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const m6=zo?"altKey":"ctrlKey";function tA(e,t){return e.someProp("dragCopies",r=>!r(t))??!t[m6]}qr.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=e.state.selection,i=o.empty?null:e.posAtCoords(Bm(n)),s;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof vt?o.to-1:o.to))){if(r&&r.mightDrag)s=vt.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(s=vt.create(e.state.doc,d.posBefore))}}let l=(s||e.state.selection).content(),{dom:u,text:f,slice:p}=_w(e,l);(!n.dataTransfer.files.length||!Dr||NT>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(hp?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",hp||n.dataTransfer.setData("text/plain",f),e.dragging=new eA(p,tA(e,n),s)};qr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Wr.dragover=Wr.dragenter=(e,t)=>t.preventDefault();Wr.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(Bm(n));if(!o)return;let i=e.state.doc.resolve(o.pos),s=r&&r.slice;s?e.someProp("transformPasted",y=>{s=y(s,e)}):s=VT(e,XT(n.dataTransfer),hp?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(r&&tA(e,n));if(e.someProp("handleDrop",y=>y(e,n,s||We.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let u=s?bL(e.state.doc,i.pos,s):i.pos;u==null&&(u=i.pos);let f=e.state.tr;if(l){let{node:y}=r;y?y.replace(f):f.deleteSelection()}let p=f.mapping.map(u),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,m=f.doc;if(d?f.replaceRangeWith(p,p,s.content.firstChild):f.replaceRange(p,p,s),f.doc.eq(m))return;let g=f.doc.resolve(p);if(d&&vt.isSelectable(s.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(s.content.firstChild))f.setSelection(new vt(g));else{let y=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((b,E,S,x)=>y=x),f.setSelection(Iw(e,g,f.doc.resolve(y)))}e.focus(),e.dispatch(f.setMeta("uiEvent","drop"))};qr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Cs(e)},20))};qr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};qr.beforeinput=(e,t)=>{if(Dr&&ks&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:n}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=n||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,ba(8,"Backspace")))))return;let{$cursor:r}=e.state.selection;r&&r.pos>0&&e.dispatch(e.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let e in Wr)qr[e]=Wr[e];function gp(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class om{constructor(t,n){this.toDOM=t,this.spec=n||Ia,this.side=this.spec.side||0}map(t,n,r,o){let{pos:i,deleted:s}=t.mapResult(n.from+o,this.side<0?-1:1);return s?null:new Ur(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof om&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&gp(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Il{constructor(t,n){this.attrs=t,this.spec=n||Ia}map(t,n,r,o){let i=t.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=s?null:new Ur(i,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Il&&gp(this.attrs,t.attrs)&&gp(this.spec,t.spec)}static is(t){return t.type instanceof Il}destroy(){}}class Fw{constructor(t,n){this.attrs=t,this.spec=n||Ia}map(t,n,r,o){let i=t.mapResult(n.from+o,1);if(i.deleted)return null;let s=t.mapResult(n.to+o,-1);return s.deleted||s.pos<=i.pos?null:new Ur(i.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:o}=t.content.findIndex(n.from),i;return o==n.from&&!(i=t.child(r)).isText&&o+i.nodeSize==n.to}eq(t){return this==t||t instanceof Fw&&gp(this.attrs,t.attrs)&&gp(this.spec,t.spec)}destroy(){}}class Ur{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Ur(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Ur(t,t,new om(n,r))}static inline(t,n,r,o){return new Ur(t,n,new Il(r,o))}static node(t,n,r,o){return new Ur(t,n,new Fw(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Il}get widget(){return this.type instanceof om}}const _u=[],Ia={};class $n{constructor(t,n){this.local=t.length?t:_u,this.children=n.length?n:_u}static create(t,n){return n.length?im(n,t,0,Ia):Ar}find(t,n,r){let o=[];return this.findInner(t??0,n??1e9,o,0,r),o}findInner(t,n,r,o,i){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=t&&(!i||i(l.spec))&&r.push(l.copy(l.from+o,l.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let l=this.children[s]+1;this.children[s+2].findInner(t-l,n-l,r,o+l,i)}}map(t,n,r){return this==Ar||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Ia)}mapInner(t,n,r,o,i){let s;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(t,r,o);u&&u.type.valid(n,u)?(s||(s=[])).push(u):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?g6(this.children,s||[],t,n,r,o,i):s?new $n(s.sort(_a),_u):Ar}add(t,n){return n.length?this==Ar?$n.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let o,i=0;t.forEach((l,u)=>{let f=u+r,p;if(p=rA(n,l,f)){for(o||(o=this.children.slice());i<o.length&&o[i]<u;)i+=3;o[i]==u?o[i+2]=o[i+2].addInner(l,p,f+1):o.splice(i,0,u,u+l.nodeSize,im(p,l,f+1,Ia)),i+=3}});let s=nA(i?oA(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||s.splice(l--,1);return new $n(s.length?this.local.concat(s).sort(_a):this.local,o||this.children)}remove(t){return t.length==0||this==Ar?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let s,l=r[i]+n,u=r[i+1]+n;for(let p=0,d;p<t.length;p++)(d=t[p])&&d.from>l&&d.to<u&&(t[p]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let f=r[i+2].removeInner(s,l+1);f!=Ar?r[i+2]=f:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,s;i<t.length;i++)if(s=t[i])for(let l=0;l<o.length;l++)o[l].eq(s,n)&&(o==this.local&&(o=this.local.slice()),o.splice(l--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new $n(o,r):Ar}forChild(t,n){if(this==Ar)return this;if(n.isLeaf)return $n.empty;let r,o;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(r=this.children[l+2]);break}let i=t+1,s=i+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<s&&u.to>i&&u.type instanceof Il){let f=Math.max(i,u.from)-i,p=Math.min(s,u.to)-i;f<p&&(o||(o=[])).push(u.copy(f,p))}}if(o){let l=new $n(o.sort(_a),_u);return r?new dl([l,r]):l}return r||Ar}eq(t){if(this==t)return!0;if(!(t instanceof $n)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return zw(this.localsInner(t))}localsInner(t){if(this==Ar)return _u;if(t.inlineContent||!this.local.some(Il.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Il||n.push(this.local[r]);return n}forEachSet(t){t(this)}}$n.empty=new $n([],[]);$n.removeOverlap=zw;const Ar=$n.empty;class dl{constructor(t){this.members=t}map(t,n){const r=this.members.map(o=>o.map(t,n,Ia));return dl.from(r)}forChild(t,n){if(n.isLeaf)return $n.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(t,n);i!=Ar&&(i instanceof dl?r=r.concat(i.members):r.push(i))}return dl.from(r)}eq(t){if(!(t instanceof dl)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(t);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let s=0;s<i.length;s++)n.push(i[s])}}return n?zw(r?n:n.sort(_a)):_u}static from(t){switch(t.length){case 0:return Ar;case 1:return t[0];default:return new dl(t.every(n=>n instanceof $n)?t:t.reduce((n,r)=>n.concat(r instanceof $n?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function g6(e,t,n,r,o,i,s){let l=e.slice();for(let f=0,p=i;f<n.maps.length;f++){let d=0;n.maps[f].forEach((m,g,y,b)=>{let E=b-y-(g-m);for(let S=0;S<l.length;S+=3){let x=l[S+1];if(x<0||m>x+p-d)continue;let k=l[S]+p-d;g>=k?l[S+1]=m<=k?-2:-1:m>=p&&E&&(l[S]+=E,l[S+1]+=E)}d+=E}),p=n.maps[f].map(p,-1)}let u=!1;for(let f=0;f<l.length;f+=3)if(l[f+1]<0){if(l[f+1]==-2){u=!0,l[f+1]=-1;continue}let p=n.map(e[f]+i),d=p-o;if(d<0||d>=r.content.size){u=!0;continue}let m=n.map(e[f+1]+i,-1),g=m-o,{index:y,offset:b}=r.content.findIndex(d),E=r.maybeChild(y);if(E&&b==d&&b+E.nodeSize==g){let S=l[f+2].mapInner(n,E,p+1,e[f]+i+1,s);S!=Ar?(l[f]=d,l[f+1]=g,l[f+2]=S):(l[f+1]=-2,u=!0)}else u=!0}if(u){let f=y6(l,e,t,n,o,i,s),p=im(f,r,0,s);t=p.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,m=0;d<p.children.length;d+=3){let g=p.children[d];for(;m<l.length&&l[m]<g;)m+=3;l.splice(m,0,p.children[d],p.children[d+1],p.children[d+2])}}return new $n(t.sort(_a),l)}function nA(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new Ur(o.from+t,o.to+t,o.type))}return n}function y6(e,t,n,r,o,i,s){function l(u,f){for(let p=0;p<u.local.length;p++){let d=u.local[p].map(r,o,f);d?n.push(d):s.onRemove&&s.onRemove(u.local[p].spec)}for(let p=0;p<u.children.length;p+=3)l(u.children[p+2],u.children[p]+f+1)}for(let u=0;u<e.length;u+=3)e[u+1]==-1&&l(e[u+2],t[u]+i+1);return n}function rA(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let i=0,s;i<e.length;i++)(s=e[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),e[i]=null);return o}function oA(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function im(e,t,n,r){let o=[],i=!1;t.forEach((l,u)=>{let f=rA(e,l,u+n);if(f){i=!0;let p=im(f,l,n+u+1,r);p!=Ar&&o.push(u,u+l.nodeSize,p)}});let s=nA(i?oA(e):e,-n).sort(_a);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||o.length?new $n(s,o):Ar}function _a(e,t){return e.from-t.from||e.to-t.to}function zw(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from==r.from){i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),nO(t,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),nO(t,o,r.copy(i.from,r.to)));break}}}return t}function nO(e,t,n){for(;t<e.length&&_a(n,e[t])>0;)t++;e.splice(t,0,n)}function jy(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Ar&&t.push(r)}),e.cursorWrapper&&t.push($n.create(e.state.doc,[e.cursorWrapper.deco])),dl.from(t)}const v6={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},w6=uo&&Rl<=11;class S6{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class b6{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new S6,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);uo&&Rl<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),w6&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,v6)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Gx(this.view)){if(this.suppressingSelectionUpdates)return Cs(this.view);if(uo&&Rl<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Ha(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let i=t.focusNode;i;i=mc(i))n.add(i);for(let i=t.anchorNode;i;i=mc(i))if(n.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Gx(t)&&!this.ignoreSelectionChange(r),i=-1,s=-1,l=!1,u=[];if(t.editable)for(let p=0;p<n.length;p++){let d=this.registerMutation(n[p],u);d&&(i=i<0?d.from:Math.min(d.from,i),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(l=!0))}if(gi&&u.length){let p=u.filter(d=>d.nodeName=="BR");if(p.length==2){let[d,m]=p;d.parentNode&&d.parentNode.parentNode==m.parentNode?m.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let m of p){let g=m.parentNode;g&&g.nodeName=="LI"&&(!d||O6(t,d)!=g)&&m.remove()}}}let f=null;i<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&zm(r)&&(f=Dw(t))&&f.eq(Mt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Cs(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||o)&&(i>-1&&(t.docView.markDirty(i,s),k6(t)),this.handleDOMChange(i,s,l,u),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Cs(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let p=0;p<t.addedNodes.length;p++){let d=t.addedNodes[p];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,i=t.nextSibling;if(uo&&Rl<=11&&t.addedNodes.length)for(let p=0;p<t.addedNodes.length;p++){let{previousSibling:d,nextSibling:m}=t.addedNodes[p];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(o=d),(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(i=m)}let s=o&&o.parentNode==t.target?yr(o)+1:0,l=r.localPosFromDOM(t.target,s,-1),u=i&&i.parentNode==t.target?yr(i):t.target.childNodes.length,f=r.localPosFromDOM(t.target,u,1);return{from:l,to:f}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let rO=new WeakMap,oO=!1;function k6(e){if(!rO.has(e)&&(rO.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=gi,oO)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),oO=!0}}function iO(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return Ha(s.node,s.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function x6(e,t){if(t.getComposedRanges){let o=t.getComposedRanges(e.root)[0];if(o)return iO(e,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?iO(e,n):null}function O6(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function C6(e,t,n){let{node:r,fromOffset:o,toOffset:i,from:s,to:l}=e.docView.parseRange(t,n),u=e.domSelectionRange(),f,p=u.anchorNode;if(p&&e.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:u.anchorOffset}],zm(u)||f.push({node:u.focusNode,offset:u.focusOffset})),Dr&&e.input.lastKeyCode===8)for(let E=i;E>o;E--){let S=r.childNodes[E-1],x=S.pmViewDesc;if(S.nodeName=="BR"&&!x){i=E;break}if(!x||x.size)break}let d=e.state.doc,m=e.someProp("domParser")||cp.fromSchema(e.state.schema),g=d.resolve(s),y=null,b=m.parse(r,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:o,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:E6,context:g});if(f&&f[0].pos!=null){let E=f[0].pos,S=f[1]&&f[1].pos;S==null&&(S=E),y={anchor:E+s,head:S+s}}return{doc:b,sel:y,from:s,to:l}}function E6(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Hr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Hr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const N6=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function T6(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let Y=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,ue=Dw(e,Y);if(ue&&!e.state.selection.eq(ue)){if(Dr&&ks&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",ge=>ge(e,ba(13,"Enter"))))return;let Se=e.state.tr.setSelection(ue);Y=="pointer"?Se.setMeta("pointer",!0):Y=="key"&&Se.scrollIntoView(),i&&Se.setMeta("composition",i),e.dispatch(Se)}return}let s=e.state.doc.resolve(t),l=s.sharedDepth(n);t=s.before(l+1),n=e.state.doc.resolve(n).after(l+1);let u=e.state.selection,f=C6(e,t,n),p=e.state.doc,d=p.slice(f.from,f.to),m,g;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(m=e.state.selection.to,g="end"):(m=e.state.selection.from,g="start"),e.input.lastKeyCode=null;let y=R6(d.content,f.doc.content,f.from,m,g);if(y&&e.input.domChangeCount++,(gc&&e.input.lastIOSEnter>Date.now()-225||ks)&&o.some(Y=>Y.nodeType==1&&!N6.test(Y.nodeName))&&(!y||y.endA>=y.endB)&&e.someProp("handleKeyDown",Y=>Y(e,ba(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!y)if(r&&u instanceof Rt&&!u.empty&&u.$head.sameParent(u.$anchor)&&!e.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))y={start:u.from,endA:u.to,endB:u.to};else{if(f.sel){let Y=sO(e,e.state.doc,f.sel);if(Y&&!Y.eq(e.state.selection)){let ue=e.state.tr.setSelection(Y);i&&ue.setMeta("composition",i),e.dispatch(ue)}}return}e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof Rt&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2&&e.state.selection.from>=f.from?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&e.state.selection.to<=f.to&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),uo&&Rl<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>f.from&&f.doc.textBetween(y.start-f.from-1,y.start-f.from+1)==" "&&(y.start--,y.endA--,y.endB--);let b=f.doc.resolveNoCache(y.start-f.from),E=f.doc.resolveNoCache(y.endB-f.from),S=p.resolve(y.start),x=b.sameParent(E)&&b.parent.inlineContent&&S.end()>=y.endA,k;if((gc&&e.input.lastIOSEnter>Date.now()-225&&(!x||o.some(Y=>Y.nodeName=="DIV"||Y.nodeName=="P"))||!x&&b.pos<f.doc.content.size&&(!b.sameParent(E)||!b.parent.inlineContent)&&!/\S/.test(f.doc.textBetween(b.pos,E.pos,"",""))&&(k=Mt.findFrom(f.doc.resolve(b.pos+1),1,!0))&&k.head>b.pos)&&e.someProp("handleKeyDown",Y=>Y(e,ba(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>y.start&&M6(p,y.start,y.endA,b,E)&&e.someProp("handleKeyDown",Y=>Y(e,ba(8,"Backspace")))){ks&&Dr&&e.domObserver.suppressSelectionUpdates();return}Dr&&y.endB==y.start&&(e.input.lastChromeDelete=Date.now()),ks&&!x&&b.start()!=E.start()&&E.parentOffset==0&&b.depth==E.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==y.endA&&(y.endB-=2,E=f.doc.resolveNoCache(y.endB-f.from),setTimeout(()=>{e.someProp("handleKeyDown",function(Y){return Y(e,ba(13,"Enter"))})},20));let I=y.start,L=y.endA,_,H,j;if(x){if(b.pos==E.pos)uo&&Rl<=11&&b.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Cs(e),20)),_=e.state.tr.delete(I,L),H=p.resolve(y.start).marksAcross(p.resolve(y.endA));else if(y.endA==y.endB&&(j=A6(b.parent.content.cut(b.parentOffset,E.parentOffset),S.parent.content.cut(S.parentOffset,y.endA-S.start()))))_=e.state.tr,j.type=="add"?_.addMark(I,L,j.mark):_.removeMark(I,L,j.mark);else if(b.parent.child(b.index()).isText&&b.index()==E.index()-(E.textOffset?0:1)){let Y=b.parent.textBetween(b.parentOffset,E.parentOffset);if(e.someProp("handleTextInput",ue=>ue(e,I,L,Y)))return;_=e.state.tr.insertText(Y,I,L)}}if(_||(_=e.state.tr.replace(I,L,f.doc.slice(y.start-f.from,y.endB-f.from))),f.sel){let Y=sO(e,_.doc,f.sel);Y&&!(Dr&&e.composing&&Y.empty&&(y.start!=y.endB||e.input.lastChromeDelete<Date.now()-100)&&(Y.head==I||Y.head==_.mapping.map(L)-1)||uo&&Y.empty&&Y.head==I)&&_.setSelection(Y)}H&&_.ensureMarks(H),i&&_.setMeta("composition",i),e.dispatch(_.scrollIntoView())}function sO(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Iw(e,t.resolve(n.anchor),t.resolve(n.head))}function A6(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,o=n,i=r,s,l,u;for(let p=0;p<r.length;p++)o=r[p].removeFromSet(o);for(let p=0;p<n.length;p++)i=n[p].removeFromSet(i);if(o.length==1&&i.length==0)l=o[0],s="add",u=p=>p.mark(l.addToSet(p.marks));else if(o.length==0&&i.length==1)l=i[0],s="remove",u=p=>p.mark(l.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<t.childCount;p++)f.push(u(t.child(p)));if(ze.from(f).eq(e))return{mark:l,type:s}}function M6(e,t,n,r,o){if(n-t<=o.pos-r.pos||By(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==t+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(By(i,!0,!0));return!s.parent.isTextblock||s.pos>n||By(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function By(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let i=e.node(r).maybeChild(e.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function R6(e,t,n,r,o){let i=e.findDiffStart(t,n);if(i==null)return null;let{a:s,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(o=="end"){let u=Math.max(0,i-Math.min(s,l));r-=s+u-i}if(s<i&&e.size<t.size){let u=r<=i&&r>=s?i-r:0;i-=u,i&&i<t.size&&lO(t.textBetween(i-1,i+1))&&(i+=u?1:-1),l=i+(l-s),s=i}else if(l<i){let u=r<=i&&r>=l?i-r:0;i-=u,i&&i<e.size&&lO(e.textBetween(i-1,i+1))&&(i+=u?1:-1),s=i+(s-l),l=i}return{start:i,endA:s,endB:l}}function lO(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class iA{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new QF,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(pO),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=cO(this),uO(this),this.nodeViews=fO(this),this.docView=Ux(this.state.doc,aO(this),jy(this),this.dom,this),this.domObserver=new b6(this,(r,o,i,s)=>T6(this,r,o,i,s)),this.domObserver.start(),YF(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&q1(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(pO),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let o=this.state,i=!1,s=!1;t.storedMarks&&this.composing&&(ZT(this),s=!0),this.state=t;let l=o.plugins!=t.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let g=fO(this);I6(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&q1(this),this.editable=cO(this),uO(this);let u=jy(this),f=aO(this),p=o.plugins!=t.plugins&&!o.doc.eq(t.doc)?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(t.doc,f,u);(d||!t.selection.eq(o.selection))&&(s=!0);let m=p=="preserve"&&s&&this.dom.style.overflowAnchor==null&&fF(this);if(s){this.domObserver.stop();let g=d&&(uo||Dr)&&!this.composing&&!o.selection.empty&&!t.selection.empty&&D6(o.selection,t.selection);if(d){let y=Dr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=c6(this)),(i||!this.docView.update(t.doc,f,u,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=Ux(t.doc,f,u,this.dom,this)),y&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&PF(this))?Cs(this,g):(jT(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,o),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():m&&pF(m)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))&&!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof vt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&$x(this,n.getBoundingClientRect(),t)}else $x(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new eA(t.slice,t.move,o<0?void 0:vt.create(this.state.doc,o))}someProp(t,n){let r=this._props&&this._props[t],o;if(r!=null&&(o=n?n(r):r))return o;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[t];if(l!=null&&(o=n?n(l):l))return o}let i=this.state.plugins;if(i)for(let s=0;s<i.length;s++){let l=i[s].props[t];if(l!=null&&(o=n?n(l):l))return o}}hasFocus(){if(uo){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&dF(this.dom),Cs(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return vF(this,t)}coordsAtPos(t,n=1){return DT(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let o=this.docView.posFromDOM(t,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(t,n){return xF(this,n||this.state,t)}pasteHTML(t,n){return mp(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return mp(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return _w(this,t)}destroy(){this.docView&&(ZF(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],jy(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,eF())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return e6(this,t)}dispatch(t){let n=this._props.dispatchTransaction;n?n.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?Hr&&this.root.nodeType===11&&iF(this.dom.ownerDocument)==this.dom&&x6(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function aO(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Ur.node(0,e.state.doc.content.size,t)]}function uO(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Ur.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function cO(e){return!e.someProp("editable",t=>t(e.state)===!1)}function D6(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function fO(e){let t=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=r[o])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function I6(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r}function pO(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const _6=["p",0],P6=["blockquote",0],$6=["hr"],L6=["pre",["code",0]],F6=["br"],z6={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return _6}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM(){return P6}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return $6}},heading:{attrs:{level:{default:1,validate:"number"}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return L6}},text:{group:"inline"},image:{inline:!0,attrs:{src:{validate:"string"},alt:{default:null,validate:"string|null"},title:{default:null,validate:"string|null"}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM(e){let{src:t,alt:n,title:r}=e.attrs;return["img",{src:t,alt:n,title:r}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return F6}}},j6=["em",0],B6=["strong",0],U6=["code",0],V6={link:{attrs:{href:{validate:"string"},title:{default:null,validate:"string|null"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM(e){let{href:t,title:n}=e.attrs;return["a",{href:t,title:n},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>e.type.name=="em"}],toDOM(){return j6}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return B6}},code:{code:!0,parseDOM:[{tag:"code"}],toDOM(){return U6}}},sm=new eT({nodes:z6,marks:V6});var lm=200,ur=function(){};ur.prototype.append=function(e){return e.length?(e=ur.from(e),!this.length&&e||e.length<lm&&this.leafAppend(e)||this.length<lm&&e.leafPrepend(this)||this.appendInner(e)):this};ur.prototype.prepend=function(e){return e.length?ur.from(e).append(this):this};ur.prototype.appendInner=function(e){return new H6(this,e)};ur.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?ur.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};ur.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ur.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)};ur.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(o,i){return r.push(e(o,i))},t,n),r};ur.from=function(e){return e instanceof ur?e:e&&e.length?new sA(e):ur.empty};var sA=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new t(this.values.slice(r,o))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,o,i,s){for(var l=o;l<i;l++)if(r(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,i,s){for(var l=o-1;l>=i;l--)if(r(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=lm)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=lm)return new t(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(ur);ur.empty=new sA([]);var H6=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,r,o,i){var s=this.left.length;if(r<s&&this.left.forEachInner(n,r,Math.min(o,s),i)===!1||o>s&&this.right.forEachInner(n,Math.max(r-s,0),Math.min(this.length,o)-s,i+s)===!1)return!1},t.prototype.forEachInvertedInner=function(n,r,o,i){var s=this.left.length;if(r>s&&this.right.forEachInvertedInner(n,r-s,Math.max(o,s)-s,i+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(r,s),o,i)===!1)return!1},t.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(n,r):n>=o?this.right.slice(n-o,r-o):this.left.slice(n,o).append(this.right.slice(0,r-o))},t.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new t(r,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(ur);const q6=500;class ci{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i;n&&(o=this.remapping(r,this.items.length),i=o.maps.length);let s=t.tr,l,u,f=[],p=[];return this.items.forEach((d,m)=>{if(!d.step){o||(o=this.remapping(r,m+1),i=o.maps.length),i--,p.push(d);return}if(o){p.push(new _i(d.map));let g=d.step.map(o.slice(i)),y;g&&s.maybeStep(g).doc&&(y=s.mapping.maps[s.mapping.maps.length-1],f.push(new _i(y,void 0,void 0,f.length+p.length))),i--,y&&o.appendMap(y,i)}else s.maybeStep(d.step);if(d.selection)return l=o?d.selection.map(o.slice(i)):d.selection,u=new ci(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:s,selection:l}}addTransform(t,n,r,o){let i=[],s=this.eventCount,l=this.items,u=!o&&l.length?l.get(l.length-1):null;for(let p=0;p<t.steps.length;p++){let d=t.steps[p].invert(t.docs[p]),m=new _i(t.mapping.maps[p],d,n),g;(g=u&&u.merge(m))&&(m=g,p?i.pop():l=l.slice(0,l.length-1)),i.push(m),n&&(s++,n=void 0),o||(u=m)}let f=s-r.depth;return f>K6&&(l=W6(l,f),s-=f),new ci(l.append(i),s)}remapping(t,n){let r=new pp;return this.items.forEach((o,i)=>{let s=o.mirrorOffset!=null&&i-o.mirrorOffset>=t?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new ci(this.items.append(t.map(n=>new _i(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),i=t.mapping,s=t.steps.length,l=this.eventCount;this.items.forEach(m=>{m.selection&&l--},o);let u=n;this.items.forEach(m=>{let g=i.getMirror(--u);if(g==null)return;s=Math.min(s,g);let y=i.maps[g];if(m.step){let b=t.steps[g].invert(t.docs[g]),E=m.selection&&m.selection.map(i.slice(u+1,g));E&&l++,r.push(new _i(y,b,E))}else r.push(new _i(y))},o);let f=[];for(let m=n;m<s;m++)f.push(new _i(i.maps[m]));let p=this.items.slice(0,o).append(f).append(r),d=new ci(p,l);return d.emptyItemCount()>q6&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,o=[],i=0;return this.items.forEach((s,l)=>{if(l>=t)o.push(s),s.selection&&i++;else if(s.step){let u=s.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let p=s.selection&&s.selection.map(n.slice(r));p&&i++;let d=new _i(f.invert(),u,p),m,g=o.length-1;(m=o.length&&o[g].merge(d))?o[g]=m:o.push(d)}}else s.map&&r--},this.items.length,0),new ci(ur.from(o.reverse()),i)}}ci.empty=new ci(ur.empty,0);function W6(e,t){let n;return e.forEach((r,o)=>{if(r.selection&&t--==0)return n=o,!1}),e.slice(n)}class _i{constructor(t,n,r,o){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=o}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new _i(n.getMap().invert(),n,this.selection)}}}class ul{constructor(t,n,r,o,i){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=i}}const K6=20;function G6(e,t,n,r){let o=n.getMeta(Pa),i;if(o)return o.historyState;n.getMeta(Y6)&&(e=new ul(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(Pa))return s.getMeta(Pa).redo?new ul(e.done.addTransform(n,void 0,r,fh(t)),e.undone,dO(n.mapping.maps),e.prevTime,e.prevComposition):new ul(e.done,e.undone.addTransform(n,void 0,r,fh(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=e.prevTime==0||!s&&e.prevComposition!=l&&(e.prevTime<(n.time||0)-r.newGroupDelay||!J6(n,e.prevRanges)),f=s?Uy(e.prevRanges,n.mapping):dO(n.mapping.maps);return new ul(e.done.addTransform(n,u?t.selection.getBookmark():void 0,r,fh(t)),ci.empty,f,n.time,l??e.prevComposition)}else return(i=n.getMeta("rebased"))?new ul(e.done.rebased(n,i),e.undone.rebased(n,i),Uy(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new ul(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Uy(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function J6(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,o)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&o>=t[i]&&(n=!0)}),n}function dO(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,o,i,s)=>t.push(i,s));return t}function Uy(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function Q6(e,t,n){let r=fh(t),o=Pa.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),l=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),u=new ul(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(s).setMeta(Pa,{redo:n,historyState:u})}let Vy=!1,hO=null;function fh(e){let t=e.plugins;if(hO!=t){Vy=!1,hO=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){Vy=!0;break}}return Vy}const Pa=new Cp("history"),Y6=new Cp("closeHistory");function lA(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Ul({key:Pa,state:{init(){return new ul(ci.empty,ci.empty,null,0,-1)},apply(t,n,r){return G6(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,o=r=="historyUndo"?jw:r=="historyRedo"?Bw:null;return o?(n.preventDefault(),o(t.state,t.dispatch)):!1}}}})}function aA(e,t){return(n,r)=>{let o=Pa.getState(n);if(!o||(e?o.undone:o.done).eventCount==0)return!1;if(r){let i=Q6(o,n,e);i&&r(i.scrollIntoView())}return!0}}const jw=aA(!1),Bw=aA(!0);var $l={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},am={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Z6=typeof navigator<"u"&&/Mac/.test(navigator.platform),X6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var vr=0;vr<10;vr++)$l[48+vr]=$l[96+vr]=String(vr);for(var vr=1;vr<=24;vr++)$l[vr+111]="F"+vr;for(var vr=65;vr<=90;vr++)$l[vr]=String.fromCharCode(vr+32),am[vr]=String.fromCharCode(vr);for(var Hy in $l)am.hasOwnProperty(Hy)||(am[Hy]=$l[Hy]);function ez(e){var t=Z6&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||X6&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?am:$l)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const tz=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),nz=typeof navigator<"u"&&/Win/.test(navigator.platform);function rz(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,o,i,s;for(let l=0;l<t.length-1;l++){let u=t[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))tz?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),s&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function oz(e){let t=Object.create(null);for(let n in e)t[rz(n)]=e[n];return t}function qy(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function um(e){return new Ul({props:{handleKeyDown:uA(e)}})}function uA(e){let t=oz(e);return function(n,r){let o=ez(r),i,s=t[qy(o,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let l=t[qy(o,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(nz&&r.ctrlKey&&r.altKey)&&(i=$l[r.keyCode])&&i!=o){let l=t[qy(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var cm={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */cm.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",l="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",f=500,p="__lodash_placeholder__",d=1,m=2,g=4,y=1,b=2,E=1,S=2,x=4,k=8,I=16,L=32,_=64,H=128,j=256,Y=512,ue=30,Se="...",ge=800,W=16,G=1,U=2,re=3,He=1/0,fe=9007199254740991,J=17976931348623157e292,T=NaN,se=4294967295,xe=se-1,N=se>>>1,R=[["ary",H],["bind",E],["bindKey",S],["curry",k],["curryRight",I],["flip",Y],["partial",L],["partialRight",_],["rearg",j]],P="[object Arguments]",F="[object Array]",pe="[object AsyncFunction]",oe="[object Boolean]",ce="[object Date]",Ee="[object DOMException]",Pe="[object Error]",ie="[object Function]",Z="[object GeneratorFunction]",me="[object Map]",de="[object Number]",Qe="[object Null]",Ze="[object Object]",ye="[object Promise]",te="[object Proxy]",$e="[object RegExp]",Ke="[object Set]",kt="[object String]",Xe="[object Symbol]",q="[object Undefined]",X="[object WeakMap]",B="[object WeakSet]",ne="[object ArrayBuffer]",be="[object DataView]",Le="[object Float32Array]",Fe="[object Float64Array]",et="[object Int8Array]",pt="[object Int16Array]",gt="[object Int32Array]",nn="[object Uint8Array]",kn="[object Uint8ClampedArray]",rn="[object Uint16Array]",Bn="[object Uint32Array]",pn=/\b__p \+= '';/g,fr=/\b(__p \+=) '' \+/g,Gi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jr=/&(?:amp|lt|gt|quot|#39);/g,Yo=/[&<>"']/g,pr=RegExp(Jr.source),yi=RegExp(Yo.source),Ji=/<%-([\s\S]+?)%>/g,Qi=/<%([\s\S]+?)%>/g,vi=/<%=([\s\S]+?)%>/g,Rs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ds=/^\w*$/,Wl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wi=/[\\^$.*+?()[\]{}|]/g,Is=RegExp(wi.source),Si=/^\s+/,Kl=/\s/,Yi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gl=/\{\n\/\* \[wrapped with (.+)\] \*/,Ja=/,? & /,z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Re=/[()=,{}\[\]\/\s]/,Ue=/\\(\\)?/g,ot=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Lt=/\w*$/,Bt=/^[-+]0x[0-9a-f]+$/i,Tt=/^0b[01]+$/i,wt=/^\[object .+?Constructor\]$/,xn=/^0o[0-7]+$/i,on=/^(?:0|[1-9]\d*)$/,un=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,On=/($^)/,Do=/['\n\r\u2028\u2029\\]/g,kr="\\ud800-\\udfff",Un="\\u0300-\\u036f",bi="\\ufe20-\\ufe2f",_s="\\u20d0-\\u20ff",ki=Un+bi+_s,Qa="\\u2700-\\u27bf",Mc="a-z\\xdf-\\xf6\\xf8-\\xff",Jl="\\xac\\xb1\\xd7\\xf7",Rc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Dc="\\u2000-\\u206f",Ya=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ql="A-Z\\xc0-\\xd6\\xd8-\\xde",Yl="\\ufe0e\\ufe0f",Zl=Jl+Rc+Dc+Ya,Ps="[']",Za="["+kr+"]",Xl="["+Zl+"]",Zi="["+ki+"]",ea="\\d+",$p="["+Qa+"]",Xa="["+Mc+"]",ta="[^"+kr+Zl+ea+Qa+Mc+Ql+"]",$s="\\ud83c[\\udffb-\\udfff]",eu="(?:"+Zi+"|"+$s+")",Ls="[^"+kr+"]",Xi="(?:\\ud83c[\\udde6-\\uddff]){2}",es="[\\ud800-\\udbff][\\udc00-\\udfff]",xi="["+Ql+"]",Fs="\\u200d",tu="(?:"+Xa+"|"+ta+")",na="(?:"+xi+"|"+ta+")",nu="(?:"+Ps+"(?:d|ll|m|re|s|t|ve))?",ru="(?:"+Ps+"(?:D|LL|M|RE|S|T|VE))?",ou=eu+"?",iu="["+Yl+"]?",Ic="(?:"+Fs+"(?:"+[Ls,Xi,es].join("|")+")"+iu+ou+")*",_c="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zs=iu+ou+Ic,$c="(?:"+[$p,Xi,es].join("|")+")"+zs,Lc="(?:"+[Ls+Zi+"?",Zi,Xi,es,Za].join("|")+")",Fc=RegExp(Ps,"g"),zc=RegExp(Zi,"g"),js=RegExp($s+"(?="+$s+")|"+Lc+zs,"g"),su=RegExp([xi+"?"+Xa+"+"+nu+"(?="+[Xl,xi,"$"].join("|")+")",na+"+"+ru+"(?="+[Xl,xi+tu,"$"].join("|")+")",xi+"?"+tu+"+"+nu,xi+"+"+ru,Pc,_c,ea,$c].join("|"),"g"),lu=RegExp("["+Fs+kr+ki+Yl+"]"),au=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,uu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cu=-1,Zt={};Zt[Le]=Zt[Fe]=Zt[et]=Zt[pt]=Zt[gt]=Zt[nn]=Zt[kn]=Zt[rn]=Zt[Bn]=!0,Zt[P]=Zt[F]=Zt[ne]=Zt[oe]=Zt[be]=Zt[ce]=Zt[Pe]=Zt[ie]=Zt[me]=Zt[de]=Zt[Ze]=Zt[$e]=Zt[Ke]=Zt[kt]=Zt[X]=!1;var Xt={};Xt[P]=Xt[F]=Xt[ne]=Xt[be]=Xt[oe]=Xt[ce]=Xt[Le]=Xt[Fe]=Xt[et]=Xt[pt]=Xt[gt]=Xt[me]=Xt[de]=Xt[Ze]=Xt[$e]=Xt[Ke]=Xt[kt]=Xt[Xe]=Xt[nn]=Xt[kn]=Xt[rn]=Xt[Bn]=!0,Xt[Pe]=Xt[ie]=Xt[X]=!1;var fu={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},pu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ra={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oa=parseFloat,Vn=parseInt,Qn=typeof ui=="object"&&ui&&ui.Object===Object&&ui,Ln=typeof self=="object"&&self&&self.Object===Object&&self,ln=Qn||Ln||Function("return this")(),Oi=t&&!t.nodeType&&t,Ci=Oi&&!0&&e&&!e.nodeType&&e,Bs=Ci&&Ci.exports===Oi,Qr=Bs&&Qn.process,rr=function(){try{var Q=Ci&&Ci.require&&Ci.require("util").types;return Q||Qr&&Qr.binding&&Qr.binding("util")}catch{}}(),ts=rr&&rr.isArrayBuffer,Ei=rr&&rr.isDate,he=rr&&rr.isMap,Te=rr&&rr.isRegExp,Io=rr&&rr.isSet,Lp=rr&&rr.isTypedArray;function De(Q,ve,le){switch(le.length){case 0:return Q.call(ve);case 1:return Q.call(ve,le[0]);case 2:return Q.call(ve,le[0],le[1]);case 3:return Q.call(ve,le[0],le[1],le[2])}return Q.apply(ve,le)}function nt(Q,ve,le,Ge){for(var dt=-1,zt=Q==null?0:Q.length;++dt<zt;){var Sn=Q[dt];ve(Ge,Sn,le(Sn),Q)}return Ge}function je(Q,ve){for(var le=-1,Ge=Q==null?0:Q.length;++le<Ge&&ve(Q[le],le,Q)!==!1;);return Q}function it(Q,ve){for(var le=Q==null?0:Q.length;le--&&ve(Q[le],le,Q)!==!1;);return Q}function bt(Q,ve){for(var le=-1,Ge=Q==null?0:Q.length;++le<Ge;)if(!ve(Q[le],le,Q))return!1;return!0}function xt(Q,ve){for(var le=-1,Ge=Q==null?0:Q.length,dt=0,zt=[];++le<Ge;){var Sn=Q[le];ve(Sn,le,Q)&&(zt[dt++]=Sn)}return zt}function Yn(Q,ve){var le=Q==null?0:Q.length;return!!le&&Vs(Q,ve,0)>-1}function ho(Q,ve,le){for(var Ge=-1,dt=Q==null?0:Q.length;++Ge<dt;)if(le(ve,Q[Ge]))return!0;return!1}function yt(Q,ve){for(var le=-1,Ge=Q==null?0:Q.length,dt=Array(Ge);++le<Ge;)dt[le]=ve(Q[le],le,Q);return dt}function Cn(Q,ve){for(var le=-1,Ge=ve.length,dt=Q.length;++le<Ge;)Q[dt+le]=ve[le];return Q}function dn(Q,ve,le,Ge){var dt=-1,zt=Q==null?0:Q.length;for(Ge&&zt&&(le=Q[++dt]);++dt<zt;)le=ve(le,Q[dt],dt,Q);return le}function Us(Q,ve,le,Ge){var dt=Q==null?0:Q.length;for(Ge&&dt&&(le=Q[--dt]);dt--;)le=ve(le,Q[dt],dt,Q);return le}function du(Q,ve){for(var le=-1,Ge=Q==null?0:Q.length;++le<Ge;)if(ve(Q[le],le,Q))return!0;return!1}var ia=an("length");function ns(Q){return Q.split("")}function sa(Q){return Q.match(z)||[]}function hu(Q,ve,le){var Ge;return le(Q,function(dt,zt,Sn){if(ve(dt,zt,Sn))return Ge=zt,!1}),Ge}function Yr(Q,ve,le,Ge){for(var dt=Q.length,zt=le+(Ge?1:-1);Ge?zt--:++zt<dt;)if(ve(Q[zt],zt,Q))return zt;return-1}function Vs(Q,ve,le){return ve===ve?Hp(Q,ve,le):Yr(Q,Hn,le)}function Me(Q,ve,le,Ge){for(var dt=le-1,zt=Q.length;++dt<zt;)if(Ge(Q[dt],ve))return dt;return-1}function Hn(Q){return Q!==Q}function Be(Q,ve){var le=Q==null?0:Q.length;return le?Uc(Q,ve)/le:T}function an(Q){return function(ve){return ve==null?n:ve[Q]}}function Ft(Q){return function(ve){return Q==null?n:Q[ve]}}function Bc(Q,ve,le,Ge,dt){return dt(Q,function(zt,Sn,Jt){le=Ge?(Ge=!1,zt):ve(le,zt,Sn,Jt)}),le}function rg(Q,ve){var le=Q.length;for(Q.sort(ve);le--;)Q[le]=Q[le].value;return Q}function Uc(Q,ve){for(var le,Ge=-1,dt=Q.length;++Ge<dt;){var zt=ve(Q[Ge]);zt!==n&&(le=le===n?zt:le+zt)}return le}function Vc(Q,ve){for(var le=-1,Ge=Array(Q);++le<Q;)Ge[le]=ve(le);return Ge}function Zo(Q,ve){return yt(ve,function(le){return[le,Q[le]]})}function Fp(Q){return Q&&Q.slice(0,qn(Q)+1).replace(Si,"")}function xr(Q){return function(ve){return Q(ve)}}function la(Q,ve){return yt(ve,function(le){return Q[le]})}function dr(Q,ve){return Q.has(ve)}function Vt(Q,ve){for(var le=-1,Ge=Q.length;++le<Ge&&Vs(ve,Q[le],0)>-1;);return le}function Hs(Q,ve){for(var le=Q.length;le--&&Vs(ve,Q[le],0)>-1;);return le}function og(Q,ve){for(var le=Q.length,Ge=0;le--;)Q[le]===ve&&++Ge;return Ge}var Hc=Ft(fu),Lr=Ft(pu);function zp(Q){return"\\"+jc[Q]}function jp(Q,ve){return Q==null?n:Q[ve]}function qs(Q){return lu.test(Q)}function Xo(Q){return au.test(Q)}function Bp(Q){for(var ve,le=[];!(ve=Q.next()).done;)le.push(ve.value);return le}function aa(Q){var ve=-1,le=Array(Q.size);return Q.forEach(function(Ge,dt){le[++ve]=[dt,Ge]}),le}function Up(Q,ve){return function(le){return Q(ve(le))}}function ei(Q,ve){for(var le=-1,Ge=Q.length,dt=0,zt=[];++le<Ge;){var Sn=Q[le];(Sn===ve||Sn===p)&&(Q[le]=p,zt[dt++]=le)}return zt}function mu(Q){var ve=-1,le=Array(Q.size);return Q.forEach(function(Ge){le[++ve]=Ge}),le}function Vp(Q){var ve=-1,le=Array(Q.size);return Q.forEach(function(Ge){le[++ve]=[Ge,Ge]}),le}function Hp(Q,ve,le){for(var Ge=le-1,dt=Q.length;++Ge<dt;)if(Q[Ge]===ve)return Ge;return-1}function ig(Q,ve,le){for(var Ge=le+1;Ge--;)if(Q[Ge]===ve)return Ge;return Ge}function rs(Q){return qs(Q)?ua(Q):ia(Q)}function Zr(Q){return qs(Q)?qp(Q):ns(Q)}function qn(Q){for(var ve=Q.length;ve--&&Kl.test(Q.charAt(ve)););return ve}var sg=Ft(ra);function ua(Q){for(var ve=js.lastIndex=0;js.test(Q);)++ve;return ve}function qp(Q){return Q.match(js)||[]}function gu(Q){return Q.match(su)||[]}var lg=function Q(ve){ve=ve==null?ln:Ws.defaults(ln.Object(),ve,Ws.pick(ln,uu));var le=ve.Array,Ge=ve.Date,dt=ve.Error,zt=ve.Function,Sn=ve.Math,Jt=ve.Object,Ks=ve.RegExp,ca=ve.String,yn=ve.TypeError,Zn=le.prototype,mo=zt.prototype,ti=Jt.prototype,yu=ve["__core-js_shared__"],Gs=mo.toString,Kt=ti.hasOwnProperty,ag=0,qc=function(){var a=/[^.]+$/.exec(yu&&yu.keys&&yu.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Ni=ti.toString,Wp=Gs.call(Jt),Kp=ln._,Js=Ks("^"+Gs.call(Kt).replace(wi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vu=Bs?ve.Buffer:n,Ti=ve.Symbol,w=ve.Uint8Array,O=vu?vu.allocUnsafe:n,D=Up(Jt.getPrototypeOf,Jt),we=Jt.create,ae=ti.propertyIsEnumerable,Ce=Zn.splice,qe=Ti?Ti.isConcatSpreadable:n,Ot=Ti?Ti.iterator:n,Qt=Ti?Ti.toStringTag:n,_t=function(){try{var a=ma(Jt,"defineProperty");return a({},"",{}),a}catch{}}(),Ut=ve.clearTimeout!==ln.clearTimeout&&ve.clearTimeout,Or=Ge&&Ge.now!==ln.Date.now&&Ge.now,Je=ve.setTimeout!==ln.setTimeout&&ve.setTimeout,st=Sn.ceil,Wn=Sn.floor,or=Jt.getOwnPropertySymbols,ug=vu?vu.isBuffer:n,Gp=ve.isFinite,sR=Zn.join,lR=Up(Jt.keys,Jt),Xn=Sn.max,Cr=Sn.min,aR=Ge.now,uR=ve.parseInt,wS=Sn.random,cR=Zn.reverse,cg=ma(ve,"DataView"),Wc=ma(ve,"Map"),fg=ma(ve,"Promise"),wu=ma(ve,"Set"),Kc=ma(ve,"WeakMap"),Gc=ma(Jt,"create"),Jp=Kc&&new Kc,Su={},fR=ga(cg),pR=ga(Wc),dR=ga(fg),hR=ga(wu),mR=ga(Kc),Qp=Ti?Ti.prototype:n,Jc=Qp?Qp.valueOf:n,SS=Qp?Qp.toString:n;function A(a){if(Dn(a)&&!St(a)&&!(a instanceof Pt)){if(a instanceof _o)return a;if(Kt.call(a,"__wrapped__"))return bb(a)}return new _o(a)}var bu=function(){function a(){}return function(c){if(!En(c))return{};if(we)return we(c);a.prototype=c;var h=new a;return a.prototype=n,h}}();function Yp(){}function _o(a,c){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=n}A.templateSettings={escape:Ji,evaluate:Qi,interpolate:vi,variable:"",imports:{_:A}},A.prototype=Yp.prototype,A.prototype.constructor=A,_o.prototype=bu(Yp.prototype),_o.prototype.constructor=_o;function Pt(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function gR(){var a=new Pt(this.__wrapped__);return a.__actions__=Xr(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Xr(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Xr(this.__views__),a}function yR(){if(this.__filtered__){var a=new Pt(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function vR(){var a=this.__wrapped__.value(),c=this.__dir__,h=St(a),v=c<0,C=h?a.length:0,M=MD(0,C,this.__views__),$=M.start,V=M.end,ee=V-$,ke=v?V:$-1,Oe=this.__iteratees__,Ae=Oe.length,Ve=0,tt=Cr(ee,this.__takeCount__);if(!h||!v&&C==ee&&tt==ee)return HS(a,this.__actions__);var ut=[];e:for(;ee--&&Ve<tt;){ke+=c;for(var Nt=-1,ct=a[ke];++Nt<Ae;){var Dt=Oe[Nt],jt=Dt.iteratee,vo=Dt.type,jr=jt(ct);if(vo==U)ct=jr;else if(!jr){if(vo==G)continue e;break e}}ut[Ve++]=ct}return ut}Pt.prototype=bu(Yp.prototype),Pt.prototype.constructor=Pt;function fa(a){var c=-1,h=a==null?0:a.length;for(this.clear();++c<h;){var v=a[c];this.set(v[0],v[1])}}function wR(){this.__data__=Gc?Gc(null):{},this.size=0}function SR(a){var c=this.has(a)&&delete this.__data__[a];return this.size-=c?1:0,c}function bR(a){var c=this.__data__;if(Gc){var h=c[a];return h===u?n:h}return Kt.call(c,a)?c[a]:n}function kR(a){var c=this.__data__;return Gc?c[a]!==n:Kt.call(c,a)}function xR(a,c){var h=this.__data__;return this.size+=this.has(a)?0:1,h[a]=Gc&&c===n?u:c,this}fa.prototype.clear=wR,fa.prototype.delete=SR,fa.prototype.get=bR,fa.prototype.has=kR,fa.prototype.set=xR;function is(a){var c=-1,h=a==null?0:a.length;for(this.clear();++c<h;){var v=a[c];this.set(v[0],v[1])}}function OR(){this.__data__=[],this.size=0}function CR(a){var c=this.__data__,h=Zp(c,a);if(h<0)return!1;var v=c.length-1;return h==v?c.pop():Ce.call(c,h,1),--this.size,!0}function ER(a){var c=this.__data__,h=Zp(c,a);return h<0?n:c[h][1]}function NR(a){return Zp(this.__data__,a)>-1}function TR(a,c){var h=this.__data__,v=Zp(h,a);return v<0?(++this.size,h.push([a,c])):h[v][1]=c,this}is.prototype.clear=OR,is.prototype.delete=CR,is.prototype.get=ER,is.prototype.has=NR,is.prototype.set=TR;function ss(a){var c=-1,h=a==null?0:a.length;for(this.clear();++c<h;){var v=a[c];this.set(v[0],v[1])}}function AR(){this.size=0,this.__data__={hash:new fa,map:new(Wc||is),string:new fa}}function MR(a){var c=cd(this,a).delete(a);return this.size-=c?1:0,c}function RR(a){return cd(this,a).get(a)}function DR(a){return cd(this,a).has(a)}function IR(a,c){var h=cd(this,a),v=h.size;return h.set(a,c),this.size+=h.size==v?0:1,this}ss.prototype.clear=AR,ss.prototype.delete=MR,ss.prototype.get=RR,ss.prototype.has=DR,ss.prototype.set=IR;function pa(a){var c=-1,h=a==null?0:a.length;for(this.__data__=new ss;++c<h;)this.add(a[c])}function _R(a){return this.__data__.set(a,u),this}function PR(a){return this.__data__.has(a)}pa.prototype.add=pa.prototype.push=_R,pa.prototype.has=PR;function ni(a){var c=this.__data__=new is(a);this.size=c.size}function $R(){this.__data__=new is,this.size=0}function LR(a){var c=this.__data__,h=c.delete(a);return this.size=c.size,h}function FR(a){return this.__data__.get(a)}function zR(a){return this.__data__.has(a)}function jR(a,c){var h=this.__data__;if(h instanceof is){var v=h.__data__;if(!Wc||v.length<o-1)return v.push([a,c]),this.size=++h.size,this;h=this.__data__=new ss(v)}return h.set(a,c),this.size=h.size,this}ni.prototype.clear=$R,ni.prototype.delete=LR,ni.prototype.get=FR,ni.prototype.has=zR,ni.prototype.set=jR;function bS(a,c){var h=St(a),v=!h&&ya(a),C=!h&&!v&&el(a),M=!h&&!v&&!C&&Cu(a),$=h||v||C||M,V=$?Vc(a.length,ca):[],ee=V.length;for(var ke in a)(c||Kt.call(a,ke))&&!($&&(ke=="length"||C&&(ke=="offset"||ke=="parent")||M&&(ke=="buffer"||ke=="byteLength"||ke=="byteOffset")||cs(ke,ee)))&&V.push(ke);return V}function kS(a){var c=a.length;return c?a[kg(0,c-1)]:n}function BR(a,c){return fd(Xr(a),da(c,0,a.length))}function UR(a){return fd(Xr(a))}function pg(a,c,h){(h!==n&&!ri(a[c],h)||h===n&&!(c in a))&&ls(a,c,h)}function Qc(a,c,h){var v=a[c];(!(Kt.call(a,c)&&ri(v,h))||h===n&&!(c in a))&&ls(a,c,h)}function Zp(a,c){for(var h=a.length;h--;)if(ri(a[h][0],c))return h;return-1}function VR(a,c,h,v){return Qs(a,function(C,M,$){c(v,C,h(C),$)}),v}function xS(a,c){return a&&Mi(c,ir(c),a)}function HR(a,c){return a&&Mi(c,to(c),a)}function ls(a,c,h){c=="__proto__"&&_t?_t(a,c,{configurable:!0,enumerable:!0,value:h,writable:!0}):a[c]=h}function dg(a,c){for(var h=-1,v=c.length,C=le(v),M=a==null;++h<v;)C[h]=M?n:Kg(a,c[h]);return C}function da(a,c,h){return a===a&&(h!==n&&(a=a<=h?a:h),c!==n&&(a=a>=c?a:c)),a}function Po(a,c,h,v,C,M){var $,V=c&d,ee=c&m,ke=c&g;if(h&&($=C?h(a,v,C,M):h(a)),$!==n)return $;if(!En(a))return a;var Oe=St(a);if(Oe){if($=DD(a),!V)return Xr(a,$)}else{var Ae=Er(a),Ve=Ae==ie||Ae==Z;if(el(a))return KS(a,V);if(Ae==Ze||Ae==P||Ve&&!C){if($=ee||Ve?{}:pb(a),!V)return ee?bD(a,HR($,a)):SD(a,xS($,a))}else{if(!Xt[Ae])return C?a:{};$=ID(a,Ae,V)}}M||(M=new ni);var tt=M.get(a);if(tt)return tt;M.set(a,$),Bb(a)?a.forEach(function(ct){$.add(Po(ct,c,h,ct,a,M))}):zb(a)&&a.forEach(function(ct,Dt){$.set(Dt,Po(ct,c,h,Dt,a,M))});var ut=ke?ee?Ig:Dg:ee?to:ir,Nt=Oe?n:ut(a);return je(Nt||a,function(ct,Dt){Nt&&(Dt=ct,ct=a[Dt]),Qc($,Dt,Po(ct,c,h,Dt,a,M))}),$}function qR(a){var c=ir(a);return function(h){return OS(h,a,c)}}function OS(a,c,h){var v=h.length;if(a==null)return!v;for(a=Jt(a);v--;){var C=h[v],M=c[C],$=a[C];if($===n&&!(C in a)||!M($))return!1}return!0}function CS(a,c,h){if(typeof a!="function")throw new yn(s);return rf(function(){a.apply(n,h)},c)}function Yc(a,c,h,v){var C=-1,M=Yn,$=!0,V=a.length,ee=[],ke=c.length;if(!V)return ee;h&&(c=yt(c,xr(h))),v?(M=ho,$=!1):c.length>=o&&(M=dr,$=!1,c=new pa(c));e:for(;++C<V;){var Oe=a[C],Ae=h==null?Oe:h(Oe);if(Oe=v||Oe!==0?Oe:0,$&&Ae===Ae){for(var Ve=ke;Ve--;)if(c[Ve]===Ae)continue e;ee.push(Oe)}else M(c,Ae,v)||ee.push(Oe)}return ee}var Qs=ZS(Ai),ES=ZS(mg,!0);function WR(a,c){var h=!0;return Qs(a,function(v,C,M){return h=!!c(v,C,M),h}),h}function Xp(a,c,h){for(var v=-1,C=a.length;++v<C;){var M=a[v],$=c(M);if($!=null&&(V===n?$===$&&!yo($):h($,V)))var V=$,ee=M}return ee}function KR(a,c,h,v){var C=a.length;for(h=Ct(h),h<0&&(h=-h>C?0:C+h),v=v===n||v>C?C:Ct(v),v<0&&(v+=C),v=h>v?0:Vb(v);h<v;)a[h++]=c;return a}function NS(a,c){var h=[];return Qs(a,function(v,C,M){c(v,C,M)&&h.push(v)}),h}function hr(a,c,h,v,C){var M=-1,$=a.length;for(h||(h=PD),C||(C=[]);++M<$;){var V=a[M];c>0&&h(V)?c>1?hr(V,c-1,h,v,C):Cn(C,V):v||(C[C.length]=V)}return C}var hg=XS(),TS=XS(!0);function Ai(a,c){return a&&hg(a,c,ir)}function mg(a,c){return a&&TS(a,c,ir)}function ed(a,c){return xt(c,function(h){return fs(a[h])})}function ha(a,c){c=Zs(c,a);for(var h=0,v=c.length;a!=null&&h<v;)a=a[Ri(c[h++])];return h&&h==v?a:n}function AS(a,c,h){var v=c(a);return St(a)?v:Cn(v,h(a))}function Fr(a){return a==null?a===n?q:Qe:Qt&&Qt in Jt(a)?AD(a):UD(a)}function gg(a,c){return a>c}function GR(a,c){return a!=null&&Kt.call(a,c)}function JR(a,c){return a!=null&&c in Jt(a)}function QR(a,c,h){return a>=Cr(c,h)&&a<Xn(c,h)}function yg(a,c,h){for(var v=h?ho:Yn,C=a[0].length,M=a.length,$=M,V=le(M),ee=1/0,ke=[];$--;){var Oe=a[$];$&&c&&(Oe=yt(Oe,xr(c))),ee=Cr(Oe.length,ee),V[$]=!h&&(c||C>=120&&Oe.length>=120)?new pa($&&Oe):n}Oe=a[0];var Ae=-1,Ve=V[0];e:for(;++Ae<C&&ke.length<ee;){var tt=Oe[Ae],ut=c?c(tt):tt;if(tt=h||tt!==0?tt:0,!(Ve?dr(Ve,ut):v(ke,ut,h))){for($=M;--$;){var Nt=V[$];if(!(Nt?dr(Nt,ut):v(a[$],ut,h)))continue e}Ve&&Ve.push(ut),ke.push(tt)}}return ke}function YR(a,c,h,v){return Ai(a,function(C,M,$){c(v,h(C),M,$)}),v}function Zc(a,c,h){c=Zs(c,a),a=gb(a,c);var v=a==null?a:a[Ri(Lo(c))];return v==null?n:De(v,a,h)}function MS(a){return Dn(a)&&Fr(a)==P}function ZR(a){return Dn(a)&&Fr(a)==ne}function XR(a){return Dn(a)&&Fr(a)==ce}function Xc(a,c,h,v,C){return a===c?!0:a==null||c==null||!Dn(a)&&!Dn(c)?a!==a&&c!==c:eD(a,c,h,v,Xc,C)}function eD(a,c,h,v,C,M){var $=St(a),V=St(c),ee=$?F:Er(a),ke=V?F:Er(c);ee=ee==P?Ze:ee,ke=ke==P?Ze:ke;var Oe=ee==Ze,Ae=ke==Ze,Ve=ee==ke;if(Ve&&el(a)){if(!el(c))return!1;$=!0,Oe=!1}if(Ve&&!Oe)return M||(M=new ni),$||Cu(a)?ub(a,c,h,v,C,M):ND(a,c,ee,h,v,C,M);if(!(h&y)){var tt=Oe&&Kt.call(a,"__wrapped__"),ut=Ae&&Kt.call(c,"__wrapped__");if(tt||ut){var Nt=tt?a.value():a,ct=ut?c.value():c;return M||(M=new ni),C(Nt,ct,h,v,M)}}return Ve?(M||(M=new ni),TD(a,c,h,v,C,M)):!1}function tD(a){return Dn(a)&&Er(a)==me}function vg(a,c,h,v){var C=h.length,M=C,$=!v;if(a==null)return!M;for(a=Jt(a);C--;){var V=h[C];if($&&V[2]?V[1]!==a[V[0]]:!(V[0]in a))return!1}for(;++C<M;){V=h[C];var ee=V[0],ke=a[ee],Oe=V[1];if($&&V[2]){if(ke===n&&!(ee in a))return!1}else{var Ae=new ni;if(v)var Ve=v(ke,Oe,ee,a,c,Ae);if(!(Ve===n?Xc(Oe,ke,y|b,v,Ae):Ve))return!1}}return!0}function RS(a){if(!En(a)||LD(a))return!1;var c=fs(a)?Js:wt;return c.test(ga(a))}function nD(a){return Dn(a)&&Fr(a)==$e}function rD(a){return Dn(a)&&Er(a)==Ke}function oD(a){return Dn(a)&&yd(a.length)&&!!Zt[Fr(a)]}function DS(a){return typeof a=="function"?a:a==null?no:typeof a=="object"?St(a)?PS(a[0],a[1]):_S(a):ek(a)}function wg(a){if(!nf(a))return lR(a);var c=[];for(var h in Jt(a))Kt.call(a,h)&&h!="constructor"&&c.push(h);return c}function iD(a){if(!En(a))return BD(a);var c=nf(a),h=[];for(var v in a)v=="constructor"&&(c||!Kt.call(a,v))||h.push(v);return h}function Sg(a,c){return a<c}function IS(a,c){var h=-1,v=eo(a)?le(a.length):[];return Qs(a,function(C,M,$){v[++h]=c(C,M,$)}),v}function _S(a){var c=Pg(a);return c.length==1&&c[0][2]?hb(c[0][0],c[0][1]):function(h){return h===a||vg(h,a,c)}}function PS(a,c){return Lg(a)&&db(c)?hb(Ri(a),c):function(h){var v=Kg(h,a);return v===n&&v===c?Gg(h,a):Xc(c,v,y|b)}}function td(a,c,h,v,C){a!==c&&hg(c,function(M,$){if(C||(C=new ni),En(M))sD(a,c,$,h,td,v,C);else{var V=v?v(zg(a,$),M,$+"",a,c,C):n;V===n&&(V=M),pg(a,$,V)}},to)}function sD(a,c,h,v,C,M,$){var V=zg(a,h),ee=zg(c,h),ke=$.get(ee);if(ke){pg(a,h,ke);return}var Oe=M?M(V,ee,h+"",a,c,$):n,Ae=Oe===n;if(Ae){var Ve=St(ee),tt=!Ve&&el(ee),ut=!Ve&&!tt&&Cu(ee);Oe=ee,Ve||tt||ut?St(V)?Oe=V:Fn(V)?Oe=Xr(V):tt?(Ae=!1,Oe=KS(ee,!0)):ut?(Ae=!1,Oe=GS(ee,!0)):Oe=[]:of(ee)||ya(ee)?(Oe=V,ya(V)?Oe=Hb(V):(!En(V)||fs(V))&&(Oe=pb(ee))):Ae=!1}Ae&&($.set(ee,Oe),C(Oe,ee,v,M,$),$.delete(ee)),pg(a,h,Oe)}function $S(a,c){var h=a.length;if(h)return c+=c<0?h:0,cs(c,h)?a[c]:n}function LS(a,c,h){c.length?c=yt(c,function(M){return St(M)?function($){return ha($,M.length===1?M[0]:M)}:M}):c=[no];var v=-1;c=yt(c,xr(lt()));var C=IS(a,function(M,$,V){var ee=yt(c,function(ke){return ke(M)});return{criteria:ee,index:++v,value:M}});return rg(C,function(M,$){return wD(M,$,h)})}function lD(a,c){return FS(a,c,function(h,v){return Gg(a,v)})}function FS(a,c,h){for(var v=-1,C=c.length,M={};++v<C;){var $=c[v],V=ha(a,$);h(V,$)&&ef(M,Zs($,a),V)}return M}function aD(a){return function(c){return ha(c,a)}}function bg(a,c,h,v){var C=v?Me:Vs,M=-1,$=c.length,V=a;for(a===c&&(c=Xr(c)),h&&(V=yt(a,xr(h)));++M<$;)for(var ee=0,ke=c[M],Oe=h?h(ke):ke;(ee=C(V,Oe,ee,v))>-1;)V!==a&&Ce.call(V,ee,1),Ce.call(a,ee,1);return a}function zS(a,c){for(var h=a?c.length:0,v=h-1;h--;){var C=c[h];if(h==v||C!==M){var M=C;cs(C)?Ce.call(a,C,1):Cg(a,C)}}return a}function kg(a,c){return a+Wn(wS()*(c-a+1))}function uD(a,c,h,v){for(var C=-1,M=Xn(st((c-a)/(h||1)),0),$=le(M);M--;)$[v?M:++C]=a,a+=h;return $}function xg(a,c){var h="";if(!a||c<1||c>fe)return h;do c%2&&(h+=a),c=Wn(c/2),c&&(a+=a);while(c);return h}function At(a,c){return jg(mb(a,c,no),a+"")}function cD(a){return kS(Eu(a))}function fD(a,c){var h=Eu(a);return fd(h,da(c,0,h.length))}function ef(a,c,h,v){if(!En(a))return a;c=Zs(c,a);for(var C=-1,M=c.length,$=M-1,V=a;V!=null&&++C<M;){var ee=Ri(c[C]),ke=h;if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return a;if(C!=$){var Oe=V[ee];ke=v?v(Oe,ee,V):n,ke===n&&(ke=En(Oe)?Oe:cs(c[C+1])?[]:{})}Qc(V,ee,ke),V=V[ee]}return a}var jS=Jp?function(a,c){return Jp.set(a,c),a}:no,pD=_t?function(a,c){return _t(a,"toString",{configurable:!0,enumerable:!1,value:Qg(c),writable:!0})}:no;function dD(a){return fd(Eu(a))}function $o(a,c,h){var v=-1,C=a.length;c<0&&(c=-c>C?0:C+c),h=h>C?C:h,h<0&&(h+=C),C=c>h?0:h-c>>>0,c>>>=0;for(var M=le(C);++v<C;)M[v]=a[v+c];return M}function hD(a,c){var h;return Qs(a,function(v,C,M){return h=c(v,C,M),!h}),!!h}function nd(a,c,h){var v=0,C=a==null?v:a.length;if(typeof c=="number"&&c===c&&C<=N){for(;v<C;){var M=v+C>>>1,$=a[M];$!==null&&!yo($)&&(h?$<=c:$<c)?v=M+1:C=M}return C}return Og(a,c,no,h)}function Og(a,c,h,v){var C=0,M=a==null?0:a.length;if(M===0)return 0;c=h(c);for(var $=c!==c,V=c===null,ee=yo(c),ke=c===n;C<M;){var Oe=Wn((C+M)/2),Ae=h(a[Oe]),Ve=Ae!==n,tt=Ae===null,ut=Ae===Ae,Nt=yo(Ae);if($)var ct=v||ut;else ke?ct=ut&&(v||Ve):V?ct=ut&&Ve&&(v||!tt):ee?ct=ut&&Ve&&!tt&&(v||!Nt):tt||Nt?ct=!1:ct=v?Ae<=c:Ae<c;ct?C=Oe+1:M=Oe}return Cr(M,xe)}function BS(a,c){for(var h=-1,v=a.length,C=0,M=[];++h<v;){var $=a[h],V=c?c($):$;if(!h||!ri(V,ee)){var ee=V;M[C++]=$===0?0:$}}return M}function US(a){return typeof a=="number"?a:yo(a)?T:+a}function go(a){if(typeof a=="string")return a;if(St(a))return yt(a,go)+"";if(yo(a))return SS?SS.call(a):"";var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}function Ys(a,c,h){var v=-1,C=Yn,M=a.length,$=!0,V=[],ee=V;if(h)$=!1,C=ho;else if(M>=o){var ke=c?null:CD(a);if(ke)return mu(ke);$=!1,C=dr,ee=new pa}else ee=c?[]:V;e:for(;++v<M;){var Oe=a[v],Ae=c?c(Oe):Oe;if(Oe=h||Oe!==0?Oe:0,$&&Ae===Ae){for(var Ve=ee.length;Ve--;)if(ee[Ve]===Ae)continue e;c&&ee.push(Ae),V.push(Oe)}else C(ee,Ae,h)||(ee!==V&&ee.push(Ae),V.push(Oe))}return V}function Cg(a,c){return c=Zs(c,a),a=gb(a,c),a==null||delete a[Ri(Lo(c))]}function VS(a,c,h,v){return ef(a,c,h(ha(a,c)),v)}function rd(a,c,h,v){for(var C=a.length,M=v?C:-1;(v?M--:++M<C)&&c(a[M],M,a););return h?$o(a,v?0:M,v?M+1:C):$o(a,v?M+1:0,v?C:M)}function HS(a,c){var h=a;return h instanceof Pt&&(h=h.value()),dn(c,function(v,C){return C.func.apply(C.thisArg,Cn([v],C.args))},h)}function Eg(a,c,h){var v=a.length;if(v<2)return v?Ys(a[0]):[];for(var C=-1,M=le(v);++C<v;)for(var $=a[C],V=-1;++V<v;)V!=C&&(M[C]=Yc(M[C]||$,a[V],c,h));return Ys(hr(M,1),c,h)}function qS(a,c,h){for(var v=-1,C=a.length,M=c.length,$={};++v<C;){var V=v<M?c[v]:n;h($,a[v],V)}return $}function Ng(a){return Fn(a)?a:[]}function Tg(a){return typeof a=="function"?a:no}function Zs(a,c){return St(a)?a:Lg(a,c)?[a]:Sb(en(a))}var mD=At;function Xs(a,c,h){var v=a.length;return h=h===n?v:h,!c&&h>=v?a:$o(a,c,h)}var WS=Ut||function(a){return ln.clearTimeout(a)};function KS(a,c){if(c)return a.slice();var h=a.length,v=O?O(h):new a.constructor(h);return a.copy(v),v}function Ag(a){var c=new a.constructor(a.byteLength);return new w(c).set(new w(a)),c}function gD(a,c){var h=c?Ag(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.byteLength)}function yD(a){var c=new a.constructor(a.source,Lt.exec(a));return c.lastIndex=a.lastIndex,c}function vD(a){return Jc?Jt(Jc.call(a)):{}}function GS(a,c){var h=c?Ag(a.buffer):a.buffer;return new a.constructor(h,a.byteOffset,a.length)}function JS(a,c){if(a!==c){var h=a!==n,v=a===null,C=a===a,M=yo(a),$=c!==n,V=c===null,ee=c===c,ke=yo(c);if(!V&&!ke&&!M&&a>c||M&&$&&ee&&!V&&!ke||v&&$&&ee||!h&&ee||!C)return 1;if(!v&&!M&&!ke&&a<c||ke&&h&&C&&!v&&!M||V&&h&&C||!$&&C||!ee)return-1}return 0}function wD(a,c,h){for(var v=-1,C=a.criteria,M=c.criteria,$=C.length,V=h.length;++v<$;){var ee=JS(C[v],M[v]);if(ee){if(v>=V)return ee;var ke=h[v];return ee*(ke=="desc"?-1:1)}}return a.index-c.index}function QS(a,c,h,v){for(var C=-1,M=a.length,$=h.length,V=-1,ee=c.length,ke=Xn(M-$,0),Oe=le(ee+ke),Ae=!v;++V<ee;)Oe[V]=c[V];for(;++C<$;)(Ae||C<M)&&(Oe[h[C]]=a[C]);for(;ke--;)Oe[V++]=a[C++];return Oe}function YS(a,c,h,v){for(var C=-1,M=a.length,$=-1,V=h.length,ee=-1,ke=c.length,Oe=Xn(M-V,0),Ae=le(Oe+ke),Ve=!v;++C<Oe;)Ae[C]=a[C];for(var tt=C;++ee<ke;)Ae[tt+ee]=c[ee];for(;++$<V;)(Ve||C<M)&&(Ae[tt+h[$]]=a[C++]);return Ae}function Xr(a,c){var h=-1,v=a.length;for(c||(c=le(v));++h<v;)c[h]=a[h];return c}function Mi(a,c,h,v){var C=!h;h||(h={});for(var M=-1,$=c.length;++M<$;){var V=c[M],ee=v?v(h[V],a[V],V,h,a):n;ee===n&&(ee=a[V]),C?ls(h,V,ee):Qc(h,V,ee)}return h}function SD(a,c){return Mi(a,$g(a),c)}function bD(a,c){return Mi(a,cb(a),c)}function od(a,c){return function(h,v){var C=St(h)?nt:VR,M=c?c():{};return C(h,a,lt(v,2),M)}}function ku(a){return At(function(c,h){var v=-1,C=h.length,M=C>1?h[C-1]:n,$=C>2?h[2]:n;for(M=a.length>3&&typeof M=="function"?(C--,M):n,$&&zr(h[0],h[1],$)&&(M=C<3?n:M,C=1),c=Jt(c);++v<C;){var V=h[v];V&&a(c,V,v,M)}return c})}function ZS(a,c){return function(h,v){if(h==null)return h;if(!eo(h))return a(h,v);for(var C=h.length,M=c?C:-1,$=Jt(h);(c?M--:++M<C)&&v($[M],M,$)!==!1;);return h}}function XS(a){return function(c,h,v){for(var C=-1,M=Jt(c),$=v(c),V=$.length;V--;){var ee=$[a?V:++C];if(h(M[ee],ee,M)===!1)break}return c}}function kD(a,c,h){var v=c&E,C=tf(a);function M(){var $=this&&this!==ln&&this instanceof M?C:a;return $.apply(v?h:this,arguments)}return M}function eb(a){return function(c){c=en(c);var h=qs(c)?Zr(c):n,v=h?h[0]:c.charAt(0),C=h?Xs(h,1).join(""):c.slice(1);return v[a]()+C}}function xu(a){return function(c){return dn(Zb(Yb(c).replace(Fc,"")),a,"")}}function tf(a){return function(){var c=arguments;switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3]);case 5:return new a(c[0],c[1],c[2],c[3],c[4]);case 6:return new a(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new a(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var h=bu(a.prototype),v=a.apply(h,c);return En(v)?v:h}}function xD(a,c,h){var v=tf(a);function C(){for(var M=arguments.length,$=le(M),V=M,ee=Ou(C);V--;)$[V]=arguments[V];var ke=M<3&&$[0]!==ee&&$[M-1]!==ee?[]:ei($,ee);if(M-=ke.length,M<h)return ib(a,c,id,C.placeholder,n,$,ke,n,n,h-M);var Oe=this&&this!==ln&&this instanceof C?v:a;return De(Oe,this,$)}return C}function tb(a){return function(c,h,v){var C=Jt(c);if(!eo(c)){var M=lt(h,3);c=ir(c),h=function(V){return M(C[V],V,C)}}var $=a(c,h,v);return $>-1?C[M?c[$]:$]:n}}function nb(a){return us(function(c){var h=c.length,v=h,C=_o.prototype.thru;for(a&&c.reverse();v--;){var M=c[v];if(typeof M!="function")throw new yn(s);if(C&&!$&&ud(M)=="wrapper")var $=new _o([],!0)}for(v=$?v:h;++v<h;){M=c[v];var V=ud(M),ee=V=="wrapper"?_g(M):n;ee&&Fg(ee[0])&&ee[1]==(H|k|L|j)&&!ee[4].length&&ee[9]==1?$=$[ud(ee[0])].apply($,ee[3]):$=M.length==1&&Fg(M)?$[V]():$.thru(M)}return function(){var ke=arguments,Oe=ke[0];if($&&ke.length==1&&St(Oe))return $.plant(Oe).value();for(var Ae=0,Ve=h?c[Ae].apply(this,ke):Oe;++Ae<h;)Ve=c[Ae].call(this,Ve);return Ve}})}function id(a,c,h,v,C,M,$,V,ee,ke){var Oe=c&H,Ae=c&E,Ve=c&S,tt=c&(k|I),ut=c&Y,Nt=Ve?n:tf(a);function ct(){for(var Dt=arguments.length,jt=le(Dt),vo=Dt;vo--;)jt[vo]=arguments[vo];if(tt)var jr=Ou(ct),wo=og(jt,jr);if(v&&(jt=QS(jt,v,C,tt)),M&&(jt=YS(jt,M,$,tt)),Dt-=wo,tt&&Dt<ke){var zn=ei(jt,jr);return ib(a,c,id,ct.placeholder,h,jt,zn,V,ee,ke-Dt)}var oi=Ae?h:this,ds=Ve?oi[a]:a;return Dt=jt.length,V?jt=VD(jt,V):ut&&Dt>1&&jt.reverse(),Oe&&ee<Dt&&(jt.length=ee),this&&this!==ln&&this instanceof ct&&(ds=Nt||tf(ds)),ds.apply(oi,jt)}return ct}function rb(a,c){return function(h,v){return YR(h,a,c(v),{})}}function sd(a,c){return function(h,v){var C;if(h===n&&v===n)return c;if(h!==n&&(C=h),v!==n){if(C===n)return v;typeof h=="string"||typeof v=="string"?(h=go(h),v=go(v)):(h=US(h),v=US(v)),C=a(h,v)}return C}}function Mg(a){return us(function(c){return c=yt(c,xr(lt())),At(function(h){var v=this;return a(c,function(C){return De(C,v,h)})})})}function ld(a,c){c=c===n?" ":go(c);var h=c.length;if(h<2)return h?xg(c,a):c;var v=xg(c,st(a/rs(c)));return qs(c)?Xs(Zr(v),0,a).join(""):v.slice(0,a)}function OD(a,c,h,v){var C=c&E,M=tf(a);function $(){for(var V=-1,ee=arguments.length,ke=-1,Oe=v.length,Ae=le(Oe+ee),Ve=this&&this!==ln&&this instanceof $?M:a;++ke<Oe;)Ae[ke]=v[ke];for(;ee--;)Ae[ke++]=arguments[++V];return De(Ve,C?h:this,Ae)}return $}function ob(a){return function(c,h,v){return v&&typeof v!="number"&&zr(c,h,v)&&(h=v=n),c=ps(c),h===n?(h=c,c=0):h=ps(h),v=v===n?c<h?1:-1:ps(v),uD(c,h,v,a)}}function ad(a){return function(c,h){return typeof c=="string"&&typeof h=="string"||(c=Fo(c),h=Fo(h)),a(c,h)}}function ib(a,c,h,v,C,M,$,V,ee,ke){var Oe=c&k,Ae=Oe?$:n,Ve=Oe?n:$,tt=Oe?M:n,ut=Oe?n:M;c|=Oe?L:_,c&=~(Oe?_:L),c&x||(c&=-4);var Nt=[a,c,C,tt,Ae,ut,Ve,V,ee,ke],ct=h.apply(n,Nt);return Fg(a)&&yb(ct,Nt),ct.placeholder=v,vb(ct,a,c)}function Rg(a){var c=Sn[a];return function(h,v){if(h=Fo(h),v=v==null?0:Cr(Ct(v),292),v&&Gp(h)){var C=(en(h)+"e").split("e"),M=c(C[0]+"e"+(+C[1]+v));return C=(en(M)+"e").split("e"),+(C[0]+"e"+(+C[1]-v))}return c(h)}}var CD=wu&&1/mu(new wu([,-0]))[1]==He?function(a){return new wu(a)}:Xg;function sb(a){return function(c){var h=Er(c);return h==me?aa(c):h==Ke?Vp(c):Zo(c,a(c))}}function as(a,c,h,v,C,M,$,V){var ee=c&S;if(!ee&&typeof a!="function")throw new yn(s);var ke=v?v.length:0;if(ke||(c&=-97,v=C=n),$=$===n?$:Xn(Ct($),0),V=V===n?V:Ct(V),ke-=C?C.length:0,c&_){var Oe=v,Ae=C;v=C=n}var Ve=ee?n:_g(a),tt=[a,c,h,v,C,Oe,Ae,M,$,V];if(Ve&&jD(tt,Ve),a=tt[0],c=tt[1],h=tt[2],v=tt[3],C=tt[4],V=tt[9]=tt[9]===n?ee?0:a.length:Xn(tt[9]-ke,0),!V&&c&(k|I)&&(c&=-25),!c||c==E)var ut=kD(a,c,h);else c==k||c==I?ut=xD(a,c,V):(c==L||c==(E|L))&&!C.length?ut=OD(a,c,h,v):ut=id.apply(n,tt);var Nt=Ve?jS:yb;return vb(Nt(ut,tt),a,c)}function lb(a,c,h,v){return a===n||ri(a,ti[h])&&!Kt.call(v,h)?c:a}function ab(a,c,h,v,C,M){return En(a)&&En(c)&&(M.set(c,a),td(a,c,n,ab,M),M.delete(c)),a}function ED(a){return of(a)?n:a}function ub(a,c,h,v,C,M){var $=h&y,V=a.length,ee=c.length;if(V!=ee&&!($&&ee>V))return!1;var ke=M.get(a),Oe=M.get(c);if(ke&&Oe)return ke==c&&Oe==a;var Ae=-1,Ve=!0,tt=h&b?new pa:n;for(M.set(a,c),M.set(c,a);++Ae<V;){var ut=a[Ae],Nt=c[Ae];if(v)var ct=$?v(Nt,ut,Ae,c,a,M):v(ut,Nt,Ae,a,c,M);if(ct!==n){if(ct)continue;Ve=!1;break}if(tt){if(!du(c,function(Dt,jt){if(!dr(tt,jt)&&(ut===Dt||C(ut,Dt,h,v,M)))return tt.push(jt)})){Ve=!1;break}}else if(!(ut===Nt||C(ut,Nt,h,v,M))){Ve=!1;break}}return M.delete(a),M.delete(c),Ve}function ND(a,c,h,v,C,M,$){switch(h){case be:if(a.byteLength!=c.byteLength||a.byteOffset!=c.byteOffset)return!1;a=a.buffer,c=c.buffer;case ne:return!(a.byteLength!=c.byteLength||!M(new w(a),new w(c)));case oe:case ce:case de:return ri(+a,+c);case Pe:return a.name==c.name&&a.message==c.message;case $e:case kt:return a==c+"";case me:var V=aa;case Ke:var ee=v&y;if(V||(V=mu),a.size!=c.size&&!ee)return!1;var ke=$.get(a);if(ke)return ke==c;v|=b,$.set(a,c);var Oe=ub(V(a),V(c),v,C,M,$);return $.delete(a),Oe;case Xe:if(Jc)return Jc.call(a)==Jc.call(c)}return!1}function TD(a,c,h,v,C,M){var $=h&y,V=Dg(a),ee=V.length,ke=Dg(c),Oe=ke.length;if(ee!=Oe&&!$)return!1;for(var Ae=ee;Ae--;){var Ve=V[Ae];if(!($?Ve in c:Kt.call(c,Ve)))return!1}var tt=M.get(a),ut=M.get(c);if(tt&&ut)return tt==c&&ut==a;var Nt=!0;M.set(a,c),M.set(c,a);for(var ct=$;++Ae<ee;){Ve=V[Ae];var Dt=a[Ve],jt=c[Ve];if(v)var vo=$?v(jt,Dt,Ve,c,a,M):v(Dt,jt,Ve,a,c,M);if(!(vo===n?Dt===jt||C(Dt,jt,h,v,M):vo)){Nt=!1;break}ct||(ct=Ve=="constructor")}if(Nt&&!ct){var jr=a.constructor,wo=c.constructor;jr!=wo&&"constructor"in a&&"constructor"in c&&!(typeof jr=="function"&&jr instanceof jr&&typeof wo=="function"&&wo instanceof wo)&&(Nt=!1)}return M.delete(a),M.delete(c),Nt}function us(a){return jg(mb(a,n,Ob),a+"")}function Dg(a){return AS(a,ir,$g)}function Ig(a){return AS(a,to,cb)}var _g=Jp?function(a){return Jp.get(a)}:Xg;function ud(a){for(var c=a.name+"",h=Su[c],v=Kt.call(Su,c)?h.length:0;v--;){var C=h[v],M=C.func;if(M==null||M==a)return C.name}return c}function Ou(a){var c=Kt.call(A,"placeholder")?A:a;return c.placeholder}function lt(){var a=A.iteratee||Yg;return a=a===Yg?DS:a,arguments.length?a(arguments[0],arguments[1]):a}function cd(a,c){var h=a.__data__;return $D(c)?h[typeof c=="string"?"string":"hash"]:h.map}function Pg(a){for(var c=ir(a),h=c.length;h--;){var v=c[h],C=a[v];c[h]=[v,C,db(C)]}return c}function ma(a,c){var h=jp(a,c);return RS(h)?h:n}function AD(a){var c=Kt.call(a,Qt),h=a[Qt];try{a[Qt]=n;var v=!0}catch{}var C=Ni.call(a);return v&&(c?a[Qt]=h:delete a[Qt]),C}var $g=or?function(a){return a==null?[]:(a=Jt(a),xt(or(a),function(c){return ae.call(a,c)}))}:ey,cb=or?function(a){for(var c=[];a;)Cn(c,$g(a)),a=D(a);return c}:ey,Er=Fr;(cg&&Er(new cg(new ArrayBuffer(1)))!=be||Wc&&Er(new Wc)!=me||fg&&Er(fg.resolve())!=ye||wu&&Er(new wu)!=Ke||Kc&&Er(new Kc)!=X)&&(Er=function(a){var c=Fr(a),h=c==Ze?a.constructor:n,v=h?ga(h):"";if(v)switch(v){case fR:return be;case pR:return me;case dR:return ye;case hR:return Ke;case mR:return X}return c});function MD(a,c,h){for(var v=-1,C=h.length;++v<C;){var M=h[v],$=M.size;switch(M.type){case"drop":a+=$;break;case"dropRight":c-=$;break;case"take":c=Cr(c,a+$);break;case"takeRight":a=Xn(a,c-$);break}}return{start:a,end:c}}function RD(a){var c=a.match(Gl);return c?c[1].split(Ja):[]}function fb(a,c,h){c=Zs(c,a);for(var v=-1,C=c.length,M=!1;++v<C;){var $=Ri(c[v]);if(!(M=a!=null&&h(a,$)))break;a=a[$]}return M||++v!=C?M:(C=a==null?0:a.length,!!C&&yd(C)&&cs($,C)&&(St(a)||ya(a)))}function DD(a){var c=a.length,h=new a.constructor(c);return c&&typeof a[0]=="string"&&Kt.call(a,"index")&&(h.index=a.index,h.input=a.input),h}function pb(a){return typeof a.constructor=="function"&&!nf(a)?bu(D(a)):{}}function ID(a,c,h){var v=a.constructor;switch(c){case ne:return Ag(a);case oe:case ce:return new v(+a);case be:return gD(a,h);case Le:case Fe:case et:case pt:case gt:case nn:case kn:case rn:case Bn:return GS(a,h);case me:return new v;case de:case kt:return new v(a);case $e:return yD(a);case Ke:return new v;case Xe:return vD(a)}}function _D(a,c){var h=c.length;if(!h)return a;var v=h-1;return c[v]=(h>1?"& ":"")+c[v],c=c.join(h>2?", ":" "),a.replace(Yi,`{
/* [wrapped with `+c+`] */
`)}function PD(a){return St(a)||ya(a)||!!(qe&&a&&a[qe])}function cs(a,c){var h=typeof a;return c=c??fe,!!c&&(h=="number"||h!="symbol"&&on.test(a))&&a>-1&&a%1==0&&a<c}function zr(a,c,h){if(!En(h))return!1;var v=typeof c;return(v=="number"?eo(h)&&cs(c,h.length):v=="string"&&c in h)?ri(h[c],a):!1}function Lg(a,c){if(St(a))return!1;var h=typeof a;return h=="number"||h=="symbol"||h=="boolean"||a==null||yo(a)?!0:Ds.test(a)||!Rs.test(a)||c!=null&&a in Jt(c)}function $D(a){var c=typeof a;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?a!=="__proto__":a===null}function Fg(a){var c=ud(a),h=A[c];if(typeof h!="function"||!(c in Pt.prototype))return!1;if(a===h)return!0;var v=_g(h);return!!v&&a===v[0]}function LD(a){return!!qc&&qc in a}var FD=yu?fs:ty;function nf(a){var c=a&&a.constructor,h=typeof c=="function"&&c.prototype||ti;return a===h}function db(a){return a===a&&!En(a)}function hb(a,c){return function(h){return h==null?!1:h[a]===c&&(c!==n||a in Jt(h))}}function zD(a){var c=md(a,function(v){return h.size===f&&h.clear(),v}),h=c.cache;return c}function jD(a,c){var h=a[1],v=c[1],C=h|v,M=C<(E|S|H),$=v==H&&h==k||v==H&&h==j&&a[7].length<=c[8]||v==(H|j)&&c[7].length<=c[8]&&h==k;if(!(M||$))return a;v&E&&(a[2]=c[2],C|=h&E?0:x);var V=c[3];if(V){var ee=a[3];a[3]=ee?QS(ee,V,c[4]):V,a[4]=ee?ei(a[3],p):c[4]}return V=c[5],V&&(ee=a[5],a[5]=ee?YS(ee,V,c[6]):V,a[6]=ee?ei(a[5],p):c[6]),V=c[7],V&&(a[7]=V),v&H&&(a[8]=a[8]==null?c[8]:Cr(a[8],c[8])),a[9]==null&&(a[9]=c[9]),a[0]=c[0],a[1]=C,a}function BD(a){var c=[];if(a!=null)for(var h in Jt(a))c.push(h);return c}function UD(a){return Ni.call(a)}function mb(a,c,h){return c=Xn(c===n?a.length-1:c,0),function(){for(var v=arguments,C=-1,M=Xn(v.length-c,0),$=le(M);++C<M;)$[C]=v[c+C];C=-1;for(var V=le(c+1);++C<c;)V[C]=v[C];return V[c]=h($),De(a,this,V)}}function gb(a,c){return c.length<2?a:ha(a,$o(c,0,-1))}function VD(a,c){for(var h=a.length,v=Cr(c.length,h),C=Xr(a);v--;){var M=c[v];a[v]=cs(M,h)?C[M]:n}return a}function zg(a,c){if(!(c==="constructor"&&typeof a[c]=="function")&&c!="__proto__")return a[c]}var yb=wb(jS),rf=Je||function(a,c){return ln.setTimeout(a,c)},jg=wb(pD);function vb(a,c,h){var v=c+"";return jg(a,_D(v,HD(RD(v),h)))}function wb(a){var c=0,h=0;return function(){var v=aR(),C=W-(v-h);if(h=v,C>0){if(++c>=ge)return arguments[0]}else c=0;return a.apply(n,arguments)}}function fd(a,c){var h=-1,v=a.length,C=v-1;for(c=c===n?v:c;++h<c;){var M=kg(h,C),$=a[M];a[M]=a[h],a[h]=$}return a.length=c,a}var Sb=zD(function(a){var c=[];return a.charCodeAt(0)===46&&c.push(""),a.replace(Wl,function(h,v,C,M){c.push(C?M.replace(Ue,"$1"):v||h)}),c});function Ri(a){if(typeof a=="string"||yo(a))return a;var c=a+"";return c=="0"&&1/a==-1/0?"-0":c}function ga(a){if(a!=null){try{return Gs.call(a)}catch{}try{return a+""}catch{}}return""}function HD(a,c){return je(R,function(h){var v="_."+h[0];c&h[1]&&!Yn(a,v)&&a.push(v)}),a.sort()}function bb(a){if(a instanceof Pt)return a.clone();var c=new _o(a.__wrapped__,a.__chain__);return c.__actions__=Xr(a.__actions__),c.__index__=a.__index__,c.__values__=a.__values__,c}function qD(a,c,h){(h?zr(a,c,h):c===n)?c=1:c=Xn(Ct(c),0);var v=a==null?0:a.length;if(!v||c<1)return[];for(var C=0,M=0,$=le(st(v/c));C<v;)$[M++]=$o(a,C,C+=c);return $}function WD(a){for(var c=-1,h=a==null?0:a.length,v=0,C=[];++c<h;){var M=a[c];M&&(C[v++]=M)}return C}function KD(){var a=arguments.length;if(!a)return[];for(var c=le(a-1),h=arguments[0],v=a;v--;)c[v-1]=arguments[v];return Cn(St(h)?Xr(h):[h],hr(c,1))}var GD=At(function(a,c){return Fn(a)?Yc(a,hr(c,1,Fn,!0)):[]}),JD=At(function(a,c){var h=Lo(c);return Fn(h)&&(h=n),Fn(a)?Yc(a,hr(c,1,Fn,!0),lt(h,2)):[]}),QD=At(function(a,c){var h=Lo(c);return Fn(h)&&(h=n),Fn(a)?Yc(a,hr(c,1,Fn,!0),n,h):[]});function YD(a,c,h){var v=a==null?0:a.length;return v?(c=h||c===n?1:Ct(c),$o(a,c<0?0:c,v)):[]}function ZD(a,c,h){var v=a==null?0:a.length;return v?(c=h||c===n?1:Ct(c),c=v-c,$o(a,0,c<0?0:c)):[]}function XD(a,c){return a&&a.length?rd(a,lt(c,3),!0,!0):[]}function eI(a,c){return a&&a.length?rd(a,lt(c,3),!0):[]}function tI(a,c,h,v){var C=a==null?0:a.length;return C?(h&&typeof h!="number"&&zr(a,c,h)&&(h=0,v=C),KR(a,c,h,v)):[]}function kb(a,c,h){var v=a==null?0:a.length;if(!v)return-1;var C=h==null?0:Ct(h);return C<0&&(C=Xn(v+C,0)),Yr(a,lt(c,3),C)}function xb(a,c,h){var v=a==null?0:a.length;if(!v)return-1;var C=v-1;return h!==n&&(C=Ct(h),C=h<0?Xn(v+C,0):Cr(C,v-1)),Yr(a,lt(c,3),C,!0)}function Ob(a){var c=a==null?0:a.length;return c?hr(a,1):[]}function nI(a){var c=a==null?0:a.length;return c?hr(a,He):[]}function rI(a,c){var h=a==null?0:a.length;return h?(c=c===n?1:Ct(c),hr(a,c)):[]}function oI(a){for(var c=-1,h=a==null?0:a.length,v={};++c<h;){var C=a[c];v[C[0]]=C[1]}return v}function Cb(a){return a&&a.length?a[0]:n}function iI(a,c,h){var v=a==null?0:a.length;if(!v)return-1;var C=h==null?0:Ct(h);return C<0&&(C=Xn(v+C,0)),Vs(a,c,C)}function sI(a){var c=a==null?0:a.length;return c?$o(a,0,-1):[]}var lI=At(function(a){var c=yt(a,Ng);return c.length&&c[0]===a[0]?yg(c):[]}),aI=At(function(a){var c=Lo(a),h=yt(a,Ng);return c===Lo(h)?c=n:h.pop(),h.length&&h[0]===a[0]?yg(h,lt(c,2)):[]}),uI=At(function(a){var c=Lo(a),h=yt(a,Ng);return c=typeof c=="function"?c:n,c&&h.pop(),h.length&&h[0]===a[0]?yg(h,n,c):[]});function cI(a,c){return a==null?"":sR.call(a,c)}function Lo(a){var c=a==null?0:a.length;return c?a[c-1]:n}function fI(a,c,h){var v=a==null?0:a.length;if(!v)return-1;var C=v;return h!==n&&(C=Ct(h),C=C<0?Xn(v+C,0):Cr(C,v-1)),c===c?ig(a,c,C):Yr(a,Hn,C,!0)}function pI(a,c){return a&&a.length?$S(a,Ct(c)):n}var dI=At(Eb);function Eb(a,c){return a&&a.length&&c&&c.length?bg(a,c):a}function hI(a,c,h){return a&&a.length&&c&&c.length?bg(a,c,lt(h,2)):a}function mI(a,c,h){return a&&a.length&&c&&c.length?bg(a,c,n,h):a}var gI=us(function(a,c){var h=a==null?0:a.length,v=dg(a,c);return zS(a,yt(c,function(C){return cs(C,h)?+C:C}).sort(JS)),v});function yI(a,c){var h=[];if(!(a&&a.length))return h;var v=-1,C=[],M=a.length;for(c=lt(c,3);++v<M;){var $=a[v];c($,v,a)&&(h.push($),C.push(v))}return zS(a,C),h}function Bg(a){return a==null?a:cR.call(a)}function vI(a,c,h){var v=a==null?0:a.length;return v?(h&&typeof h!="number"&&zr(a,c,h)?(c=0,h=v):(c=c==null?0:Ct(c),h=h===n?v:Ct(h)),$o(a,c,h)):[]}function wI(a,c){return nd(a,c)}function SI(a,c,h){return Og(a,c,lt(h,2))}function bI(a,c){var h=a==null?0:a.length;if(h){var v=nd(a,c);if(v<h&&ri(a[v],c))return v}return-1}function kI(a,c){return nd(a,c,!0)}function xI(a,c,h){return Og(a,c,lt(h,2),!0)}function OI(a,c){var h=a==null?0:a.length;if(h){var v=nd(a,c,!0)-1;if(ri(a[v],c))return v}return-1}function CI(a){return a&&a.length?BS(a):[]}function EI(a,c){return a&&a.length?BS(a,lt(c,2)):[]}function NI(a){var c=a==null?0:a.length;return c?$o(a,1,c):[]}function TI(a,c,h){return a&&a.length?(c=h||c===n?1:Ct(c),$o(a,0,c<0?0:c)):[]}function AI(a,c,h){var v=a==null?0:a.length;return v?(c=h||c===n?1:Ct(c),c=v-c,$o(a,c<0?0:c,v)):[]}function MI(a,c){return a&&a.length?rd(a,lt(c,3),!1,!0):[]}function RI(a,c){return a&&a.length?rd(a,lt(c,3)):[]}var DI=At(function(a){return Ys(hr(a,1,Fn,!0))}),II=At(function(a){var c=Lo(a);return Fn(c)&&(c=n),Ys(hr(a,1,Fn,!0),lt(c,2))}),_I=At(function(a){var c=Lo(a);return c=typeof c=="function"?c:n,Ys(hr(a,1,Fn,!0),n,c)});function PI(a){return a&&a.length?Ys(a):[]}function $I(a,c){return a&&a.length?Ys(a,lt(c,2)):[]}function LI(a,c){return c=typeof c=="function"?c:n,a&&a.length?Ys(a,n,c):[]}function Ug(a){if(!(a&&a.length))return[];var c=0;return a=xt(a,function(h){if(Fn(h))return c=Xn(h.length,c),!0}),Vc(c,function(h){return yt(a,an(h))})}function Nb(a,c){if(!(a&&a.length))return[];var h=Ug(a);return c==null?h:yt(h,function(v){return De(c,n,v)})}var FI=At(function(a,c){return Fn(a)?Yc(a,c):[]}),zI=At(function(a){return Eg(xt(a,Fn))}),jI=At(function(a){var c=Lo(a);return Fn(c)&&(c=n),Eg(xt(a,Fn),lt(c,2))}),BI=At(function(a){var c=Lo(a);return c=typeof c=="function"?c:n,Eg(xt(a,Fn),n,c)}),UI=At(Ug);function VI(a,c){return qS(a||[],c||[],Qc)}function HI(a,c){return qS(a||[],c||[],ef)}var qI=At(function(a){var c=a.length,h=c>1?a[c-1]:n;return h=typeof h=="function"?(a.pop(),h):n,Nb(a,h)});function Tb(a){var c=A(a);return c.__chain__=!0,c}function WI(a,c){return c(a),a}function pd(a,c){return c(a)}var KI=us(function(a){var c=a.length,h=c?a[0]:0,v=this.__wrapped__,C=function(M){return dg(M,a)};return c>1||this.__actions__.length||!(v instanceof Pt)||!cs(h)?this.thru(C):(v=v.slice(h,+h+(c?1:0)),v.__actions__.push({func:pd,args:[C],thisArg:n}),new _o(v,this.__chain__).thru(function(M){return c&&!M.length&&M.push(n),M}))});function GI(){return Tb(this)}function JI(){return new _o(this.value(),this.__chain__)}function QI(){this.__values__===n&&(this.__values__=Ub(this.value()));var a=this.__index__>=this.__values__.length,c=a?n:this.__values__[this.__index__++];return{done:a,value:c}}function YI(){return this}function ZI(a){for(var c,h=this;h instanceof Yp;){var v=bb(h);v.__index__=0,v.__values__=n,c?C.__wrapped__=v:c=v;var C=v;h=h.__wrapped__}return C.__wrapped__=a,c}function XI(){var a=this.__wrapped__;if(a instanceof Pt){var c=a;return this.__actions__.length&&(c=new Pt(this)),c=c.reverse(),c.__actions__.push({func:pd,args:[Bg],thisArg:n}),new _o(c,this.__chain__)}return this.thru(Bg)}function e_(){return HS(this.__wrapped__,this.__actions__)}var t_=od(function(a,c,h){Kt.call(a,h)?++a[h]:ls(a,h,1)});function n_(a,c,h){var v=St(a)?bt:WR;return h&&zr(a,c,h)&&(c=n),v(a,lt(c,3))}function r_(a,c){var h=St(a)?xt:NS;return h(a,lt(c,3))}var o_=tb(kb),i_=tb(xb);function s_(a,c){return hr(dd(a,c),1)}function l_(a,c){return hr(dd(a,c),He)}function a_(a,c,h){return h=h===n?1:Ct(h),hr(dd(a,c),h)}function Ab(a,c){var h=St(a)?je:Qs;return h(a,lt(c,3))}function Mb(a,c){var h=St(a)?it:ES;return h(a,lt(c,3))}var u_=od(function(a,c,h){Kt.call(a,h)?a[h].push(c):ls(a,h,[c])});function c_(a,c,h,v){a=eo(a)?a:Eu(a),h=h&&!v?Ct(h):0;var C=a.length;return h<0&&(h=Xn(C+h,0)),vd(a)?h<=C&&a.indexOf(c,h)>-1:!!C&&Vs(a,c,h)>-1}var f_=At(function(a,c,h){var v=-1,C=typeof c=="function",M=eo(a)?le(a.length):[];return Qs(a,function($){M[++v]=C?De(c,$,h):Zc($,c,h)}),M}),p_=od(function(a,c,h){ls(a,h,c)});function dd(a,c){var h=St(a)?yt:IS;return h(a,lt(c,3))}function d_(a,c,h,v){return a==null?[]:(St(c)||(c=c==null?[]:[c]),h=v?n:h,St(h)||(h=h==null?[]:[h]),LS(a,c,h))}var h_=od(function(a,c,h){a[h?0:1].push(c)},function(){return[[],[]]});function m_(a,c,h){var v=St(a)?dn:Bc,C=arguments.length<3;return v(a,lt(c,4),h,C,Qs)}function g_(a,c,h){var v=St(a)?Us:Bc,C=arguments.length<3;return v(a,lt(c,4),h,C,ES)}function y_(a,c){var h=St(a)?xt:NS;return h(a,gd(lt(c,3)))}function v_(a){var c=St(a)?kS:cD;return c(a)}function w_(a,c,h){(h?zr(a,c,h):c===n)?c=1:c=Ct(c);var v=St(a)?BR:fD;return v(a,c)}function S_(a){var c=St(a)?UR:dD;return c(a)}function b_(a){if(a==null)return 0;if(eo(a))return vd(a)?rs(a):a.length;var c=Er(a);return c==me||c==Ke?a.size:wg(a).length}function k_(a,c,h){var v=St(a)?du:hD;return h&&zr(a,c,h)&&(c=n),v(a,lt(c,3))}var x_=At(function(a,c){if(a==null)return[];var h=c.length;return h>1&&zr(a,c[0],c[1])?c=[]:h>2&&zr(c[0],c[1],c[2])&&(c=[c[0]]),LS(a,hr(c,1),[])}),hd=Or||function(){return ln.Date.now()};function O_(a,c){if(typeof c!="function")throw new yn(s);return a=Ct(a),function(){if(--a<1)return c.apply(this,arguments)}}function Rb(a,c,h){return c=h?n:c,c=a&&c==null?a.length:c,as(a,H,n,n,n,n,c)}function Db(a,c){var h;if(typeof c!="function")throw new yn(s);return a=Ct(a),function(){return--a>0&&(h=c.apply(this,arguments)),a<=1&&(c=n),h}}var Vg=At(function(a,c,h){var v=E;if(h.length){var C=ei(h,Ou(Vg));v|=L}return as(a,v,c,h,C)}),Ib=At(function(a,c,h){var v=E|S;if(h.length){var C=ei(h,Ou(Ib));v|=L}return as(c,v,a,h,C)});function _b(a,c,h){c=h?n:c;var v=as(a,k,n,n,n,n,n,c);return v.placeholder=_b.placeholder,v}function Pb(a,c,h){c=h?n:c;var v=as(a,I,n,n,n,n,n,c);return v.placeholder=Pb.placeholder,v}function $b(a,c,h){var v,C,M,$,V,ee,ke=0,Oe=!1,Ae=!1,Ve=!0;if(typeof a!="function")throw new yn(s);c=Fo(c)||0,En(h)&&(Oe=!!h.leading,Ae="maxWait"in h,M=Ae?Xn(Fo(h.maxWait)||0,c):M,Ve="trailing"in h?!!h.trailing:Ve);function tt(zn){var oi=v,ds=C;return v=C=n,ke=zn,$=a.apply(ds,oi),$}function ut(zn){return ke=zn,V=rf(Dt,c),Oe?tt(zn):$}function Nt(zn){var oi=zn-ee,ds=zn-ke,tk=c-oi;return Ae?Cr(tk,M-ds):tk}function ct(zn){var oi=zn-ee,ds=zn-ke;return ee===n||oi>=c||oi<0||Ae&&ds>=M}function Dt(){var zn=hd();if(ct(zn))return jt(zn);V=rf(Dt,Nt(zn))}function jt(zn){return V=n,Ve&&v?tt(zn):(v=C=n,$)}function vo(){V!==n&&WS(V),ke=0,v=ee=C=V=n}function jr(){return V===n?$:jt(hd())}function wo(){var zn=hd(),oi=ct(zn);if(v=arguments,C=this,ee=zn,oi){if(V===n)return ut(ee);if(Ae)return WS(V),V=rf(Dt,c),tt(ee)}return V===n&&(V=rf(Dt,c)),$}return wo.cancel=vo,wo.flush=jr,wo}var C_=At(function(a,c){return CS(a,1,c)}),E_=At(function(a,c,h){return CS(a,Fo(c)||0,h)});function N_(a){return as(a,Y)}function md(a,c){if(typeof a!="function"||c!=null&&typeof c!="function")throw new yn(s);var h=function(){var v=arguments,C=c?c.apply(this,v):v[0],M=h.cache;if(M.has(C))return M.get(C);var $=a.apply(this,v);return h.cache=M.set(C,$)||M,$};return h.cache=new(md.Cache||ss),h}md.Cache=ss;function gd(a){if(typeof a!="function")throw new yn(s);return function(){var c=arguments;switch(c.length){case 0:return!a.call(this);case 1:return!a.call(this,c[0]);case 2:return!a.call(this,c[0],c[1]);case 3:return!a.call(this,c[0],c[1],c[2])}return!a.apply(this,c)}}function T_(a){return Db(2,a)}var A_=mD(function(a,c){c=c.length==1&&St(c[0])?yt(c[0],xr(lt())):yt(hr(c,1),xr(lt()));var h=c.length;return At(function(v){for(var C=-1,M=Cr(v.length,h);++C<M;)v[C]=c[C].call(this,v[C]);return De(a,this,v)})}),Hg=At(function(a,c){var h=ei(c,Ou(Hg));return as(a,L,n,c,h)}),Lb=At(function(a,c){var h=ei(c,Ou(Lb));return as(a,_,n,c,h)}),M_=us(function(a,c){return as(a,j,n,n,n,c)});function R_(a,c){if(typeof a!="function")throw new yn(s);return c=c===n?c:Ct(c),At(a,c)}function D_(a,c){if(typeof a!="function")throw new yn(s);return c=c==null?0:Xn(Ct(c),0),At(function(h){var v=h[c],C=Xs(h,0,c);return v&&Cn(C,v),De(a,this,C)})}function I_(a,c,h){var v=!0,C=!0;if(typeof a!="function")throw new yn(s);return En(h)&&(v="leading"in h?!!h.leading:v,C="trailing"in h?!!h.trailing:C),$b(a,c,{leading:v,maxWait:c,trailing:C})}function __(a){return Rb(a,1)}function P_(a,c){return Hg(Tg(c),a)}function $_(){if(!arguments.length)return[];var a=arguments[0];return St(a)?a:[a]}function L_(a){return Po(a,g)}function F_(a,c){return c=typeof c=="function"?c:n,Po(a,g,c)}function z_(a){return Po(a,d|g)}function j_(a,c){return c=typeof c=="function"?c:n,Po(a,d|g,c)}function B_(a,c){return c==null||OS(a,c,ir(c))}function ri(a,c){return a===c||a!==a&&c!==c}var U_=ad(gg),V_=ad(function(a,c){return a>=c}),ya=MS(function(){return arguments}())?MS:function(a){return Dn(a)&&Kt.call(a,"callee")&&!ae.call(a,"callee")},St=le.isArray,H_=ts?xr(ts):ZR;function eo(a){return a!=null&&yd(a.length)&&!fs(a)}function Fn(a){return Dn(a)&&eo(a)}function q_(a){return a===!0||a===!1||Dn(a)&&Fr(a)==oe}var el=ug||ty,W_=Ei?xr(Ei):XR;function K_(a){return Dn(a)&&a.nodeType===1&&!of(a)}function G_(a){if(a==null)return!0;if(eo(a)&&(St(a)||typeof a=="string"||typeof a.splice=="function"||el(a)||Cu(a)||ya(a)))return!a.length;var c=Er(a);if(c==me||c==Ke)return!a.size;if(nf(a))return!wg(a).length;for(var h in a)if(Kt.call(a,h))return!1;return!0}function J_(a,c){return Xc(a,c)}function Q_(a,c,h){h=typeof h=="function"?h:n;var v=h?h(a,c):n;return v===n?Xc(a,c,n,h):!!v}function qg(a){if(!Dn(a))return!1;var c=Fr(a);return c==Pe||c==Ee||typeof a.message=="string"&&typeof a.name=="string"&&!of(a)}function Y_(a){return typeof a=="number"&&Gp(a)}function fs(a){if(!En(a))return!1;var c=Fr(a);return c==ie||c==Z||c==pe||c==te}function Fb(a){return typeof a=="number"&&a==Ct(a)}function yd(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=fe}function En(a){var c=typeof a;return a!=null&&(c=="object"||c=="function")}function Dn(a){return a!=null&&typeof a=="object"}var zb=he?xr(he):tD;function Z_(a,c){return a===c||vg(a,c,Pg(c))}function X_(a,c,h){return h=typeof h=="function"?h:n,vg(a,c,Pg(c),h)}function e3(a){return jb(a)&&a!=+a}function t3(a){if(FD(a))throw new dt(i);return RS(a)}function n3(a){return a===null}function r3(a){return a==null}function jb(a){return typeof a=="number"||Dn(a)&&Fr(a)==de}function of(a){if(!Dn(a)||Fr(a)!=Ze)return!1;var c=D(a);if(c===null)return!0;var h=Kt.call(c,"constructor")&&c.constructor;return typeof h=="function"&&h instanceof h&&Gs.call(h)==Wp}var Wg=Te?xr(Te):nD;function o3(a){return Fb(a)&&a>=-9007199254740991&&a<=fe}var Bb=Io?xr(Io):rD;function vd(a){return typeof a=="string"||!St(a)&&Dn(a)&&Fr(a)==kt}function yo(a){return typeof a=="symbol"||Dn(a)&&Fr(a)==Xe}var Cu=Lp?xr(Lp):oD;function i3(a){return a===n}function s3(a){return Dn(a)&&Er(a)==X}function l3(a){return Dn(a)&&Fr(a)==B}var a3=ad(Sg),u3=ad(function(a,c){return a<=c});function Ub(a){if(!a)return[];if(eo(a))return vd(a)?Zr(a):Xr(a);if(Ot&&a[Ot])return Bp(a[Ot]());var c=Er(a),h=c==me?aa:c==Ke?mu:Eu;return h(a)}function ps(a){if(!a)return a===0?a:0;if(a=Fo(a),a===He||a===-1/0){var c=a<0?-1:1;return c*J}return a===a?a:0}function Ct(a){var c=ps(a),h=c%1;return c===c?h?c-h:c:0}function Vb(a){return a?da(Ct(a),0,se):0}function Fo(a){if(typeof a=="number")return a;if(yo(a))return T;if(En(a)){var c=typeof a.valueOf=="function"?a.valueOf():a;a=En(c)?c+"":c}if(typeof a!="string")return a===0?a:+a;a=Fp(a);var h=Tt.test(a);return h||xn.test(a)?Vn(a.slice(2),h?2:8):Bt.test(a)?T:+a}function Hb(a){return Mi(a,to(a))}function c3(a){return a?da(Ct(a),-9007199254740991,fe):a===0?a:0}function en(a){return a==null?"":go(a)}var f3=ku(function(a,c){if(nf(c)||eo(c)){Mi(c,ir(c),a);return}for(var h in c)Kt.call(c,h)&&Qc(a,h,c[h])}),qb=ku(function(a,c){Mi(c,to(c),a)}),wd=ku(function(a,c,h,v){Mi(c,to(c),a,v)}),p3=ku(function(a,c,h,v){Mi(c,ir(c),a,v)}),d3=us(dg);function h3(a,c){var h=bu(a);return c==null?h:xS(h,c)}var m3=At(function(a,c){a=Jt(a);var h=-1,v=c.length,C=v>2?c[2]:n;for(C&&zr(c[0],c[1],C)&&(v=1);++h<v;)for(var M=c[h],$=to(M),V=-1,ee=$.length;++V<ee;){var ke=$[V],Oe=a[ke];(Oe===n||ri(Oe,ti[ke])&&!Kt.call(a,ke))&&(a[ke]=M[ke])}return a}),g3=At(function(a){return a.push(n,ab),De(Wb,n,a)});function y3(a,c){return hu(a,lt(c,3),Ai)}function v3(a,c){return hu(a,lt(c,3),mg)}function w3(a,c){return a==null?a:hg(a,lt(c,3),to)}function S3(a,c){return a==null?a:TS(a,lt(c,3),to)}function b3(a,c){return a&&Ai(a,lt(c,3))}function k3(a,c){return a&&mg(a,lt(c,3))}function x3(a){return a==null?[]:ed(a,ir(a))}function O3(a){return a==null?[]:ed(a,to(a))}function Kg(a,c,h){var v=a==null?n:ha(a,c);return v===n?h:v}function C3(a,c){return a!=null&&fb(a,c,GR)}function Gg(a,c){return a!=null&&fb(a,c,JR)}var E3=rb(function(a,c,h){c!=null&&typeof c.toString!="function"&&(c=Ni.call(c)),a[c]=h},Qg(no)),N3=rb(function(a,c,h){c!=null&&typeof c.toString!="function"&&(c=Ni.call(c)),Kt.call(a,c)?a[c].push(h):a[c]=[h]},lt),T3=At(Zc);function ir(a){return eo(a)?bS(a):wg(a)}function to(a){return eo(a)?bS(a,!0):iD(a)}function A3(a,c){var h={};return c=lt(c,3),Ai(a,function(v,C,M){ls(h,c(v,C,M),v)}),h}function M3(a,c){var h={};return c=lt(c,3),Ai(a,function(v,C,M){ls(h,C,c(v,C,M))}),h}var R3=ku(function(a,c,h){td(a,c,h)}),Wb=ku(function(a,c,h,v){td(a,c,h,v)}),D3=us(function(a,c){var h={};if(a==null)return h;var v=!1;c=yt(c,function(M){return M=Zs(M,a),v||(v=M.length>1),M}),Mi(a,Ig(a),h),v&&(h=Po(h,d|m|g,ED));for(var C=c.length;C--;)Cg(h,c[C]);return h});function I3(a,c){return Kb(a,gd(lt(c)))}var _3=us(function(a,c){return a==null?{}:lD(a,c)});function Kb(a,c){if(a==null)return{};var h=yt(Ig(a),function(v){return[v]});return c=lt(c),FS(a,h,function(v,C){return c(v,C[0])})}function P3(a,c,h){c=Zs(c,a);var v=-1,C=c.length;for(C||(C=1,a=n);++v<C;){var M=a==null?n:a[Ri(c[v])];M===n&&(v=C,M=h),a=fs(M)?M.call(a):M}return a}function $3(a,c,h){return a==null?a:ef(a,c,h)}function L3(a,c,h,v){return v=typeof v=="function"?v:n,a==null?a:ef(a,c,h,v)}var Gb=sb(ir),Jb=sb(to);function F3(a,c,h){var v=St(a),C=v||el(a)||Cu(a);if(c=lt(c,4),h==null){var M=a&&a.constructor;C?h=v?new M:[]:En(a)?h=fs(M)?bu(D(a)):{}:h={}}return(C?je:Ai)(a,function($,V,ee){return c(h,$,V,ee)}),h}function z3(a,c){return a==null?!0:Cg(a,c)}function j3(a,c,h){return a==null?a:VS(a,c,Tg(h))}function B3(a,c,h,v){return v=typeof v=="function"?v:n,a==null?a:VS(a,c,Tg(h),v)}function Eu(a){return a==null?[]:la(a,ir(a))}function U3(a){return a==null?[]:la(a,to(a))}function V3(a,c,h){return h===n&&(h=c,c=n),h!==n&&(h=Fo(h),h=h===h?h:0),c!==n&&(c=Fo(c),c=c===c?c:0),da(Fo(a),c,h)}function H3(a,c,h){return c=ps(c),h===n?(h=c,c=0):h=ps(h),a=Fo(a),QR(a,c,h)}function q3(a,c,h){if(h&&typeof h!="boolean"&&zr(a,c,h)&&(c=h=n),h===n&&(typeof c=="boolean"?(h=c,c=n):typeof a=="boolean"&&(h=a,a=n)),a===n&&c===n?(a=0,c=1):(a=ps(a),c===n?(c=a,a=0):c=ps(c)),a>c){var v=a;a=c,c=v}if(h||a%1||c%1){var C=wS();return Cr(a+C*(c-a+oa("1e-"+((C+"").length-1))),c)}return kg(a,c)}var W3=xu(function(a,c,h){return c=c.toLowerCase(),a+(h?Qb(c):c)});function Qb(a){return Jg(en(a).toLowerCase())}function Yb(a){return a=en(a),a&&a.replace(un,Hc).replace(zc,"")}function K3(a,c,h){a=en(a),c=go(c);var v=a.length;h=h===n?v:da(Ct(h),0,v);var C=h;return h-=c.length,h>=0&&a.slice(h,C)==c}function G3(a){return a=en(a),a&&yi.test(a)?a.replace(Yo,Lr):a}function J3(a){return a=en(a),a&&Is.test(a)?a.replace(wi,"\\$&"):a}var Q3=xu(function(a,c,h){return a+(h?"-":"")+c.toLowerCase()}),Y3=xu(function(a,c,h){return a+(h?" ":"")+c.toLowerCase()}),Z3=eb("toLowerCase");function X3(a,c,h){a=en(a),c=Ct(c);var v=c?rs(a):0;if(!c||v>=c)return a;var C=(c-v)/2;return ld(Wn(C),h)+a+ld(st(C),h)}function eP(a,c,h){a=en(a),c=Ct(c);var v=c?rs(a):0;return c&&v<c?a+ld(c-v,h):a}function tP(a,c,h){a=en(a),c=Ct(c);var v=c?rs(a):0;return c&&v<c?ld(c-v,h)+a:a}function nP(a,c,h){return h||c==null?c=0:c&&(c=+c),uR(en(a).replace(Si,""),c||0)}function rP(a,c,h){return(h?zr(a,c,h):c===n)?c=1:c=Ct(c),xg(en(a),c)}function oP(){var a=arguments,c=en(a[0]);return a.length<3?c:c.replace(a[1],a[2])}var iP=xu(function(a,c,h){return a+(h?"_":"")+c.toLowerCase()});function sP(a,c,h){return h&&typeof h!="number"&&zr(a,c,h)&&(c=h=n),h=h===n?se:h>>>0,h?(a=en(a),a&&(typeof c=="string"||c!=null&&!Wg(c))&&(c=go(c),!c&&qs(a))?Xs(Zr(a),0,h):a.split(c,h)):[]}var lP=xu(function(a,c,h){return a+(h?" ":"")+Jg(c)});function aP(a,c,h){return a=en(a),h=h==null?0:da(Ct(h),0,a.length),c=go(c),a.slice(h,h+c.length)==c}function uP(a,c,h){var v=A.templateSettings;h&&zr(a,c,h)&&(c=n),a=en(a),c=wd({},c,v,lb);var C=wd({},c.imports,v.imports,lb),M=ir(C),$=la(C,M),V,ee,ke=0,Oe=c.interpolate||On,Ae="__p += '",Ve=Ks((c.escape||On).source+"|"+Oe.source+"|"+(Oe===vi?ot:On).source+"|"+(c.evaluate||On).source+"|$","g"),tt="//# sourceURL="+(Kt.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cu+"]")+`
`;a.replace(Ve,function(ct,Dt,jt,vo,jr,wo){return jt||(jt=vo),Ae+=a.slice(ke,wo).replace(Do,zp),Dt&&(V=!0,Ae+=`' +
__e(`+Dt+`) +
'`),jr&&(ee=!0,Ae+=`';
`+jr+`;
__p += '`),jt&&(Ae+=`' +
((__t = (`+jt+`)) == null ? '' : __t) +
'`),ke=wo+ct.length,ct}),Ae+=`';
`;var ut=Kt.call(c,"variable")&&c.variable;if(!ut)Ae=`with (obj) {
`+Ae+`
}
`;else if(Re.test(ut))throw new dt(l);Ae=(ee?Ae.replace(pn,""):Ae).replace(fr,"$1").replace(Gi,"$1;"),Ae="function("+(ut||"obj")+`) {
`+(ut?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(V?", __e = _.escape":"")+(ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var Nt=Xb(function(){return zt(M,tt+"return "+Ae).apply(n,$)});if(Nt.source=Ae,qg(Nt))throw Nt;return Nt}function cP(a){return en(a).toLowerCase()}function fP(a){return en(a).toUpperCase()}function pP(a,c,h){if(a=en(a),a&&(h||c===n))return Fp(a);if(!a||!(c=go(c)))return a;var v=Zr(a),C=Zr(c),M=Vt(v,C),$=Hs(v,C)+1;return Xs(v,M,$).join("")}function dP(a,c,h){if(a=en(a),a&&(h||c===n))return a.slice(0,qn(a)+1);if(!a||!(c=go(c)))return a;var v=Zr(a),C=Hs(v,Zr(c))+1;return Xs(v,0,C).join("")}function hP(a,c,h){if(a=en(a),a&&(h||c===n))return a.replace(Si,"");if(!a||!(c=go(c)))return a;var v=Zr(a),C=Vt(v,Zr(c));return Xs(v,C).join("")}function mP(a,c){var h=ue,v=Se;if(En(c)){var C="separator"in c?c.separator:C;h="length"in c?Ct(c.length):h,v="omission"in c?go(c.omission):v}a=en(a);var M=a.length;if(qs(a)){var $=Zr(a);M=$.length}if(h>=M)return a;var V=h-rs(v);if(V<1)return v;var ee=$?Xs($,0,V).join(""):a.slice(0,V);if(C===n)return ee+v;if($&&(V+=ee.length-V),Wg(C)){if(a.slice(V).search(C)){var ke,Oe=ee;for(C.global||(C=Ks(C.source,en(Lt.exec(C))+"g")),C.lastIndex=0;ke=C.exec(Oe);)var Ae=ke.index;ee=ee.slice(0,Ae===n?V:Ae)}}else if(a.indexOf(go(C),V)!=V){var Ve=ee.lastIndexOf(C);Ve>-1&&(ee=ee.slice(0,Ve))}return ee+v}function gP(a){return a=en(a),a&&pr.test(a)?a.replace(Jr,sg):a}var yP=xu(function(a,c,h){return a+(h?" ":"")+c.toUpperCase()}),Jg=eb("toUpperCase");function Zb(a,c,h){return a=en(a),c=h?n:c,c===n?Xo(a)?gu(a):sa(a):a.match(c)||[]}var Xb=At(function(a,c){try{return De(a,n,c)}catch(h){return qg(h)?h:new dt(h)}}),vP=us(function(a,c){return je(c,function(h){h=Ri(h),ls(a,h,Vg(a[h],a))}),a});function wP(a){var c=a==null?0:a.length,h=lt();return a=c?yt(a,function(v){if(typeof v[1]!="function")throw new yn(s);return[h(v[0]),v[1]]}):[],At(function(v){for(var C=-1;++C<c;){var M=a[C];if(De(M[0],this,v))return De(M[1],this,v)}})}function SP(a){return qR(Po(a,d))}function Qg(a){return function(){return a}}function bP(a,c){return a==null||a!==a?c:a}var kP=nb(),xP=nb(!0);function no(a){return a}function Yg(a){return DS(typeof a=="function"?a:Po(a,d))}function OP(a){return _S(Po(a,d))}function CP(a,c){return PS(a,Po(c,d))}var EP=At(function(a,c){return function(h){return Zc(h,a,c)}}),NP=At(function(a,c){return function(h){return Zc(a,h,c)}});function Zg(a,c,h){var v=ir(c),C=ed(c,v);h==null&&!(En(c)&&(C.length||!v.length))&&(h=c,c=a,a=this,C=ed(c,ir(c)));var M=!(En(h)&&"chain"in h)||!!h.chain,$=fs(a);return je(C,function(V){var ee=c[V];a[V]=ee,$&&(a.prototype[V]=function(){var ke=this.__chain__;if(M||ke){var Oe=a(this.__wrapped__),Ae=Oe.__actions__=Xr(this.__actions__);return Ae.push({func:ee,args:arguments,thisArg:a}),Oe.__chain__=ke,Oe}return ee.apply(a,Cn([this.value()],arguments))})}),a}function TP(){return ln._===this&&(ln._=Kp),this}function Xg(){}function AP(a){return a=Ct(a),At(function(c){return $S(c,a)})}var MP=Mg(yt),RP=Mg(bt),DP=Mg(du);function ek(a){return Lg(a)?an(Ri(a)):aD(a)}function IP(a){return function(c){return a==null?n:ha(a,c)}}var _P=ob(),PP=ob(!0);function ey(){return[]}function ty(){return!1}function $P(){return{}}function LP(){return""}function FP(){return!0}function zP(a,c){if(a=Ct(a),a<1||a>fe)return[];var h=se,v=Cr(a,se);c=lt(c),a-=se;for(var C=Vc(v,c);++h<a;)c(h);return C}function jP(a){return St(a)?yt(a,Ri):yo(a)?[a]:Xr(Sb(en(a)))}function BP(a){var c=++ag;return en(a)+c}var UP=sd(function(a,c){return a+c},0),VP=Rg("ceil"),HP=sd(function(a,c){return a/c},1),qP=Rg("floor");function WP(a){return a&&a.length?Xp(a,no,gg):n}function KP(a,c){return a&&a.length?Xp(a,lt(c,2),gg):n}function GP(a){return Be(a,no)}function JP(a,c){return Be(a,lt(c,2))}function QP(a){return a&&a.length?Xp(a,no,Sg):n}function YP(a,c){return a&&a.length?Xp(a,lt(c,2),Sg):n}var ZP=sd(function(a,c){return a*c},1),XP=Rg("round"),e8=sd(function(a,c){return a-c},0);function t8(a){return a&&a.length?Uc(a,no):0}function n8(a,c){return a&&a.length?Uc(a,lt(c,2)):0}return A.after=O_,A.ary=Rb,A.assign=f3,A.assignIn=qb,A.assignInWith=wd,A.assignWith=p3,A.at=d3,A.before=Db,A.bind=Vg,A.bindAll=vP,A.bindKey=Ib,A.castArray=$_,A.chain=Tb,A.chunk=qD,A.compact=WD,A.concat=KD,A.cond=wP,A.conforms=SP,A.constant=Qg,A.countBy=t_,A.create=h3,A.curry=_b,A.curryRight=Pb,A.debounce=$b,A.defaults=m3,A.defaultsDeep=g3,A.defer=C_,A.delay=E_,A.difference=GD,A.differenceBy=JD,A.differenceWith=QD,A.drop=YD,A.dropRight=ZD,A.dropRightWhile=XD,A.dropWhile=eI,A.fill=tI,A.filter=r_,A.flatMap=s_,A.flatMapDeep=l_,A.flatMapDepth=a_,A.flatten=Ob,A.flattenDeep=nI,A.flattenDepth=rI,A.flip=N_,A.flow=kP,A.flowRight=xP,A.fromPairs=oI,A.functions=x3,A.functionsIn=O3,A.groupBy=u_,A.initial=sI,A.intersection=lI,A.intersectionBy=aI,A.intersectionWith=uI,A.invert=E3,A.invertBy=N3,A.invokeMap=f_,A.iteratee=Yg,A.keyBy=p_,A.keys=ir,A.keysIn=to,A.map=dd,A.mapKeys=A3,A.mapValues=M3,A.matches=OP,A.matchesProperty=CP,A.memoize=md,A.merge=R3,A.mergeWith=Wb,A.method=EP,A.methodOf=NP,A.mixin=Zg,A.negate=gd,A.nthArg=AP,A.omit=D3,A.omitBy=I3,A.once=T_,A.orderBy=d_,A.over=MP,A.overArgs=A_,A.overEvery=RP,A.overSome=DP,A.partial=Hg,A.partialRight=Lb,A.partition=h_,A.pick=_3,A.pickBy=Kb,A.property=ek,A.propertyOf=IP,A.pull=dI,A.pullAll=Eb,A.pullAllBy=hI,A.pullAllWith=mI,A.pullAt=gI,A.range=_P,A.rangeRight=PP,A.rearg=M_,A.reject=y_,A.remove=yI,A.rest=R_,A.reverse=Bg,A.sampleSize=w_,A.set=$3,A.setWith=L3,A.shuffle=S_,A.slice=vI,A.sortBy=x_,A.sortedUniq=CI,A.sortedUniqBy=EI,A.split=sP,A.spread=D_,A.tail=NI,A.take=TI,A.takeRight=AI,A.takeRightWhile=MI,A.takeWhile=RI,A.tap=WI,A.throttle=I_,A.thru=pd,A.toArray=Ub,A.toPairs=Gb,A.toPairsIn=Jb,A.toPath=jP,A.toPlainObject=Hb,A.transform=F3,A.unary=__,A.union=DI,A.unionBy=II,A.unionWith=_I,A.uniq=PI,A.uniqBy=$I,A.uniqWith=LI,A.unset=z3,A.unzip=Ug,A.unzipWith=Nb,A.update=j3,A.updateWith=B3,A.values=Eu,A.valuesIn=U3,A.without=FI,A.words=Zb,A.wrap=P_,A.xor=zI,A.xorBy=jI,A.xorWith=BI,A.zip=UI,A.zipObject=VI,A.zipObjectDeep=HI,A.zipWith=qI,A.entries=Gb,A.entriesIn=Jb,A.extend=qb,A.extendWith=wd,Zg(A,A),A.add=UP,A.attempt=Xb,A.camelCase=W3,A.capitalize=Qb,A.ceil=VP,A.clamp=V3,A.clone=L_,A.cloneDeep=z_,A.cloneDeepWith=j_,A.cloneWith=F_,A.conformsTo=B_,A.deburr=Yb,A.defaultTo=bP,A.divide=HP,A.endsWith=K3,A.eq=ri,A.escape=G3,A.escapeRegExp=J3,A.every=n_,A.find=o_,A.findIndex=kb,A.findKey=y3,A.findLast=i_,A.findLastIndex=xb,A.findLastKey=v3,A.floor=qP,A.forEach=Ab,A.forEachRight=Mb,A.forIn=w3,A.forInRight=S3,A.forOwn=b3,A.forOwnRight=k3,A.get=Kg,A.gt=U_,A.gte=V_,A.has=C3,A.hasIn=Gg,A.head=Cb,A.identity=no,A.includes=c_,A.indexOf=iI,A.inRange=H3,A.invoke=T3,A.isArguments=ya,A.isArray=St,A.isArrayBuffer=H_,A.isArrayLike=eo,A.isArrayLikeObject=Fn,A.isBoolean=q_,A.isBuffer=el,A.isDate=W_,A.isElement=K_,A.isEmpty=G_,A.isEqual=J_,A.isEqualWith=Q_,A.isError=qg,A.isFinite=Y_,A.isFunction=fs,A.isInteger=Fb,A.isLength=yd,A.isMap=zb,A.isMatch=Z_,A.isMatchWith=X_,A.isNaN=e3,A.isNative=t3,A.isNil=r3,A.isNull=n3,A.isNumber=jb,A.isObject=En,A.isObjectLike=Dn,A.isPlainObject=of,A.isRegExp=Wg,A.isSafeInteger=o3,A.isSet=Bb,A.isString=vd,A.isSymbol=yo,A.isTypedArray=Cu,A.isUndefined=i3,A.isWeakMap=s3,A.isWeakSet=l3,A.join=cI,A.kebabCase=Q3,A.last=Lo,A.lastIndexOf=fI,A.lowerCase=Y3,A.lowerFirst=Z3,A.lt=a3,A.lte=u3,A.max=WP,A.maxBy=KP,A.mean=GP,A.meanBy=JP,A.min=QP,A.minBy=YP,A.stubArray=ey,A.stubFalse=ty,A.stubObject=$P,A.stubString=LP,A.stubTrue=FP,A.multiply=ZP,A.nth=pI,A.noConflict=TP,A.noop=Xg,A.now=hd,A.pad=X3,A.padEnd=eP,A.padStart=tP,A.parseInt=nP,A.random=q3,A.reduce=m_,A.reduceRight=g_,A.repeat=rP,A.replace=oP,A.result=P3,A.round=XP,A.runInContext=Q,A.sample=v_,A.size=b_,A.snakeCase=iP,A.some=k_,A.sortedIndex=wI,A.sortedIndexBy=SI,A.sortedIndexOf=bI,A.sortedLastIndex=kI,A.sortedLastIndexBy=xI,A.sortedLastIndexOf=OI,A.startCase=lP,A.startsWith=aP,A.subtract=e8,A.sum=t8,A.sumBy=n8,A.template=uP,A.times=zP,A.toFinite=ps,A.toInteger=Ct,A.toLength=Vb,A.toLower=cP,A.toNumber=Fo,A.toSafeInteger=c3,A.toString=en,A.toUpper=fP,A.trim=pP,A.trimEnd=dP,A.trimStart=hP,A.truncate=mP,A.unescape=gP,A.uniqueId=BP,A.upperCase=yP,A.upperFirst=Jg,A.each=Ab,A.eachRight=Mb,A.first=Cb,Zg(A,function(){var a={};return Ai(A,function(c,h){Kt.call(A.prototype,h)||(a[h]=c)}),a}(),{chain:!1}),A.VERSION=r,je(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){A[a].placeholder=A}),je(["drop","take"],function(a,c){Pt.prototype[a]=function(h){h=h===n?1:Xn(Ct(h),0);var v=this.__filtered__&&!c?new Pt(this):this.clone();return v.__filtered__?v.__takeCount__=Cr(h,v.__takeCount__):v.__views__.push({size:Cr(h,se),type:a+(v.__dir__<0?"Right":"")}),v},Pt.prototype[a+"Right"]=function(h){return this.reverse()[a](h).reverse()}}),je(["filter","map","takeWhile"],function(a,c){var h=c+1,v=h==G||h==re;Pt.prototype[a]=function(C){var M=this.clone();return M.__iteratees__.push({iteratee:lt(C,3),type:h}),M.__filtered__=M.__filtered__||v,M}}),je(["head","last"],function(a,c){var h="take"+(c?"Right":"");Pt.prototype[a]=function(){return this[h](1).value()[0]}}),je(["initial","tail"],function(a,c){var h="drop"+(c?"":"Right");Pt.prototype[a]=function(){return this.__filtered__?new Pt(this):this[h](1)}}),Pt.prototype.compact=function(){return this.filter(no)},Pt.prototype.find=function(a){return this.filter(a).head()},Pt.prototype.findLast=function(a){return this.reverse().find(a)},Pt.prototype.invokeMap=At(function(a,c){return typeof a=="function"?new Pt(this):this.map(function(h){return Zc(h,a,c)})}),Pt.prototype.reject=function(a){return this.filter(gd(lt(a)))},Pt.prototype.slice=function(a,c){a=Ct(a);var h=this;return h.__filtered__&&(a>0||c<0)?new Pt(h):(a<0?h=h.takeRight(-a):a&&(h=h.drop(a)),c!==n&&(c=Ct(c),h=c<0?h.dropRight(-c):h.take(c-a)),h)},Pt.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Pt.prototype.toArray=function(){return this.take(se)},Ai(Pt.prototype,function(a,c){var h=/^(?:filter|find|map|reject)|While$/.test(c),v=/^(?:head|last)$/.test(c),C=A[v?"take"+(c=="last"?"Right":""):c],M=v||/^find/.test(c);C&&(A.prototype[c]=function(){var $=this.__wrapped__,V=v?[1]:arguments,ee=$ instanceof Pt,ke=V[0],Oe=ee||St($),Ae=function(Dt){var jt=C.apply(A,Cn([Dt],V));return v&&Ve?jt[0]:jt};Oe&&h&&typeof ke=="function"&&ke.length!=1&&(ee=Oe=!1);var Ve=this.__chain__,tt=!!this.__actions__.length,ut=M&&!Ve,Nt=ee&&!tt;if(!M&&Oe){$=Nt?$:new Pt(this);var ct=a.apply($,V);return ct.__actions__.push({func:pd,args:[Ae],thisArg:n}),new _o(ct,Ve)}return ut&&Nt?a.apply(this,V):(ct=this.thru(Ae),ut?v?ct.value()[0]:ct.value():ct)})}),je(["pop","push","shift","sort","splice","unshift"],function(a){var c=Zn[a],h=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",v=/^(?:pop|shift)$/.test(a);A.prototype[a]=function(){var C=arguments;if(v&&!this.__chain__){var M=this.value();return c.apply(St(M)?M:[],C)}return this[h](function($){return c.apply(St($)?$:[],C)})}}),Ai(Pt.prototype,function(a,c){var h=A[c];if(h){var v=h.name+"";Kt.call(Su,v)||(Su[v]=[]),Su[v].push({name:c,func:h})}}),Su[id(n,S).name]=[{name:"wrapper",func:n}],Pt.prototype.clone=gR,Pt.prototype.reverse=yR,Pt.prototype.value=vR,A.prototype.at=KI,A.prototype.chain=GI,A.prototype.commit=JI,A.prototype.next=QI,A.prototype.plant=ZI,A.prototype.reverse=XI,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=e_,A.prototype.first=A.prototype.head,Ot&&(A.prototype[Ot]=YI),A},Ws=lg();Ci?((Ci.exports=Ws)._=Ws,Oi._=Ws):ln._=Ws}).call(ui)})(cm,cm.exports);var iz=cm.exports;const sz=iz.debounce(({state:e,editorState:t})=>{e.apply({type:"update",args:{editorState:t}})},1e3),lz=({state:e})=>{const[t,n]=Gt.useState(null),r=Gt.useRef(null),o=[lA(),um({"Mod-z":jw,"Mod-y":Bw}),um(CT)];Gt.useEffect(()=>{if(!r.current)return;const s=new iA(r.current,{state:Ho.create({schema:sm,plugins:o}),dispatchTransaction(l){const u=s.state.apply(l);s.updateState(u),sz({state:e,editorState:u.toJSON()})}});return n(s),s.focus(),()=>{s&&s.destroy()}},[]);const{editorState:i}=e.data;return Gt.useEffect(()=>{if(i){const s=Ho.fromJSON({schema:sm,plugins:o},i);t.updateState(s)}},[i]),qt.jsx("div",{ref:r,className:"border border-gray-300 p-2 bg-white font-sans"})};var Wy={exports:{}},Ky={},yc={},cA={},Uw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;e[t]=r;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==r||s.enumerable!==!0)return!1}return!0},az=Uw,Um=function(){return az()&&!!Symbol.toStringTag},Vw=Object,uz=Error,cz=EvalError,fz=RangeError,pz=ReferenceError,fA=SyntaxError,Ap=TypeError,dz=URIError,hz=Math.abs,mz=Math.floor,gz=Math.max,yz=Math.min,vz=Math.pow,wz=Math.round,Sz=Number.isNaN||function(e){return e!==e},bz=Sz,kz=function(e){return bz(e)||e===0?e:e<0?-1:1},xz=Object.getOwnPropertyDescriptor,ph=xz;if(ph)try{ph([],"length")}catch{ph=null}var Ec=ph,dh=Object.defineProperty||!1;if(dh)try{dh({},"a",{value:1})}catch{dh=!1}var Vm=dh,Gy,mO;function Oz(){if(mO)return Gy;mO=1;var e=typeof Symbol<"u"&&Symbol,t=Uw;return Gy=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Gy}var gO,yO;function pA(){return yO||(yO=1,gO=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),gO}var Jy,vO;function dA(){if(vO)return Jy;vO=1;var e=Vw;return Jy=e.getPrototypeOf||null,Jy}var Qy,wO;function Cz(){if(wO)return Qy;wO=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",o=function(l,u){for(var f=[],p=0;p<l.length;p+=1)f[p]=l[p];for(var d=0;d<u.length;d+=1)f[d+l.length]=u[d];return f},i=function(l,u){for(var f=[],p=u,d=0;p<l.length;p+=1,d+=1)f[d]=l[p];return f},s=function(l,u){for(var f="",p=0;p<l.length;p+=1)f+=l[p],p+1<l.length&&(f+=u);return f};return Qy=function(l){var u=this;if(typeof u!="function"||t.apply(u)!==r)throw new TypeError(e+u);for(var f=i(arguments,1),p,d=function(){if(this instanceof p){var E=u.apply(this,o(f,arguments));return Object(E)===E?E:this}return u.apply(l,o(f,arguments))},m=n(0,u.length-f.length),g=[],y=0;y<m;y++)g[y]="$"+y;if(p=Function("binder","return function ("+s(g,",")+"){ return binder.apply(this,arguments); }")(d),u.prototype){var b=function(){};b.prototype=u.prototype,p.prototype=new b,b.prototype=null}return p},Qy}var Yy,SO;function Mp(){if(SO)return Yy;SO=1;var e=Cz();return Yy=Function.prototype.bind||e,Yy}var bO,kO;function Hw(){return kO||(kO=1,bO=Function.prototype.call),bO}var xO,OO;function qw(){return OO||(OO=1,xO=Function.prototype.apply),xO}var Ez=typeof Reflect<"u"&&Reflect&&Reflect.apply,Nz=Mp(),Tz=qw(),Az=Hw(),Mz=Ez,hA=Mz||Nz.call(Az,Tz),Rz=Mp(),Dz=Ap,Iz=Hw(),_z=hA,Ww=function(e){if(e.length<1||typeof e[0]!="function")throw new Dz("a function is required");return _z(Rz,Iz,e)},Zy,CO;function Pz(){if(CO)return Zy;CO=1;var e=Ww,t=Ec,n;try{n=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var r=!!n&&t&&t(Object.prototype,"__proto__"),o=Object,i=o.getPrototypeOf;return Zy=r&&typeof r.get=="function"?e([r.get]):typeof i=="function"?function(s){return i(s==null?s:o(s))}:!1,Zy}var Xy,EO;function Kw(){if(EO)return Xy;EO=1;var e=pA(),t=dA(),n=Pz();return Xy=e?function(r){return e(r)}:t?function(r){if(!r||typeof r!="object"&&typeof r!="function")throw new TypeError("getProto: not an object");return t(r)}:n?function(r){return n(r)}:null,Xy}var e0,NO;function mA(){if(NO)return e0;NO=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=Mp();return e0=n.call(e,t),e0}var $t,$z=Vw,Lz=uz,Fz=cz,zz=fz,jz=pz,vc=fA,rc=Ap,Bz=dz,Uz=hz,Vz=mz,Hz=gz,qz=yz,Wz=vz,Kz=wz,Gz=kz,gA=Function,t0=function(e){try{return gA('"use strict"; return ('+e+").constructor;")()}catch{}},yp=Ec,Jz=Vm,n0=function(){throw new rc},Qz=yp?function(){try{return arguments.callee,n0}catch{try{return yp(arguments,"callee").get}catch{return n0}}}():n0,Mu=Oz()(),sr=Kw(),Yz=dA(),Zz=pA(),yA=qw(),Rp=Hw(),Pu={},Xz=typeof Uint8Array>"u"||!sr?$t:sr(Uint8Array),$a={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?$t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?$t:ArrayBuffer,"%ArrayIteratorPrototype%":Mu&&sr?sr([][Symbol.iterator]()):$t,"%AsyncFromSyncIteratorPrototype%":$t,"%AsyncFunction%":Pu,"%AsyncGenerator%":Pu,"%AsyncGeneratorFunction%":Pu,"%AsyncIteratorPrototype%":Pu,"%Atomics%":typeof Atomics>"u"?$t:Atomics,"%BigInt%":typeof BigInt>"u"?$t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?$t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?$t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?$t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Lz,"%eval%":eval,"%EvalError%":Fz,"%Float16Array%":typeof Float16Array>"u"?$t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?$t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?$t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?$t:FinalizationRegistry,"%Function%":gA,"%GeneratorFunction%":Pu,"%Int8Array%":typeof Int8Array>"u"?$t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?$t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?$t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Mu&&sr?sr(sr([][Symbol.iterator]())):$t,"%JSON%":typeof JSON=="object"?JSON:$t,"%Map%":typeof Map>"u"?$t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Mu||!sr?$t:sr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":$z,"%Object.getOwnPropertyDescriptor%":yp,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?$t:Promise,"%Proxy%":typeof Proxy>"u"?$t:Proxy,"%RangeError%":zz,"%ReferenceError%":jz,"%Reflect%":typeof Reflect>"u"?$t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?$t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Mu||!sr?$t:sr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?$t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Mu&&sr?sr(""[Symbol.iterator]()):$t,"%Symbol%":Mu?Symbol:$t,"%SyntaxError%":vc,"%ThrowTypeError%":Qz,"%TypedArray%":Xz,"%TypeError%":rc,"%Uint8Array%":typeof Uint8Array>"u"?$t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?$t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?$t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?$t:Uint32Array,"%URIError%":Bz,"%WeakMap%":typeof WeakMap>"u"?$t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?$t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?$t:WeakSet,"%Function.prototype.call%":Rp,"%Function.prototype.apply%":yA,"%Object.defineProperty%":Jz,"%Object.getPrototypeOf%":Yz,"%Math.abs%":Uz,"%Math.floor%":Vz,"%Math.max%":Hz,"%Math.min%":qz,"%Math.pow%":Wz,"%Math.round%":Kz,"%Math.sign%":Gz,"%Reflect.getPrototypeOf%":Zz};if(sr)try{null.error}catch(e){var ej=sr(sr(e));$a["%Error.prototype%"]=ej}var tj=function e(t){var n;if(t==="%AsyncFunction%")n=t0("async function () {}");else if(t==="%GeneratorFunction%")n=t0("function* () {}");else if(t==="%AsyncGeneratorFunction%")n=t0("async function* () {}");else if(t==="%AsyncGenerator%"){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(t==="%AsyncIteratorPrototype%"){var o=e("%AsyncGenerator%");o&&sr&&(n=sr(o.prototype))}return $a[t]=n,n},TO={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Dp=Mp(),fm=mA(),nj=Dp.call(Rp,Array.prototype.concat),rj=Dp.call(yA,Array.prototype.splice),AO=Dp.call(Rp,String.prototype.replace),pm=Dp.call(Rp,String.prototype.slice),oj=Dp.call(Rp,RegExp.prototype.exec),ij=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,sj=/\\(\\)?/g,lj=function(e){var t=pm(e,0,1),n=pm(e,-1);if(t==="%"&&n!=="%")throw new vc("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&t!=="%")throw new vc("invalid intrinsic syntax, expected opening `%`");var r=[];return AO(e,ij,function(o,i,s,l){r[r.length]=s?AO(l,sj,"$1"):i||o}),r},aj=function(e,t){var n=e,r;if(fm(TO,n)&&(r=TO[n],n="%"+r[0]+"%"),fm($a,n)){var o=$a[n];if(o===Pu&&(o=tj(n)),typeof o>"u"&&!t)throw new rc("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new vc("intrinsic "+e+" does not exist!")},Gw=function(e,t){if(typeof e!="string"||e.length===0)throw new rc("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new rc('"allowMissing" argument must be a boolean');if(oj(/^%?[^%]*%?$/,e)===null)throw new vc("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=lj(e),r=n.length>0?n[0]:"",o=aj("%"+r+"%",t),i=o.name,s=o.value,l=!1,u=o.alias;u&&(r=u[0],rj(n,nj([0,1],u)));for(var f=1,p=!0;f<n.length;f+=1){var d=n[f],m=pm(d,0,1),g=pm(d,-1);if((m==='"'||m==="'"||m==="`"||g==='"'||g==="'"||g==="`")&&m!==g)throw new vc("property names with quotes must have matching quotes");if((d==="constructor"||!p)&&(l=!0),r+="."+d,i="%"+r+"%",fm($a,i))s=$a[i];else if(s!=null){if(!(d in s)){if(!t)throw new rc("base intrinsic for "+e+" exists, but the property is not available.");return}if(yp&&f+1>=n.length){var y=yp(s,d);p=!!y,p&&"get"in y&&!("originalValue"in y.get)?s=y.get:s=s[d]}else p=fm(s,d),s=s[d];p&&!l&&($a[i]=s)}}return s},vA=Gw,wA=Ww,uj=wA([vA("%String.prototype.indexOf%")]),Nc=function(e,t){var n=vA(e,!!t);return typeof n=="function"&&uj(e,".prototype.")>-1?wA([n]):n},cj=Um(),fj=Nc,W1=fj("Object.prototype.toString"),Hm=function(e){return cj&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:W1(e)==="[object Arguments]"},SA=function(e){return Hm(e)?!0:e!==null&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&e.length>=0&&W1(e)!=="[object Array]"&&"callee"in e&&W1(e.callee)==="[object Function]"},pj=function(){return Hm(arguments)}();Hm.isLegacyArguments=SA;var dj=pj?Hm:SA,MO=Nc,hj=Um(),mj=mA(),gj=Ec,K1;if(hj){var yj=MO("RegExp.prototype.exec"),RO={},r0=function(){throw RO},DO={toString:r0,valueOf:r0};typeof Symbol.toPrimitive=="symbol"&&(DO[Symbol.toPrimitive]=r0),K1=function(e){if(!e||typeof e!="object")return!1;var t=gj(e,"lastIndex"),n=t&&mj(t,"value");if(!n)return!1;try{yj(e,DO)}catch(r){return r===RO}}}else{var vj=MO("Object.prototype.toString"),wj="[object RegExp]";K1=function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:vj(e)===wj}}var Sj=K1,bj=Nc,kj=Sj,xj=bj("RegExp.prototype.exec"),Oj=Ap,Cj=function(e){if(!kj(e))throw new Oj("`regex` must be a RegExp");return function(t){return xj(e,t)!==null}},bA=Nc,Ej=Cj,Nj=Ej(/^\s*(?:function)?\*/),kA=Um(),o0=Kw(),Tj=bA("Object.prototype.toString"),Aj=bA("Function.prototype.toString"),Mj=function(){if(!kA)return!1;try{return Function("return function*() {}")()}catch{}},i0,Rj=function(e){if(typeof e!="function")return!1;if(Nj(Aj(e)))return!0;if(!kA){var t=Tj(e);return t==="[object GeneratorFunction]"}if(!o0)return!1;if(typeof i0>"u"){var n=Mj();i0=n?o0(n):!1}return o0(e)===i0},xA=Function.prototype.toString,Gu=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,G1,hh;if(typeof Gu=="function"&&typeof Object.defineProperty=="function")try{G1=Object.defineProperty({},"length",{get:function(){throw hh}}),hh={},Gu(function(){throw 42},null,G1)}catch(e){e!==hh&&(Gu=null)}else Gu=null;var Dj=/^\s*class\b/,J1=function(e){try{var t=xA.call(e);return Dj.test(t)}catch{return!1}},s0=function(e){try{return J1(e)?!1:(xA.call(e),!0)}catch{return!1}},mh=Object.prototype.toString,Ij="[object Object]",_j="[object Function]",Pj="[object GeneratorFunction]",$j="[object HTMLAllCollection]",Lj="[object HTML document.all class]",Fj="[object HTMLCollection]",zj=typeof Symbol=="function"&&!!Symbol.toStringTag,jj=!(0 in[,]),Q1=function(){return!1};if(typeof document=="object"){var Bj=document.all;mh.call(Bj)===mh.call(document.all)&&(Q1=function(e){if((jj||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=mh.call(e);return(t===$j||t===Lj||t===Fj||t===Ij)&&e("")==null}catch{}return!1})}var Uj=Gu?function(e){if(Q1(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Gu(e,null,G1)}catch(t){if(t!==hh)return!1}return!J1(e)&&s0(e)}:function(e){if(Q1(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(zj)return s0(e);if(J1(e))return!1;var t=mh.call(e);return t!==_j&&t!==Pj&&!/^\[object HTML/.test(t)?!1:s0(e)},Vj=Uj,Hj=Object.prototype.toString,OA=Object.prototype.hasOwnProperty,qj=function(e,t,n){for(var r=0,o=e.length;r<o;r++)OA.call(e,r)&&(n==null?t(e[r],r,e):t.call(n,e[r],r,e))},Wj=function(e,t,n){for(var r=0,o=e.length;r<o;r++)n==null?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},Kj=function(e,t,n){for(var r in e)OA.call(e,r)&&(n==null?t(e[r],r,e):t.call(n,e[r],r,e))};function Gj(e){return Hj.call(e)==="[object Array]"}var Jj=function(e,t,n){if(!Vj(t))throw new TypeError("iterator must be a function");var r;arguments.length>=3&&(r=n),Gj(e)?qj(e,t,r):typeof e=="string"?Wj(e,t,r):Kj(e,t,r)},Qj=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],l0=Qj,Yj=typeof globalThis>"u"?ui:globalThis,Zj=function(){for(var e=[],t=0;t<l0.length;t++)typeof Yj[l0[t]]=="function"&&(e[e.length]=l0[t]);return e},CA={exports:{}},IO=Vm,Xj=fA,Ru=Ap,_O=Ec,EA=function(e,t,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ru("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Ru("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ru("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ru("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ru("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ru("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!_O&&_O(e,t);if(IO)IO(e,t,{configurable:i===null&&l?l.configurable:!i,enumerable:r===null&&l?l.enumerable:!r,value:n,writable:o===null&&l?l.writable:!o});else if(s||!r&&!o&&!i)e[t]=n;else throw new Xj("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Y1=Vm,NA=function(){return!!Y1};NA.hasArrayLengthDefineBug=function(){if(!Y1)return null;try{return Y1([],"length",{value:1}).length!==1}catch{return!0}};var TA=NA,e9=Gw,PO=EA,t9=TA(),$O=Ec,LO=Ap,n9=e9("%Math.floor%"),r9=function(e,t){if(typeof e!="function")throw new LO("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||n9(t)!==t)throw new LO("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,o=!0;if("length"in e&&$O){var i=$O(e,"length");i&&!i.configurable&&(r=!1),i&&!i.writable&&(o=!1)}return(r||o||!n)&&(t9?PO(e,"length",t,!0,!0):PO(e,"length",t)),e},o9=Mp(),i9=qw(),s9=hA,l9=function(){return s9(o9,i9,arguments)};(function(e){var t=r9,n=Vm,r=Ww,o=l9;e.exports=function(i){var s=r(arguments),l=i.length-(arguments.length-1);return t(s,1+(l>0?l:0),!0)},n?n(e.exports,"apply",{value:o}):e.exports.apply=o})(CA);var qm=CA.exports,dm=Jj,a9=Zj,FO=qm,Jw=Nc,gh=Ec,zd=Kw(),u9=Jw("Object.prototype.toString"),AA=Um(),zO=typeof globalThis>"u"?ui:globalThis,Z1=a9(),Qw=Jw("String.prototype.slice"),c9=Jw("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},hm={__proto__:null};AA&&gh&&zd?dm(Z1,function(e){var t=new zO[e];if(Symbol.toStringTag in t&&zd){var n=zd(t),r=gh(n,Symbol.toStringTag);if(!r&&n){var o=zd(n);r=gh(o,Symbol.toStringTag)}hm["$"+e]=FO(r.get)}}):dm(Z1,function(e){var t=new zO[e],n=t.slice||t.set;n&&(hm["$"+e]=FO(n))});var f9=function(e){var t=!1;return dm(hm,function(n,r){if(!t)try{"$"+n(e)===r&&(t=Qw(r,1))}catch{}}),t},p9=function(e){var t=!1;return dm(hm,function(n,r){if(!t)try{n(e),t=Qw(r,1)}catch{}}),t},MA=function(e){if(!e||typeof e!="object")return!1;if(!AA){var t=Qw(u9(e),8,-1);return c9(Z1,t)>-1?t:t!=="Object"?!1:p9(e)}return gh?f9(e):null},d9=MA,h9=function(e){return!!d9(e)};(function(e){var t=dj,n=Rj,r=MA,o=h9;function i(te){return te.call.bind(te)}var s=typeof BigInt<"u",l=typeof Symbol<"u",u=i(Object.prototype.toString),f=i(Number.prototype.valueOf),p=i(String.prototype.valueOf),d=i(Boolean.prototype.valueOf);if(s)var m=i(BigInt.prototype.valueOf);if(l)var g=i(Symbol.prototype.valueOf);function y(te,$e){if(typeof te!="object")return!1;try{return $e(te),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=n,e.isTypedArray=o;function b(te){return typeof Promise<"u"&&te instanceof Promise||te!==null&&typeof te=="object"&&typeof te.then=="function"&&typeof te.catch=="function"}e.isPromise=b;function E(te){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(te):o(te)||N(te)}e.isArrayBufferView=E;function S(te){return r(te)==="Uint8Array"}e.isUint8Array=S;function x(te){return r(te)==="Uint8ClampedArray"}e.isUint8ClampedArray=x;function k(te){return r(te)==="Uint16Array"}e.isUint16Array=k;function I(te){return r(te)==="Uint32Array"}e.isUint32Array=I;function L(te){return r(te)==="Int8Array"}e.isInt8Array=L;function _(te){return r(te)==="Int16Array"}e.isInt16Array=_;function H(te){return r(te)==="Int32Array"}e.isInt32Array=H;function j(te){return r(te)==="Float32Array"}e.isFloat32Array=j;function Y(te){return r(te)==="Float64Array"}e.isFloat64Array=Y;function ue(te){return r(te)==="BigInt64Array"}e.isBigInt64Array=ue;function Se(te){return r(te)==="BigUint64Array"}e.isBigUint64Array=Se;function ge(te){return u(te)==="[object Map]"}ge.working=typeof Map<"u"&&ge(new Map);function W(te){return typeof Map>"u"?!1:ge.working?ge(te):te instanceof Map}e.isMap=W;function G(te){return u(te)==="[object Set]"}G.working=typeof Set<"u"&&G(new Set);function U(te){return typeof Set>"u"?!1:G.working?G(te):te instanceof Set}e.isSet=U;function re(te){return u(te)==="[object WeakMap]"}re.working=typeof WeakMap<"u"&&re(new WeakMap);function He(te){return typeof WeakMap>"u"?!1:re.working?re(te):te instanceof WeakMap}e.isWeakMap=He;function fe(te){return u(te)==="[object WeakSet]"}fe.working=typeof WeakSet<"u"&&fe(new WeakSet);function J(te){return fe(te)}e.isWeakSet=J;function T(te){return u(te)==="[object ArrayBuffer]"}T.working=typeof ArrayBuffer<"u"&&T(new ArrayBuffer);function se(te){return typeof ArrayBuffer>"u"?!1:T.working?T(te):te instanceof ArrayBuffer}e.isArrayBuffer=se;function xe(te){return u(te)==="[object DataView]"}xe.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&xe(new DataView(new ArrayBuffer(1),0,1));function N(te){return typeof DataView>"u"?!1:xe.working?xe(te):te instanceof DataView}e.isDataView=N;var R=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function P(te){return u(te)==="[object SharedArrayBuffer]"}function F(te){return typeof R>"u"?!1:(typeof P.working>"u"&&(P.working=P(new R)),P.working?P(te):te instanceof R)}e.isSharedArrayBuffer=F;function pe(te){return u(te)==="[object AsyncFunction]"}e.isAsyncFunction=pe;function oe(te){return u(te)==="[object Map Iterator]"}e.isMapIterator=oe;function ce(te){return u(te)==="[object Set Iterator]"}e.isSetIterator=ce;function Ee(te){return u(te)==="[object Generator]"}e.isGeneratorObject=Ee;function Pe(te){return u(te)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Pe;function ie(te){return y(te,f)}e.isNumberObject=ie;function Z(te){return y(te,p)}e.isStringObject=Z;function me(te){return y(te,d)}e.isBooleanObject=me;function de(te){return s&&y(te,m)}e.isBigIntObject=de;function Qe(te){return l&&y(te,g)}e.isSymbolObject=Qe;function Ze(te){return ie(te)||Z(te)||me(te)||de(te)||Qe(te)}e.isBoxedPrimitive=Ze;function ye(te){return typeof Uint8Array<"u"&&(se(te)||F(te))}e.isAnyArrayBuffer=ye,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(te){Object.defineProperty(e,te,{enumerable:!1,value:function(){throw new Error(te+" is not supported in userland")}})})})(cA);var m9=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},X1={exports:{}};typeof Object.create=="function"?X1.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:X1.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var g9=X1.exports;(function(e){var t={},n=Object.getOwnPropertyDescriptors||function(N){for(var R=Object.keys(N),P={},F=0;F<R.length;F++)P[R[F]]=Object.getOwnPropertyDescriptor(N,R[F]);return P},r=/%[sdj%]/g;e.format=function(N){if(!_(N)){for(var R=[],P=0;P<arguments.length;P++)R.push(l(arguments[P]));return R.join(" ")}for(var P=1,F=arguments,pe=F.length,oe=String(N).replace(r,function(Pe){if(Pe==="%%")return"%";if(P>=pe)return Pe;switch(Pe){case"%s":return String(F[P++]);case"%d":return Number(F[P++]);case"%j":try{return JSON.stringify(F[P++])}catch{return"[Circular]"}default:return Pe}}),ce=F[P];P<pe;ce=F[++P])k(ce)||!ue(ce)?oe+=" "+ce:oe+=" "+l(ce);return oe},e.deprecate=function(N,R){if(typeof process<"u"&&process.noDeprecation===!0)return N;if(typeof process>"u")return function(){return e.deprecate(N,R).apply(this,arguments)};var P=!1;function F(){if(!P){if(process.throwDeprecation)throw new Error(R);process.traceDeprecation?console.trace(R):console.error(R),P=!0}return N.apply(this,arguments)}return F};var o={},i=/^$/;if(t.NODE_DEBUG){var s=t.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}e.debuglog=function(N){if(N=N.toUpperCase(),!o[N])if(i.test(N)){var R=process.pid;o[N]=function(){var P=e.format.apply(e,arguments);console.error("%s %d: %s",N,R,P)}}else o[N]=function(){};return o[N]};function l(N,R){var P={seen:[],stylize:f};return arguments.length>=3&&(P.depth=arguments[2]),arguments.length>=4&&(P.colors=arguments[3]),x(R)?P.showHidden=R:R&&e._extend(P,R),j(P.showHidden)&&(P.showHidden=!1),j(P.depth)&&(P.depth=2),j(P.colors)&&(P.colors=!1),j(P.customInspect)&&(P.customInspect=!0),P.colors&&(P.stylize=u),d(P,N,P.depth)}e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(N,R){var P=l.styles[R];return P?"\x1B["+l.colors[P][0]+"m"+N+"\x1B["+l.colors[P][1]+"m":N}function f(N,R){return N}function p(N){var R={};return N.forEach(function(P,F){R[P]=!0}),R}function d(N,R,P){if(N.customInspect&&R&&W(R.inspect)&&R.inspect!==e.inspect&&!(R.constructor&&R.constructor.prototype===R)){var F=R.inspect(P,N);return _(F)||(F=d(N,F,P)),F}var pe=m(N,R);if(pe)return pe;var oe=Object.keys(R),ce=p(oe);if(N.showHidden&&(oe=Object.getOwnPropertyNames(R)),ge(R)&&(oe.indexOf("message")>=0||oe.indexOf("description")>=0))return g(R);if(oe.length===0){if(W(R)){var Ee=R.name?": "+R.name:"";return N.stylize("[Function"+Ee+"]","special")}if(Y(R))return N.stylize(RegExp.prototype.toString.call(R),"regexp");if(Se(R))return N.stylize(Date.prototype.toString.call(R),"date");if(ge(R))return g(R)}var Pe="",ie=!1,Z=["{","}"];if(S(R)&&(ie=!0,Z=["[","]"]),W(R)){var me=R.name?": "+R.name:"";Pe=" [Function"+me+"]"}if(Y(R)&&(Pe=" "+RegExp.prototype.toString.call(R)),Se(R)&&(Pe=" "+Date.prototype.toUTCString.call(R)),ge(R)&&(Pe=" "+g(R)),oe.length===0&&(!ie||R.length==0))return Z[0]+Pe+Z[1];if(P<0)return Y(R)?N.stylize(RegExp.prototype.toString.call(R),"regexp"):N.stylize("[Object]","special");N.seen.push(R);var de;return ie?de=y(N,R,P,ce,oe):de=oe.map(function(Qe){return b(N,R,P,ce,Qe,ie)}),N.seen.pop(),E(de,Pe,Z)}function m(N,R){if(j(R))return N.stylize("undefined","undefined");if(_(R)){var P="'"+JSON.stringify(R).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return N.stylize(P,"string")}if(L(R))return N.stylize(""+R,"number");if(x(R))return N.stylize(""+R,"boolean");if(k(R))return N.stylize("null","null")}function g(N){return"["+Error.prototype.toString.call(N)+"]"}function y(N,R,P,F,pe){for(var oe=[],ce=0,Ee=R.length;ce<Ee;++ce)J(R,String(ce))?oe.push(b(N,R,P,F,String(ce),!0)):oe.push("");return pe.forEach(function(Pe){Pe.match(/^\d+$/)||oe.push(b(N,R,P,F,Pe,!0))}),oe}function b(N,R,P,F,pe,oe){var ce,Ee,Pe;if(Pe=Object.getOwnPropertyDescriptor(R,pe)||{value:R[pe]},Pe.get?Pe.set?Ee=N.stylize("[Getter/Setter]","special"):Ee=N.stylize("[Getter]","special"):Pe.set&&(Ee=N.stylize("[Setter]","special")),J(F,pe)||(ce="["+pe+"]"),Ee||(N.seen.indexOf(Pe.value)<0?(k(P)?Ee=d(N,Pe.value,null):Ee=d(N,Pe.value,P-1),Ee.indexOf(`
`)>-1&&(oe?Ee=Ee.split(`
`).map(function(ie){return"  "+ie}).join(`
`).slice(2):Ee=`
`+Ee.split(`
`).map(function(ie){return"   "+ie}).join(`
`))):Ee=N.stylize("[Circular]","special")),j(ce)){if(oe&&pe.match(/^\d+$/))return Ee;ce=JSON.stringify(""+pe),ce.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ce=ce.slice(1,-1),ce=N.stylize(ce,"name")):(ce=ce.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ce=N.stylize(ce,"string"))}return ce+": "+Ee}function E(N,R,P){var F=N.reduce(function(pe,oe){return oe.indexOf(`
`)>=0,pe+oe.replace(/\u001b\[\d\d?m/g,"").length+1},0);return F>60?P[0]+(R===""?"":R+`
 `)+" "+N.join(`,
  `)+" "+P[1]:P[0]+R+" "+N.join(", ")+" "+P[1]}e.types=cA;function S(N){return Array.isArray(N)}e.isArray=S;function x(N){return typeof N=="boolean"}e.isBoolean=x;function k(N){return N===null}e.isNull=k;function I(N){return N==null}e.isNullOrUndefined=I;function L(N){return typeof N=="number"}e.isNumber=L;function _(N){return typeof N=="string"}e.isString=_;function H(N){return typeof N=="symbol"}e.isSymbol=H;function j(N){return N===void 0}e.isUndefined=j;function Y(N){return ue(N)&&U(N)==="[object RegExp]"}e.isRegExp=Y,e.types.isRegExp=Y;function ue(N){return typeof N=="object"&&N!==null}e.isObject=ue;function Se(N){return ue(N)&&U(N)==="[object Date]"}e.isDate=Se,e.types.isDate=Se;function ge(N){return ue(N)&&(U(N)==="[object Error]"||N instanceof Error)}e.isError=ge,e.types.isNativeError=ge;function W(N){return typeof N=="function"}e.isFunction=W;function G(N){return N===null||typeof N=="boolean"||typeof N=="number"||typeof N=="string"||typeof N=="symbol"||typeof N>"u"}e.isPrimitive=G,e.isBuffer=m9;function U(N){return Object.prototype.toString.call(N)}function re(N){return N<10?"0"+N.toString(10):N.toString(10)}var He=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fe(){var N=new Date,R=[re(N.getHours()),re(N.getMinutes()),re(N.getSeconds())].join(":");return[N.getDate(),He[N.getMonth()],R].join(" ")}e.log=function(){console.log("%s - %s",fe(),e.format.apply(e,arguments))},e.inherits=g9,e._extend=function(N,R){if(!R||!ue(R))return N;for(var P=Object.keys(R),F=P.length;F--;)N[P[F]]=R[P[F]];return N};function J(N,R){return Object.prototype.hasOwnProperty.call(N,R)}var T=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(N){if(typeof N!="function")throw new TypeError('The "original" argument must be of type Function');if(T&&N[T]){var R=N[T];if(typeof R!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(R,T,{value:R,enumerable:!1,writable:!1,configurable:!0}),R}function R(){for(var P,F,pe=new Promise(function(Ee,Pe){P=Ee,F=Pe}),oe=[],ce=0;ce<arguments.length;ce++)oe.push(arguments[ce]);oe.push(function(Ee,Pe){Ee?F(Ee):P(Pe)});try{N.apply(this,oe)}catch(Ee){F(Ee)}return pe}return Object.setPrototypeOf(R,Object.getPrototypeOf(N)),T&&Object.defineProperty(R,T,{value:R,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(R,n(N))},e.promisify.custom=T;function se(N,R){if(!N){var P=new Error("Promise was rejected with a falsy value");P.reason=N,N=P}return R(N)}function xe(N){if(typeof N!="function")throw new TypeError('The "original" argument must be of type Function');function R(){for(var P=[],F=0;F<arguments.length;F++)P.push(arguments[F]);var pe=P.pop();if(typeof pe!="function")throw new TypeError("The last argument must be of type Function");var oe=this,ce=function(){return pe.apply(oe,arguments)};N.apply(this,P).then(function(Ee){process.nextTick(ce.bind(null,null,Ee))},function(Ee){process.nextTick(se.bind(null,Ee,ce))})}return Object.setPrototypeOf(R,Object.getPrototypeOf(N)),Object.defineProperties(R,n(N)),R}e.callbackify=xe})(yc);var jO;function RA(){if(jO)return Ky;jO=1;function e(x){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},e(x)}function t(x,k,I){return Object.defineProperty(x,"prototype",{writable:!1}),x}function n(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function r(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),k&&o(x,k)}function o(x,k){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,L){return I.__proto__=L,I},o(x,k)}function i(x){var k=u();return function(){var I=f(x),L;if(k){var _=f(this).constructor;L=Reflect.construct(I,arguments,_)}else L=I.apply(this,arguments);return s(this,L)}}function s(x,k){if(k&&(e(k)==="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(x)}function l(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(x){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},f(x)}var p={},d,m;function g(x,k,I){I||(I=Error);function L(H,j,Y){return typeof k=="string"?k:k(H,j,Y)}var _=function(H){r(Y,H);var j=i(Y);function Y(ue,Se,ge){var W;return n(this,Y),W=j.call(this,L(ue,Se,ge)),W.code=x,W}return t(Y)}(I);p[x]=_}function y(x,k){if(Array.isArray(x)){var I=x.length;return x=x.map(function(L){return String(L)}),I>2?"one of ".concat(k," ").concat(x.slice(0,I-1).join(", "),", or ")+x[I-1]:I===2?"one of ".concat(k," ").concat(x[0]," or ").concat(x[1]):"of ".concat(k," ").concat(x[0])}else return"of ".concat(k," ").concat(String(x))}function b(x,k,I){return x.substr(0,k.length)===k}function E(x,k,I){return(I===void 0||I>x.length)&&(I=x.length),x.substring(I-k.length,I)===k}function S(x,k,I){return typeof I!="number"&&(I=0),I+k.length>x.length?!1:x.indexOf(k,I)!==-1}return g("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),g("ERR_INVALID_ARG_TYPE",function(x,k,I){d===void 0&&(d=ev()),d(typeof x=="string","'name' must be a string");var L;typeof k=="string"&&b(k,"not ")?(L="must not be",k=k.replace(/^not /,"")):L="must be";var _;if(E(x," argument"))_="The ".concat(x," ").concat(L," ").concat(y(k,"type"));else{var H=S(x,".")?"property":"argument";_='The "'.concat(x,'" ').concat(H," ").concat(L," ").concat(y(k,"type"))}return _+=". Received type ".concat(e(I)),_},TypeError),g("ERR_INVALID_ARG_VALUE",function(x,k){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";m===void 0&&(m=yc);var L=m.inspect(k);return L.length>128&&(L="".concat(L.slice(0,128),"...")),"The argument '".concat(x,"' ").concat(I,". Received ").concat(L)},TypeError),g("ERR_INVALID_RETURN_VALUE",function(x,k,I){var L;return I&&I.constructor&&I.constructor.name?L="instance of ".concat(I.constructor.name):L="type ".concat(e(I)),"Expected ".concat(x,' to be returned from the "').concat(k,'"')+" function but got ".concat(L,".")},TypeError),g("ERR_MISSING_ARGS",function(){for(var x=arguments.length,k=new Array(x),I=0;I<x;I++)k[I]=arguments[I];d===void 0&&(d=ev()),d(k.length>0,"At least one arg needs to be specified");var L="The ",_=k.length;switch(k=k.map(function(H){return'"'.concat(H,'"')}),_){case 1:L+="".concat(k[0]," argument");break;case 2:L+="".concat(k[0]," and ").concat(k[1]," arguments");break;default:L+=k.slice(0,_-1).join(", "),L+=", and ".concat(k[_-1]," arguments");break}return"".concat(L," must be specified")},TypeError),Ky.codes=p,Ky}var a0,BO;function y9(){if(BO)return a0;BO=1;function e(J,T){var se=Object.keys(J);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(J);T&&(xe=xe.filter(function(N){return Object.getOwnPropertyDescriptor(J,N).enumerable})),se.push.apply(se,xe)}return se}function t(J){for(var T=1;T<arguments.length;T++){var se=arguments[T]!=null?arguments[T]:{};T%2?e(Object(se),!0).forEach(function(xe){n(J,xe,se[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(se)):e(Object(se)).forEach(function(xe){Object.defineProperty(J,xe,Object.getOwnPropertyDescriptor(se,xe))})}return J}function n(J,T,se){return T=s(T),T in J?Object.defineProperty(J,T,{value:se,enumerable:!0,configurable:!0,writable:!0}):J[T]=se,J}function r(J,T){if(!(J instanceof T))throw new TypeError("Cannot call a class as a function")}function o(J,T){for(var se=0;se<T.length;se++){var xe=T[se];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(J,s(xe.key),xe)}}function i(J,T,se){return T&&o(J.prototype,T),Object.defineProperty(J,"prototype",{writable:!1}),J}function s(J){var T=l(J,"string");return x(T)==="symbol"?T:String(T)}function l(J,T){if(x(J)!=="object"||J===null)return J;var se=J[Symbol.toPrimitive];if(se!==void 0){var xe=se.call(J,T);if(x(xe)!=="object")return xe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(J)}function u(J,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(T&&T.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),T&&E(J,T)}function f(J){var T=y();return function(){var se=S(J),xe;if(T){var N=S(this).constructor;xe=Reflect.construct(se,arguments,N)}else xe=se.apply(this,arguments);return p(this,xe)}}function p(J,T){if(T&&(x(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(J)}function d(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function m(J){var T=typeof Map=="function"?new Map:void 0;return m=function(se){if(se===null||!b(se))return se;if(typeof se!="function")throw new TypeError("Super expression must either be null or a function");if(typeof T<"u"){if(T.has(se))return T.get(se);T.set(se,xe)}function xe(){return g(se,arguments,S(this).constructor)}return xe.prototype=Object.create(se.prototype,{constructor:{value:xe,enumerable:!1,writable:!0,configurable:!0}}),E(xe,se)},m(J)}function g(J,T,se){return y()?g=Reflect.construct.bind():g=function(xe,N,R){var P=[null];P.push.apply(P,N);var F=Function.bind.apply(xe,P),pe=new F;return R&&E(pe,R.prototype),pe},g.apply(null,arguments)}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b(J){return Function.toString.call(J).indexOf("[native code]")!==-1}function E(J,T){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,xe){return se.__proto__=xe,se},E(J,T)}function S(J){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(T){return T.__proto__||Object.getPrototypeOf(T)},S(J)}function x(J){"@babel/helpers - typeof";return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},x(J)}var k=yc,I=k.inspect,L=RA(),_=L.codes.ERR_INVALID_ARG_TYPE;function H(J,T,se){return(se===void 0||se>J.length)&&(se=J.length),J.substring(se-T.length,se)===T}function j(J,T){if(T=Math.floor(T),J.length==0||T==0)return"";var se=J.length*T;for(T=Math.floor(Math.log(T)/Math.log(2));T;)J+=J,T--;return J+=J.substring(0,se-J.length),J}var Y="",ue="",Se="",ge="",W={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},G=10;function U(J){var T=Object.keys(J),se=Object.create(Object.getPrototypeOf(J));return T.forEach(function(xe){se[xe]=J[xe]}),Object.defineProperty(se,"message",{value:J.message}),se}function re(J){return I(J,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function He(J,T,se){var xe="",N="",R=0,P="",F=!1,pe=re(J),oe=pe.split(`
`),ce=re(T).split(`
`),Ee=0,Pe="";if(se==="strictEqual"&&x(J)==="object"&&x(T)==="object"&&J!==null&&T!==null&&(se="strictEqualObject"),oe.length===1&&ce.length===1&&oe[0]!==ce[0]){var ie=oe[0].length+ce[0].length;if(ie<=G){if((x(J)!=="object"||J===null)&&(x(T)!=="object"||T===null)&&(J!==0||T!==0))return"".concat(W[se],`

`)+"".concat(oe[0]," !== ").concat(ce[0],`
`)}else if(se!=="strictEqualObject"){var Z=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(ie<Z){for(;oe[0][Ee]===ce[0][Ee];)Ee++;Ee>2&&(Pe=`
  `.concat(j(" ",Ee),"^"),Ee=0)}}}for(var me=oe[oe.length-1],de=ce[ce.length-1];me===de&&(Ee++<2?P=`
  `.concat(me).concat(P):xe=me,oe.pop(),ce.pop(),!(oe.length===0||ce.length===0));)me=oe[oe.length-1],de=ce[ce.length-1];var Qe=Math.max(oe.length,ce.length);if(Qe===0){var Ze=pe.split(`
`);if(Ze.length>30)for(Ze[26]="".concat(Y,"...").concat(ge);Ze.length>27;)Ze.pop();return"".concat(W.notIdentical,`

`).concat(Ze.join(`
`),`
`)}Ee>3&&(P=`
`.concat(Y,"...").concat(ge).concat(P),F=!0),xe!==""&&(P=`
  `.concat(xe).concat(P),xe="");var ye=0,te=W[se]+`
`.concat(ue,"+ actual").concat(ge," ").concat(Se,"- expected").concat(ge),$e=" ".concat(Y,"...").concat(ge," Lines skipped");for(Ee=0;Ee<Qe;Ee++){var Ke=Ee-R;if(oe.length<Ee+1)Ke>1&&Ee>2&&(Ke>4?(N+=`
`.concat(Y,"...").concat(ge),F=!0):Ke>3&&(N+=`
  `.concat(ce[Ee-2]),ye++),N+=`
  `.concat(ce[Ee-1]),ye++),R=Ee,xe+=`
`.concat(Se,"-").concat(ge," ").concat(ce[Ee]),ye++;else if(ce.length<Ee+1)Ke>1&&Ee>2&&(Ke>4?(N+=`
`.concat(Y,"...").concat(ge),F=!0):Ke>3&&(N+=`
  `.concat(oe[Ee-2]),ye++),N+=`
  `.concat(oe[Ee-1]),ye++),R=Ee,N+=`
`.concat(ue,"+").concat(ge," ").concat(oe[Ee]),ye++;else{var kt=ce[Ee],Xe=oe[Ee],q=Xe!==kt&&(!H(Xe,",")||Xe.slice(0,-1)!==kt);q&&H(kt,",")&&kt.slice(0,-1)===Xe&&(q=!1,Xe+=","),q?(Ke>1&&Ee>2&&(Ke>4?(N+=`
`.concat(Y,"...").concat(ge),F=!0):Ke>3&&(N+=`
  `.concat(oe[Ee-2]),ye++),N+=`
  `.concat(oe[Ee-1]),ye++),R=Ee,N+=`
`.concat(ue,"+").concat(ge," ").concat(Xe),xe+=`
`.concat(Se,"-").concat(ge," ").concat(kt),ye+=2):(N+=xe,xe="",(Ke===1||Ee===0)&&(N+=`
  `.concat(Xe),ye++))}if(ye>20&&Ee<Qe-2)return"".concat(te).concat($e,`
`).concat(N,`
`).concat(Y,"...").concat(ge).concat(xe,`
`)+"".concat(Y,"...").concat(ge)}return"".concat(te).concat(F?$e:"",`
`).concat(N).concat(xe).concat(P).concat(Pe)}var fe=function(J,T){u(xe,J);var se=f(xe);function xe(N){var R;if(r(this,xe),x(N)!=="object"||N===null)throw new _("options","Object",N);var P=N.message,F=N.operator,pe=N.stackStartFn,oe=N.actual,ce=N.expected,Ee=Error.stackTraceLimit;if(Error.stackTraceLimit=0,P!=null)R=se.call(this,String(P));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Y="\x1B[34m",ue="\x1B[32m",ge="\x1B[39m",Se="\x1B[31m"):(Y="",ue="",ge="",Se="")),x(oe)==="object"&&oe!==null&&x(ce)==="object"&&ce!==null&&"stack"in oe&&oe instanceof Error&&"stack"in ce&&ce instanceof Error&&(oe=U(oe),ce=U(ce)),F==="deepStrictEqual"||F==="strictEqual")R=se.call(this,He(oe,ce,F));else if(F==="notDeepStrictEqual"||F==="notStrictEqual"){var Pe=W[F],ie=re(oe).split(`
`);if(F==="notStrictEqual"&&x(oe)==="object"&&oe!==null&&(Pe=W.notStrictEqualObject),ie.length>30)for(ie[26]="".concat(Y,"...").concat(ge);ie.length>27;)ie.pop();ie.length===1?R=se.call(this,"".concat(Pe," ").concat(ie[0])):R=se.call(this,"".concat(Pe,`

`).concat(ie.join(`
`),`
`))}else{var Z=re(oe),me="",de=W[F];F==="notDeepEqual"||F==="notEqual"?(Z="".concat(W[F],`

`).concat(Z),Z.length>1024&&(Z="".concat(Z.slice(0,1021),"..."))):(me="".concat(re(ce)),Z.length>512&&(Z="".concat(Z.slice(0,509),"...")),me.length>512&&(me="".concat(me.slice(0,509),"...")),F==="deepEqual"||F==="equal"?Z="".concat(de,`

`).concat(Z,`

should equal

`):me=" ".concat(F," ").concat(me)),R=se.call(this,"".concat(Z).concat(me))}return Error.stackTraceLimit=Ee,R.generatedMessage=!P,Object.defineProperty(d(R),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),R.code="ERR_ASSERTION",R.actual=oe,R.expected=ce,R.operator=F,Error.captureStackTrace&&Error.captureStackTrace(d(R),pe),R.stack,R.name="AssertionError",p(R)}return i(xe,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:T,value:function(N,R){return I(this,t(t({},R),{},{customInspect:!1,depth:0}))}}]),xe}(m(Error),I.custom);return a0=fe,a0}var UO=Object.prototype.toString,DA=function(e){var t=UO.call(e),n=t==="[object Arguments]";return n||(n=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&UO.call(e.callee)==="[object Function]"),n},u0,VO;function v9(){if(VO)return u0;VO=1;var e;if(!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=DA,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),s=o.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(m){var g=m.constructor;return g&&g.prototype===m},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>"u")return!1;for(var m in window)try{if(!f["$"+m]&&t.call(window,m)&&window[m]!==null&&typeof window[m]=="object")try{u(window[m])}catch{return!0}}catch{return!0}return!1}(),d=function(m){if(typeof window>"u"||!p)return u(m);try{return u(m)}catch{return!1}};e=function(m){var g=m!==null&&typeof m=="object",y=n.call(m)==="[object Function]",b=r(m),E=g&&n.call(m)==="[object String]",S=[];if(!g&&!y&&!b)throw new TypeError("Object.keys called on a non-object");var x=s&&y;if(E&&m.length>0&&!t.call(m,0))for(var k=0;k<m.length;++k)S.push(String(k));if(b&&m.length>0)for(var I=0;I<m.length;++I)S.push(String(I));else for(var L in m)!(x&&L==="prototype")&&t.call(m,L)&&S.push(String(L));if(i)for(var _=d(m),H=0;H<l.length;++H)!(_&&l[H]==="constructor")&&t.call(m,l[H])&&S.push(l[H]);return S}}return u0=e,u0}var w9=Array.prototype.slice,S9=DA,HO=Object.keys,yh=HO?function(e){return HO(e)}:v9(),qO=Object.keys;yh.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(t){return S9(t)?qO(w9.call(t)):qO(t)})}else Object.keys=yh;return Object.keys||yh};var IA=yh,b9=IA,_A=Uw(),PA=Nc,vh=Vw,k9=PA("Array.prototype.push"),WO=PA("Object.prototype.propertyIsEnumerable"),x9=_A?vh.getOwnPropertySymbols:null,O9=function(e,t){if(e==null)throw new TypeError("target must be an object");var n=vh(e);if(arguments.length===1)return n;for(var r=1;r<arguments.length;++r){var o=vh(arguments[r]),i=b9(o),s=_A&&(vh.getOwnPropertySymbols||x9);if(s)for(var l=s(o),u=0;u<l.length;++u){var f=l[u];WO(o,f)&&k9(i,f)}for(var p=0;p<i.length;++p){var d=i[p];if(WO(o,d)){var m=o[d];n[d]=m}}}return n},C9=O9,E9=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var o=Object.assign({},n),i="";for(var s in o)i+=s;return e!==i},N9=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return e[1]==="y"}return!1},T9=function(){return!Object.assign||E9()||N9()?C9:Object.assign},KO=function(e){return e!==e},$A=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||KO(e)&&KO(t))},A9=$A,Yw=function(){return typeof Object.is=="function"?Object.is:A9},LA=Gw,FA=qm,M9=FA(LA("String.prototype.indexOf")),R9=function(e,t){var n=LA(e,!1);return typeof n=="function"&&M9(e,".prototype.")>-1?FA(n):n},c0,GO;function Wm(){if(GO)return c0;GO=1;var e=IA,t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,r=Array.prototype.concat,o=EA,i=function(f){return typeof f=="function"&&n.call(f)==="[object Function]"},s=TA(),l=function(f,p,d,m){if(p in f){if(m===!0){if(f[p]===d)return}else if(!i(m)||!m())return}s?o(f,p,d,!0):o(f,p,d)},u=function(f,p){var d=arguments.length>2?arguments[2]:{},m=e(p);t&&(m=r.call(m,Object.getOwnPropertySymbols(p)));for(var g=0;g<m.length;g+=1)l(f,m[g],p[m[g]],d[m[g]])};return u.supportsDescriptors=!!s,c0=u,c0}var f0,JO;function D9(){if(JO)return f0;JO=1;var e=Yw,t=Wm();return f0=function(){var n=e();return t(Object,{is:n},{is:function(){return Object.is!==n}}),n},f0}var p0,QO;function I9(){if(QO)return p0;QO=1;var e=Wm(),t=qm,n=$A,r=Yw,o=D9(),i=t(r(),Object);return e(i,{getPolyfill:r,implementation:n,shim:o}),p0=i,p0}var YO,ZO;function zA(){return ZO||(ZO=1,YO=function(e){return e!==e}),YO}var d0,XO;function jA(){if(XO)return d0;XO=1;var e=zA();return d0=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:e},d0}var h0,eC;function _9(){if(eC)return h0;eC=1;var e=Wm(),t=jA();return h0=function(){var n=t();return e(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},h0}var m0,tC;function P9(){if(tC)return m0;tC=1;var e=qm,t=Wm(),n=zA(),r=jA(),o=_9(),i=e(r(),Number);return t(i,{getPolyfill:r,implementation:n,shim:o}),m0=i,m0}var g0,nC;function $9(){if(nC)return g0;nC=1;function e(q,X){return i(q)||o(q,X)||n(q,X)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(q,X){if(q){if(typeof q=="string")return r(q,X);var B=Object.prototype.toString.call(q).slice(8,-1);if(B==="Object"&&q.constructor&&(B=q.constructor.name),B==="Map"||B==="Set")return Array.from(q);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return r(q,X)}}function r(q,X){(X==null||X>q.length)&&(X=q.length);for(var B=0,ne=new Array(X);B<X;B++)ne[B]=q[B];return ne}function o(q,X){var B=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(B!=null){var ne,be,Le,Fe,et=[],pt=!0,gt=!1;try{if(Le=(B=B.call(q)).next,X!==0)for(;!(pt=(ne=Le.call(B)).done)&&(et.push(ne.value),et.length!==X);pt=!0);}catch(nn){gt=!0,be=nn}finally{try{if(!pt&&B.return!=null&&(Fe=B.return(),Object(Fe)!==Fe))return}finally{if(gt)throw be}}return et}}function i(q){if(Array.isArray(q))return q}function s(q){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},s(q)}var l=/a/g.flags!==void 0,u=function(q){var X=[];return q.forEach(function(B){return X.push(B)}),X},f=function(q){var X=[];return q.forEach(function(B,ne){return X.push([ne,B])}),X},p=Object.is?Object.is:I9(),d=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},m=Number.isNaN?Number.isNaN:P9();function g(q){return q.call.bind(q)}var y=g(Object.prototype.hasOwnProperty),b=g(Object.prototype.propertyIsEnumerable),E=g(Object.prototype.toString),S=yc.types,x=S.isAnyArrayBuffer,k=S.isArrayBufferView,I=S.isDate,L=S.isMap,_=S.isRegExp,H=S.isSet,j=S.isNativeError,Y=S.isBoxedPrimitive,ue=S.isNumberObject,Se=S.isStringObject,ge=S.isBooleanObject,W=S.isBigIntObject,G=S.isSymbolObject,U=S.isFloat32Array,re=S.isFloat64Array;function He(q){if(q.length===0||q.length>10)return!0;for(var X=0;X<q.length;X++){var B=q.charCodeAt(X);if(B<48||B>57)return!0}return q.length===10&&q>=Math.pow(2,32)}function fe(q){return Object.keys(q).filter(He).concat(d(q).filter(Object.prototype.propertyIsEnumerable.bind(q)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function J(q,X){if(q===X)return 0;for(var B=q.length,ne=X.length,be=0,Le=Math.min(B,ne);be<Le;++be)if(q[be]!==X[be]){B=q[be],ne=X[be];break}return B<ne?-1:ne<B?1:0}var T=!0,se=!1,xe=0,N=1,R=2,P=3;function F(q,X){return l?q.source===X.source&&q.flags===X.flags:RegExp.prototype.toString.call(q)===RegExp.prototype.toString.call(X)}function pe(q,X){if(q.byteLength!==X.byteLength)return!1;for(var B=0;B<q.byteLength;B++)if(q[B]!==X[B])return!1;return!0}function oe(q,X){return q.byteLength!==X.byteLength?!1:J(new Uint8Array(q.buffer,q.byteOffset,q.byteLength),new Uint8Array(X.buffer,X.byteOffset,X.byteLength))===0}function ce(q,X){return q.byteLength===X.byteLength&&J(new Uint8Array(q),new Uint8Array(X))===0}function Ee(q,X){return ue(q)?ue(X)&&p(Number.prototype.valueOf.call(q),Number.prototype.valueOf.call(X)):Se(q)?Se(X)&&String.prototype.valueOf.call(q)===String.prototype.valueOf.call(X):ge(q)?ge(X)&&Boolean.prototype.valueOf.call(q)===Boolean.prototype.valueOf.call(X):W(q)?W(X)&&BigInt.prototype.valueOf.call(q)===BigInt.prototype.valueOf.call(X):G(X)&&Symbol.prototype.valueOf.call(q)===Symbol.prototype.valueOf.call(X)}function Pe(q,X,B,ne){if(q===X)return q!==0?!0:B?p(q,X):!0;if(B){if(s(q)!=="object")return typeof q=="number"&&m(q)&&m(X);if(s(X)!=="object"||q===null||X===null||Object.getPrototypeOf(q)!==Object.getPrototypeOf(X))return!1}else{if(q===null||s(q)!=="object")return X===null||s(X)!=="object"?q==X:!1;if(X===null||s(X)!=="object")return!1}var be=E(q),Le=E(X);if(be!==Le)return!1;if(Array.isArray(q)){if(q.length!==X.length)return!1;var Fe=fe(q),et=fe(X);return Fe.length!==et.length?!1:Z(q,X,B,ne,N,Fe)}if(be==="[object Object]"&&(!L(q)&&L(X)||!H(q)&&H(X)))return!1;if(I(q)){if(!I(X)||Date.prototype.getTime.call(q)!==Date.prototype.getTime.call(X))return!1}else if(_(q)){if(!_(X)||!F(q,X))return!1}else if(j(q)||q instanceof Error){if(q.message!==X.message||q.name!==X.name)return!1}else if(k(q)){if(!B&&(U(q)||re(q))){if(!pe(q,X))return!1}else if(!oe(q,X))return!1;var pt=fe(q),gt=fe(X);return pt.length!==gt.length?!1:Z(q,X,B,ne,xe,pt)}else{if(H(q))return!H(X)||q.size!==X.size?!1:Z(q,X,B,ne,R);if(L(q))return!L(X)||q.size!==X.size?!1:Z(q,X,B,ne,P);if(x(q)){if(!ce(q,X))return!1}else if(Y(q)&&!Ee(q,X))return!1}return Z(q,X,B,ne,xe)}function ie(q,X){return X.filter(function(B){return b(q,B)})}function Z(q,X,B,ne,be,Le){if(arguments.length===5){Le=Object.keys(q);var Fe=Object.keys(X);if(Le.length!==Fe.length)return!1}for(var et=0;et<Le.length;et++)if(!y(X,Le[et]))return!1;if(B&&arguments.length===5){var pt=d(q);if(pt.length!==0){var gt=0;for(et=0;et<pt.length;et++){var nn=pt[et];if(b(q,nn)){if(!b(X,nn))return!1;Le.push(nn),gt++}else if(b(X,nn))return!1}var kn=d(X);if(pt.length!==kn.length&&ie(X,kn).length!==gt)return!1}else{var rn=d(X);if(rn.length!==0&&ie(X,rn).length!==0)return!1}}if(Le.length===0&&(be===xe||be===N&&q.length===0||q.size===0))return!0;if(ne===void 0)ne={val1:new Map,val2:new Map,position:0};else{var Bn=ne.val1.get(q);if(Bn!==void 0){var pn=ne.val2.get(X);if(pn!==void 0)return Bn===pn}ne.position++}ne.val1.set(q,ne.position),ne.val2.set(X,ne.position);var fr=Ke(q,X,B,Le,ne,be);return ne.val1.delete(q),ne.val2.delete(X),fr}function me(q,X,B,ne){for(var be=u(q),Le=0;Le<be.length;Le++){var Fe=be[Le];if(Pe(X,Fe,B,ne))return q.delete(Fe),!0}return!1}function de(q){switch(s(q)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":q=+q;case"number":if(m(q))return!1}return!0}function Qe(q,X,B){var ne=de(B);return ne??(X.has(ne)&&!q.has(ne))}function Ze(q,X,B,ne,be){var Le=de(B);if(Le!=null)return Le;var Fe=X.get(Le);return Fe===void 0&&!X.has(Le)||!Pe(ne,Fe,!1,be)?!1:!q.has(Le)&&Pe(ne,Fe,!1,be)}function ye(q,X,B,ne){for(var be=null,Le=u(q),Fe=0;Fe<Le.length;Fe++){var et=Le[Fe];if(s(et)==="object"&&et!==null)be===null&&(be=new Set),be.add(et);else if(!X.has(et)){if(B||!Qe(q,X,et))return!1;be===null&&(be=new Set),be.add(et)}}if(be!==null){for(var pt=u(X),gt=0;gt<pt.length;gt++){var nn=pt[gt];if(s(nn)==="object"&&nn!==null){if(!me(be,nn,B,ne))return!1}else if(!B&&!q.has(nn)&&!me(be,nn,B,ne))return!1}return be.size===0}return!0}function te(q,X,B,ne,be,Le){for(var Fe=u(q),et=0;et<Fe.length;et++){var pt=Fe[et];if(Pe(B,pt,be,Le)&&Pe(ne,X.get(pt),be,Le))return q.delete(pt),!0}return!1}function $e(q,X,B,ne){for(var be=null,Le=f(q),Fe=0;Fe<Le.length;Fe++){var et=e(Le[Fe],2),pt=et[0],gt=et[1];if(s(pt)==="object"&&pt!==null)be===null&&(be=new Set),be.add(pt);else{var nn=X.get(pt);if(nn===void 0&&!X.has(pt)||!Pe(gt,nn,B,ne)){if(B||!Ze(q,X,pt,gt,ne))return!1;be===null&&(be=new Set),be.add(pt)}}}if(be!==null){for(var kn=f(X),rn=0;rn<kn.length;rn++){var Bn=e(kn[rn],2),pn=Bn[0],fr=Bn[1];if(s(pn)==="object"&&pn!==null){if(!te(be,q,pn,fr,B,ne))return!1}else if(!B&&(!q.has(pn)||!Pe(q.get(pn),fr,!1,ne))&&!te(be,q,pn,fr,!1,ne))return!1}return be.size===0}return!0}function Ke(q,X,B,ne,be,Le){var Fe=0;if(Le===R){if(!ye(q,X,B,be))return!1}else if(Le===P){if(!$e(q,X,B,be))return!1}else if(Le===N)for(;Fe<q.length;Fe++)if(y(q,Fe)){if(!y(X,Fe)||!Pe(q[Fe],X[Fe],B,be))return!1}else{if(y(X,Fe))return!1;for(var et=Object.keys(q);Fe<et.length;Fe++){var pt=et[Fe];if(!y(X,pt)||!Pe(q[pt],X[pt],B,be))return!1}return et.length===Object.keys(X).length}for(Fe=0;Fe<ne.length;Fe++){var gt=ne[Fe];if(!Pe(q[gt],X[gt],B,be))return!1}return!0}function kt(q,X){return Pe(q,X,se)}function Xe(q,X){return Pe(q,X,T)}return g0={isDeepEqual:kt,isDeepStrictEqual:Xe},g0}var rC;function ev(){if(rC)return Wy.exports;rC=1;function e(R){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},e(R)}function t(R,P,F){return Object.defineProperty(R,"prototype",{writable:!1}),R}function n(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}var r=RA(),o=r.codes,i=o.ERR_AMBIGUOUS_ARGUMENT,s=o.ERR_INVALID_ARG_TYPE,l=o.ERR_INVALID_ARG_VALUE,u=o.ERR_INVALID_RETURN_VALUE,f=o.ERR_MISSING_ARGS,p=y9(),d=yc,m=d.inspect,g=yc.types,y=g.isPromise,b=g.isRegExp,E=T9(),S=Yw(),x=R9("RegExp.prototype.test"),k,I;function L(){var R=$9();k=R.isDeepEqual,I=R.isDeepStrictEqual}var _=!1,H=Wy.exports=ge,j={};function Y(R){throw R.message instanceof Error?R.message:new p(R)}function ue(R,P,F,pe,oe){var ce=arguments.length,Ee;if(ce===0)Ee="Failed";else if(ce===1)F=R,R=void 0;else{if(_===!1){_=!0;var Pe=process.emitWarning?process.emitWarning:console.warn.bind(console);Pe("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}ce===2&&(pe="!=")}if(F instanceof Error)throw F;var ie={actual:R,expected:P,operator:pe===void 0?"fail":pe,stackStartFn:oe||ue};F!==void 0&&(ie.message=F);var Z=new p(ie);throw Ee&&(Z.message=Ee,Z.generatedMessage=!0),Z}H.fail=ue,H.AssertionError=p;function Se(R,P,F,pe){if(!F){var oe=!1;if(P===0)oe=!0,pe="No value argument passed to `assert.ok()`";else if(pe instanceof Error)throw pe;var ce=new p({actual:F,expected:!0,message:pe,operator:"==",stackStartFn:R});throw ce.generatedMessage=oe,ce}}function ge(){for(var R=arguments.length,P=new Array(R),F=0;F<R;F++)P[F]=arguments[F];Se.apply(void 0,[ge,P.length].concat(P))}H.ok=ge,H.equal=function R(P,F,pe){if(arguments.length<2)throw new f("actual","expected");P!=F&&Y({actual:P,expected:F,message:pe,operator:"==",stackStartFn:R})},H.notEqual=function R(P,F,pe){if(arguments.length<2)throw new f("actual","expected");P==F&&Y({actual:P,expected:F,message:pe,operator:"!=",stackStartFn:R})},H.deepEqual=function R(P,F,pe){if(arguments.length<2)throw new f("actual","expected");k===void 0&&L(),k(P,F)||Y({actual:P,expected:F,message:pe,operator:"deepEqual",stackStartFn:R})},H.notDeepEqual=function R(P,F,pe){if(arguments.length<2)throw new f("actual","expected");k===void 0&&L(),k(P,F)&&Y({actual:P,expected:F,message:pe,operator:"notDeepEqual",stackStartFn:R})},H.deepStrictEqual=function R(P,F,pe){if(arguments.length<2)throw new f("actual","expected");k===void 0&&L(),I(P,F)||Y({actual:P,expected:F,message:pe,operator:"deepStrictEqual",stackStartFn:R})},H.notDeepStrictEqual=W;function W(R,P,F){if(arguments.length<2)throw new f("actual","expected");k===void 0&&L(),I(R,P)&&Y({actual:R,expected:P,message:F,operator:"notDeepStrictEqual",stackStartFn:W})}H.strictEqual=function R(P,F,pe){if(arguments.length<2)throw new f("actual","expected");S(P,F)||Y({actual:P,expected:F,message:pe,operator:"strictEqual",stackStartFn:R})},H.notStrictEqual=function R(P,F,pe){if(arguments.length<2)throw new f("actual","expected");S(P,F)&&Y({actual:P,expected:F,message:pe,operator:"notStrictEqual",stackStartFn:R})};var G=t(function R(P,F,pe){var oe=this;n(this,R),F.forEach(function(ce){ce in P&&(pe!==void 0&&typeof pe[ce]=="string"&&b(P[ce])&&x(P[ce],pe[ce])?oe[ce]=pe[ce]:oe[ce]=P[ce])})});function U(R,P,F,pe,oe,ce){if(!(F in R)||!I(R[F],P[F])){if(!pe){var Ee=new G(R,oe),Pe=new G(P,oe,R),ie=new p({actual:Ee,expected:Pe,operator:"deepStrictEqual",stackStartFn:ce});throw ie.actual=R,ie.expected=P,ie.operator=ce.name,ie}Y({actual:R,expected:P,message:pe,operator:ce.name,stackStartFn:ce})}}function re(R,P,F,pe){if(typeof P!="function"){if(b(P))return x(P,R);if(arguments.length===2)throw new s("expected",["Function","RegExp"],P);if(e(R)!=="object"||R===null){var oe=new p({actual:R,expected:P,message:F,operator:"deepStrictEqual",stackStartFn:pe});throw oe.operator=pe.name,oe}var ce=Object.keys(P);if(P instanceof Error)ce.push("name","message");else if(ce.length===0)throw new l("error",P,"may not be an empty object");return k===void 0&&L(),ce.forEach(function(Ee){typeof R[Ee]=="string"&&b(P[Ee])&&x(P[Ee],R[Ee])||U(R,P,Ee,F,ce,pe)}),!0}return P.prototype!==void 0&&R instanceof P?!0:Error.isPrototypeOf(P)?!1:P.call({},R)===!0}function He(R){if(typeof R!="function")throw new s("fn","Function",R);try{R()}catch(P){return P}return j}function fe(R){return y(R)||R!==null&&e(R)==="object"&&typeof R.then=="function"&&typeof R.catch=="function"}function J(R){return Promise.resolve().then(function(){var P;if(typeof R=="function"){if(P=R(),!fe(P))throw new u("instance of Promise","promiseFn",P)}else if(fe(R))P=R;else throw new s("promiseFn",["Function","Promise"],R);return Promise.resolve().then(function(){return P}).then(function(){return j}).catch(function(F){return F})})}function T(R,P,F,pe){if(typeof F=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],F);if(e(P)==="object"&&P!==null){if(P.message===F)throw new i("error/message",'The error message "'.concat(P.message,'" is identical to the message.'))}else if(P===F)throw new i("error/message",'The error "'.concat(P,'" is identical to the message.'));pe=F,F=void 0}else if(F!=null&&e(F)!=="object"&&typeof F!="function")throw new s("error",["Object","Error","Function","RegExp"],F);if(P===j){var oe="";F&&F.name&&(oe+=" (".concat(F.name,")")),oe+=pe?": ".concat(pe):".";var ce=R.name==="rejects"?"rejection":"exception";Y({actual:void 0,expected:F,operator:R.name,message:"Missing expected ".concat(ce).concat(oe),stackStartFn:R})}if(F&&!re(P,F,pe,R))throw P}function se(R,P,F,pe){if(P!==j){if(typeof F=="string"&&(pe=F,F=void 0),!F||re(P,F)){var oe=pe?": ".concat(pe):".",ce=R.name==="doesNotReject"?"rejection":"exception";Y({actual:P,expected:F,operator:R.name,message:"Got unwanted ".concat(ce).concat(oe,`
`)+'Actual message: "'.concat(P&&P.message,'"'),stackStartFn:R})}throw P}}H.throws=function R(P){for(var F=arguments.length,pe=new Array(F>1?F-1:0),oe=1;oe<F;oe++)pe[oe-1]=arguments[oe];T.apply(void 0,[R,He(P)].concat(pe))},H.rejects=function R(P){for(var F=arguments.length,pe=new Array(F>1?F-1:0),oe=1;oe<F;oe++)pe[oe-1]=arguments[oe];return J(P).then(function(ce){return T.apply(void 0,[R,ce].concat(pe))})},H.doesNotThrow=function R(P){for(var F=arguments.length,pe=new Array(F>1?F-1:0),oe=1;oe<F;oe++)pe[oe-1]=arguments[oe];se.apply(void 0,[R,He(P)].concat(pe))},H.doesNotReject=function R(P){for(var F=arguments.length,pe=new Array(F>1?F-1:0),oe=1;oe<F;oe++)pe[oe-1]=arguments[oe];return J(P).then(function(ce){return se.apply(void 0,[R,ce].concat(pe))})},H.ifError=function R(P){if(P!=null){var F="ifError got unwanted exception: ";e(P)==="object"&&typeof P.message=="string"?P.message.length===0&&P.constructor?F+=P.constructor.name:F+=P.message:F+=m(P);var pe=new p({actual:P,expected:null,operator:"ifError",message:F,stackStartFn:R}),oe=P.stack;if(typeof oe=="string"){var ce=oe.split(`
`);ce.shift();for(var Ee=pe.stack.split(`
`),Pe=0;Pe<ce.length;Pe++){var ie=Ee.indexOf(ce[Pe]);if(ie!==-1){Ee=Ee.slice(0,ie);break}}pe.stack="".concat(Ee.join(`
`),`
`).concat(ce.join(`
`))}throw pe}};function xe(R,P,F,pe,oe){if(!b(P))throw new s("regexp","RegExp",P);var ce=oe==="match";if(typeof R!="string"||x(P,R)!==ce){if(F instanceof Error)throw F;var Ee=!F;F=F||(typeof R!="string"?'The "string" argument must be of type string. Received type '+"".concat(e(R)," (").concat(m(R),")"):(ce?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(m(P),`. Input:

`).concat(m(R),`
`));var Pe=new p({actual:R,expected:P,message:F,operator:oe,stackStartFn:pe});throw Pe.generatedMessage=Ee,Pe}}H.match=function R(P,F,pe){xe(P,F,pe,R,"match")},H.doesNotMatch=function R(P,F,pe){xe(P,F,pe,R,"doesNotMatch")};function N(){for(var R=arguments.length,P=new Array(R),F=0;F<R;F++)P[F]=arguments[F];Se.apply(void 0,[N,P.length].concat(P))}return H.strict=E(N,H,{equal:H.strictEqual,deepEqual:H.deepStrictEqual,notEqual:H.notStrictEqual,notDeepEqual:H.notDeepStrictEqual}),H.strict.strict=H.strict,Wy.exports}var L9=ev();const F9=xw(L9);var tv,nv;if(typeof WeakMap<"u"){let e=new WeakMap;tv=t=>e.get(t),nv=(t,n)=>(e.set(t,n),n)}else{const e=[];let t=0;tv=n=>{for(let r=0;r<e.length;r+=2)if(e[r]==n)return e[r+1]},nv=(n,r)=>(t==10&&(t=0),e[t++]=n,e[t++]=r)}var An=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,o=t/this.width|0;let i=r+1,s=o+1;for(let l=1;i<this.width&&this.map[t+l]==n;l++)i++;for(let l=1;s<this.height&&this.map[t+this.width*l]==n;l++)s++;return{left:r,top:o,right:i,bottom:s}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:o,top:i,bottom:s}=this.findCell(e);return t=="horiz"?(n<0?r==0:o==this.width)?null:this.map[i*this.width+(n<0?r-1:o)]:(n<0?i==0:s==this.height)?null:this.map[r+this.width*(n<0?i-1:s)]}rectBetween(e,t){const{left:n,right:r,top:o,bottom:i}=this.findCell(e),{left:s,right:l,top:u,bottom:f}=this.findCell(t);return{left:Math.min(n,s),top:Math.min(o,u),right:Math.max(r,l),bottom:Math.max(i,f)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let o=e.left;o<e.right;o++){const i=r*this.width+o,s=this.map[i];n[s]||(n[s]=!0,!(o==e.left&&o&&this.map[i-1]==s||r==e.top&&r&&this.map[i-this.width]==s)&&t.push(s))}return t}positionAt(e,t,n){for(let r=0,o=0;;r++){const i=o+n.child(r).nodeSize;if(r==e){let s=t+e*this.width;const l=(e+1)*this.width;for(;s<l&&this.map[s]<o;)s++;return s==l?i-1:this.map[s]}o=i}}static get(e){return tv(e)||nv(e,z9(e))}};function z9(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=j9(e),n=e.childCount,r=[];let o=0,i=null;const s=[];for(let f=0,p=t*n;f<p;f++)r[f]=0;for(let f=0,p=0;f<n;f++){const d=e.child(f);p++;for(let y=0;;y++){for(;o<r.length&&r[o]!=0;)o++;if(y==d.childCount)break;const b=d.child(y),{colspan:E,rowspan:S,colwidth:x}=b.attrs;for(let k=0;k<S;k++){if(k+f>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:p,n:S-k});break}const I=o+k*t;for(let L=0;L<E;L++){r[I+L]==0?r[I+L]=p:(i||(i=[])).push({type:"collision",row:f,pos:p,n:E-L});const _=x&&x[L];if(_){const H=(I+L)%t*2,j=s[H];j==null||j!=_&&s[H+1]==1?(s[H]=_,s[H+1]=1):j==_&&s[H+1]++}}}o+=E,p+=b.nodeSize}const m=(f+1)*t;let g=0;for(;o<m;)r[o++]==0&&g++;g&&(i||(i=[])).push({type:"missing",row:f,n:g}),p++}(t===0||n===0)&&(i||(i=[])).push({type:"zero_sized"});const l=new An(t,n,r,i);let u=!1;for(let f=0;!u&&f<s.length;f+=2)s[f]!=null&&s[f+1]<n&&(u=!0);return u&&B9(l,s,e),l}function j9(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const o=e.child(r);let i=0;if(n)for(let s=0;s<r;s++){const l=e.child(s);for(let u=0;u<l.childCount;u++){const f=l.child(u);s+f.attrs.rowspan>r&&(i+=f.attrs.colspan)}}for(let s=0;s<o.childCount;s++){const l=o.child(s);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}t==-1?t=i:t!=i&&(t=Math.max(t,i))}return t}function B9(e,t,n){e.problems||(e.problems=[]);const r={};for(let o=0;o<e.map.length;o++){const i=e.map[o];if(r[i])continue;r[i]=!0;const s=n.nodeAt(i);if(!s)throw new RangeError(`No cell with offset ${i} found`);let l=null;const u=s.attrs;for(let f=0;f<u.colspan;f++){const p=(o+f)%e.width,d=t[p*2];d!=null&&(!u.colwidth||u.colwidth[f]!=d)&&((l||(l=U9(u)))[f]=d)}l&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function U9(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function oC(e,t){if(typeof e=="string")return{};const n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(s=>Number(s)):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(const s in t){const l=t[s].getFromDOM,u=l&&l(e);u!=null&&(i[s]=u)}return i}function iC(e,t){const n={};e.attrs.colspan!=1&&(n.colspan=e.attrs.colspan),e.attrs.rowspan!=1&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(const r in t){const o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function V9(e){if(e!==null){if(!Array.isArray(e))throw new TypeError("colwidth must be null or an array");for(const t of e)if(typeof t!="number")throw new TypeError("colwidth must be null or an array of numbers")}}function H9(e){const t=e.cellAttributes||{},n={colspan:{default:1,validate:"number"},rowspan:{default:1,validate:"number"},colwidth:{default:null,validate:V9}};for(const r in t)n[r]={default:t[r].default,validate:t[r].validate};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:r=>oC(r,t)}],toDOM(r){return["td",iC(r,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:r=>oC(r,t)}],toDOM(r){return["th",iC(r,t),0]}}}}function qi(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}}return t}var hl=new Cp("selectingCells");function Ip(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function Zw(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function BA(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=Ip(t.$head)||q9(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function q9(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function rv(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function Xw(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function UA(e,t,n){const r=e.node(-1),o=An.get(r),i=e.start(-1),s=o.nextCell(e.pos-i,t,n);return s==null?null:e.node(0).resolve(i+s)}function wc(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(o=>o>0)||(r.colwidth=null)),r}var cr=class ms extends Mt{constructor(t,n=t){const r=t.node(-1),o=An.get(r),i=t.start(-1),s=o.rectBetween(t.pos-i,n.pos-i),l=t.node(0),u=o.cellsInRect(s).filter(p=>p!=n.pos-i);u.unshift(n.pos-i);const f=u.map(p=>{const d=r.nodeAt(p);if(!d)throw RangeError(`No cell with offset ${p} found`);const m=i+p+1;return new gT(l.resolve(m),l.resolve(m+d.content.size))});super(f[0].$from,f[0].$to,f),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(rv(r)&&rv(o)&&Xw(r,o)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?ms.rowSelection(r,o):i&&this.isColSelection()?ms.colSelection(r,o):new ms(r,o)}return Rt.between(r,o)}content(){const t=this.$anchorCell.node(-1),n=An.get(t),r=this.$anchorCell.start(-1),o=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},s=[];for(let u=o.top;u<o.bottom;u++){const f=[];for(let p=u*n.width+o.left,d=o.left;d<o.right;d++,p++){const m=n.map[p];if(i[m])continue;i[m]=!0;const g=n.findCell(m);let y=t.nodeAt(m);if(!y)throw RangeError(`No cell with offset ${m} found`);const b=o.left-g.left,E=g.right-o.right;if(b>0||E>0){let S=y.attrs;if(b>0&&(S=wc(S,0,b)),E>0&&(S=wc(S,S.colspan-E,E)),g.left<o.left){if(y=y.type.createAndFill(S),!y)throw RangeError(`Could not create cell with attrs ${JSON.stringify(S)}`)}else y=y.type.create(S,y.content)}if(g.top<o.top||g.bottom>o.bottom){const S={...y.attrs,rowspan:Math.min(g.bottom,o.bottom)-Math.max(g.top,o.top)};g.top<o.top?y=y.type.createAndFill(S):y=y.type.create(S,y.content)}f.push(y)}s.push(t.child(u).copy(ze.from(f)))}const l=this.isColSelection()&&this.isRowSelection()?t:s;return new We(ze.from(l),1,1)}replace(t,n=We.empty){const r=t.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){const{$from:l,$to:u}=o[s],f=t.mapping.slice(r);t.replace(f.map(l.pos),f.map(u.pos),s?We.empty:n)}const i=Mt.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,n){this.replace(t,new We(ze.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=An.get(n),o=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let s=0;s<i.length;s++)t(n.nodeAt(i[s]),o+i[s])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,o=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,o)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),o=An.get(r),i=t.start(-1),s=o.findCell(t.pos-i),l=o.findCell(n.pos-i),u=t.node(0);return s.top<=l.top?(s.top>0&&(t=u.resolve(i+o.map[s.left])),l.bottom<o.height&&(n=u.resolve(i+o.map[o.width*(o.height-1)+l.right-1]))):(l.top>0&&(n=u.resolve(i+o.map[l.left])),s.bottom<o.height&&(t=u.resolve(i+o.map[o.width*(o.height-1)+s.right-1]))),new ms(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=An.get(t),r=this.$anchorCell.start(-1),o=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(o,i)>0)return!1;const s=o+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,l)==n.width}eq(t){return t instanceof ms&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),o=An.get(r),i=t.start(-1),s=o.findCell(t.pos-i),l=o.findCell(n.pos-i),u=t.node(0);return s.left<=l.left?(s.left>0&&(t=u.resolve(i+o.map[s.top*o.width])),l.right<o.width&&(n=u.resolve(i+o.map[o.width*(l.top+1)-1]))):(l.left>0&&(n=u.resolve(i+o.map[l.top*o.width])),s.right<o.width&&(t=u.resolve(i+o.map[o.width*(s.top+1)-1]))),new ms(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new ms(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new ms(t.resolve(n),t.resolve(r))}getBookmark(){return new W9(this.$anchorCell.pos,this.$headCell.pos)}};cr.prototype.visible=!1;Mt.jsonID("cell",cr);var W9=class VA{constructor(t,n){this.anchor=t,this.head=n}map(t){return new VA(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&Xw(n,r)?new cr(n,r):Mt.near(r,1)}};function K9(e){if(!(e.selection instanceof cr))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(Ur.node(r,r+n.nodeSize,{class:"selectedCell"}))}),$n.create(e.doc,t)}function G9({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,o=e.depth;for(;o>=0&&!(e.after(o+1)<e.end(o));o--,n++);for(let i=t.depth;i>=0&&!(t.before(i+1)>t.start(i));i--,r--);return n==r&&/row|table/.test(e.node(o).type.spec.tableRole)}function J9({$from:e,$to:t}){let n,r;for(let o=e.depth;o>0;o--){const i=e.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let o=t.depth;o>0;o--){const i=t.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&t.parentOffset===0}function Q9(e,t,n){const r=(t||e).selection,o=(t||e).doc;let i,s;if(r instanceof vt&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")i=cr.create(o,r.from);else if(s=="row"){const l=o.resolve(r.from+1);i=cr.rowSelection(l,l)}else if(!n){const l=An.get(r.node),u=r.from+1,f=u+l.map[l.width*l.height-1];i=cr.create(o,u+1,f)}}else r instanceof Rt&&G9(r)?i=Rt.create(o,r.from):r instanceof Rt&&J9(r)&&(i=Rt.create(o,r.$from.start(),r.$from.end()));return i&&(t||(t=e.tr)).setSelection(i),t}var Y9=new Cp("fix-tables");function HA(e,t,n,r){const o=e.childCount,i=t.childCount;e:for(let s=0,l=0;s<i;s++){const u=t.child(s);for(let f=l,p=Math.min(o,s+3);f<p;f++)if(e.child(f)==u){l=f+1,n+=u.nodeSize;continue e}r(u,n),l<o&&e.child(l).sameMarkup(u)?HA(e.child(l),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}function qA(e,t){let n;const r=(o,i)=>{o.type.spec.tableRole=="table"&&(n=Z9(e,o,i,n))};return t?t.doc!=e.doc&&HA(t.doc,e.doc,0,r):e.doc.descendants(r),n}function Z9(e,t,n,r){const o=An.get(t);if(!o.problems)return r;r||(r=e.tr);const i=[];for(let u=0;u<o.height;u++)i.push(0);for(let u=0;u<o.problems.length;u++){const f=o.problems[u];if(f.type=="collision"){const p=t.nodeAt(f.pos);if(!p)continue;const d=p.attrs;for(let m=0;m<d.rowspan;m++)i[f.row+m]+=f.n;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,wc(d,d.colspan-f.n,f.n))}else if(f.type=="missing")i[f.row]+=f.n;else if(f.type=="overlong_rowspan"){const p=t.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,rowspan:p.attrs.rowspan-f.n})}else if(f.type=="colwidth mismatch"){const p=t.nodeAt(f.pos);if(!p)continue;r.setNodeMarkup(r.mapping.map(n+1+f.pos),null,{...p.attrs,colwidth:f.colwidth})}else if(f.type=="zero_sized"){const p=r.mapping.map(n);r.delete(p,p+t.nodeSize)}}let s,l;for(let u=0;u<i.length;u++)i[u]&&(s==null&&(s=u),l=u);for(let u=0,f=n+1;u<o.height;u++){const p=t.child(u),d=f+p.nodeSize,m=i[u];if(m>0){let g="cell";p.firstChild&&(g=p.firstChild.type.spec.tableRole);const y=[];for(let E=0;E<m;E++){const S=qi(e.schema)[g].createAndFill();S&&y.push(S)}const b=(u==0||s==u-1)&&l==u?f+1:d-1;r.insert(r.mapping.map(b),y)}f=d}return r.setMeta(Y9,{fixTables:!0})}function WA(e){const t=e.selection,n=BA(e),r=n.node(-1),o=n.start(-1),i=An.get(r);return{...t instanceof cr?i.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):i.findCell(n.pos-o),tableStart:o,map:i,table:r}}function X9(e){return function(t,n){if(!Zw(t))return!1;if(n){const r=qi(t.schema),o=WA(t),i=t.tr,s=o.map.cellsInRect(e=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:e=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),l=s.map(u=>o.table.nodeAt(u));for(let u=0;u<s.length;u++)l[u].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[u],r.cell,l[u].attrs);if(i.steps.length==0)for(let u=0;u<s.length;u++)i.setNodeMarkup(o.tableStart+s[u],r.header_cell,l[u].attrs);n(i)}return!0}}function sC(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let o=0;o<r.length;o++){const i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function eS(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?X9(e):function(n,r){if(!Zw(n))return!1;if(r){const o=qi(n.schema),i=WA(n),s=n.tr,l=sC("row",i,o),u=sC("column",i,o),f=(e==="column"?l:e==="row"&&u)?1:0,p=e=="column"?{left:0,top:f,right:1,bottom:i.map.height}:e=="row"?{left:f,top:0,right:i.map.width,bottom:1}:i,d=e=="column"?u?o.cell:o.header_cell:e=="row"?l?o.cell:o.header_cell:o.cell;i.map.cellsInRect(p).forEach(m=>{const g=m+i.tableStart,y=s.doc.nodeAt(g);y&&s.setNodeMarkup(g,d,y.attrs)}),r(s)}return!0}}eS("row",{useDeprecatedLogic:!0});eS("column",{useDeprecatedLogic:!0});eS("cell",{useDeprecatedLogic:!0});function jd(e,t){const n=e.selection;if(!(n instanceof cr))return!1;if(t){const r=e.tr,o=qi(e.schema).cell.createAndFill().content;n.forEachCell((i,s)=>{i.content.eq(o)||r.replace(r.mapping.map(s+1),r.mapping.map(s+i.nodeSize-1),new We(o,0,0))}),r.docChanged&&t(r)}return!0}function e5(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const o=t.child(0),i=o.type.spec.tableRole,s=o.type.schema,l=[];if(i=="row")for(let u=0;u<t.childCount;u++){let f=t.child(u).content;const p=u?0:Math.max(0,n-1),d=u<t.childCount-1?0:Math.max(0,r-1);(p||d)&&(f=ov(qi(s).row,new We(f,p,d)).content),l.push(f)}else if(i=="cell"||i=="header_cell")l.push(n||r?ov(qi(s).row,new We(t,n,r)).content:t);else return null;return t5(s,l)}function t5(e,t){const n=[];for(let o=0;o<t.length;o++){const i=t[o];for(let s=i.childCount-1;s>=0;s--){const{rowspan:l,colspan:u}=i.child(s).attrs;for(let f=o;f<o+l;f++)n[f]=(n[f]||0)+u}}let r=0;for(let o=0;o<n.length;o++)r=Math.max(r,n[o]);for(let o=0;o<n.length;o++)if(o>=t.length&&t.push(ze.empty),n[o]<r){const i=qi(e).cell.createAndFill(),s=[];for(let l=n[o];l<r;l++)s.push(i);t[o]=t[o].append(ze.from(s))}return{height:t.length,width:r,rows:t}}function ov(e,t){const n=e.createAndFill();return new mT(n).replace(0,n.content.size,t).doc}function n5({width:e,height:t,rows:n},r,o){if(e!=r){const i=[],s=[];for(let l=0;l<n.length;l++){const u=n[l],f=[];for(let p=i[l]||0,d=0;p<r;d++){let m=u.child(d%u.childCount);p+m.attrs.colspan>r&&(m=m.type.createChecked(wc(m.attrs,m.attrs.colspan,p+m.attrs.colspan-r),m.content)),f.push(m),p+=m.attrs.colspan;for(let g=1;g<m.attrs.rowspan;g++)i[l+g]=(i[l+g]||0)+m.attrs.colspan}s.push(ze.from(f))}n=s,e=r}if(t!=o){const i=[];for(let s=0,l=0;s<o;s++,l++){const u=[],f=n[l%t];for(let p=0;p<f.childCount;p++){let d=f.child(p);s+d.attrs.rowspan>o&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,o-d.attrs.rowspan)},d.content)),u.push(d)}i.push(ze.from(u))}n=i,t=o}return{width:e,height:t,rows:n}}function r5(e,t,n,r,o,i,s){const l=e.doc.type.schema,u=qi(l);let f,p;if(o>t.width)for(let d=0,m=0;d<t.height;d++){const g=n.child(d);m+=g.nodeSize;const y=[];let b;g.lastChild==null||g.lastChild.type==u.cell?b=f||(f=u.cell.createAndFill()):b=p||(p=u.header_cell.createAndFill());for(let E=t.width;E<o;E++)y.push(b);e.insert(e.mapping.slice(s).map(m-1+r),y)}if(i>t.height){const d=[];for(let y=0,b=(t.height-1)*t.width;y<Math.max(t.width,o);y++){const E=y>=t.width?!1:n.nodeAt(t.map[b+y]).type==u.header_cell;d.push(E?p||(p=u.header_cell.createAndFill()):f||(f=u.cell.createAndFill()))}const m=u.row.create(null,ze.from(d)),g=[];for(let y=t.height;y<i;y++)g.push(m);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),g)}return!!(f||p)}function lC(e,t,n,r,o,i,s,l){if(s==0||s==t.height)return!1;let u=!1;for(let f=o;f<i;f++){const p=s*t.width+f,d=t.map[p];if(t.map[p-t.width]==d){u=!0;const m=n.nodeAt(d),{top:g,left:y}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(l).map(d+r),null,{...m.attrs,rowspan:s-g}),e.insert(e.mapping.slice(l).map(t.positionAt(s,y,n)),m.type.createAndFill({...m.attrs,rowspan:g+m.attrs.rowspan-s})),f+=m.attrs.colspan-1}}return u}function aC(e,t,n,r,o,i,s,l){if(s==0||s==t.width)return!1;let u=!1;for(let f=o;f<i;f++){const p=f*t.width+s,d=t.map[p];if(t.map[p-1]==d){u=!0;const m=n.nodeAt(d),g=t.colCount(d),y=e.mapping.slice(l).map(d+r);e.setNodeMarkup(y,null,wc(m.attrs,s-g,m.attrs.colspan-(s-g))),e.insert(y+m.nodeSize,m.type.createAndFill(wc(m.attrs,0,s-g))),f+=m.attrs.rowspan-1}}return u}function uC(e,t,n,r,o){let i=n?e.doc.nodeAt(n-1):e.doc;if(!i)throw new Error("No table found");let s=An.get(i);const{top:l,left:u}=r,f=u+o.width,p=l+o.height,d=e.tr;let m=0;function g(){if(i=n?d.doc.nodeAt(n-1):d.doc,!i)throw new Error("No table found");s=An.get(i),m=d.mapping.maps.length}r5(d,s,i,n,f,p,m)&&g(),lC(d,s,i,n,u,f,l,m)&&g(),lC(d,s,i,n,u,f,p,m)&&g(),aC(d,s,i,n,l,p,u,m)&&g(),aC(d,s,i,n,l,p,f,m)&&g();for(let y=l;y<p;y++){const b=s.positionAt(y,u,i),E=s.positionAt(y,f,i);d.replace(d.mapping.slice(m).map(b+n),d.mapping.slice(m).map(E+n),new We(o.rows[y-l],0,0))}g(),d.setSelection(new cr(d.doc.resolve(n+s.positionAt(l,u,i)),d.doc.resolve(n+s.positionAt(p-1,f-1,i)))),t(d)}var o5=uA({ArrowLeft:Bd("horiz",-1),ArrowRight:Bd("horiz",1),ArrowUp:Bd("vert",-1),ArrowDown:Bd("vert",1),"Shift-ArrowLeft":Ud("horiz",-1),"Shift-ArrowRight":Ud("horiz",1),"Shift-ArrowUp":Ud("vert",-1),"Shift-ArrowDown":Ud("vert",1),Backspace:jd,"Mod-Backspace":jd,Delete:jd,"Mod-Delete":jd});function wh(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Bd(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;if(i instanceof cr)return wh(n,r,Mt.near(i.$headCell,t));if(e!="horiz"&&!i.empty)return!1;const s=KA(o,e,t);if(s==null)return!1;if(e=="horiz")return wh(n,r,Mt.near(n.doc.resolve(i.head+t),t));{const l=n.doc.resolve(s),u=UA(l,e,t);let f;return u?f=Mt.near(u,1):t<0?f=Mt.near(n.doc.resolve(l.before(-1)),-1):f=Mt.near(n.doc.resolve(l.after(-1)),1),wh(n,r,f)}}}function Ud(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;let s;if(i instanceof cr)s=i;else{const u=KA(o,e,t);if(u==null)return!1;s=new cr(n.doc.resolve(u))}const l=UA(s.$headCell,e,t);return l?wh(n,r,new cr(s.$anchorCell,l)):!1}}function i5(e,t){const n=e.state.doc,r=Ip(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new cr(r))),!0):!1}function s5(e,t,n){if(!Zw(e.state))return!1;let r=e5(n);const o=e.state.selection;if(o instanceof cr){r||(r={width:1,height:1,rows:[ze.from(ov(qi(e.state.schema).cell,n))]});const i=o.$anchorCell.node(-1),s=o.$anchorCell.start(-1),l=An.get(i).rectBetween(o.$anchorCell.pos-s,o.$headCell.pos-s);return r=n5(r,l.right-l.left,l.bottom-l.top),uC(e.state,e.dispatch,s,l,r),!0}else if(r){const i=BA(e.state),s=i.start(-1);return uC(e.state,e.dispatch,s,An.get(i.node(-1)).findCell(i.pos-s),r),!0}else return!1}function l5(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=cC(e,t.target);let o;if(t.shiftKey&&e.state.selection instanceof cr)i(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(o=Ip(e.state.selection.$anchor))!=null&&((n=y0(e,t))==null?void 0:n.pos)!=o.pos)i(o,t),t.preventDefault();else if(!r)return;function i(u,f){let p=y0(e,f);const d=hl.getState(e.state)==null;if(!p||!Xw(u,p))if(d)p=u;else return;const m=new cr(u,p);if(d||!e.state.selection.eq(m)){const g=e.state.tr.setSelection(m);d&&g.setMeta(hl,u.pos),e.dispatch(g)}}function s(){e.root.removeEventListener("mouseup",s),e.root.removeEventListener("dragstart",s),e.root.removeEventListener("mousemove",l),hl.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(hl,-1))}function l(u){const f=u,p=hl.getState(e.state);let d;if(p!=null)d=e.state.doc.resolve(p);else if(cC(e,f.target)!=r&&(d=y0(e,t),!d))return s();d&&i(d,f)}e.root.addEventListener("mouseup",s),e.root.addEventListener("dragstart",s),e.root.addEventListener("mousemove",l)}function KA(e,t,n){if(!(e.state.selection instanceof Rt))return null;const{$head:r}=e.state.selection;for(let o=r.depth-1;o>=0;o--){const i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const s=r.before(o),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?s:null}}return null}function cC(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function y0(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Ip(e.state.doc.resolve(n.pos)):null}var a5=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),iv(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,iv(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function iv(e,t,n,r,o,i){var s;let l=0,u=!0,f=t.firstChild;const p=e.firstChild;if(p){for(let d=0,m=0;d<p.childCount;d++){const{colspan:g,colwidth:y}=p.child(d).attrs;for(let b=0;b<g;b++,m++){const E=o==m?i:y&&y[b],S=E?E+"px":"";if(l+=E||r,E||(u=!1),f)f.style.width!=S&&(f.style.width=S),f=f.nextSibling;else{const x=document.createElement("col");x.style.width=S,t.appendChild(x)}}}for(;f;){const d=f.nextSibling;(s=f.parentNode)==null||s.removeChild(f),f=d}u?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}var xo=new Cp("tableColumnResizing");function u5({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=a5,lastColumnResizable:o=!0}={}){const i=new Ul({key:xo,state:{init(s,l){var u,f;const p=(f=(u=i.spec)==null?void 0:u.props)==null?void 0:f.nodeViews,d=qi(l.schema).table.name;return r&&p&&(p[d]=(m,g)=>new r(m,n,g)),new c5(-1,!1)},apply(s,l){return l.apply(s)}},props:{attributes:s=>{const l=xo.getState(s);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,l)=>{f5(s,l,e,o)},mouseleave:s=>{p5(s)},mousedown:(s,l)=>{d5(s,l,t,n)}},decorations:s=>{const l=xo.getState(s);if(l&&l.activeHandle>-1)return v5(s,l.activeHandle)},nodeViews:{}}});return i}var c5=class Sh{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(xo);if(r&&r.setHandle!=null)return new Sh(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new Sh(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let o=t.mapping.map(n.activeHandle,-1);return rv(t.doc.resolve(o))||(o=-1),new Sh(o,n.dragging)}return n}};function f5(e,t,n,r){if(!e.editable)return;const o=xo.getState(e.state);if(o&&!o.dragging){const i=m5(t.target);let s=-1;if(i){const{left:l,right:u}=i.getBoundingClientRect();t.clientX-l<=n?s=fC(e,t,"left",n):u-t.clientX<=n&&(s=fC(e,t,"right",n))}if(s!=o.activeHandle){if(!r&&s!==-1){const l=e.state.doc.resolve(s),u=l.node(-1),f=An.get(u),p=l.start(-1);if(f.colCount(l.pos-p)+l.nodeAfter.attrs.colspan-1==f.width-1)return}GA(e,s)}}}function p5(e){if(!e.editable)return;const t=xo.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&GA(e,-1)}function d5(e,t,n,r){var o;if(!e.editable)return!1;const i=(o=e.dom.ownerDocument.defaultView)!=null?o:window,s=xo.getState(e.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const l=e.state.doc.nodeAt(s.activeHandle),u=h5(e,s.activeHandle,l.attrs);e.dispatch(e.state.tr.setMeta(xo,{setDragging:{startX:t.clientX,startWidth:u}}));function f(d){i.removeEventListener("mouseup",f),i.removeEventListener("mousemove",p);const m=xo.getState(e.state);m!=null&&m.dragging&&(g5(e,m.activeHandle,pC(m.dragging,d,n)),e.dispatch(e.state.tr.setMeta(xo,{setDragging:null})))}function p(d){if(!d.which)return f(d);const m=xo.getState(e.state);if(m&&m.dragging){const g=pC(m.dragging,d,n);dC(e,m.activeHandle,g,r)}}return dC(e,s.activeHandle,u,r),i.addEventListener("mouseup",f),i.addEventListener("mousemove",p),t.preventDefault(),!0}function h5(e,t,{colspan:n,colwidth:r}){const o=r&&r[r.length-1];if(o)return o;const i=e.domAtPos(t);let s=i.node.childNodes[i.offset].offsetWidth,l=n;if(r)for(let u=0;u<n;u++)r[u]&&(s-=r[u],l--);return s/l}function m5(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function fC(e,t,n,r){const o=n=="right"?-r:r,i=e.posAtCoords({left:t.clientX+o,top:t.clientY});if(!i)return-1;const{pos:s}=i,l=Ip(e.state.doc.resolve(s));if(!l)return-1;if(n=="right")return l.pos;const u=An.get(l.node(-1)),f=l.start(-1),p=u.map.indexOf(l.pos-f);return p%u.width==0?-1:f+u.map[p-1]}function pC(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function GA(e,t){e.dispatch(e.state.tr.setMeta(xo,{setHandle:t}))}function g5(e,t,n){const r=e.state.doc.resolve(t),o=r.node(-1),i=An.get(o),s=r.start(-1),l=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,u=e.state.tr;for(let f=0;f<i.height;f++){const p=f*i.width+l;if(f&&i.map[p]==i.map[p-i.width])continue;const d=i.map[p],m=o.nodeAt(d).attrs,g=m.colspan==1?0:l-i.colCount(d);if(m.colwidth&&m.colwidth[g]==n)continue;const y=m.colwidth?m.colwidth.slice():y5(m.colspan);y[g]=n,u.setNodeMarkup(s+d,null,{...m,colwidth:y})}u.docChanged&&e.dispatch(u)}function dC(e,t,n,r){const o=e.state.doc.resolve(t),i=o.node(-1),s=o.start(-1),l=An.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1;let u=e.domAtPos(o.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&iv(i,u.firstChild,u,r,l,n)}function y5(e){return Array(e).fill(0)}function v5(e,t){var n;const r=[],o=e.doc.resolve(t),i=o.node(-1);if(!i)return $n.empty;const s=An.get(i),l=o.start(-1),u=s.colCount(o.pos-l)+o.nodeAfter.attrs.colspan-1;for(let f=0;f<s.height;f++){const p=u+f*s.width;if((u==s.width-1||s.map[p]!=s.map[p+1])&&(f==0||s.map[p]!=s.map[p-s.width])){const d=s.map[p],m=l+d+i.nodeAt(d).nodeSize-1,g=document.createElement("div");g.className="column-resize-handle",(n=xo.getState(e))!=null&&n.dragging&&r.push(Ur.node(l+d,l+d+i.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),r.push(Ur.widget(m,g))}}return $n.create(e.doc,r)}function w5({allowTableNodeSelection:e=!1}={}){return new Ul({key:hl,state:{init(){return null},apply(t,n){const r=t.getMeta(hl);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:o,pos:i}=t.mapping.mapResult(n);return o?null:i}},props:{decorations:K9,handleDOMEvents:{mousedown:l5},createSelectionBetween(t){return hl.getState(t.state)!=null?t.state.selection:null},handleTripleClick:i5,handleKeyDown:o5,handlePaste:s5},appendTransaction(t,n,r){return Q9(r,qA(r,n),e)}})}var Mf={},S5={},vf=T$;if(S5.NODE_ENV==="production")Mf.createRoot=vf.createRoot,Mf.hydrateRoot=vf.hydrateRoot;else{var Vd=vf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Mf.createRoot=function(e,t){Vd.usingClientEntryPoint=!0;try{return vf.createRoot(e,t)}finally{Vd.usingClientEntryPoint=!1}},Mf.hydrateRoot=function(e,t,n){Vd.usingClientEntryPoint=!0;try{return vf.hydrateRoot(e,t,n)}finally{Vd.usingClientEntryPoint=!1}}}const b5=({visible:e,x:t,y:n,message:r="This cell is protected and cannot be edited"})=>e?qt.jsx("div",{className:"fixed z-50 bg-gray-600 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none",style:{left:t,top:n-30,transform:"translateX(-50%)"},children:qt.jsxs("div",{className:"relative",children:[r,qt.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0",style:{borderLeft:"4px solid transparent",borderRight:"4px solid transparent",borderTop:"4px solid #4b5563"}})]})}):null;/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var sv=9e15,Hl=1e9,lv="0123456789abcdef",mm="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",gm="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",av={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:sv,crypto:!1},JA,xs,mt=!0,Km="[DecimalError] ",Ll=Km+"Invalid argument: ",QA=Km+"Precision limit exceeded",YA=Km+"crypto unavailable",ZA="[object Decimal]",_r=Math.floor,tr=Math.pow,k5=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,x5=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,O5=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,XA=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,hi=1e7,at=7,C5=9007199254740991,E5=mm.length-1,uv=gm.length-1,Ne={toStringTag:ZA};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),rt(e)};Ne.ceil=function(){return rt(new this.constructor(this),this.e+1,2)};Ne.clampedTo=Ne.clamp=function(e,t){var n,r=this,o=r.constructor;if(e=new o(e),t=new o(t),!e.s||!t.s)return new o(NaN);if(e.gt(t))throw Error(Ll+t);return n=r.cmp(e),n<0?e:r.cmp(t)>0?t:new o(r)};Ne.comparedTo=Ne.cmp=function(e){var t,n,r,o,i=this,s=i.d,l=(e=new i.constructor(e)).d,u=i.s,f=e.s;if(!s||!l)return!u||!f?NaN:u!==f?u:s===l?0:!s^u<0?1:-1;if(!s[0]||!l[0])return s[0]?u:l[0]?-f:0;if(u!==f)return u;if(i.e!==e.e)return i.e>e.e^u<0?1:-1;for(r=s.length,o=l.length,t=0,n=r<o?r:o;t<n;++t)if(s[t]!==l[t])return s[t]>l[t]^u<0?1:-1;return r===o?0:r>o^u<0?1:-1};Ne.cosine=Ne.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+at,r.rounding=1,n=N5(r,oM(r,n)),r.precision=e,r.rounding=t,rt(xs==2||xs==3?n.neg():n,e,t,!0)):new r(1):new r(NaN)};Ne.cubeRoot=Ne.cbrt=function(){var e,t,n,r,o,i,s,l,u,f,p=this,d=p.constructor;if(!p.isFinite()||p.isZero())return new d(p);for(mt=!1,i=p.s*tr(p.s*p,1/3),!i||Math.abs(i)==1/0?(n=wr(p.d),e=p.e,(i=(e-n.length+1)%3)&&(n+=i==1||i==-2?"0":"00"),i=tr(n,1/3),e=_r((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?n="5e"+e:(n=i.toExponential(),n=n.slice(0,n.indexOf("e")+1)+e),r=new d(n),r.s=p.s):r=new d(i.toString()),s=(e=d.precision)+3;;)if(l=r,u=l.times(l).times(l),f=u.plus(p),r=fn(f.plus(p).times(l),f.plus(u),s+2,1),wr(l.d).slice(0,s)===(n=wr(r.d)).slice(0,s))if(n=n.slice(s-3,s+1),n=="9999"||!o&&n=="4999"){if(!o&&(rt(l,e+1,0),l.times(l).times(l).eq(p))){r=l;break}s+=4,o=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(rt(r,e+1,1),t=!r.times(r).times(r).eq(p));break}return mt=!0,rt(r,e,d.rounding,t)};Ne.decimalPlaces=Ne.dp=function(){var e,t=this.d,n=NaN;if(t){if(e=t.length-1,n=(e-_r(this.e/at))*at,e=t[e],e)for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n};Ne.dividedBy=Ne.div=function(e){return fn(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.divToInt=function(e){var t=this,n=t.constructor;return rt(fn(t,new n(e),0,1,1),n.precision,n.rounding)};Ne.equals=Ne.eq=function(e){return this.cmp(e)===0};Ne.floor=function(){return rt(new this.constructor(this),this.e+1,3)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){var t=this.cmp(e);return t==1||t===0};Ne.hyperbolicCosine=Ne.cosh=function(){var e,t,n,r,o,i=this,s=i.constructor,l=new s(1);if(!i.isFinite())return new s(i.s?1/0:NaN);if(i.isZero())return l;n=s.precision,r=s.rounding,s.precision=n+Math.max(i.e,i.sd())+4,s.rounding=1,o=i.d.length,o<32?(e=Math.ceil(o/3),t=(1/Jm(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=Sc(s,1,i.times(t),new s(1),!0);for(var u,f=e,p=new s(8);f--;)u=i.times(i),i=l.minus(u.times(p.minus(u.times(p))));return rt(i,s.precision=n,s.rounding=r,!0)};Ne.hyperbolicSine=Ne.sinh=function(){var e,t,n,r,o=this,i=o.constructor;if(!o.isFinite()||o.isZero())return new i(o);if(t=i.precision,n=i.rounding,i.precision=t+Math.max(o.e,o.sd())+4,i.rounding=1,r=o.d.length,r<3)o=Sc(i,2,o,o,!0);else{e=1.4*Math.sqrt(r),e=e>16?16:e|0,o=o.times(1/Jm(5,e)),o=Sc(i,2,o,o,!0);for(var s,l=new i(5),u=new i(16),f=new i(20);e--;)s=o.times(o),o=o.times(l.plus(s.times(u.times(s).plus(f))))}return i.precision=t,i.rounding=n,rt(o,t,n,!0)};Ne.hyperbolicTangent=Ne.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,fn(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)};Ne.inverseCosine=Ne.acos=function(){var e=this,t=e.constructor,n=e.abs().cmp(1),r=t.precision,o=t.rounding;return n!==-1?n===0?e.isNeg()?zi(t,r,o):new t(0):new t(NaN):e.isZero()?zi(t,r+4,o).times(.5):(t.precision=r+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=r,t.rounding=o,e.times(2))};Ne.inverseHyperbolicCosine=Ne.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,mt=!1,n=n.times(n).minus(1).sqrt().plus(n),mt=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)};Ne.inverseHyperbolicSine=Ne.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,mt=!1,n=n.times(n).plus(1).sqrt().plus(n),mt=!0,r.precision=e,r.rounding=t,n.ln())};Ne.inverseHyperbolicTangent=Ne.atanh=function(){var e,t,n,r,o=this,i=o.constructor;return o.isFinite()?o.e>=0?new i(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(e=i.precision,t=i.rounding,r=o.sd(),Math.max(r,e)<2*-o.e-1?rt(new i(o),e,t,!0):(i.precision=n=r-o.e,o=fn(o.plus(1),new i(1).minus(o),n+e,1),i.precision=e+4,i.rounding=1,o=o.ln(),i.precision=e,i.rounding=t,o.times(.5))):new i(NaN)};Ne.inverseSine=Ne.asin=function(){var e,t,n,r,o=this,i=o.constructor;return o.isZero()?new i(o):(t=o.abs().cmp(1),n=i.precision,r=i.rounding,t!==-1?t===0?(e=zi(i,n+4,r).times(.5),e.s=o.s,e):new i(NaN):(i.precision=n+6,i.rounding=1,o=o.div(new i(1).minus(o.times(o)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=r,o.times(2)))};Ne.inverseTangent=Ne.atan=function(){var e,t,n,r,o,i,s,l,u,f=this,p=f.constructor,d=p.precision,m=p.rounding;if(f.isFinite()){if(f.isZero())return new p(f);if(f.abs().eq(1)&&d+4<=uv)return s=zi(p,d+4,m).times(.25),s.s=f.s,s}else{if(!f.s)return new p(NaN);if(d+4<=uv)return s=zi(p,d+4,m).times(.5),s.s=f.s,s}for(p.precision=l=d+10,p.rounding=1,n=Math.min(28,l/at+2|0),e=n;e;--e)f=f.div(f.times(f).plus(1).sqrt().plus(1));for(mt=!1,t=Math.ceil(l/at),r=1,u=f.times(f),s=new p(f),o=f;e!==-1;)if(o=o.times(u),i=s.minus(o.div(r+=2)),o=o.times(u),s=i.plus(o.div(r+=2)),s.d[t]!==void 0)for(e=t;s.d[e]===i.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),mt=!0,rt(s,p.precision=d,p.rounding=m,!0)};Ne.isFinite=function(){return!!this.d};Ne.isInteger=Ne.isInt=function(){return!!this.d&&_r(this.e/at)>this.d.length-2};Ne.isNaN=function(){return!this.s};Ne.isNegative=Ne.isNeg=function(){return this.s<0};Ne.isPositive=Ne.isPos=function(){return this.s>0};Ne.isZero=function(){return!!this.d&&this.d[0]===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,n,r,o,i,s,l,u,f=this,p=f.constructor,d=p.precision,m=p.rounding,g=5;if(e==null)e=new p(10),t=!0;else{if(e=new p(e),n=e.d,e.s<0||!n||!n[0]||e.eq(1))return new p(NaN);t=e.eq(10)}if(n=f.d,f.s<0||!n||!n[0]||f.eq(1))return new p(n&&!n[0]?-1/0:f.s!=1?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(o=n[0];o%10===0;)o/=10;i=o!==1}if(mt=!1,l=d+g,s=bl(f,l),r=t?ym(p,l+10):bl(e,l),u=fn(s,r,l,1),vp(u.d,o=d,m))do if(l+=10,s=bl(f,l),r=t?ym(p,l+10):bl(e,l),u=fn(s,r,l,1),!i){+wr(u.d).slice(o+1,o+15)+1==1e14&&(u=rt(u,d+1,0));break}while(vp(u.d,o+=10,m));return mt=!0,rt(u,d,m)};Ne.minus=Ne.sub=function(e){var t,n,r,o,i,s,l,u,f,p,d,m,g=this,y=g.constructor;if(e=new y(e),!g.d||!e.d)return!g.s||!e.s?e=new y(NaN):g.d?e.s=-e.s:e=new y(e.d||g.s!==e.s?g:NaN),e;if(g.s!=e.s)return e.s=-e.s,g.plus(e);if(f=g.d,m=e.d,l=y.precision,u=y.rounding,!f[0]||!m[0]){if(m[0])e.s=-e.s;else if(f[0])e=new y(g);else return new y(u===3?-0:0);return mt?rt(e,l,u):e}if(n=_r(e.e/at),p=_r(g.e/at),f=f.slice(),i=p-n,i){for(d=i<0,d?(t=f,i=-i,s=m.length):(t=m,n=p,s=f.length),r=Math.max(Math.ceil(l/at),s)+2,i>r&&(i=r,t.length=1),t.reverse(),r=i;r--;)t.push(0);t.reverse()}else{for(r=f.length,s=m.length,d=r<s,d&&(s=r),r=0;r<s;r++)if(f[r]!=m[r]){d=f[r]<m[r];break}i=0}for(d&&(t=f,f=m,m=t,e.s=-e.s),s=f.length,r=m.length-s;r>0;--r)f[s++]=0;for(r=m.length;r>i;){if(f[--r]<m[r]){for(o=r;o&&f[--o]===0;)f[o]=hi-1;--f[o],f[r]+=hi}f[r]-=m[r]}for(;f[--s]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(e.d=f,e.e=Gm(f,n),mt?rt(e,l,u):e):new y(u===3?-0:0)};Ne.modulo=Ne.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?rt(new r(n),r.precision,r.rounding):(mt=!1,r.modulo==9?(t=fn(n,e.abs(),0,3,1),t.s*=e.s):t=fn(n,e,0,r.modulo,1),t=t.times(e),mt=!0,n.minus(t))};Ne.naturalExponential=Ne.exp=function(){return cv(this)};Ne.naturalLogarithm=Ne.ln=function(){return bl(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s,rt(e)};Ne.plus=Ne.add=function(e){var t,n,r,o,i,s,l,u,f,p,d=this,m=d.constructor;if(e=new m(e),!d.d||!e.d)return!d.s||!e.s?e=new m(NaN):d.d||(e=new m(e.d||d.s===e.s?d:NaN)),e;if(d.s!=e.s)return e.s=-e.s,d.minus(e);if(f=d.d,p=e.d,l=m.precision,u=m.rounding,!f[0]||!p[0])return p[0]||(e=new m(d)),mt?rt(e,l,u):e;if(i=_r(d.e/at),r=_r(e.e/at),f=f.slice(),o=i-r,o){for(o<0?(n=f,o=-o,s=p.length):(n=p,r=i,s=f.length),i=Math.ceil(l/at),s=i>s?i+1:s+1,o>s&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(s=f.length,o=p.length,s-o<0&&(o=s,n=p,p=f,f=n),t=0;o;)t=(f[--o]=f[o]+p[o]+t)/hi|0,f[o]%=hi;for(t&&(f.unshift(t),++r),s=f.length;f[--s]==0;)f.pop();return e.d=f,e.e=Gm(f,r),mt?rt(e,l,u):e};Ne.precision=Ne.sd=function(e){var t,n=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ll+e);return n.d?(t=eM(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t};Ne.round=function(){var e=this,t=e.constructor;return rt(new t(e),e.e+1,t.rounding)};Ne.sine=Ne.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+at,r.rounding=1,n=A5(r,oM(r,n)),r.precision=e,r.rounding=t,rt(xs>2?n.neg():n,e,t,!0)):new r(NaN)};Ne.squareRoot=Ne.sqrt=function(){var e,t,n,r,o,i,s=this,l=s.d,u=s.e,f=s.s,p=s.constructor;if(f!==1||!l||!l[0])return new p(!f||f<0&&(!l||l[0])?NaN:l?s:1/0);for(mt=!1,f=Math.sqrt(+s),f==0||f==1/0?(t=wr(l),(t.length+u)%2==0&&(t+="0"),f=Math.sqrt(t),u=_r((u+1)/2)-(u<0||u%2),f==1/0?t="5e"+u:(t=f.toExponential(),t=t.slice(0,t.indexOf("e")+1)+u),r=new p(t)):r=new p(f.toString()),n=(u=p.precision)+3;;)if(i=r,r=i.plus(fn(s,i,n+2,1)).times(.5),wr(i.d).slice(0,n)===(t=wr(r.d)).slice(0,n))if(t=t.slice(n-3,n+1),t=="9999"||!o&&t=="4999"){if(!o&&(rt(i,u+1,0),i.times(i).eq(s))){r=i;break}n+=4,o=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(rt(r,u+1,1),e=!r.times(r).eq(s));break}return mt=!0,rt(r,u,p.rounding,e)};Ne.tangent=Ne.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,n=n.sin(),n.s=1,n=fn(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,rt(xs==2||xs==4?n.neg():n,e,t,!0)):new r(NaN)};Ne.times=Ne.mul=function(e){var t,n,r,o,i,s,l,u,f,p=this,d=p.constructor,m=p.d,g=(e=new d(e)).d;if(e.s*=p.s,!m||!m[0]||!g||!g[0])return new d(!e.s||m&&!m[0]&&!g||g&&!g[0]&&!m?NaN:!m||!g?e.s/0:e.s*0);for(n=_r(p.e/at)+_r(e.e/at),u=m.length,f=g.length,u<f&&(i=m,m=g,g=i,s=u,u=f,f=s),i=[],s=u+f,r=s;r--;)i.push(0);for(r=f;--r>=0;){for(t=0,o=u+r;o>r;)l=i[o]+g[r]*m[o-r-1]+t,i[o--]=l%hi|0,t=l/hi|0;i[o]=(i[o]+t)%hi|0}for(;!i[--s];)i.pop();return t?++n:i.shift(),e.d=i,e.e=Gm(i,n),mt?rt(e,d.precision,d.rounding):e};Ne.toBinary=function(e,t){return tS(this,2,e,t)};Ne.toDecimalPlaces=Ne.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(fo(e,0,Hl),t===void 0?t=r.rounding:fo(t,0,8),rt(n,e+n.e+1,t))};Ne.toExponential=function(e,t){var n,r=this,o=r.constructor;return e===void 0?n=Wi(r,!0):(fo(e,0,Hl),t===void 0?t=o.rounding:fo(t,0,8),r=rt(new o(r),e+1,t),n=Wi(r,!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n};Ne.toFixed=function(e,t){var n,r,o=this,i=o.constructor;return e===void 0?n=Wi(o):(fo(e,0,Hl),t===void 0?t=i.rounding:fo(t,0,8),r=rt(new i(o),e+o.e+1,t),n=Wi(r,!1,e+r.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n};Ne.toFraction=function(e){var t,n,r,o,i,s,l,u,f,p,d,m,g=this,y=g.d,b=g.constructor;if(!y)return new b(g);if(f=n=new b(1),r=u=new b(0),t=new b(r),i=t.e=eM(y)-g.e-1,s=i%at,t.d[0]=tr(10,s<0?at+s:s),e==null)e=i>0?t:f;else{if(l=new b(e),!l.isInt()||l.lt(f))throw Error(Ll+l);e=l.gt(t)?i>0?t:f:l}for(mt=!1,l=new b(wr(y)),p=b.precision,b.precision=i=y.length*at*2;d=fn(l,t,0,1,1),o=n.plus(d.times(r)),o.cmp(e)!=1;)n=r,r=o,o=f,f=u.plus(d.times(o)),u=o,o=t,t=l.minus(d.times(o)),l=o;return o=fn(e.minus(n),r,0,1,1),u=u.plus(o.times(f)),n=n.plus(o.times(r)),u.s=f.s=g.s,m=fn(f,r,i,1).minus(g).abs().cmp(fn(u,n,i,1).minus(g).abs())<1?[f,r]:[u,n],b.precision=p,mt=!0,m};Ne.toHexadecimal=Ne.toHex=function(e,t){return tS(this,16,e,t)};Ne.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),e==null){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),t===void 0?t=r.rounding:fo(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(mt=!1,n=fn(n,e,0,t,1).times(e),mt=!0,rt(n)):(e.s=n.s,n=e),n};Ne.toNumber=function(){return+this};Ne.toOctal=function(e,t){return tS(this,8,e,t)};Ne.toPower=Ne.pow=function(e){var t,n,r,o,i,s,l=this,u=l.constructor,f=+(e=new u(e));if(!l.d||!e.d||!l.d[0]||!e.d[0])return new u(tr(+l,f));if(l=new u(l),l.eq(1))return l;if(r=u.precision,i=u.rounding,e.eq(1))return rt(l,r,i);if(t=_r(e.e/at),t>=e.d.length-1&&(n=f<0?-f:f)<=C5)return o=tM(u,l,n,r),e.s<0?new u(1).div(o):rt(o,r,i);if(s=l.s,s<0){if(t<e.d.length-1)return new u(NaN);if(e.d[t]&1||(s=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=s,l}return n=tr(+l,f),t=n==0||!isFinite(n)?_r(f*(Math.log("0."+wr(l.d))/Math.LN10+l.e+1)):new u(n+"").e,t>u.maxE+1||t<u.minE-1?new u(t>0?s/0:0):(mt=!1,u.rounding=l.s=1,n=Math.min(12,(t+"").length),o=cv(e.times(bl(l,r+n)),r),o.d&&(o=rt(o,r+5,1),vp(o.d,r,i)&&(t=r+10,o=rt(cv(e.times(bl(l,t+n)),t),t+5,1),+wr(o.d).slice(r+1,r+15)+1==1e14&&(o=rt(o,r+1,0)))),o.s=s,mt=!0,u.rounding=i,rt(o,r,i))};Ne.toPrecision=function(e,t){var n,r=this,o=r.constructor;return e===void 0?n=Wi(r,r.e<=o.toExpNeg||r.e>=o.toExpPos):(fo(e,1,Hl),t===void 0?t=o.rounding:fo(t,0,8),r=rt(new o(r),e,t),n=Wi(r,e<=r.e||r.e<=o.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n};Ne.toSignificantDigits=Ne.toSD=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(fo(e,1,Hl),t===void 0?t=r.rounding:fo(t,0,8)),rt(new r(n),e,t)};Ne.toString=function(){var e=this,t=e.constructor,n=Wi(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n};Ne.truncated=Ne.trunc=function(){return rt(new this.constructor(this),this.e+1,1)};Ne.valueOf=Ne.toJSON=function(){var e=this,t=e.constructor,n=Wi(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};function wr(e){var t,n,r,o=e.length-1,i="",s=e[0];if(o>0){for(i+=s,t=1;t<o;t++)r=e[t]+"",n=at-r.length,n&&(i+=cl(n)),i+=r;s=e[t],r=s+"",n=at-r.length,n&&(i+=cl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}function fo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ll+e)}function vp(e,t,n,r){var o,i,s,l;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=at,o=0):(o=Math.ceil((t+1)/at),t%=at),i=tr(10,at-t),l=e[o]%i|0,r==null?t<3?(t==0?l=l/100|0:t==1&&(l=l/10|0),s=n<4&&l==99999||n>3&&l==49999||l==5e4||l==0):s=(n<4&&l+1==i||n>3&&l+1==i/2)&&(e[o+1]/i/100|0)==tr(10,t-2)-1||(l==i/2||l==0)&&(e[o+1]/i/100|0)==0:t<4?(t==0?l=l/1e3|0:t==1?l=l/100|0:t==2&&(l=l/10|0),s=(r||n<4)&&l==9999||!r&&n>3&&l==4999):s=((r||n<4)&&l+1==i||!r&&n>3&&l+1==i/2)&&(e[o+1]/i/1e3|0)==tr(10,t-3)-1,s}function bh(e,t,n){for(var r,o=[0],i,s=0,l=e.length;s<l;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=lv.indexOf(e.charAt(s++)),r=0;r<o.length;r++)o[r]>n-1&&(o[r+1]===void 0&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}function N5(e,t){var n,r,o;if(t.isZero())return t;r=t.d.length,r<32?(n=Math.ceil(r/3),o=(1/Jm(4,n)).toString()):(n=16,o="2.3283064365386962890625e-10"),e.precision+=n,t=Sc(e,1,t.times(o),new e(1));for(var i=n;i--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}var fn=function(){function e(r,o,i){var s,l=0,u=r.length;for(r=r.slice();u--;)s=r[u]*o+l,r[u]=s%i|0,l=s/i|0;return l&&r.unshift(l),r}function t(r,o,i,s){var l,u;if(i!=s)u=i>s?1:-1;else for(l=u=0;l<i;l++)if(r[l]!=o[l]){u=r[l]>o[l]?1:-1;break}return u}function n(r,o,i,s){for(var l=0;i--;)r[i]-=l,l=r[i]<o[i]?1:0,r[i]=l*s+r[i]-o[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,o,i,s,l,u){var f,p,d,m,g,y,b,E,S,x,k,I,L,_,H,j,Y,ue,Se,ge,W=r.constructor,G=r.s==o.s?1:-1,U=r.d,re=o.d;if(!U||!U[0]||!re||!re[0])return new W(!r.s||!o.s||(U?re&&U[0]==re[0]:!re)?NaN:U&&U[0]==0||!re?G*0:G/0);for(u?(g=1,p=r.e-o.e):(u=hi,g=at,p=_r(r.e/g)-_r(o.e/g)),Se=re.length,Y=U.length,S=new W(G),x=S.d=[],d=0;re[d]==(U[d]||0);d++);if(re[d]>(U[d]||0)&&p--,i==null?(_=i=W.precision,s=W.rounding):l?_=i+(r.e-o.e)+1:_=i,_<0)x.push(1),y=!0;else{if(_=_/g+2|0,d=0,Se==1){for(m=0,re=re[0],_++;(d<Y||m)&&_--;d++)H=m*u+(U[d]||0),x[d]=H/re|0,m=H%re|0;y=m||d<Y}else{for(m=u/(re[0]+1)|0,m>1&&(re=e(re,m,u),U=e(U,m,u),Se=re.length,Y=U.length),j=Se,k=U.slice(0,Se),I=k.length;I<Se;)k[I++]=0;ge=re.slice(),ge.unshift(0),ue=re[0],re[1]>=u/2&&++ue;do m=0,f=t(re,k,Se,I),f<0?(L=k[0],Se!=I&&(L=L*u+(k[1]||0)),m=L/ue|0,m>1?(m>=u&&(m=u-1),b=e(re,m,u),E=b.length,I=k.length,f=t(b,k,E,I),f==1&&(m--,n(b,Se<E?ge:re,E,u))):(m==0&&(f=m=1),b=re.slice()),E=b.length,E<I&&b.unshift(0),n(k,b,I,u),f==-1&&(I=k.length,f=t(re,k,Se,I),f<1&&(m++,n(k,Se<I?ge:re,I,u))),I=k.length):f===0&&(m++,k=[0]),x[d++]=m,f&&k[0]?k[I++]=U[j]||0:(k=[U[j]],I=1);while((j++<Y||k[0]!==void 0)&&_--);y=k[0]!==void 0}x[0]||x.shift()}if(g==1)S.e=p,JA=y;else{for(d=1,m=x[0];m>=10;m/=10)d++;S.e=d+p*g-1,rt(S,l?i+S.e+1:i,s,y)}return S}}();function rt(e,t,n,r){var o,i,s,l,u,f,p,d,m,g=e.constructor;e:if(t!=null){if(d=e.d,!d)return e;for(o=1,l=d[0];l>=10;l/=10)o++;if(i=t-o,i<0)i+=at,s=t,p=d[m=0],u=p/tr(10,o-s-1)%10|0;else if(m=Math.ceil((i+1)/at),l=d.length,m>=l)if(r){for(;l++<=m;)d.push(0);p=u=0,o=1,i%=at,s=i-at+1}else break e;else{for(p=l=d[m],o=1;l>=10;l/=10)o++;i%=at,s=i-at+o,u=s<0?0:p/tr(10,o-s-1)%10|0}if(r=r||t<0||d[m+1]!==void 0||(s<0?p:p%tr(10,o-s-1)),f=n<4?(u||r)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||r||n==6&&(i>0?s>0?p/tr(10,o-s):0:d[m-1])%10&1||n==(e.s<0?8:7)),t<1||!d[0])return d.length=0,f?(t-=e.e+1,d[0]=tr(10,(at-t%at)%at),e.e=-t||0):d[0]=e.e=0,e;if(i==0?(d.length=m,l=1,m--):(d.length=m+1,l=tr(10,at-i),d[m]=s>0?(p/tr(10,o-s)%tr(10,s)|0)*l:0),f)for(;;)if(m==0){for(i=1,s=d[0];s>=10;s/=10)i++;for(s=d[0]+=l,l=1;s>=10;s/=10)l++;i!=l&&(e.e++,d[0]==hi&&(d[0]=1));break}else{if(d[m]+=l,d[m]!=hi)break;d[m--]=0,l=1}for(i=d.length;d[--i]===0;)d.pop()}return mt&&(e.e>g.maxE?(e.d=null,e.e=NaN):e.e<g.minE&&(e.e=0,e.d=[0])),e}function Wi(e,t,n){if(!e.isFinite())return rM(e);var r,o=e.e,i=wr(e.d),s=i.length;return t?(n&&(r=n-s)>0?i=i.charAt(0)+"."+i.slice(1)+cl(r):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):o<0?(i="0."+cl(-o-1)+i,n&&(r=n-s)>0&&(i+=cl(r))):o>=s?(i+=cl(o+1-s),n&&(r=n-o-1)>0&&(i=i+"."+cl(r))):((r=o+1)<s&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-s)>0&&(o+1===s&&(i+="."),i+=cl(r))),i}function Gm(e,t){var n=e[0];for(t*=at;n>=10;n/=10)t++;return t}function ym(e,t,n){if(t>E5)throw mt=!0,n&&(e.precision=n),Error(QA);return rt(new e(mm),t,1,!0)}function zi(e,t,n){if(t>uv)throw Error(QA);return rt(new e(gm),t,n,!0)}function eM(e){var t=e.length-1,n=t*at+1;if(t=e[t],t){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function cl(e){for(var t="";e--;)t+="0";return t}function tM(e,t,n,r){var o,i=new e(1),s=Math.ceil(r/at+4);for(mt=!1;;){if(n%2&&(i=i.times(t),mC(i.d,s)&&(o=!0)),n=_r(n/2),n===0){n=i.d.length-1,o&&i.d[n]===0&&++i.d[n];break}t=t.times(t),mC(t.d,s)}return mt=!0,i}function hC(e){return e.d[e.d.length-1]&1}function nM(e,t,n){for(var r,o,i=new e(t[0]),s=0;++s<t.length;){if(o=new e(t[s]),!o.s){i=o;break}r=i.cmp(o),(r===n||r===0&&i.s===n)&&(i=o)}return i}function cv(e,t){var n,r,o,i,s,l,u,f=0,p=0,d=0,m=e.constructor,g=m.rounding,y=m.precision;if(!e.d||!e.d[0]||e.e>17)return new m(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(mt=!1,u=y):u=t,l=new m(.03125);e.e>-2;)e=e.times(l),d+=5;for(r=Math.log(tr(2,d))/Math.LN10*2+5|0,u+=r,n=i=s=new m(1),m.precision=u;;){if(i=rt(i.times(e),u,1),n=n.times(++p),l=s.plus(fn(i,n,u,1)),wr(l.d).slice(0,u)===wr(s.d).slice(0,u)){for(o=d;o--;)s=rt(s.times(s),u,1);if(t==null)if(f<3&&vp(s.d,u-r,g,f))m.precision=u+=10,n=i=l=new m(1),p=0,f++;else return rt(s,m.precision=y,g,mt=!0);else return m.precision=y,s}s=l}}function bl(e,t){var n,r,o,i,s,l,u,f,p,d,m,g=1,y=10,b=e,E=b.d,S=b.constructor,x=S.rounding,k=S.precision;if(b.s<0||!E||!E[0]||!b.e&&E[0]==1&&E.length==1)return new S(E&&!E[0]?-1/0:b.s!=1?NaN:E?0:b);if(t==null?(mt=!1,p=k):p=t,S.precision=p+=y,n=wr(E),r=n.charAt(0),Math.abs(i=b.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=wr(b.d),r=n.charAt(0),g++;i=b.e,r>1?(b=new S("0."+n),i++):b=new S(r+"."+n.slice(1))}else return f=ym(S,p+2,k).times(i+""),b=bl(new S(r+"."+n.slice(1)),p-y).plus(f),S.precision=k,t==null?rt(b,k,x,mt=!0):b;for(d=b,u=s=b=fn(b.minus(1),b.plus(1),p,1),m=rt(b.times(b),p,1),o=3;;){if(s=rt(s.times(m),p,1),f=u.plus(fn(s,new S(o),p,1)),wr(f.d).slice(0,p)===wr(u.d).slice(0,p))if(u=u.times(2),i!==0&&(u=u.plus(ym(S,p+2,k).times(i+""))),u=fn(u,new S(g),p,1),t==null)if(vp(u.d,p-y,x,l))S.precision=p+=y,f=s=b=fn(d.minus(1),d.plus(1),p,1),m=rt(b.times(b),p,1),o=l=1;else return rt(u,S.precision=k,x,mt=!0);else return S.precision=k,u;u=f,o+=2}}function rM(e){return String(e.s*e.s/0)}function kh(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;r++);for(o=t.length;t.charCodeAt(o-1)===48;--o);if(t=t.slice(r,o),t){if(o-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%at,n<0&&(r+=at),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=at;r<o;)e.d.push(+t.slice(r,r+=at));t=t.slice(r),r=at-t.length}else r-=o;for(;r--;)t+="0";e.d.push(+t),mt&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function T5(e,t){var n,r,o,i,s,l,u,f,p;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),XA.test(t))return kh(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(x5.test(t))n=16,t=t.toLowerCase();else if(k5.test(t))n=2;else if(O5.test(t))n=8;else throw Error(Ll+t);for(i=t.search(/p/i),i>0?(u=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),s=i>=0,r=e.constructor,s&&(t=t.replace(".",""),l=t.length,i=l-i,o=tM(r,new r(n),i,i*2)),f=bh(t,n,hi),p=f.length-1,i=p;f[i]===0;--i)f.pop();return i<0?new r(e.s*0):(e.e=Gm(f,p),e.d=f,mt=!1,s&&(e=fn(e,o,l*4)),u&&(e=e.times(Math.abs(u)<54?tr(2,u):_n.pow(2,u))),mt=!0,e)}function A5(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:Sc(e,2,t,t);n=1.4*Math.sqrt(r),n=n>16?16:n|0,t=t.times(1/Jm(5,n)),t=Sc(e,2,t,t);for(var o,i=new e(5),s=new e(16),l=new e(20);n--;)o=t.times(t),t=t.times(i.plus(o.times(s.times(o).minus(l))));return t}function Sc(e,t,n,r,o){var i,s,l,u,f=e.precision,p=Math.ceil(f/at);for(mt=!1,u=n.times(n),l=new e(r);;){if(s=fn(l.times(u),new e(t++*t++),f,1),l=o?r.plus(s):r.minus(s),r=fn(s.times(u),new e(t++*t++),f,1),s=l.plus(r),s.d[p]!==void 0){for(i=p;s.d[i]===l.d[i]&&i--;);if(i==-1)break}i=l,l=r,r=s,s=i}return mt=!0,s.d.length=p+1,s}function Jm(e,t){for(var n=e;--t;)n*=e;return n}function oM(e,t){var n,r=t.s<0,o=zi(e,e.precision,1),i=o.times(.5);if(t=t.abs(),t.lte(i))return xs=r?4:1,t;if(n=t.divToInt(o),n.isZero())xs=r?3:2;else{if(t=t.minus(n.times(o)),t.lte(i))return xs=hC(n)?r?2:3:r?4:1,t;xs=hC(n)?r?1:4:r?3:2}return t.minus(o).abs()}function tS(e,t,n,r){var o,i,s,l,u,f,p,d,m,g=e.constructor,y=n!==void 0;if(y?(fo(n,1,Hl),r===void 0?r=g.rounding:fo(r,0,8)):(n=g.precision,r=g.rounding),!e.isFinite())p=rM(e);else{for(p=Wi(e),s=p.indexOf("."),y?(o=2,t==16?n=n*4-3:t==8&&(n=n*3-2)):o=t,s>=0&&(p=p.replace(".",""),m=new g(1),m.e=p.length-s,m.d=bh(Wi(m),10,o),m.e=m.d.length),d=bh(p,10,o),i=u=d.length;d[--u]==0;)d.pop();if(!d[0])p=y?"0p+0":"0";else{if(s<0?i--:(e=new g(e),e.d=d,e.e=i,e=fn(e,m,n,r,0,o),d=e.d,i=e.e,f=JA),s=d[n],l=o/2,f=f||d[n+1]!==void 0,f=r<4?(s!==void 0||f)&&(r===0||r===(e.s<0?3:2)):s>l||s===l&&(r===4||f||r===6&&d[n-1]&1||r===(e.s<0?8:7)),d.length=n,f)for(;++d[--n]>o-1;)d[n]=0,n||(++i,d.unshift(1));for(u=d.length;!d[u-1];--u);for(s=0,p="";s<u;s++)p+=lv.charAt(d[s]);if(y){if(u>1)if(t==16||t==8){for(s=t==16?4:3,--u;u%s;u++)p+="0";for(d=bh(p,o,t),u=d.length;!d[u-1];--u);for(s=1,p="1.";s<u;s++)p+=lv.charAt(d[s])}else p=p.charAt(0)+"."+p.slice(1);p=p+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)p="0"+p;p="0."+p}else if(++i>u)for(i-=u;i--;)p+="0";else i<u&&(p=p.slice(0,i)+"."+p.slice(i))}p=(t==16?"0x":t==2?"0b":t==8?"0o":"")+p}return e.s<0?"-"+p:p}function mC(e,t){if(e.length>t)return e.length=t,!0}function M5(e){return new this(e).abs()}function R5(e){return new this(e).acos()}function D5(e){return new this(e).acosh()}function I5(e,t){return new this(e).plus(t)}function _5(e){return new this(e).asin()}function P5(e){return new this(e).asinh()}function $5(e){return new this(e).atan()}function L5(e){return new this(e).atanh()}function F5(e,t){e=new this(e),t=new this(t);var n,r=this.precision,o=this.rounding,i=r+4;return!e.s||!t.s?n=new this(NaN):!e.d&&!t.d?(n=zi(this,i,1).times(t.s>0?.25:.75),n.s=e.s):!t.d||e.isZero()?(n=t.s<0?zi(this,r,o):new this(0),n.s=e.s):!e.d||t.isZero()?(n=zi(this,i,1).times(.5),n.s=e.s):t.s<0?(this.precision=i,this.rounding=1,n=this.atan(fn(e,t,i,1)),t=zi(this,i,1),this.precision=r,this.rounding=o,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(fn(e,t,i,1)),n}function z5(e){return new this(e).cbrt()}function j5(e){return rt(e=new this(e),e.e+1,2)}function B5(e,t,n){return new this(e).clamp(t,n)}function U5(e){if(!e||typeof e!="object")throw Error(Km+"Object expected");var t,n,r,o=e.defaults===!0,i=["precision",1,Hl,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,sv,"maxE",0,sv,"minE",-9e15,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(n=i[t],o&&(this[n]=av[n]),(r=e[n])!==void 0)if(_r(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ll+n+": "+r);if(n="crypto",o&&(this[n]=av[n]),(r=e[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(YA);else this[n]=!1;else throw Error(Ll+n+": "+r);return this}function V5(e){return new this(e).cos()}function H5(e){return new this(e).cosh()}function iM(e){var t,n,r;function o(i){var s,l,u,f=this;if(!(f instanceof o))return new o(i);if(f.constructor=o,gC(i)){f.s=i.s,mt?!i.d||i.e>o.maxE?(f.e=NaN,f.d=null):i.e<o.minE?(f.e=0,f.d=[0]):(f.e=i.e,f.d=i.d.slice()):(f.e=i.e,f.d=i.d?i.d.slice():i.d);return}if(u=typeof i,u==="number"){if(i===0){f.s=1/i<0?-1:1,f.e=0,f.d=[0];return}if(i<0?(i=-i,f.s=-1):f.s=1,i===~~i&&i<1e7){for(s=0,l=i;l>=10;l/=10)s++;mt?s>o.maxE?(f.e=NaN,f.d=null):s<o.minE?(f.e=0,f.d=[0]):(f.e=s,f.d=[i]):(f.e=s,f.d=[i]);return}if(i*0!==0){i||(f.s=NaN),f.e=NaN,f.d=null;return}return kh(f,i.toString())}if(u==="string")return(l=i.charCodeAt(0))===45?(i=i.slice(1),f.s=-1):(l===43&&(i=i.slice(1)),f.s=1),XA.test(i)?kh(f,i):T5(f,i);if(u==="bigint")return i<0?(i=-i,f.s=-1):f.s=1,kh(f,i.toString());throw Error(Ll+i)}if(o.prototype=Ne,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=U5,o.clone=iM,o.isDecimal=gC,o.abs=M5,o.acos=R5,o.acosh=D5,o.add=I5,o.asin=_5,o.asinh=P5,o.atan=$5,o.atanh=L5,o.atan2=F5,o.cbrt=z5,o.ceil=j5,o.clamp=B5,o.cos=V5,o.cosh=H5,o.div=q5,o.exp=W5,o.floor=K5,o.hypot=G5,o.ln=J5,o.log=Q5,o.log10=Z5,o.log2=Y5,o.max=X5,o.min=eB,o.mod=tB,o.mul=nB,o.pow=rB,o.random=oB,o.round=iB,o.sign=sB,o.sin=lB,o.sinh=aB,o.sqrt=uB,o.sub=cB,o.sum=fB,o.tan=pB,o.tanh=dB,o.trunc=hB,e===void 0&&(e={}),e&&e.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return o.config(e),o}function q5(e,t){return new this(e).div(t)}function W5(e){return new this(e).exp()}function K5(e){return rt(e=new this(e),e.e+1,3)}function G5(){var e,t,n=new this(0);for(mt=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return mt=!0,new this(1/0);n=t}return mt=!0,n.sqrt()}function gC(e){return e instanceof _n||e&&e.toStringTag===ZA||!1}function J5(e){return new this(e).ln()}function Q5(e,t){return new this(e).log(t)}function Y5(e){return new this(e).log(2)}function Z5(e){return new this(e).log(10)}function X5(){return nM(this,arguments,-1)}function eB(){return nM(this,arguments,1)}function tB(e,t){return new this(e).mod(t)}function nB(e,t){return new this(e).mul(t)}function rB(e,t){return new this(e).pow(t)}function oB(e){var t,n,r,o,i=0,s=new this(1),l=[];if(e===void 0?e=this.precision:fo(e,1,Hl),r=Math.ceil(e/at),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));i<r;)o=t[i],o>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:l[i++]=o%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);i<r;)o=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),o>=214e7?crypto.randomBytes(4).copy(t,i):(l.push(o%1e7),i+=4);i=r/4}else throw Error(YA);else for(;i<r;)l[i++]=Math.random()*1e7|0;for(r=l[--i],e%=at,r&&e&&(o=tr(10,at-e),l[i]=(r/o|0)*o);l[i]===0;i--)l.pop();if(i<0)n=0,l=[0];else{for(n=-1;l[0]===0;n-=at)l.shift();for(r=1,o=l[0];o>=10;o/=10)r++;r<at&&(n-=at-r)}return s.e=n,s.d=l,s}function iB(e){return rt(e=new this(e),e.e+1,this.rounding)}function sB(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function lB(e){return new this(e).sin()}function aB(e){return new this(e).sinh()}function uB(e){return new this(e).sqrt()}function cB(e,t){return new this(e).sub(t)}function fB(){var e=0,t=arguments,n=new this(t[e]);for(mt=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return mt=!0,rt(n,this.precision,this.rounding)}function pB(e){return new this(e).tan()}function dB(e){return new this(e).tanh()}function hB(e){return rt(e=new this(e),e.e+1,1)}Ne[Symbol.for("nodejs.util.inspect.custom")]=Ne.toString;Ne[Symbol.toStringTag]="Decimal";var _n=Ne.constructor=iM(av);mm=new _n(mm);gm=new _n(gm);const ft=(e,t,n)=>{if(t===void 0&&(t="failed!"),!e){const r=new Error(t);throw r.location=n||Ht.location,r}},mB=(e,t)=>{let n=Ht.messages[e];return t&&t.forEach((r,o)=>{n=n.replace(`%${o+1}`,r)}),`${e}: ${n}`},gB=(e,t,n)=>{ft(e<=t,"Invalid code range");const r=Ht.reservedCodes.every(o=>t<o.first||e>o.last);ft(r,"Conflicting request for error code range"),Ht.reservedCodes.push({first:e,last:t,name:n})},yB=e=>{Ht.location=e},vB=()=>{Ht.location=null},wB=(e,t)=>{e!==void 0&&(Ht.timeout=e?Date.now()+e:0,Ht.timeoutMessage=t||"ERROR timeout exceeded")},SB=()=>{ft(!Ht.timeout||Ht.timeout>Date.now(),Ht.timeoutMessage)},bB=(e,t)=>{Ht.count=e,Ht.countMessage=t||"ERROR count exceeded"},kB=()=>{const{count:e}=Ht;if(typeof e!="number"||Number.isNaN(e)){ft(!1,"ERROR counter not set");return}ft(Ht.count--,Ht.countMessage)},Ht={assert:ft,message:mB,messages:{},reserveCodeRange:gB,reservedCodes:[],setLocation:yB,clearLocation:vB,checkTimeout:SB,setTimeout:wB,setCounter:bB,checkCounter:kB},sM=(()=>{function e(){this.nodePool=["unused"],this.nodeMap={}}e.prototype.arg=function(n){if(!t(this))throw new Error("Malformed node");return this.args.push(n),this},e.prototype.argN=function(n,r){if(!t(this))throw new Error("Malformed node");return r===void 0?this.args[n]:(this.args[n]=r,this)},e.prototype.args=function(n){if(!t(this))throw new Error("Malformed node");return n===void 0?this.args:(this.args=n,this)},e.prototype.isNode=t;function t(n){return n===void 0&&(n=this),n.op&&n.args}return e.prototype.intern=function(n){this instanceof e&&n===void 0&&t(this)&&(n=this),ft(typeof n=="object","node not an object");const{op:r}=n,o=n.args.length;let i="";const s=[];for(let f=0;f<o;f++)i+=" ",typeof n.args[f]=="string"?i+=s[f]=n.args[f]:i+=s[f]=this.intern(n.args[f]);n.lbrk&&n.lbrk!==123&&n.lbrk!==371&&(i+=String.fromCharCode(n.lbrk),i+=String.fromCharCode(n.rbrk));const l=r+o+i;let u=this.nodeMap[l];return u===void 0&&(this.nodePool.push({op:r,args:s}),u=this.nodePool.length-1,this.nodeMap[l]=u),u},e.prototype.node=function(n){const r=JSON.parse(JSON.stringify(this.nodePool[n]));for(let o=0;o<r.args.length;o++)typeof r.args[o]!="string"&&(r.args[o]=this.node(r.args[o]));return r},e.prototype.dumpAll=function(){let n="";return this.nodePool.forEach((r,o)=>{n+=`
${o}: ${e.dump(r)}`}),n},e.dump=e.prototype.dump=function n(r){let o;if(typeof r=="string")o=`"${r}"`;else if(typeof r=="number")o=r;else{o=`{ op: "${r.op}", args: [ `;for(let i=0;i<r.args.length;i++)i>0&&(o+=" , "),o+=n(r.args[i]);o+=" ] }"}return o},e})(),xB=(()=>{function e(){}const t=[];let n={};e.fn={},e.env=n,e.pushEnv=De=>{t.push(n),e.env=n=De},e.popEnv=()=>{ft(t.length>0,"1000: Empty envStack"),e.env=n=t.pop()},e.option=(De,nt)=>De[nt];function r(){return!!e.env.Au}const o=e.prototype=new sM;Ht.reserveCodeRange(1e3,1999,"model"),Ht.messages[1e3]="Internal error. %1.",Ht.messages[1001]='Invalid syntax. "%1" expected, "%2" found.',Ht.messages[1002]="Only one decimal separator can be specified.",Ht.messages[1003]="Extra characters in input at position: %1, lexeme: %2, prefix: %3.",Ht.messages[1004]='Invalid character "%1" (%2) in input.',Ht.messages[1005]="Misplaced thousands separator.",Ht.messages[1006]="Invalid syntax. Expression expected, %1 found.",Ht.messages[1007]='Unexpected character: "%1" in "%2".',Ht.messages[1008]='The same character "%1" is being used as a thousands and decimal separators.',Ht.messages[1009]='Missing argument for "%1" command.',Ht.messages[1010]="Expecting an operator between numbers.",Ht.messages[1011]="Invalid grouping bracket. %1",Ht.messages[1012]='Misplaced subscript in "%1"',Ht.messages[1013]='Mismatched thousands separators: "%1" and "%2".',Ht.messages[1014]='Missing integration variable in "%1".';const{message:i}=Ht;e.create=o.create=function De(nt,je,it){if(ft(je instanceof Array||typeof je=="object"&&(je.op||je instanceof e)||typeof je=="string",JSON.stringify(je)),ft(je!==void 0,"1000: Internal error. Node undefined."),je instanceof e)return it&&(je.location=it),je;let bt;return je instanceof Array?(bt=[],je.forEach(xt=>{bt.push(De(nt,xt,it))}),bt):this instanceof e?(bt=De(nt,this),bt.location=it,typeof je=="string"?je=Lp(nt,je,e.env).expr():je=JSON.parse(JSON.stringify(je)),Object.keys(e.fn).forEach(xt=>{o[xt]||(o[xt]=function(...Yn){const ho=e.fn[xt];if(Yn.length>1&&Yn[1]instanceof e)return ho.apply(this,Yn);const yt=[this];for(let Cn=0;Cn<Yn.length;Cn++)yt.push(Yn[Cn]);return ho.apply(this,yt)})}),Object.keys(je).forEach(xt=>{bt[xt]=je[xt]}),bt):new e().create(nt,je,it)},e.fromLaTeX=o.fromLaTeX=function(De,nt){return ft(typeof nt=="string","1000: Model.prototype.fromLaTex"),this?this.create(De,nt):e.create(De,nt)},e.toLaTeX=o.toLaTeX=function(De){return y(De)};const s={ADD:"+",SUB:"-",MUL:"mul",TIMES:"\\times",DIV:"\\div",FRAC:"\\frac",EQL:"=",ATAN2:"atan2",SQRT:"sqrt",VEC:"vec",PM:"pm",NOT:"not",SIN:"sin",COS:"cos",TAN:"tan",SEC:"sec",COT:"cot",CSC:"csc",ARCSIN:"arcsin",ARCCOS:"arccos",ARCTAN:"arctan",ARCSEC:"arcsec",ARCCOT:"arccot",ARCCSC:"arccsc",SINH:"sinh",COSH:"cosh",TANH:"tanh",SECH:"sech",COTH:"coth",CSCH:"csch",ARCSINH:"arcsinh",ARCCOSH:"arccosh",ARCTANH:"arctanh",ARCSECH:"arcsech",ARCCSCH:"arccsch",ARCCOTH:"arccoth",LOG:"log",LN:"ln",LG:"lg",VAR:"var",TEXT:"text",NUM:"num",COMMA:",",POW:"^",SUBSCRIPT:"_",ABS:"abs",PAREN:"()",BRACE:"{}",BRACKET:"[]",ANGLEBRACKET:"anglebracket",HIGHLIGHT:"hi",LT:"lt",LE:"le",GT:"gt",GE:"ge",NE:"ne",NGTR:"ngtr",NLESS:"nless",NI:"ni",SUBSETEQ:"subseteq",SUPSETEQ:"supseteq",SUBSET:"subset",SUPSET:"supset",NNI:"nni",NSUBSETEQ:"nsubseteq",NSUPSETEQ:"nsupseteq",NSUBSET:"nsubset",NSUPSET:"nsupset",APPROX:"approx",IMPLIES:"implies",CAPRIGHTARROW:"caprightarrow",RIGHTARROW:"rightarrow",LEFTARROW:"leftarrrow",LONGRIGHTARROW:"longrightarrow",LONGLEFTARROW:"longleftarrow",OVERRIGHTARROW:"overrightarrow",OVERLEFTARROW:"overleftarrow",CAPLEFTRIGHTARROW:"capleftrightarrow",LEFTRIGHTARROW:"leftrightarrow",LONGLEFTRIGHTARROW:"longleftrightarrow",OVERLEFTRIGHTARROW:"overleftrightarrow",PERP:"perp",PROPTO:"propto",PARALLEL:"parallel",NPARALLEL:"nparallel",SIM:"sim",CONG:"cong",INTERVAL:"interval",INTERVALOPEN:"intervalopen",INTERVALLEFTOPEN:"intervalleftopen",INTERVALRIGHTOPEN:"intervalrightopen",EVALAT:"eval-at",LIST:"list",SET:"set",EXISTS:"exists",IN:"in",FORALL:"forall",LIM:"lim",EXP:"exp",TO:"to",SUM:"sum",DERIV:"deriv",PIPE:"pipe",INTEGRAL:"integral",PROD:"prod",CUP:"cup",BIGCUP:"bigcup",CAP:"cap",BIGCAP:"bigcap",PERCENT:"%",QMARK:"?",M:"M",FACT:"fact",BINOM:"binom",ROW:"row",COL:"col",COLON:"colon",MATRIX:"matrix",TYPE:"type",FORMAT:"format",OVERSET:"overset",UNDERSET:"underset",OVERLINE:"overline",DEGREE:"degree",BACKSLASH:"backslash",MATHBF:"mathbf",CDOT:"\\cdot",MATHFIELD:"mathfield",DELTA:"delta",OPERATORNAME:"operatorname",DOT:"dot",NONE:"none"};Object.keys(s).forEach(De=>{e[De]=s[De]});const l={};l[s.ADD]="+",l[s.SUB]="-",l[s.MUL]="\\times",l[s.TIMES]="\\times",l[s.DIV]="\\div",l[s.FRAC]="\\frac",l[s.EQL]="=",l[s.ATAN2]="\\atan2",l[s.POW]="^",l[s.SUBSCRIPT]="_",l[s.PM]="\\pm",l[s.NOT]="\\not",l[s.SIN]="\\sin",l[s.COS]="\\cos",l[s.TAN]="\\tan",l[s.SEC]="\\sec",l[s.COT]="\\cot",l[s.CSC]="\\csc",l[s.ARCSIN]="\\arcsin",l[s.ARCCOS]="\\arccos",l[s.ARCTAN]="\\arctan",l[s.ARCSEC]="\\arcsec",l[s.ARCCOT]="\\arccot",l[s.ARCCSC]="\\arccsc",l[s.SEC]="\\sec",l[s.COT]="\\cot",l[s.CSC]="\\csc",l[s.SINH]="\\sinh",l[s.COSH]="\\cosh",l[s.TANH]="\\tanh",l[s.ARCSINH]="\\arcsinh",l[s.ARCCOSH]="\\arccosh",l[s.ARCTANH]="\\arctanh",l[s.ARCSECH]="\\arcsech",l[s.ARCCSCH]="\\arccsch",l[s.ARCCOTH]="\\arccoth",l[s.SECH]="\\sech",l[s.COTH]="\\coth",l[s.CSCH]="\\csch",l[s.LN]="\\ln",l[s.COMMA]=",",l[s.M]="\\M",l[s.BINOM]="\\binom",l[s.COLON]="\\colon",l[s.INT]="\\int",e.fold=function De(nt,je){const it=[];let bt;switch(nt.args.forEach(xt=>{it.push(De(xt,je))}),nt.args=it,nt.op){case s.VAR:(bt=je[nt.args[0]])&&(nt=bt);break}return nt};function u(De){return De>=1&&De<=31&&De!==9||De>=127&&De<=159}function f(De){return De===ne||De===X||De===B||De===Qr||De===Ue||De===ot||De===Bt||De===F}function p(De){let nt="",je,it,bt=0;for(;bt<De.length;){for(;bt<De.length&&d(je=De.charCodeAt(bt++));)it!==32&&(je=9,it=je);je===92&&(nt+=String.fromCharCode(je),bt<De.length&&(je=De.charCodeAt(bt++))),nt+=String.fromCharCode(je)}return nt}function d(De){return u(De)}function m(De){return De===32||De===9||De===10||De===13}function g(De){return De>=48&&De<=57}const y=function De(nt){let je="";if(typeof nt=="string")je=nt;else if(typeof nt=="number")je=nt;else if(typeof nt=="object"){const it=[];switch(nt.args.forEach(bt=>{it.push(De(bt))}),nt.op){case s.NUM:case s.VAR:je=`${nt.args[0]}`;break;case s.TEXT:je=`\\text{${it[0]}}`;break;case s.SUBSCRIPT:it.reverse().forEach((bt,xt)=>{xt===it.length-1?je=`${bt}${je}`:je=`${l[nt.op]}{${bt}${je}}`});break;case s.SUB:nt.args.length===1?je=`${l[nt.op]}${it[0]}`:je=`${it[0]} ${l[nt.op]} ${it[1]}`;break;case s.DIV:case s.PM:case s.EQL:je=`${it[0]} ${l[nt.op]} ${it[1]}`;break;case s.POW:{const bt=nt.args[0],xt=nt.args[1];(bt.args&&bt.args.length===2||xt.args&&xt.args.length===2)&&(bt.op===s.ADD||bt.op===s.SUB||bt.op===s.MUL||bt.op===s.DIV||bt.op===s.SQRT)&&(it[0]=` (${it[0]}) `),je=`{${it[0]}^{${it[1]}}}`;break}case s.SIN:case s.COS:case s.TAN:case s.ARCSIN:case s.ARCCOS:case s.ARCTAN:case s.ARCSEC:case s.ARCCSC:case s.ARCCOT:case s.SEC:case s.COT:case s.CSC:case s.SINH:case s.COSH:case s.TANH:case s.ARCSINH:case s.ARCCOSH:case s.ARCTANH:case s.ARCSECH:case s.ARCCSCH:case s.ARCCOTH:case s.SECH:case s.COTH:case s.CSCH:case s.LN:case s.M:je=`{${l[nt.op]}{${it[0]}}}`;break;case s.FRAC:je=`\\frac{${it[0]}}{${it[1]}}`;break;case s.BINOM:je=`\\binom{${it[0]}}{${it[1]}}`;break;case s.SQRT:switch(it.length){case 1:je=`\\sqrt{${it[0]}}`;break;case 2:je=`\\sqrt[${it[0]}]{${it[1]}}`;break}break;case s.INTEGRAL:it.length===4?je=`\\int_{${it[0]}}^{${it[1]}} ${it[2]} d${it[3]}`:je=`\\int ${it[0]} d${it[1]}`;break;case s.VEC:je=`\\vec{${it[0]}}`;break;case s.MUL:{let bt;je="",nt.args.forEach((xt,Yn)=>{xt.args&&xt.args.length>=2?((xt.op===s.ADD||xt.op===s.SUB)&&(it[Yn]=`(${it[Yn]})`),Yn!==0&&typeof xt=="number"?je+=`${l[nt.op]} `:nt.isMixedNumber||nt.isScientific&&(je+="\\times "),je+=it[Yn]):(xt.op===s.PAREN||xt.op===s.VAR||typeof bt=="number"&&typeof xt!="number"||Yn!==0&&(je+=` ${l[nt.op]} `),je+=it[Yn]),bt=xt});break}case s.TIMES:case s.CDOT:case s.ADD:case s.COMMA:it.forEach((bt,xt)=>{xt===0?je=bt:je=`${je}${l[nt.op]} ${bt}`});break;case s.NONE:je="";break;default:ft(!1,`1000: Unimplemented operator translating to LaTeX: ${nt.op}`);break}}else ft(!1,"1000: Invalid expression type");return je},b=32,E=33,S=36,x=37,k=40,I=42,L=43,_=44,H=45,j=41,Y=46,ue=47,Se=48,ge=58,W=59,G=61,U=63,re=65,He=91,fe=93,J=94,T=95,se=97,xe=123,N=124,R=125,P=39,F=0,pe=L,oe=J,ce=T,Ee=Y,Pe=261,ie=264,Z=265,me=256,de=ue,Qe=G,Ze=263,ye=xe,te=N,$e=He,Ke=k,kt=I,Xe=Se,q=258,X=R,B=fe,ne=j,be=262,Le=259,Fe=257,et=H,pt=260,gt=se,nn=re,kn=_,rn=x,Bn=U,pn=E,fr=ge,Gi=W,Jr=267,Yo=268,pr=269,yi=270,Ji=271,Qi=272,vi=273,Rs=274,Ds=275,Wl=276,wi=277,Is=278,Si=279,Kl=280,Yi=281,Gl=282,Ja=283,z=284,Re=285,Ue=286,ot=287,Lt=288,Bt=289,Tt=290,wt=291,xn=292,on=293,un=294,On=295,Do=296,kr=297,Un=298,bi=299,_s=300,ki=301,Qa=302,Mc=303,Jl=304,Rc=305,Dc=306,Ya=307,Ql=308,Yl=309,Zl=310,Ps=311,Za=312,Xl=313,Zi=314,ea=315,$p=332,Xa=333,ta=334,$s=335,eu=336,Ls=337,Xi=338,es=339,xi=340,Fs=341,tu=342,na=343,nu=344,ru=345,ou=346,iu=347,Ic=348,_c=349,Pc=350,zs=351,$c=352,Lc=353,Fc=354,zc=355,js=356,su=357,lu=358,au=359,uu=360,cu=361,Zt=362,Xt=363,fu=364,pu=365,ra=366,jc=367,oa=368,Vn=369,Qn=370,Ln=371,ln=372,Oi=373,Ci=374,Bs=375,Qr=376,rr=377,ts=378,Ei=379,he={};he[de]=s.FRAC,he[me]=s.FRAC,he[Fe]=s.SQRT,he[Tt]=s.VEC,he[pe]=s.ADD,he[et]=s.SUB,he[q]=s.PM,he[zs]=s.NOT,he[oe]=s.POW,he[ce]=s.SUBSCRIPT,he[kt]=s.MUL,he[Jl]=s.CDOT,he[Oi]=s.TIMES,he[un]=s.DIV,he[Le]=s.SIN,he[Pe]=s.COS,he[pt]=s.TAN,he[wt]=s.ARCSIN,he[xn]=s.ARCCOS,he[on]=s.ARCTAN,he[Ls]=s.ARCSEC,he[Xi]=s.ARCCSC,he[es]=s.ARCCOT,he[be]=s.SEC,he[ie]=s.COT,he[Z]=s.CSC,he[Ya]=s.SINH,he[Ql]=s.COSH,he[Yl]=s.TANH,he[Xl]=s.ARCSINH,he[Zi]=s.ARCCOSH,he[ea]=s.ARCTANH,he[ta]=s.ARCSECH,he[$s]=s.ARCCSCH,he[eu]=s.ARCCOTH,he[Zl]=s.SECH,he[Ps]=s.COTH,he[Za]=s.CSCH,he[Ze]=s.LN,he[Jr]=s.LG,he[Yo]=s.LOG,he[Qe]=s.EQL,he[kn]=s.COMMA,he[pr]=s.TEXT,he[oa]=s.OPERATORNAME,he[yi]=s.LT,he[Ji]=s.LE,he[Qi]=s.GT,he[vi]=s.GE,he[ki]=s.NE,he[Rc]=s.NGTR,he[Dc]=s.NLESS,he[Xa]=s.NI,he[iu]=s.SUBSETEQ,he[Ic]=s.SUPSETEQ,he[_c]=s.SUBSET,he[Pc]=s.SUPSET,he[Qa]=s.APPROX,he[ru]=s.PERP,he[ou]=s.PROPTO,he[$c]=s.PARALLEL,he[Lc]=s.NPARALLEL,he[Fc]=s.SIM,he[zc]=s.CONG,he[Rs]=s.EXISTS,he[Ds]=s.IN,he[Wl]=s.FORALL,he[wi]=s.LIM,he[Is]=s.EXP,he[Si]=s.TO,he[te]=s.PIPE,he[Kl]=s.SUM,he[Yi]=s.INTEGRAL,he[Gl]=s.PROD,he[Fs]=s.CUP,he[tu]=s.BIGCUP,he[na]=s.CAP,he[nu]=s.BIGCAP,he[Ja]=s.M,he[Xt]=s.IMPLIES,he[ra]=s.CAPRIGHTARROW,he[z]=s.RIGHTARROW,he[js]=s.LEFTARROW,he[su]=s.LONGRIGHTARROW,he[lu]=s.LONGLEFTARROW,he[au]=s.OVERRIGHTARROW,he[uu]=s.OVERLEFTARROW,he[fu]=s.LEFTRIGHTARROW,he[pu]=s.CAPLEFTRIGHTARROW,he[cu]=s.LONGLEFTRIGHTARROW,he[Zt]=s.OVERLEFTRIGHTARROW,he[pn]=s.FACT,he[Re]=s.BINOM,he[Ue]=s.ROW,he[ot]=s.COL,he[fr]=s.COLON,he[Gi]=s.SEMICOLON,he[On]=s.TYPE,he[Do]=s.OVERLINE,he[rr]=s.DOT,he[kr]=s.OVERSET,he[Un]=s.UNDERSET,he[bi]=s.BACKSLASH,he[_s]=s.MATHBF,he[xi]=s.MATHFIELD,he[jc]=s.DELTA;function Te(De,nt){return{op:De,args:nt}}const Io=Te(e.NONE,[Te(e.VAR,["None"])]),Lp=function(De,nt,je){const it=Object.keys(je);it.push("to"),nt=p(nt);function bt(w,O){let D="";if(e.option(De,"allowThousandsSeparator")||e.option(De,"setThousandsSeparator")){let we=e.option(De,"setThousandsSeparator");we=[].concat(we!==void 0?we:","),we.indexOf(w)>=0&&(ft(!O||w===O,i(1013,[O,w])),D=w)}return D}function xt(w){const O=e.option(De,"setDecimalSeparator"),D=e.option(De,"setThousandsSeparator");if(typeof O=="string"){ft(O.length===1,i(1002));const we=O;return D instanceof Array&&D.indexOf(we)>=0&&ft(!1,i(1008,[we])),w===we}return O instanceof Array?(O.forEach(we=>{D instanceof Array&&D.indexOf(we)>=0&&ft(!1,i(1008,[we]))}),O.indexOf(w)>=0):D instanceof Array&&D.indexOf(".")>=0||D==="."?(ft(O===void 0,i(1008,["."])),w===","):w==="."}const Yn=Te(e.NUM,["Infinity"]);function ho(w,O,D,we){if(O==="\\infty")return Yn;let ae="",Ce,qe,Ot,Qt=0,_t="integer";for(O==="."&&ft(!1,i(1004,[O,O.charCodeAt(0)])),Ce=0;Ce<O.length;Ce++)bt(qe=O.charAt(Ce))?((Qt&&Ot!==Ce-4||!Qt&&Ce>4)&&ft(!1,i(1005)),Ot=Ce,Qt++):(xt(qe)&&(_t==="decimal"&&ft(!1,i(1007,[qe,ae+qe])),qe=".",_t="decimal",Qt&&Ot!==Ce-4&&ft(!1,i(1005)),Ot=Ce,Qt++),ae+=qe);_t!=="decimal"&&Ot&&Ot!==Ce-4&&ft(!1,i(1005)),ae=String(ae);const Ut=e.option(w,"strict")&&O||ae;return{op:e.NUM,args:[Ut],separatorCount:Qt,lastSeparatorIndex:Ot,numberFormat:_t}}function yt(w,O){return w.length===0&&(w=[Us]),dn(e.MUL,w,O)}function Cn(w,O){return ft(O.length===1,"1000: Wrong number of arguments for unary node"),Te(w,O)}function dn(w,O,D){if(ft(O.length>0,"1000: Too few argument for binary node"),O.length<2)return O[0];let we=[];return O.forEach(ae=>{D&&ae.op===w&&ae.args.length>1?we=we.concat(ae.args):we.push(ae)}),Te(w,we)}const Us=ho(De,"1"),du=ho(De,"-1");let ia=F,ns=F,sa,hu;const Yr=Ti(nt);function Vs(w){ia=Yr.start(w),sa=Yr.lexeme()}function Me(){return ia}function Hn(){return ft(sa!==void 0,`1000: Lexeme for token T0=${ia} is missing.`),sa}function Be(w){ns===F?(ia=Yr.start(w),sa=Yr.lexeme()):(ft(hu!==void 0,`1000: Lexeme for token=${ns} is missing.`),ia=ns,sa=hu,ns=F)}function an(w){return ns===F&&(ns=Yr.start(w),hu=Yr.lexeme()),ns}function Ft(w,O){const D=Me();if(D!==w){const we=String.fromCharCode(w),ae=D?String.fromCharCode(D):"EOS";ft(!1,i(1001,[`${we}[${w}]`,`${ae}[${D}]`]))}Be(O)}function Bc(w){if(w.op===e.FRAC&&(w.args[0].op===e.NUM||w.args[1].op===e.NUM)){const O=(w.args[0].op===e.SUB||w.args[0].op===e.ADD)&&w.args[0].args.length===1&&w.args[0].args[0]||w.args[0],D=(w.args[1].op===e.SUB||w.args[1].op===e.ADD)&&w.args[1].args.length===1&&w.args[1].args[0]||w.args[1];return O.op===e.NUM&&O.numberFormat==="integer"&&D.op===e.NUM&&D.numberFormat==="integer"&&+D.args[0]!=0}return!1}function rg(w){if(w.op===e.FRAC){const O=w.args[0],D=w.args[1];return O.op===e.NUM&&O.numberFormat==="integer"&&D.op===e.NUM&&D.numberFormat==="integer"&&+O.args[0]<D.args[0]}return!1}const Uc=["K","C","F"],Vc=["g","L","m","s"];function Zo(){let w,O,D,we,ae,Ce=[],qe,Ot,Qt,_t;switch(D=Me()){case nn:case gt:if(Ce=[Hn()],Be(),Me()===Xe){const Ut=Ce[0].toUpperCase()+Hn(),Or=it.some(Je=>Je.indexOf(Ut)===0);O=Te(e.VAR,Ce),Or&&(O=yt([O,ho(De,Hn())]),Be())}else Ce[0]==="\\emptyset"?Ce[0]="\\varnothing":Ce[0]==="\\mu"&&Me()===pr&&Vc.includes(Hn())?(Ce[0]=`\\mu${Hn()}`,Be()):Ce[0]==="\\degree"&&Me()===pr&&Uc.includes(Hn())&&(Ce[0]=`\\degree ${Hn()}`,Be()),O=Te(e.VAR,Ce),r()&&Me()===ye&&an()===X&&(Ft(ye),Ft(X));break;case pr:Ce=[Hn()],Be(),O=Te(e.TEXT,[Te(e.VAR,Ce)]);break;case Xe:O=ho(De,Hn()),Be();break;case Vn:an()===ye||an()===Ln?O=Vt(D):an()===te?O=dr(D):O=Lr(D);break;case On:O=Te(e.TYPE,[Te(e.VAR,[Hn()])]),Be();break;case $e:case Ke:case Bs:O=Lr(D);break;case B:Hc?O=Io:O=Lr(D);break;case ye:case Ln:O=Vt(D);break;case Lt:{Be();const Ut=Vt();if(Ut.op===e.VAR){if(Ut.args[0].indexOf("array")===0){if(Me()===ye){for(;Me()!==X;)Be();Be()}}else if(Ut.args[0].indexOf("matrix")>=0&&Me()===$e){for(;Me()!==B;)Be();Be()}}const Or=Fp();Ft(Bt),Vt(),Ut.op===e.VAR&&(Ut.args[0].indexOf("matrix")>=0||Ut.args[0].indexOf("array")===0?O=Te(e.MATRIX,[Or]):ft(!1,"1000: Unrecognized LaTeX name"));break}case te:O=dr();break;case Mc:Be(),O=Cn(e.ABS,[Vt()]);break;case me:Be(),Ot=Vt(),Qt=Vt(),Ot=Ot.args.length===0?Te(e.COMMA,[Io]):Ot,Qt=Ot.args.length===0?Te(e.COMMA,[Io]):Qt,O=Te(e.FRAC,[Ot,Qt]),O.isFraction=Bc(O);break;case Re:{Be();const Ut=Vt(),Or=Vt();O=dn(e.BINOM,[Ut,Or]);break}case Fe:switch(Be(),Me()){case $e:{const Ut=og(),Or=Vt();O=Te(e.SQRT,[Or,Ut]);break}case ye:ae=Vt(),O=Te(e.SQRT,[ae,Te(e.NUM,["2"])]);break;default:ft(!1,i(1001,["{ or (",String.fromCharCode(Me())]));break}break;case Tt:Be(),O=Te(e.VEC,[Vt()]);break;case oa:{const Ut=Hn();Be(),O=Te(e.OPERATORNAME,[Te(e.VAR,[Ut]),Zo()]);break}case Le:case Pe:case pt:case be:case ie:case Z:case Ya:case Ql:case Yl:case Zl:case Ps:case Za:for(Be();Me()===oe;)Be({oneCharToken:!0}),Ce.push(Xo());return Ce.length===1&&Vp(Ce[0])?(we=`arc${he[D]}`,Ce.pop()):we=he[D],(w=Me())===Vn?(an()===ye||an()===Ln?O=Vt(w):an()===te?O=dr(w):O=Lr(w),Ce.unshift(Te(we,[O]))):(w=Me())===ye||w===Ln?Ce.unshift(Te(we,[Vt(w)])):(w=Me())===Ke||w===$e?Ce.unshift(Te(we,[Lr(w)])):(qe=yn(qn(!0)),_t=Zn(De,qe),qe=_t&&mo(qe)||qe,Ce.unshift(Te(we,[qe]))),Ce.length>1?O=Te(e.POW,Ce):O=Ce[0],_t&&(O=yt([O,Te(e.VAR,["d"]),_t])),O;case wt:case xn:case on:case Ls:case Xi:case es:case Xl:case Zi:case ea:case ta:case $s:case eu:for(Be();(w=Me())===oe;)Be({oneCharToken:!0}),Ce.push(Xo());return(w=Me())===Vn?(an()===ye||an()===Ln?O=Vt(w):an()===te?O=dr(w):O=Lr(w),Ce.unshift(Te(he[D],[O]))):(w=Me())===ye||w===Ln?Ce.unshift(Te(he[D],[Vt(w)])):(w=Me())===Ke||w===$e?Ce.unshift(Te(he[D],[Lr(w)])):(w=Me())===te?Ce.unshift(Te(he[D],[dr(w)])):(qe=yn(qn(!0)),_t=Zn(De,qe),qe=_t&&mo(qe)||qe,Ce.unshift(Te(he[D],[qe]))),Ce.length>1?O=Te(e.POW,Ce):O=Ce[0],_t&&(O=yt([O,Te(e.VAR,["d"]),_t])),O;case Ze:return Be(),(w=Me())===Vn?(an()===ye||an()===Ln?O=Vt(w):an()===te?O=dr(w):O=Lr(w),Ce.push(O)):(w=Me())===ye||w===Ln?Ce.push(Vt(w)):(w=Me())===Ke||w===$e?Ce.push(Lr(w)):(w=Me())===te?Ce.push(dr(w)):(qe=yn(qn(!0)),_t=Zn(De,qe),qe=_t&&mo(qe)||qe,Ce.push(qe)),O=Te(e.LOG,[Te(e.VAR,["e"])].concat(Ce)),_t&&(O=yt([O,Te(e.VAR,["d"]),_t])),O;case Jr:return Be(),(w=Me())===Vn?(an()===ye||an()===Ln?O=Vt(w):an()===te?O=dr(w):O=Lr(w),Ce.push(O)):(w=Me())===ye||w===Ln?Ce.push(Vt(w)):(w=Me())===Ke||w===$e?Ce.push(Lr(w)):(w=Me())===te?Ce.push(dr(w)):(qe=yn(qn(!0)),_t=Zn(De,qe),qe=_t&&mo(qe)||qe,Ce.push(qe)),O=Te(e.LOG,[Te(e.NUM,["10"])].concat(Ce)),_t&&(O=yt([O,Te(e.VAR,["d"]),_t])),O;case Yo:return Be(),(w=Me())===ce?(Be({oneCharToken:!0}),Ce.push(Zo())):Ce.push(Te(e.NUM,["10"])),(w=Me())===Vn?(an()===ye||an()===Ln?O=Vt(w):an()===te?O=dr(w):O=Lr(w),Ce.push(O)):(w=Me())===ye||w===Ln?Ce.push(Vt(w)):(w=Me())===Ke||w===$e?Ce.push(Lr(w)):(w=Me())===te?Ce.push(dr(w)):(qe=yn(qn(!0)),_t=Zn(De,qe),qe=_t&&mo(qe)||qe,Ce.push(qe)),O=Te(e.LOG,Ce),_t&&(O=yt([O,Te(e.VAR,["d"]),_t])),O;case wi:return yu();case Yi:case ts:case Ei:return ti();case Kl:case Gl:case Fs:case tu:case na:case nu:return Be(),Me()===ce&&(Be({oneCharToken:!0}),Ce.push(Zo()),Me()===oe&&(Ft(oe,{oneCharToken:!0}),Ce.push(Zo()))),Ce.push(qn()),Te(he[D],Ce);case Rs:return Be(),Te(e.EXISTS,[Ni()]);case Wl:case ra:case z:case js:case su:case lu:case au:case uu:case pu:case fu:case cu:case Zt:return Be(),Te(he[D],[Js()]);case Is:return Be(),Te(e.EXP,[Ks()]);case Ja:return Be(),Te(e.M,[qn()]);case $p:return Be(),Te(e.FORMAT,[Vt()]);case Do:return Be(),Te(e.OVERLINE,[Vt()]);case rr:Be();{let Ut,Or="";Ut=Vt(),ft(Ut.op===e.NUM),Or+=Ut.args[0],Me()===Xe&&an()===rr&&(Ut=Zo(),ft(Ut.op===e.NUM),Or+=Ut.args[0]),Me()===rr&&(Be(),Ut=Vt(),ft(Ut.op===e.NUM),Or+=Ut.args[0]),qe=Te(e.OVERLINE,[ho(De,Or)])}return qe;case xi:return Be(),Te(he[D],[Vt()]);case kr:case Un:return Be(),Ot=Vt(),Qt=Vt(),Qt.args.push(Te(he[D],[Ot])),Qt;case _s:return Be(),Ot=Vt(),Te(e.MATHBF,[Ot]);case Bn:return Be(),Te(e.VAR,["?"]);case jc:{Be();let Ut;return Me()===gt?(Ut=Hn(),Be()):Ut="",Te(e.VAR,[`Delta_${Ut}`])}case Ee:return Be(),Io;default:ft(!e.option(De,"strict"),i(1006,[D])),O=Io;break}return O}function Fp(){const w=[];for(w.push(xr());Me()===Ue;)Be(),w.push(xr());return Te(he[Ue],w)}function xr(){const w=[];for(w.push(Js());Me()===ot;)Be(),w.push(Ni());return Te(he[ot],w)}let la=0;function dr(w){w=w||te,la++,Ft(w);let O,D;w===Vn?Ft(O=Me()):O=w;const we=Ks();return Ft(D=w===Vn&&Qn||O),D===Qn&&Ft(D=O),la--,Cn(e.ABS,[we])}function Vt(w){w=w||ye,Ft(w);let O,D;w===Vn?Ft(O=Me()===Ln&&Ln||ye):O=w;let we;return Me()===Qn||Me()===X||Me()===ln?(Ft(D=Me()),D===Qn&&Ft(D=Me()===Ee&&Ee||Me()===ln&&ln||X),we=Te(e.COMMA,[])):(we=Js(),Ft(D=w===Vn&&Qn||w===Ln&&ln||X),D===Qn&&Ft(D=Me()===Ee&&Ee||Me()===ln&&ln||X),we.op===Io.op&&we.args[0]===Io.args[0]&&(we=Te(e.COMMA,[]))),we.lbrk=O,we.rbrk=D,we}let Hs=0;function og(w){w=w||$e,ft(w===Vn||w===$e,"1000: Internal error"),Hs++,Ft(w);let O;w===Vn&&Ft($e);const D=Js();return Ft(O=w===Vn&&Vn||B),O===Qn&&Ft(O=B),Hs--,D}let Hc;function Lr(w){Hs++,Ft(w);let O,D,we;w===Vn?(Ft(O=Me()),we=!0):O=w;let ae;if(Me()===Qn||Me()===ne||Me()===B?(Ft(D=we&&Qn||Me()),D===Qn&&Ft(D=O===Ke&&ne||O===$e&&B||O===Bs&&Qr),ae=Te(e.COMMA,[])):(Hc=!0,ae=Js(!0),Ft(D=we&&Qn||Me()===ne&&ne||Me()===Qr&&Qr||w===Vn&&Qn||Me()===$e&&$e||B),D===Qn&&Ft(D=Me()===ne&&ne||Me()===Qr&&Qr||Me()===$e&&$e||B)),O=O===B?Ke:O,D=D===$e?ne:D,(O===Ke||O===$e||O===B)&&(D===ne||D===B||D===$e)){const Ce=ae.op===e.COMMA&&ae.args.length===2&&(O===Ke&&D===ne&&e.INTERVALOPEN||O===$e&&D===B&&e.INTERVAL)||O===Ke&&D===ne&&e.PAREN||O===$e&&D===B&&e.BRACKET||O===Ke&&D===B&&e.INTERVALLEFTOPEN||O===$e&&D===ne&&e.INTERVALRIGHTOPEN;ae=Te(Ce,[ae])}else if(ae.lbrk===Ee&&ae.rbrk===te)ae=Te(e.EVALAT,[ae]);else if(O===Bs&&D===Qr)ae=Te(e.ANGLEBRACKET,[ae]);else if(ae.op===e.COMMA||O===Ke||O===$e){ft(O===Ke&&D===ne||O===$e&&D===B||O===D,i(1011,[`tk1=${O} tk2=${D}`]));const Ce=O===$e&&e.BRACKET||e.PAREN;ae=Te(Ce,[ae])}return Hs--,Hc=!1,ae.lbrk=O,ae.rbrk=D,ae}function zp(){const w=[Zo()];for(;Me()===oe;){Be({oneCharToken:!0});let D;if((Up(w[0])||r())&&((D=Me())===pe||D===et))Be(),w.push(Cn(he[D],[Us]));else{let we=Xo();we.op===e.VAR&&we.args[0]==="\\circ"&&(Me()===pr&&(Hn()==="K"||Hn()==="C"||Hn()==="F")?(we=yt([w.pop(),Cn(e.VAR,[`\\degree ${Hn()}`])]),Be()):we=yt([w.pop(),Cn(e.VAR,["\\degree"])])),w.push(we)}}if(w.length>1){let D=w.pop();return w.reverse().forEach(we=>{D=Te(e.POW,[we,D])}),D.isPolynomial=Q(D),D}const O=w[0];return O.isPolynomial=Q(O),O}function jp(){let w,O=zp();switch(w=Me()){case rn:Be(),O=Te(e.PERCENT,[O]);break;case pn:Be(),O=Te(e.FACT,[O]);break;default:if(w===te&&an()===ce){Be();const D=[O];Be({oneCharToken:!0}),D.push(Te(e.SUBSCRIPT,[Ni()])),O=Te(e.PIPE,D)}else r()&&(w===pe||w===et)&&an()===X&&(Be(),O=Cn(he[w],[O]));break}return O}function qs(w){return w===pe||w===et||w===kn||w===X||w===ne||w===B||w===Qr||w===Qn||w===F}function Xo(){let w,O,D;switch(w=Me()){case pe:case zs:case et:Be(),O=Te(he[w],[Xo()]);break;case q:Be(),O=qn(!0),O=Te(he[w],[O]);break;case ce:if(D=he[w],Be({oneCharToken:!0}),(w=Me())===pe||w===et?(Be(),O=Us):O=Xo(),O=Te(D,[O]),(w=Me())===oe){const we=[O];D=he[w],Be({oneCharToken:!0}),(w=Me())===pe||w===et?(Be(),O=Us):O=Xo(),we.push(O),O=Te(D,we)}break;case oe:D=he[w],Be({oneCharToken:!0}),(w=Me())===pe||w===et?(Be(),O=Us):O=Xo(),O=Te(D,[O]);break;default:w===gt&&Hn()==="$"?(Be(),qs(Me())?O=Te(e.VAR,["$"]):(O=yt([Te(e.VAR,["$"]),jp()]),O.args[1].isPolynomialTerm=!0)):O=jp();break}return O}function Bp(){const w=[Xo()];for(;Me()===ce;)Be({oneCharToken:!0}),w.push(zp()),r()&&Me()===ye&&(Ft(ye),Ft(X));let O;return w.length===1?(O=w[0],ft(O.op!==e.SUBSCRIPT||O.args.length!==1,i(1012,[nt]))):O=D(w),O;function D(we){let ae,Ce;return we.forEach(qe=>{qe.op===e.SUBSCRIPT&&(qe=D(qe.args));let Ot,Qt;qe.op===e.POW&&!qe.lbrk?(ae=qe.args[1],Ot=Ce&&Ce.op===e.SUBSCRIPT&&Ce.args||Ce&&[Ce]||[],Qt=qe.args[0].op===e.SUBSCRIPT&&qe.args[0].args||[qe.args[0]]):Ce&&Ce.op===e.POW?(ae=Ce.args[1],Ot=Ce.args[0].op===e.SUBSCRIPT&&Ce.args[0].args||[Ce.args[0]],Qt=qe.op===e.SUBSCRIPT&&qe.args||[qe]):(Ot=Ce&&Ce.op===e.SUBSCRIPT&&Ce.args||Ce&&[Ce]||[],Qt=qe.op===e.SUBSCRIPT&&qe.args||[qe]);const _t=Ot.concat(Qt);Ce=_t.length>1&&Te(e.SUBSCRIPT,_t)||_t[0]}),ae&&dn(e.POW,[Ce,ae])||Ce}}function aa(){let w,O=Bp();if(rs(O))return Zr(O);if(ua(O)&&(Me()===me||Me()===Xe&&an()===de)){let D=aa();if(rs(D))return Zr(D);if(qp(O,D)){let we;D.op===e.PERCENT&&(D=D.args[0],we=!0);let ae;zt(O)&&(ae=!0,O=Sn(O)),O=dn(e.ADD,[O,D]),O.isMixedNumber=!0,ae&&(O=Sn(O)),we===!0&&(O=Te(e.PERCENT,[O]))}else O=dn(e.MUL,[O,D]),D.isImplicit=!0}for(;(w===void 0||w===Me())&&(w=Me())===de;)Be(),O=Te(he[w],[O,Bp()]),O.isFraction=Bc(O),O.isSlash=w===de;return O.op===e.FRAC&&O.args[1].op===e.PERCENT&&(O=Te(e.PERCENT,[Te(e.FRAC,[O.args[0],O.args[1].args[0]])])),O}function Up(w){if(w.op!==e.VAR)return!1;const O=e.env[w.args[0]];return!!(O&&O.name)}function ei(w,O){return ft(typeof O>"u"||typeof O=="string","1000: Invalid id"),w.op===e.VAR?O===void 0?!0:w.args[0]===O:w.op===e.POW&&ei(w.args[0])&&gu(w.args[1])?O===void 0?!0:w.args[0].args[0]===O:!1}function mu(w){return w.op===e.NUM&&(w.args[0]==="1"||w.args[0]==="1.")}function Vp(w){return w.op===e.SUB&&w.args.length===1&&mu(w.args[0])}function Hp(w){return w===kt||w===un||w===de||w===Oi||w===Jl}function ig(w){return w===Le||w===Pe||w===pt||w===be||w===ie||w===Z||w===Ya||w===Ql||w===Yl||w===Zl||w===Ps||w===Za||w===wt||w===xn||w===on||w===Ls||w===es||w===Xi||w===Xl||w===Zi||w===ea||w===ta||w===eu||w===$s||w===Ze||w===Yo||w===Jr}function rs(w){if(w.op!==e.FRAC)return!1;const O=w.args[0],D=O.op===e.MUL&&O.args[0].op===e.VAR&&O.args[0].args[0]||O.op===e.VAR&&O.args[0]||O.op===e.POW&&O.args[0].op===e.VAR&&O.args[0].args[0],we=w.args[1],ae=we.op===e.MUL&&we.args[0].op===e.VAR&&we.args[0].args[0];return D==="d"&&ae==="d"&&(we.args[1]&&we.args[1].op===e.VAR||we.args[1]&&we.args[1].op===e.POW&&we.args[1].args[0]&&we.args[1].args[0].op===e.VAR)}function Zr(w){if(w.op!==e.FRAC)return null;const O=w.args[0],D=w.args[1],we=O.op===e.MUL&&yt(O.args.slice(1))||qn();ft(D.args.length===2);const ae=D.args[1],Ce=ae.op===e.POW&&ae.args[0]||ae,qe=ae.op===e.POW&&ae.args[1]||Us;return w=Te(e.DERIV,[we,Ce,qe]),w}function qn(w=!1){let O,D,we=!1,ae=[],Ce;D=aa(),ae=[D];let qe=0;for(;(O=Me())&&!Jt(O)&&!Kt(O)&&!Wp(O)&&O!==kn&&O!==Gi&&O!==fr&&!qc(O)&&O!==X&&O!==ln&&O!==ne&&O!==Qn&&O!==Qr&&!((O===$e||O===B)&&Hs>0)&&O!==z&&O!==ra&&O!==yi&&!(O===te&&la>0)&&O!==Ue&&O!==ot&&O!==Bt&&!(w&&(Hp(O)||ig(O)||O===Ke||O===Vn||O===$e||O===Bs||O===_s)||Zn(De,yn(D)));){if(we=!1,Hp(O)&&(Be(),we=!0),D=aa(),(O===Jl||O===Oi||O===un)&&(D=dn(he[O],[ae.pop(),D],!0)),we||ae.length===0||D.lbrk||ae[ae.length-1].op!==e.NUM||!(ae[ae.length-1].numberFormat==="decimal"&&ae[ae.length-1].lastSeparatorIndex===ae[ae.length-1].args[0].length-1)||ae[ae.length-1].lastSeparatorIndex===ae[ae.length-1].args[0].length||ae[ae.length-1].lbrk||le([ae[ae.length-1],D])||D.op!==e.NUM||ft(!1,"Shouldn't get here"),ft(we||ae.length===0||D.lbrk||ae[ae.length-1].op!==e.NUM||ae[ae.length-1].lbrk||le([ae[ae.length-1],D])||D.op!==e.NUM,i(1010)),r()&&O===Ke&&ei(ae[ae.length-1],"M"))ae.pop(),D=Cn(e.M,[D]);else if(!we&&ae.length>0)if(ae.length>0&&qp(ae[ae.length-1],D))O=ae.pop(),zt(O)&&(D=dn(e.MUL,[du,D])),D=dn(e.ADD,[O,D]),D.isMixedNumber=!0;else if(ae.length>0&&ae[ae.length-1].op===e.VAR&&D.op===e.VAR&&D.args[0].indexOf("'")===0)D=dn(e.POW,[ae.pop(),D]),D.isImplicit=D.args[0].isImplicit;else if(ae.length>0&&(ae[ae.length-1].op===e.MUL||ae[ae.length-1].op===e.DOT)&&ae[ae.length-1].args[ae[ae.length-1].args.length-1].op===e.VAR&&D.op===e.VAR&&D.args[0].indexOf("'")===0)O=ae.pop(),D=yt(O.args.concat(dn(e.POW,[O.args.pop(),D]))),D.isImplicit=D.args[0].isImplicit;else if(ae.length>0&&ae[ae.length-1].op===e.VAR&&D.op===e.POW&&D.args[0].op===e.VAR&&D.args[0].args[0].indexOf("'")===0)D=Te(e.POW,[dn(e.POW,[ae.pop(),D.args[0]])].concat(D.args.slice(1)));else if(ae.length>0&&(Ce=le([ae[ae.length-1],D])))ae.pop(),D=Ce;else if(Ge(ae,D)){const Qt=ae.pop();D=dn(e.POW,[ho(De,"10"),Xo()]),D=dn(e.TIMES,[Qt,D]),dt(D.args)&&(D.isScientific=!0)}else D.op===e.VAR&&D.args[0]==="\\degree"&&ae.length===1&&ae[0].op===e.SUB&&ae[0].args.length===1?(D=Cn(e.SUB,[yt([ae[0].args[0],D])]),ae.pop()):D=yt([ae.pop(),D],!0);else(O===Oi||O===Jl)&&dt(D.args)&&(D.isScientific=!0);ae.push(D),ft(qe++<1e3,"1000: Stuck in loop in multiplicativeExpr()")}const Ot=ae[0];return Ot.op===e.MUL&&Ot.args.length>1?sg(Ot):Ot}function sg(w){ft(w.op===e.MUL,"1000: Internal error");let{args:O}=w,D=O[0];return D.op===e.COMMA&&D.args.length===0&&(O=O.slice(1,O.length),O[0].isImplicit=!1),D=O[O.length-1],D.op===e.COMMA&&D.args.length===0&&(O=O.slice(0,O.length-1)),Te(w.op,O)}function ua(w){return(w.op===e.SUB||w.op===e.ADD)&&w.args.length===1&&(w=w.args[0]),w.op===e.NUM?w:!1}function qp(w,O){return(w.op===e.SUB||w.op===e.ADD)&&w.args.length===1&&(w=w.args[0]),O.op===e.PERCENT&&(O=O.args[0]),!!(w.op===e.NUM&&rg(O))}function gu(w){let O;return w?((w.op===e.SUB||w.op===e.ADD)&&w.args.length===1&&(w=w.args[0]),w.op===e.NUM&&(O=new _n(w.args[0]))&&gu(O)?!0:w instanceof _n?w.modulo(Ws).cmp(lg)===0:!1):!1}const lg=new _n("0"),Ws=new _n("1");function Q(w){let O=0;if(w.op===e.POW){const D=w.args[0],we=w.args[1];(D.op===e.VAR||D.isPolynomial||D.op===e.PAREN&&Q(D.args[0]))&&gu(we)&&(O=parseInt(we.args[0],10))}else w.op===e.VAR?O=1:w.op===e.ADD||w.op===e.SUB?w.args.forEach(D=>{const we=Q(D);O=we>O&&we||O}):w.op===e.MUL&&w.args.forEach(D=>{const we=Q(D);O=we>O&&we||O});return O}function ve(w){return w.op===e.MUL||w.op===e.TIMES||w.op===e.CDOT}function le(w){if(!ua(w[0]))return null;let O,D=!1;w[0].op===e.SUB&&w[0].args[0].op===e.NUM&&(w[0]=w[0].args[0],D=!0),ve(w[0])&&w[0].args[w[0].args.length-1].numberFormat==="decimal"&&(O=w[0].args.slice(0,w[0].args.length-1),w=w[0].args.slice(w[0].args.length-1).concat(w[1]));let we,ae,Ce;if(!w[0].lbrk&&(w[0].op===e.NUM&&w[0].numberFormat==="decimal"||w[0].op===e.VAR&&w[0].args[0]==="?"||w[0].op===e.TYPE&&w[0].args[0].op===e.VAR&&w[0].args[0].args[0]==="decimal")){if(!w[1].lbrk&&w[1].op===e.OVERLINE)ae=w[0],Ce=w[1].args[0];else return null;ae.isRepeating=!0,Ce.isRepeating=!0,we=dn(e.ADD,[ae,Ce]),we.numberFormat="decimal",we.isRepeating=!0,O&&(we=yt(O.concat(we)))}else we=null;return we=we!==null&&D&&Cn(e.SUB,[we])||we,we}function Ge(w,O){return!!(w.length>0&&ua(w[w.length-1])&&O.op===e.TEXT&&(O.args[0].args[0]==="E"||O.args[0].args[0]==="e")&&(Me()===Xe||(Me()===45||Me()===43)&&an()===Xe))}function dt(w){let O;if(w.length===2){const D=w[0],we=w[1];return!!((O=ua(D))&&+O.args[0]>=1&&+O.args[0]<10&&we.op===e.POW&&(O=ua(we.args[0]))&&O.args[0]==="10"&&gu(we.args[1]))}return!1}function zt(w){return typeof w=="number"?w<0:w.args.length===1?w.op===s.SUB&&w.args[0].args[0]>0||w.op===e.NUM&&+w.args[0]<0:w.args.length===2?w.op===s.MUL&&zt(w.args[0]):!1}function Sn(w){if(typeof w=="number")return-w;if(w.op===e.SUB&&w.args.length===1)return w.args[0];if(w.op===e.MUL){const O=w.args.slice(0);return yt([Sn(O.shift())].concat(O))}return w.op===e.POW&&Vp(w.args[1])?dn(e.POW,[Sn(w.args[0]),du]):Cn(e.SUB,[w])}function Jt(w){return w===pe||w===et||w===q||w===bi||w===Fs||w===na}function Ks(){let w=qn(),O;for(;Jt(O=Me());){Be();let D=qn();switch(O){case bi:case Fs:case na:w.lbrk===Ln&&w.rbrk===ln&&(w=Te(e.SET,[w])),D.lbrk===Ln&&D.rbrk===ln&&(D=Te(e.SET,[D])),w=dn(he[O],[w,D]);break;case q:w=dn(e.PM,[w,D]);break;case et:w=dn(e.SUB,[w,D]);break;default:{const we=!e.option(De,"compareGrouping")&&!(w.isMixedNumber||D.isMixedNumber);w=dn(e.ADD,[w,D],we);break}}}return w.isPolynomial=Q(w),w}function ca(w){return w.op===e.SIN||w.op===e.COS||w.op===e.TAN||w.op===e.SEC||w.op===e.COT||w.op===e.CSC||w.op===e.SINH||w.op===e.COSH||w.op===e.TANH||w.op===e.SECH||w.op===e.COTH||w.op===e.CSCH||w.op===e.ARCSIN||w.op===e.ARCCOS||w.op===e.ARCTAN||w.op===e.ARCSEC||w.op===e.ARCCOT||w.op===e.ARCCSC||w.op===e.ARCSINH||w.op===e.ARCCOSH||w.op===e.ARCTANH||w.op===e.ARCSECH||w.op===e.ARCCOTH||w.op===e.ARCCSCH||w.op===e.LN||w.op===e.LOG||w.op===e.LG}function yn(w){let O=[],D=w.op;if(D===e.NUM||D===e.VAR)return w;(D===e.CDOT||D===e.TIMES)&&(D=e.MUL),w.args.forEach(ae=>{ae=yn(ae),D!==e.INTEGRAL&&ae.op===D&&ae.args.length>1?O=O.concat(ae.args):O.push(ae)});const{isMixedNumber:we}=w;return w=Te(D,O),w.isMixedNumber=we,w}function Zn(w,O){if(!e.option(w,"parsingIntegralExpr"))return null;const D=O.args.length;if(O.op===e.MUL&&O.args[D-1].op===e.FRAC||ve(O)&&ca(O.args[D-1]))return Zn(w,O.args[D-1]);if(O.op===e.FRAC)return Zn(w,O.args[0]);if(ca(O))return Zn(w,O.args[D-1]);const we=O.args[D-2],ae=O.args[D-1];return O&&O.op===e.MUL&&we.op===e.VAR&&we.args[0]==="d"&&ae.op===e.VAR&&ae||null}function mo(w){ft(ve(w)||w.op===e.FRAC||ca(w));let O=w.args[w.args.length-1];return w.op===e.MUL&&O.op===e.FRAC?(O=mo(O),w=yt(w.args.slice(0,w.args.length-1).concat(O))):ve(w)&&ca(O)?(O=mo(O),w=Te(w.op,w.args.slice(0,w.args.length-1).concat(O))):w.op===e.FRAC?w=Te(e.FRAC,[mo(w.args[0]),w.args[1]]):ca(w)?w=Te(w.op,[mo(w.args[w.args.length-1])]):w=yt(w.args.slice(0,w.args.length-2)),w}function ti(w){let O,D;const we=e.option(De,"parsingIntegralExpr",!0),ae=[];if(Me()===Ei)Ft(Ei),O=ti(Ei),D=Zn(De,yn(qn()));else if(Me()===ts||w===Ei)w!==Ei&&Ft(ts),O=ti(ts),D=Zn(De,yn(qn()));else if(w!==ts&&Ft(Yi),Me()===ce&&(Be({oneCharToken:!0}),ae.push(Zo()),Me()===oe&&(Ft(oe,{oneCharToken:!0}),ae.push(Zo()))),Me()===Yi)O=ti(),D=Zn(De,yn(qn()));else{O=yn(qn());let Ce;for(D=Zn(De,O),O=D&&mo(O)||O;Jt(Ce=Me())&&!D;){Be();let qe=yn(qn());switch(D=Zn(De,qe),qe=D&&mo(qe)||qe,Ce){case et:O=dn(e.SUB,[O,qe]);break;default:O=dn(e.ADD,[O,qe],!0);break}}}return ae.push(O),ae.push(D||Io),e.option(De,"parsingIntegralExpr",we),ft(D,i(1014,[nt.replace(/\\\\/g,"\\")])),Te(e.INTEGRAL,ae)}function yu(){Ft(wi);const w=[];return Me()===ce&&(Be({oneCharToken:!0}),w.push(Zo())),w.push(qn()),Te(e.LIM,w)}function Gs(){let w=Ks();for(;Me()===fr;){Be();const O=Ks();w=dn(e.COLON,[w,O],!0)}return w}function Kt(w){return w===yi||w===Ji||w===Qi||w===vi||w===Rc||w===Dc||w===Ds||w===Si||w===ru||w===ou||w===Xa||w===zs||w===iu||w===Ic||w===_c||w===Pc||w===$c||w===Lc||w===Fc||w===zc}function ag(){let w=Me(),O=Gs();const D=[];let we=!1;for(;Kt(w=Me());){if(Be(),w===zs){we=!0;continue}const ae=Gs();O=Te(he[w],[O,ae]),we&&(O.op=`n${O.op}`,we=!1),D.push(O),O=e.create(De,ae)}return D.length===0?O:D.length===1?D[0]:Te(e.COMMA,D)}function qc(w){return w===Qe||w===ki||w===Qa}function Ni(){let w=ag(),O;const D=[];for(;qc(O=Me())||O===z;){Be();const we=Gs();w=Te(he[O],[w,we]),D.push(w),w=e.create(De,we)}return D.length===0?w:D.length===1?D[0]:Te(e.COMMA,D)}function Wp(w){return w===Xt||w===z||w===ra||w===js||w===su||w===lu||w===au||w===uu||w===pu||w===fu||w===cu||w===Zt}function Kp(){let w=Ni(),O;for(;Wp(O=Me());){Be();const D=Ni();w=Te(he[O],[w,D])}return w}function Js(w){const O=Kp(),D=[O];let we;for(;(we=Me())===kn||w&&we===Gi;)Be(),f(Me())||D.push(Kp());return D.length>1?Te(he[kn],D):O}function vu(){try{if(Vs(),Me()){let w=Js();return ft(!Me(),i(1003,[Yr.pos(),Yr.lexeme(),`"${nt.substring(Yr.pos()-1)}"`])),w.lbrk===Ln&&(w=Te(e.SET,[w])),w}}catch(w){throw console.log(`SYNTAX ERROR in: ${nt}
${w.stack}`),w}return Io}return{expr:vu};function Ti(w){let O=0,D="";const we={"\\Delta":jc,"\\cdot":Jl,"\\times":Oi,"\\div":un,"\\dfrac":me,"\\frac":me,"\\sqrt":Fe,"\\vec":Tt,"\\pm":q,"\\not":zs,"\\sin":Le,"\\cos":Pe,"\\tan":pt,"\\sec":be,"\\cot":ie,"\\csc":Z,"\\arcsin":wt,"\\arccos":xn,"\\arctan":on,"\\arcsec":Ls,"\\arccsc":Xi,"\\arccot":es,"\\asin":wt,"\\acos":xn,"\\atan":on,"\\asec":Ls,"\\acsc":Xi,"\\acot":es,"\\sinh":Ya,"\\cosh":Ql,"\\tanh":Yl,"\\sech":Zl,"\\coth":Ps,"\\csch":Za,"\\arcsinh":Xl,"\\arccosh":Zi,"\\arctanh":ea,"\\arcsech":ta,"\\arccsch":$s,"\\arccoth":eu,"\\ln":Ze,"\\lg":Jr,"\\log":Yo,"\\left":Vn,"\\right":Qn,"\\big":null,"\\Big":null,"\\bigg":null,"\\Bigg":null,"\\ ":null,"\\quad":null,"\\qquad":null,"\\text":pr,"\\textrm":pr,"\\textit":pr,"\\textbf":pr,"\\operatorname":oa,"\\lt":yi,"\\le":Ji,"\\leq":Ji,"\\gt":Qi,"\\ge":vi,"\\geq":vi,"\\ne":ki,"\\neq":ki,"\\ngtr":Rc,"\\nless":Dc,"\\ni":Xa,"\\subseteq":iu,"\\supseteq":Ic,"\\subset":_c,"\\supset":Pc,"\\approx":Qa,"\\implies":Xt,"\\Rightarrow":ra,"\\rightarrow":z,"\\leftarrow":js,"\\longrightarrow":su,"\\longleftarrow":lu,"\\overrightarrow":au,"\\overleftarrow":uu,"\\Leftrightarrow":pu,"\\leftrightarrow":fu,"\\longleftrightarrow":cu,"\\overleftrightarrow":Zt,"\\perp":ru,"\\propto":ou,"\\parallel":$c,"\\nparallel":Lc,"\\sim":Fc,"\\cong":zc,"\\exists":Rs,"\\in":Ds,"\\forall":Wl,"\\lim":wi,"\\exp":Is,"\\to":Si,"\\sum":Kl,"\\int":Yi,"\\iint":ts,"\\iiint":Ei,"\\prod":Gl,"\\cup":Fs,"\\bigcup":tu,"\\cap":na,"\\bigcap":nu,"\\%":rn,"\\binom":Re,"\\begin":Lt,"\\end":Bt,"\\colon":fr,"\\vert":te,"\\lvert":te,"\\rvert":te,"\\mid":te,"\\type":On,"\\format":$p,"\\overline":Do,"\\dot":rr,"\\overset":kr,"\\underset":Un,"\\backslash":bi,"\\mathbf":_s,"\\abs":Mc,"\\MathQuillMathField":xi,"\\ldots":gt,"\\vdots":gt,"\\ddots":gt,"\\infty":Ci,"\\langle":Bs,"\\rangle":Qr},ae={162:"\\cent",176:"\\degree",8592:"\\leftarrow",8594:"\\rightarrow",8652:"\\rightleftharpoons",8704:"\\forall",8705:"\\complement",8706:"\\partial",8707:"\\exists",8708:"\\nexists",8709:"\\varnothing",8710:"\\triangle",8711:"\\nabla",8712:"\\in",8713:"\\notin",8714:"\\in",8715:"\\ni",8716:"\\notni",8717:"\\ni",8718:"\\blacksquare",8719:"\\sqcap",8720:"\\amalg",8721:"\\sigma",8722:"-",8723:"\\mp",8724:"\\dotplus",8725:"/",8726:"\\setminus",8727:"*",8728:"\\circ",8729:"\\bullet",8730:"\\sqrt",8731:null,8732:null,8733:"\\propto",8734:"\\infty",8735:"\\llcorner",8736:"\\angle",8737:"\\measuredangle",8738:"\\sphericalangle",8739:"\\divides",8740:"\\notdivides",8741:"\\parallel",8742:"\\nparallel",8743:"\\wedge",8744:"\\vee",8745:"\\cap",8746:"\\cup",8747:"\\int",8748:"\\iint",8749:"\\iiint",8750:"\\oint",8751:"\\oiint",8752:"\\oiiint",8753:null,8754:null,8755:null,8756:"\\therefore",8757:"\\because",8758:"\\colon",8759:null,8760:null,8761:null,8762:null,8763:null,8764:"\\sim",8765:"\\backsim",8766:null,8767:null,8768:"\\wr",8769:"\\nsim",8770:"\\eqsim",8771:"\\simeq",8772:null,8773:"\\cong",8774:null,8775:"\\ncong",8776:"\\approx",8777:null,8778:"\\approxeq",8779:null,8780:null,8781:"\\asymp",8782:"\\Bumpeq",8783:"\\bumpeq",8784:"\\doteq",8785:"\\doteqdot",8786:"\\fallingdotseq",8787:"\\risingdotseq",8788:null,8789:null,8790:"\\eqcirc",8791:"\\circeq",8792:null,8793:null,8794:null,8795:null,8796:"\\triangleq",8797:null,8798:null,8799:null,8800:"\\ne",8801:"\\equiv",8802:null,8803:null,8804:"\\le",8805:"\\ge",8806:"\\leqq",8807:"\\geqq",8808:"\\lneqq",8809:"\\gneqq",8810:"\\ll",8811:"\\gg",8812:"\\between",8813:null,8814:"\\nless",8815:"\\ngtr",8816:"\\nleq",8817:"\\ngeq",8818:"\\lessim",8819:"\\gtrsim",8820:null,8821:null,8822:"\\lessgtr",8823:"\\gtrless",8824:null,8825:null,8826:"\\prec",8827:"\\succ",8828:"\\preccurlyeq",8829:"\\succcurlyeq",8830:"\\precsim",8831:"\\succsim",8832:"\\nprec",8833:"\\nsucc",8834:"\\subset",8835:"\\supset",8836:null,8837:null,8838:"\\subseteq",8839:"\\supseteq",8840:"\\nsubseteq",8841:"\\nsupseteq",8842:"\\subsetneq",8843:"\\supsetneq",8844:null,8845:null,8846:null,8847:"\\sqsubset",8848:"\\sqsupset",8849:null,8850:null,8851:"\\sqcap",8852:"\\sqcup",8853:"\\oplus",8854:"\\ominus",8855:"\\otimes",8856:"\\oslash",8857:"\\odot",8858:"\\circledcirc",8859:"\\circledast",8860:null,8861:"\\circleddash",8862:"\\boxplus",8863:"\\boxminus",8864:"\\boxtimes",8865:"\\boxdot",8866:"\\vdash",8867:"\\dashv",8868:"\\top",8869:"\\bot",8870:null,8871:"\\models",8872:"\\vDash",8873:"\\Vdash",8874:"\\Vvdash",8875:"\\VDash*",8876:"\\nvdash",8877:"\\nvDash",8878:"\\nVdash",8879:"\\nVDash",8880:null,8881:null,8882:"\\vartriangleleft",8883:"\\vartriangleright",8884:"\\trianglelefteq",8885:"\\trianglerighteq",8886:null,8887:null,8888:"\\multimap",8889:null,8890:"\\intercal",8891:"\\veebar",8892:"\\barwedge",8893:null,8894:null,8895:null,8896:"\\wedge",8897:"\\vee",8898:"\\cap",8899:"\\cup",8900:"\\diamond",8901:"\\cdot",8902:"\\star",8903:null,8904:"\\bowtie",8905:"\\ltimes",8906:"\\rtimes",8907:"\\leftthreetimes",8908:"\\rightthreetimes",8909:"\\backsimeq",8910:"\\curlyvee",8911:"\\curlywedge",8912:"\\Subset",8913:"\\Supset",8914:"\\Cap",8915:"\\Cup",8916:"\\pitchfork",8917:"\\lessdot",8918:"\\gtrdot",8919:null,8920:"\\lll",8921:"\\ggg",8922:"\\lesseqgtr",8923:"\\gtreqless",8924:null,8925:null,8926:"\\curlyeqprec",8927:"\\curlyeqsucc",8928:null,8929:null,8930:null,8931:null,8932:null,8933:null,8934:"\\lnsim",8935:"\\gnsim",8936:"\\precnsim",8937:"\\succnsim",8938:"\\ntriangleleft",8939:"\\ntriangleright",8940:"\\ntrianglelefteq",8941:"\\ntrianglerighteq",8942:"\\vdots",8943:"\\cdots",8944:null,8945:"\\ddots",8946:null,8947:null,8948:null,8949:null,8950:null,8951:null,8952:null,8953:null,8954:null,8955:null,8956:null,8957:null,8958:null,8959:null,10231:"\\longleftrightarrow",945:"\\alpha",946:"\\beta",947:"\\gamma",948:"\\delta",949:"\\epsilon",950:"\\zeta",951:"\\eta",952:"\\theta",953:"\\iota",954:"\\kappa",955:"\\lambda",956:"\\mu",957:"\\nu",958:"\\xi",959:"o",960:"\\pi",961:"\\rho",962:"\\varsigma",963:"\\sigma",964:"\\tau",965:"\\upsilon",966:"\\varphi",967:"\\chi",968:"\\psi",969:"\\omega",977:"\\vartheta",981:"\\phi",982:"\\varpi",1009:"\\varrho",1013:"\\epsilon",913:"A",914:"B",915:"\\Gamma",916:"\\Delta",917:"E",918:"Z",919:"H",920:"\\Theta",921:"I",922:"K",923:"\\Lambda",924:"M",925:"N",926:"\\Xi",927:"O",928:"\\Pi",929:"P",930:null,931:"\\Sigma",932:"T",933:"\\Upsilon",934:"\\Phi",935:"X",936:"\\Psi",937:"\\Omega",1013:"\\epsilon"};function Ce(Je){return Je>=65&&Je<=90||Je>=97&&Je<=122}function qe(Je){Je||(Je={});let st;D="";let Wn;for(;O<w.length;){let or;switch(st=w.charCodeAt(O++),st===55349&&(w.charCodeAt(O++)===57030?st=949:ft(!1,i(1004,[String.fromCharCode(st),st]))),st){case 32:case 9:case 10:case 13:case 160:case 8203:continue;case 38:if(w.substring(O).indexOf("nbsp;")===0){O+=5;continue}return ot;case 92:switch(D+=String.fromCharCode(st),w.charCodeAt(O)){case 92:return O++,Ue;case 123:return O++,Ln;case 124:return O++,te;case 125:return O++,ln}if(or=Ut(),or!==null)return or;D="";continue;case 42:case 8727:return w.charCodeAt(O)===42?(O++,oe):Oi;case 45:case 8722:return w.charCodeAt(O)===62?(O++,z):et;case 47:case 8725:return de;case 33:return w.charCodeAt(O)===61?(O++,ki):st;case 58:case 8758:return fr;case 59:return Gi;case 37:case 40:case 41:case 43:case 44:case 61:case 63:case 91:case 93:case 94:case 95:case 123:case 124:case 125:return D+=String.fromCharCode(st),st;case 36:return D+=String.fromCharCode(st),gt;case 39:return Or(st);case 60:return w.charCodeAt(O)===61?(O++,Ji):yi;case 62:return w.charCodeAt(O)===61?(O++,vi):Qi;default:return Ce(st)||st===P?_t(st):(Wn=ae[st])?(D=Wn,or=we[D],or===void 0&&(or=gt),or):xt(String.fromCharCode(st))||g(st)?Je.oneCharToken?(D+=String.fromCharCode(st),Xe):Qt(st):(ft(!1,i(1004,[String.fromCharCode(st),st])),0)}}return 0}let Ot;function Qt(Je){let st;for(;g(Je)||xt(String.fromCharCode(Je))||(st=bt(String.fromCharCode(Je),Ot));){if(Ot=st||Ot,D+=String.fromCharCode(Je),Je=w.charCodeAt(O++),Je===92&&w.charCodeAt(O)===32&&(Je=32,O++),xt(String.fromCharCode(Je))||(st=bt(String.fromCharCode(Je),Ot)))for(Ot=st||Ot,D+=String.fromCharCode(Je),Je=w.charCodeAt(O++);Je===92&&(Je=w.charCodeAt(O))===32&&O++||m(Je);)Je=w.charCodeAt(O++);Je===92&&w.charCodeAt(O)===32&&(Je=32,O++)}return D==="."&&(w.substring(O).indexOf("overline")===0||w.substring(O).indexOf("dot")===0)&&(D="0."),O--,Xe}function _t(Je){let st=String.fromCharCode(Je);D+=st;let Wn=D;const or=O+1;for(;(Ce(Je)||Je===P)&&(Je=w.charCodeAt(O++),!(!Ce(Je)||(st=String.fromCharCode(Je),!it.some(ug=>{const Gp=Wn+st;return ug.indexOf(Gp)===0}))));)Wn+=st;for(it.indexOf(Wn)>=0?D=Wn:O=or;D.lastIndexOf("'")===D.length-1&&Je===P;)D+=String.fromCharCode(Je),Je=w.charCodeAt(O++);return O--,gt}function Ut(){let Je=w.charCodeAt(O++);if(Je===S)D=String.fromCharCode(Je);else if(Je===x)D+=String.fromCharCode(Je);else if([b,ge,W,_,E].indexOf(Je)>=0)D="\\ ";else{for(;Ce(Je);)D+=String.fromCharCode(Je),Je=w.charCodeAt(O++);D=D==="\\varepsilon"&&"\\epsilon"||D,O--}let st=we[D];if(st===void 0)D==="\\emptyset"&&(D="\\varnothing"),st=gt;else if(st===oa){for(Je=w.charCodeAt(O++);Je&&Je!==xe;)Je=w.charCodeAt(O++);for(D="",Je=w.charCodeAt(O++);Je&&Je!==R;){const Wn=String.fromCharCode(Je);Wn==="&"&&w.substring(O).indexOf("nbsp;")===0?O+=5:Wn===" "||Wn==="	"||(D+=Wn),Je=w.charCodeAt(O++)}st=we[`\\${D}`],st===void 0&&(st=oa)}else if(st===pr||st===On){for(Je=w.charCodeAt(O++);Je&&Je!==xe;)Je=w.charCodeAt(O++);D="",Je=w.charCodeAt(O++);const Wn=e.option(De,"keepTextWhitespace");for(;Je&&Je!==R;){const or=String.fromCharCode(Je);!Wn&&or==="&"&&w.substring(O).indexOf("nbsp;")===0?O+=5:!Wn&&(or===" "||or==="	")||(D+=or),Je=w.charCodeAt(O++)}st!==On&&(!D||e.option(De,"ignoreText")?st=null:st=pr)}else st===Ci&&(st=Xe);return st}function Or(Je){for(ft(Je===39),D="'";w.charCodeAt(O)===39;)O++,D+="'";return gt}return{start:qe,lexeme(){return D},pos(){return O}}}};return e})(),OB=sM,K=xB,v0={},In=(e,t,n)=>{if(t===void 0&&(t="failed!"),!e){const r=new Error(t);throw r.location=n||Tn.location,r}},lM=(e,t)=>{let n=Tn.messages[e];return t&&t.forEach((r,o)=>{n=n.replace(`%${o+1}`,r)}),`${e}: ${n}`},CB=(e,t,n)=>{In(e<=t,"Invalid code range");const r=Tn.reservedCodes.every(o=>t<o.first||e>o.last);In(r,"Conflicting request for error code range"),Tn.reservedCodes.push({first:e,last:t,name:n})},EB=e=>{Tn.location=e},NB=()=>{Tn.location=null},TB=(e,t)=>{e!==void 0&&(Tn.timeout=e?Date.now()+e:0,Tn.timeoutMessage=t||"ERROR timeout exceeded")},AB=()=>{In(!Tn.timeout||Tn.timeout>Date.now(),Tn.timeoutMessage)},MB=(e,t)=>{Tn.count=e,Tn.countMessage=t||"ERROR count exceeded"},RB=()=>{const{count:e}=Tn;if(typeof e!="number"||Number.isNaN(e)){In(!1,"ERROR counter not set");return}In(Tn.count--,Tn.countMessage)},Tn={assert:In,message:lM,messages:{},reserveCodeRange:CB,reservedCodes:[],setLocation:EB,clearLocation:NB,checkTimeout:AB,setTimeout:TB,setCounter:MB,checkCounter:RB},w0={words:{"\\alpha":"\\alpha","\\beta":"\\beta","\\gamma":"\\gamma","\\delta":"\\delta","\\epsilon":"\\epsilon","\\zeta":"\\zeta","\\eta":"\\eta","\\theta":"\\theta","\\iota":"\\iota","\\kappa":"\\kappa","\\lambda":"\\lambda","\\mu":"\\mu","\\nu":"\\nu","\\xi":"\\xi","\\omicron":"\\omicron","\\pi":"\\pi","\\rho":"\\rho","\\sigma":"\\simga","\\tau":"\\tau","\\upsilon":"\\upsilon","\\phi":"\\phi","\\chi":"\\chi","\\psi":"\\psi","\\omega":"\\omega","\\Alpha":"\\Alpha","\\Beta":"\\Beta","\\Gamma":"\\Gamma","\\Delta":"\\Delta","\\Epsilon":"\\Epsilon","\\Zeta":"\\Zeta","\\Eta":"\\Eta","\\Theta":"\\Theta","\\Iota":"\\Iota","\\Kappa":"\\Kappa","\\Lambda":"\\Lambda","\\Mu":"\\Mu","\\Nu":"\\Nu","\\Xi":"\\Xi","\\Omicron":"\\Omicron","\\Pi":"\\Pi","\\Rho":"\\Rho","\\Sigma":"\\Simga","\\Tau":"\\Tau","\\Upsilon":"\\Upsilon","\\Phi":"\\Phi","\\Chi":"\\Chi","\\Psi":"\\Psi","\\Omega":"\\Omega","\\emptyset":"\\emptyset"},types:{numberPosNeg:["(\\type{numberPosNeg})","\\type{number}","-\\type{number}"]},rules:{"\\left(?\\right]":["\\left(%1\\right]"],"\\left[?\\right)":["\\left[%1\\right)"],"\\left[?\\right]":["\\left[%1\\right]"],"\\left\\{?\\right\\}":["\\left\\{%1\\right\\}"],"?\\cup?":["%1\\cup %2"],"?\\cap?":["%1\\cap %2"],"?\\backslash?":["%1\\backslash %2"],"\\mathbb{?}":["\\mathbb{%2}"],"\\ln{?}":["\\ln{%2}"],"\\log{?}":["\\log{%2}"],"\\log_{?}{?}":["\\log_{%1}{%2}"],"\\type{matrix}":[{"\\begin{bmatrix}%1\\end{bmatrix}":{"\\type{row}":"%*\\\\","\\type{column}":"%*&"}}],"\\frac{d}{d?}?":["\\frac{d}{d%2}{%1}"],"\\frac{d^?}{d?^?}?":["\\frac{d^%3}{d%2^%3}{%1}"],"\\int_?^? ? d?":["\\int_{%1}^{%2} %3 d%4"],"\\int ? d?":["\\int %1 d%2"],"\\lim_? ?":[{"\\lim_{%1}{%2}":{"? \\rightarrow ?":"%1 \\rightarrow %2","? \\to ?":"%1 \\to %2","\\left(?,?\\right)":"\\left(%1, %2\\right)"}}],"\\sum_?^? ?":["\\sum_{%1}^{%2}{%3}"],"\\sin{?}":["\\sin{%1}"],"\\cos{?}":["\\cos{%1}"],"\\tan{?}":["\\tan{%1}"],"\\cot{?}":["\\cot{%1}"],"\\sec{?}":["\\sec{%1}"],"\\csc{?}":["\\csc{%1}"],"\\sin^{-1}?":["\\sin^{-1}{%1}"],"\\cos^{-1}{?}":["\\cos^{-1}{%1}"],"\\tan^{-1}{?}":["\\tan^{-1}{%1}"],"\\cot^{-1}{?}":["\\cot^{-1}{%1}"],"\\sec^{-1}{?}":["\\sec^{-1}{%1}"],"\\csc^{-1}{?}":["\\csc^{-1}{%1}"],"\\sinh{?}":["\\sinh{%1}"],"\\cosh{?}":["\\cosh{%1}"],"\\tanh{?}":["\\tanh{%1}"],"\\coth{?}":["\\coth{%1}"],"\\sech{?}":["\\sech{%1}"],"\\csch{?}":["\\csch{%1}"],"\\sinh^{-1}{?}":["\\sinh^{-1}{%1}"],"\\cosh^{-1}{?}":["\\cosh^{-1}{%1}"],"\\tanh^{-1}{?}":["\\tanh^{-1}{%1}"],"\\coth^{-1}{?}":["\\coth^{-1}{%1}"],"\\sech^{-1}{?}":["\\sech^{-1}{%1}"],"\\csch^{-1}{?}":["\\csch^{-1}{%1}"],"?<?":["%1<%2"],"?\\nless?":["%1\\nless %2"],"?\\le?":["%1\\le %2"],"?>?":["%1>%2"],"?\\ge?":["%1\\ge %2"],"?\\ngtr?":["%1\\ngtr %2"],"?=?":["%1=%2"],"?\\ne?":["%1\\ne %2"],"?\\approx?":["%1\\approx %2"],"\\infty":["\\infty"],"\\type{mixedNumber}":["%1%2"],"?%":["{%1}%"],"?!":["{%1}!"],"\\frac{?}{?}":["\\frac{%1}{%2}"],"\\abs{?}":["\\abs{%1}"],"?\\degree":["{%1}\\degree"],"\\type{fraction}^?":["\\left(%1\\right)^{%2}"],"{-?}^?":["\\left(%1\\right)^{%2}"],"?^?":["{%1}^{%2}"],"\\sqrt{?}":["\\sqrt{%1}"],"\\sqrt[?]{?}":["\\sqrt[%2]{%1}"],"-?":["-%1"],"?+{-?}":["%1+\\left(%2\\right)"],"?+?":["%1+%2"],"?-{-?}":["%1-\\left(%2\\right)"],"?-?":["%1-%2"],"?*{-?}":["%1\\times\\left(%2\\right)"],"?*?":["%1\\times %2"],"?\\cdot{-?}":["%1\\cdot\\left(%2\\right)"],"?\\cdot?":["%1\\cdot %2"],"?\\div?":["%1\\div %2"],"?:?":["%1:%2"],"?_?":["%1_{%2}"],"\\left(?\\right)":["\\left(%1\\right)"],"{\\type{numberPosNeg}}{\\type{numberPosNeg}}":["(%1)(%2)"],"? ?":["%1 %2"],"?,?":["%1,%2"],"?":["%1"]}};(function(e){function t(W,G){return{op:W,args:G}}function n(W,G){return G.length>1?{op:W,args:G}:G[0]}const r=(W,G)=>Array.from({length:G.charCodeAt(0)-W.charCodeAt(0)+1},(U,re)=>String.fromCharCode(W.charCodeAt(0)+re)),o=(W,G)=>(W=+W,G=+G,Array.from({length:G-W+1},(U,re)=>String(W+re))),i=W=>{try{return new _n(W),!0}catch(G){return G=G,!1}},s=W=>[W.slice(0,1),W.slice(1)],l=W=>W.toUpperCase()>="A"&&W.toUpperCase()<="Z",u=W=>/^-?\d+$/.test(W),f=W=>s(W).reduce((G,U,re)=>re===0&&l(U)||u(U),!1),p=W=>(G={},U,re)=>{if(re===0)return{start:s(U)};{const He=G.start,fe=s(U),J=r(He[0],fe[0]),T=o(He[1],fe[1]);return J.flatMap(se=>T.map(xe=>se.toUpperCase()+xe)).filter(se=>se!==void 0).join(",")}},d=W=>W,m=W=>(G=[],U,re)=>[...G,U.toUpperCase()],g=W=>{const G={currency:"",thousandsSeparator:",",decimalSeparator:".",decimalPlaces:0,prefix:"",suffix:"",showThousands:!1,accountingStyle:!1};W.startsWith("(")&&W.endsWith(")")&&(G.accountingStyle=!0,W=W.slice(1,-1));const U=["$","","","","","",""];let re=W;for(const fe of U)if(re.startsWith(fe)){G.currency=fe,G.prefix=fe,re=re.slice(1);break}if(!G.currency){for(const fe of U)if(re.includes("_"+fe)){G.currency=fe,G.suffix=fe,re=re.replace("_"+fe,"");break}}(re.includes("#,##0")||re.includes("#.##0")||re.includes("# ##0"))&&(G.showThousands=!0,re.includes("#,##0.")?(G.thousandsSeparator=",",G.decimalSeparator="."):re.includes("#.##0,")?(G.thousandsSeparator=".",G.decimalSeparator=","):re.includes("# ##0,")?(G.thousandsSeparator=" ",G.decimalSeparator=","):re.includes("# ##0.")||re.includes("# ##0")?(G.thousandsSeparator=" ",G.decimalSeparator="."):re.includes("#.##0")&&(G.thousandsSeparator=".",G.decimalSeparator=","));const He=re.match(/[.,]0+$/);return He&&(G.decimalPlaces=He[0].length-1),G},y=(W,G)=>{const U=Number(W);if(isNaN(U))return W;const{currency:re,thousandsSeparator:He,decimalSeparator:fe,decimalPlaces:J,prefix:T,suffix:se,showThousands:xe,accountingStyle:N}=G,R=U<0;let P=Math.abs(U).toFixed(J);if(fe!=="."&&(P=P.replace(".",fe)),xe){const F=P.split(fe),pe=F[0],oe=F[1]||"",ce=pe.replace(/\B(?=(\d{3})+(?!\d))/g,He);P=oe?`${ce}${fe}${oe}`:ce}return P=`${T}${P}${se}`,N&&R?`(${P})`:R?`-${P}`:P},b=(W,G=2)=>y(W,{currency:"$",thousandsSeparator:",",decimalSeparator:".",decimalPlaces:G,prefix:"$",suffix:"",showThousands:!0}),E=({config:W,env:G,args:U})=>{const re=U[1]||G.format||"";let He;if(re.toLowerCase()==="currency")He=b(U[0]);else if(re.includes("#")||re.includes("0")){const fe=g(re);He=y(U[0],fe)}else He=U[0];return He},S=({env:W,str:G})=>{var U;return f(G)&&((U=W[G.toUpperCase()])==null?void 0:U.val)||G},x={round:W=>(G="",U,re)=>(U=S({env:W,str:U}),i(U)&&(re===0&&new _n(U)||re===1&&new _n(G).toDecimalPlaces(+U,_n.ROUND_HALF_UP)||G)||G),sum:W=>(G=0,U,re)=>(U=S({env:W,str:U}),i(U)&&new _n(G).plus(new _n(U))||G),minus:W=>(G="",U,re)=>(U=S({env:W,str:U}),i(U)&&(re===0&&new _n(U)||new _n(G).minus(new _n(U)))||G),multiply:W=>(G=1,U)=>(U=S({env:W,str:U}),i(U)&&new _n(G).times(new _n(U))||G),divide:W=>(G="",U,re)=>(U=S({env:W,str:U}),i(U)&&(re===0&&new _n(U)||new _n(G).dividedBy(new _n(U)))||G),normalize:m,range:p},k={$cell:{type:"fn",fn:({config:W,env:G})=>U=>{var re;return((re=G[U[1].toUpperCase()])==null?void 0:re.val)||"0"}},$fmt:{type:"fn",fn:({config:W,env:G})=>U=>{var re,He,fe;if(W.rawConfig){const J=W.rawConfig.slice(1,-1);if(J.includes("isNegative:true")){const T=((re=G.format)==null?void 0:re.formatString)||G.format||"";U=[`-${U[0]}`,T]}else if(J.includes("isNegative:false")){const T=((He=G.format)==null?void 0:He.formatString)||G.format||"";U=[U[0],T]}else{const T=J.indexOf(",");if(T>=0){let se=J.slice(0,T);const xe=J.slice(T+1);se=se.replace("%1",U[0]),U=[se,xe]}}}else if(U.length===1){const J=((fe=G.format)==null?void 0:fe.formatString)||G.format||"";U=[U[0],J]}return E({config:W,env:G,args:U})}},$range:{type:"fn",fn:({config:W,env:G})=>U=>U.reduce(x.range(G),void 0)},$add:{type:"fn",fn:({config:W,env:G})=>U=>""+U.reduce(x.sum(G),void 0)},$minus:{type:"fn",fn:({config:W,env:G})=>U=>(U.length===1&&U.unshift("0"),""+U.reduce(x.minus(G),void 0))},$multiply:{type:"fn",fn:({config:W,env:G})=>U=>""+U.reduce(x.multiply(G),void 0)},$percent:{type:"fn",fn:({config:W,env:G})=>U=>(U.push("0.01"),""+U.reduce(x.multiply(G),void 0))},$divide:{type:"fn",fn:({config:W,env:G})=>U=>""+U.reduce(x.divide(G),void 0)},$fn:{type:"fn",fn:({config:W,env:G})=>U=>""+U[1].split(",").reduce(x[U[0].toLowerCase()](G),void 0)},$normalize:{type:"fn",fn:({config:W,env:G})=>U=>""+U.reduce(d(x.normalize(G)),W==null?void 0:W.acc)}},I=W=>{const G=W.indexOf("{"),U=(G>0&&W.slice(0,G)||W).trim();In(k[U]);const re=G>0&&W.slice(G);return U==="$fmt"?{rawConfig:re}:re&&JSON.parse(re)||{}};function L(W){function G(ie,Z,me,de){switch(In(Z.op&&Z.args,`Visitor.visit() op=${Z.op} args = ${Z.args}`),Z.op){case K.NUM:Z=me.numeric(Z,de);break;case K.ADD:case K.SUB:case K.PM:case K.BACKSLASH:case K.DIV:case K.FRAC:case K.BINOM:case K.LOG:case K.COLON:case K.FUNC:case K.TYPE:case K.SUBSCRIPT:Z.args.length===1?Z=me.unary(Z,de):Z=me.binary(Z,de);break;case K.MUL:case K.TIMES:case K.COEFF:case K.CDOT:Z=me.multiplicative(Z,de);break;case K.POW:Z=me.exponential(Z,de);break;case K.VAR:Z=me.variable(Z,de);break;case K.SQRT:case K.SIN:case K.COS:case K.TAN:case K.SEC:case K.CSC:case K.COT:case K.ARCSIN:case K.ARCCOS:case K.ARCTAN:case K.ARCSEC:case K.ARCCSC:case K.ARCCOT:case K.SINH:case K.COSH:case K.TANH:case K.ARCSINH:case K.ARCCOSH:case K.ARCTANH:case K.ARCSECH:case K.ARCCSCH:case K.ARCCOTH:case K.SECH:case K.CSCH:case K.COTH:case K.PERCENT:case K.M:case K.ABS:case K.FACT:case K.FORALL:case K.EXISTS:case K.IN:case K.SUM:case K.LIM:case K.EXP:case K.TO:case K.DERIV:case K.INTEGRAL:case K.PROD:case K.CUP:case K.BIGCUP:case K.CAP:case K.BIGCAP:case K.PIPE:case K.ION:case K.OVERLINE:case K.OVERSET:case K.UNDERSET:case K.MATHBF:case K.TEXT:case K.NONE:case K.DEGREE:case K.DOT:case K.MATHFIELD:case K.SET:case K.NOT:case K.OPERATORNAME:Z=me.unary(Z,de);break;case K.COMMA:case K.MATRIX:case K.VEC:case K.ROW:case K.COL:case K.LIST:case K.ANGLEBRACKET:Z=me.comma(Z,de);break;case K.EQL:case K.LT:case K.LE:case K.GT:case K.GE:case K.NE:case K.NGTR:case K.NLESS:case K.NI:case K.SUBSETEQ:case K.SUPSETEQ:case K.SUBSET:case K.SUPSET:case K.NNI:case K.NSUBSETEQ:case K.NSUPSETEQ:case K.NSUBSET:case K.NSUPSET:case K.APPROX:case K.IMPLIES:case K.PERP:case K.PROPTO:case K.PARALLEL:case K.NPARALLEL:case K.SIM:case K.CONG:case K.CAPRIGHTARROW:case K.RIGHTARROW:case K.LEFTARROW:case K.LONGRIGHTARROW:case K.LONGLEFTARROW:case K.OVERRIGHTARROW:case K.OVERLEFTARROW:case K.CAPLEFTRIGHTARROW:case K.LEFTRIGHTARROW:case K.LONGLEFTRIGHTARROW:case K.OVERLEFTRIGHTARROW:Z=me.equals(Z,de);break;case K.PAREN:case K.BRACKET:case K.BRACE:case K.INTERVAL:case K.INTERVALOPEN:case K.INTERVALLEFTOPEN:case K.INTERVALRIGHTOPEN:Z=me.paren(Z);break;default:me.name!=="normalizeLiteral"&&me.name!=="sort"&&(Z=t(K.VAR,[`INTERNAL ERROR Should not get here. Unhandled node operator ${Z.op}`]));break}return Z}function U(ie,Z){if(!Z)return"";const me=K.option(ie,"words");let de;return me&&(de=me[Z]),de||(de=Z,de.charAt(0)==="\\"&&(de=de.substring(1))),de}function re(ie){let Z=[];switch(ie.op){case K.VAR:Z.push({code:ie.args[0]});break;case K.MUL:{let me="",de;ie.args.forEach(Qe=>{Qe.op===K.VAR?me+=Qe.args[0]:Qe.op===K.NUM&&(de=+Qe.args[0])}),Z.push({code:me,length:de})}break;case K.COMMA:ie.args.forEach(me=>{Z=Z.concat(re(me))});break}return Z}function He(ie){const[Z,me]=ie.split("[");return{name:Z,arg:me&&me.substring(0,me.indexOf("]"))||void 0}}function fe(ie,Z){return re(ie).some(me=>{const de=me.code,Qe=me.length;switch(de){case"integer":if(Z.numberFormat==="integer"&&(Qe===void 0||Qe===Z.args[0].length))return!0;break;case"decimal":if(Z.numberFormat==="decimal"&&Z.isRepeating)return Qe===void 0;if(Z.numberFormat==="decimal"&&(Qe===void 0||Qe===0&&Z.args[0].indexOf(".")===-1||Qe===Z.args[0].substring(Z.args[0].indexOf(".")+1).length))return!0;break;case"repeatingDecimal":return Z.numberFormat==="decimal"&&Z.isRepeating?(In(!Qe,"The repeatingDecimal pattern does not take a length"),!0):!1;case"number":if(Z.numberFormat==="decimal"&&Z.isRepeating)return Qe===void 0;if(Z.numberFormat==="integer"||Z.numberFormat==="decimal"){const Ze=Z.args[0].indexOf(".");if(Qe===void 0||Qe===0&&Ze===-1||Ze>=0&&Qe===Z.args[0].substring(Ze+1).length)return!0}break;case"scientific":if(Z.isScientific){const Ze=Z.args[0].args[0];if(Qe===void 0||Qe===0&&Ze.indexOf(".")===-1||Qe===Ze.substring(Ze.indexOf(".")+1).length)return!0}break;case"fraction":if(Z.isFraction||Z.isMixedNumber)return!0;break;case"simpleFraction":case"nonMixedFraction":if(Z.isFraction)return!0;break;case"mixedFraction":case"mixedNumber":if(Z.isMixedNumber)return!0;break;case"fractionOrDecimal":if(Z.isFraction||Z.isMixedNumber||Z.numberFormat==="decimal")return!0;break;default:In(!1,lM(2015,[de]));break}return!1})}function J(ie,Z){return re(ie).some(me=>{switch(me.code){case"simpleSmallRowMatrix":case"smallRowMatrix":return Z.op===K.MATRIX&&Z.m===1&&Z.n<4;case"simpleSmallColumnMatrix":case"smallColumnMatrix":return Z.op===K.MATRIX&&Z.m<4&&Z.n===1;case"simpleSmallMatrix":case"smallMatrix":return Z.op===K.MATRIX&&Z.m<4&&Z.n<4;case"matrix":return Z.op===K.MATRIX;case"row":return Z.op===K.ROW;case"column":return Z.op===K.COL;default:return!1}})}function T(ie,Z){const me=He(ie),de=me.name,Qe=me.arg;switch(de){case"polynomial":if(Qe){if(Qe.indexOf(">")===0){const ye=parseInt(Qe.substring(1),10);return Z.isPolynomial>ye}const Ze=parseInt(Qe,10);return Z.isPolynomial>Ze}return Z.isPolynomial;default:return!1}}function se(ie){return ie.op===K.NUM||ie.op===K.VAR||typeof ie=="string"}function xe(ie){return In(ie.op===K.MATRIX||ie.op===K.ROW||ie.op===K.COL),ie.args.every(Z=>Z.op===K.MATRIX||Z.op===K.ROW||Z.op===K.COL?xe(Z):se(Z))}function N(ie,Z,me){if(Z.op===K.TYPE&&Z.args[0].op===K.VAR){let de=Z.args[0].args[0];switch(de=de.indexOf("[")>0&&de.slice(0,de.indexOf("["))||de,de){case"number":case"integer":case"decimal":case"scientific":case"fraction":case"simpleFraction":case"mixedFraction":case"mixedNumber":case"fractionOrDecimal":case"repeatingDecimal":return fe(Z.args[0],me);case"variable":return me.op===K.VAR;case"simpleSmallRowMatrix":case"simpleSmallColumnMatrix":case"simpleSmallMatrix":return J(Z.args[0],me)&&xe(me);case"smallRowMatrix":case"smallColumnMatrix":case"smallMatrix":case"matrix":case"row":case"column":return J(Z.args[0],me);case"polynomial":return T(Z.args[0].args[0],me);default:{const Qe=K.option(ie,"types")[de];if(Qe)return In(Qe instanceof Array),Qe.some(Ze=>R(ie,[K.create(ie,Ze)],me).length>0)}}return!1}if(Z.op===K.COLON&&Z.args[0].op===K.VAR&&Z.args[0].args[0]==="?"){switch(In(Z.args[1].op===K.VAR),Z.args[1].args[0]){case"N":return me.op===K.NUM;case"V":return me.op===K.VAR}return!1}return Z.op===K.VAR&&Z.args[0]==="?"||Z.op===K.MATRIX&&me.op===K.MATRIX}function R(ie,Z,me){return Z.size===0||me===void 0?!1:Z.filter(de=>{if(de.op===void 0||me.op===void 0)return!1;if(W.intern(de)===W.intern(me)||N(ie,de,me))return!0;if(de.op===me.op){if(de.args.length===me.args.length)return de.args.every((Qe,Ze)=>de.op===K.VAR?Qe===me.args[Ze]:R(ie,[Qe],me.args[Ze]).length===1);if(de.args.length<me.args.length){const Qe=me.args.slice(1);if(de.args.length===2)return R(ie,[de.args[0]],me.args[0]).length>0&&R(ie,[de.args[1]],t(me.op,Qe)).length>0}}return!1})}function P(ie,Z,me){const de=ie;return Z.forEach((Qe,Ze)=>{ie=ie.replace(new RegExp(`%${Ze+1}`,"g"),Qe.args[0])}),Z.length>2?P(de,[t(K.VAR,[ie])].concat(Z.slice(2))):ie}function F(ie,Z,me){me=me||{};let de=ie.template;if(Z.length===0&&Z.push(t(K.VAR,[""])),de&&de.indexOf("%OP")>=0&&me.op&&(de=de.replace(new RegExp("%OP","g"),me.op)),de&&Z){de.indexOf("%%")>=0&&(de=de.replace(new RegExp("%%","g"),Z[0].args[0]));const Qe=de.indexOf("{"),Ze=(Qe>0&&de.slice(0,Qe)||de).trim();if(k[Ze]){const ye=k[Ze].fn,te=I(de),$e=ye({config:te,env:me}),Ke=[];Z.forEach((kt,Xe)=>{Ke.push(kt.args[0])}),de=$e(Ke)}if(de.indexOf("%*")>=0){let ye="";Z.forEach((te,$e)=>{ye!==""&&(ye+=" "),$e===Z.length-1&&(de=de.slice(0,2*de.indexOf("%*")+2)),ye+=de.replace("%*",te.args[0]).replace("%M",te.m).replace("%N",te.n)}),de=ye}return de.indexOf("%IP")>=0&&(de=de.replace(new RegExp("%IP","g"),me.ip)),de.indexOf("%FP0")>=0&&(de=de.replace(new RegExp("%FP0","g"),me.fp)),de.indexOf("%FP")>=0&&(de=de.replace(new RegExp("%FP","g"),me.fp.split("").join(" "))),de.indexOf("%M")>=0&&(In(me.m),de=de.replace(new RegExp("%M","g"),me.m)),de.indexOf("%N")>=0&&(In(me.n),de=de.replace(new RegExp("%N","g"),me.n)),ie.isBinary&&Z.length>2?de=P(de,Z):Z.forEach((ye,te)=>{de=de.replace(new RegExp(`%${te+1}`,"g"),ye?ye.args[0]:"")}),{op:K.VAR,args:[de]}}return Z[0]}function pe(ie,Z,me){let de=[];return me.forEach(Qe=>{de=de.concat(Z[JSON.stringify(Qe)])}),de.length===0&&de.push({template:""}),de[0]}function oe(ie,Z){return In(typeof Z.template=="string"),Z.template.indexOf("%%")>=0?[ie]:ie.args}function ce(ie){if(ie.args.length<=2)return ie;const Z=ie.args.pop();return n(ie.op,[ce(ie),Z])}function Ee(ie){if(ie.args.length<=2)return ie;const Z=ie.args.shift();return n(ie.op,[Z,Ee(ie)])}function Pe(ie,Z,me){me instanceof Array&&(me.length===1?me=me[0]:me=H(ie,me[1],me[0]));const de=me,Qe=Object.keys(me),Ze=[];return Qe.forEach(ye=>{Ze.push(JSON.parse(ye))}),!Z||!Z.args?(In(!1,"Should not get here. Illformed node."),0):G(ie,Z,{name:"translate",numeric(ye){const te=[{op:K.VAR,args:[U(ie,ye.args[0])]}],$e=ie.env||{};if(ye.numberFormat==="decimal"){const Xe=ye.args[0].split(".");$e.ip=Xe[0],$e.fp=Xe[1]||"0"}const Ke=R(ie,Ze,ye);if(Ke.length===0)return ye;const kt=pe(ie,me,Ke);return F(kt,te,$e)},binary(ye){ye.op===K.SUBSCRIPT?ye=Ee(ye):ye=ce(ye);const te=R(ie,Ze,ye);if(te.length===0)return ye;const $e=pe(ie,me,te,ye.args.length),Ke=_($e),kt=oe(ye,$e);let Xe=[];return kt.forEach((q,X)=>{const B=K.option(ie,"RHS",X>0);Xe=Xe.concat(Pe(ie,q,[de,Ke])),K.option(ie,"RHS",B)}),$e.isBinary=!0,F($e,Xe,{...ie.env,op:ye.op})},multiplicative(ye){ye=ce(ye);const te=R(ie,Ze,ye);if(te.length===0)return ye;const $e=pe(ie,me,te,ye.args.length),Ke=_($e),kt=oe(ye,$e);let Xe=[];return kt.forEach((q,X)=>{const B=K.option(ie,"RHS",X>0);Xe=Xe.concat(Pe(ie,q,[de,Ke])),K.option(ie,"RHS",B)}),$e.isBinary=!0,F($e,Xe,{...ie.env,op:ye.op})},unary(ye){const te=R(ie,Ze,ye);if(te.length===0)return ye;const $e=pe(ie,me,te,ye.args.length),Ke=_($e),kt=oe(ye,$e);let Xe=[];return kt.forEach(q=>{Xe=Xe.concat(Pe(ie,q,[de,Ke]))}),F($e,Xe,{...ie.env,op:ye.op})},exponential(ye){const te=R(ie,Ze,ye);if(te.length===0)return ye;const $e=pe(ie,me,te,ye.args.length),Ke=_($e),kt=oe(ye,$e);let Xe=[];return kt.forEach(q=>{Xe=Xe.concat(Pe(ie,q,[de,Ke]))}),F($e,Xe,ie.env)},variable(ye){const te=R(ie,Ze,ye);if(te.length===0)return ye;const $e=pe(ie,me,te,ye.args.length),Ke=_($e),kt=oe(ye,$e);let Xe=[];return Xe.push(t(K.VAR,[U(ie,kt.shift())])),kt.forEach(q=>{Xe=Xe.concat(Pe(ie,q,[de,Ke]))}),F($e,Xe,ie.env)},comma(ye){const te=ie.env||{};if(ye.op===K.MATRIX||ye.op===K.ROW||ye.op===K.COL){ye.op===K.MATRIX?(In(ye.args[0].op===K.ROW),In(ye.args[0].args[0].op===K.COL),ye.m=te.m=ye.args[0].args.length,ye.n=te.n=ye.args[0].args[0].args.length,ye.args.forEach((Le,Fe)=>{Le.m=Fe+1})):ye.op===K.ROW?ye.args.forEach((Le,Fe)=>{Le.m=Fe+1,Le.n=void 0}):ye.args.forEach((Le,Fe)=>{Le.m=ye.m,Le.n=Fe+1});const X=R(ie,Ze,ye);if(X.length===0)return ye;const B=pe(ie,me,X,ye.args.length);let ne=[];const be=_(B);return oe(ye,B).forEach((Le,Fe)=>{ne=ne.concat(Pe(ie,Le,[de,be])),ne[Fe].m=Le.m,ne[Fe].n=Le.n}),F(B,ne,te)}const $e=R(ie,Ze,ye);if($e.length===0)return ye;const Ke=pe(ie,me,$e,ye.args.length),kt=_(Ke),Xe=oe(ye,Ke);let q=[];return Xe.forEach(X=>{q=q.concat(Pe(ie,X,[de,kt]))}),Ke.isBinary=!0,F(Ke,q,te)},equals(ye){const te=R(ie,Ze,ye);if(te.length===0)return ye;const $e=pe(ie,me,te,ye.args.length),Ke=_($e),kt=oe(ye,$e);let Xe=[];return kt.forEach(q=>{Xe=Xe.concat(Pe(ie,q,[de,Ke]))}),$e.isBinary=!0,F($e,Xe,ie.env)},paren(ye){const te=R(ie,Ze,ye);if(te.length===0)return ye;const $e=pe(ie,me,te),Ke=_($e),kt=oe(ye,$e),Xe=[];return kt.forEach(q=>{Xe.push(Pe(ie,q,[de,Ke]))}),F($e,Xe,ie.env)}})}this.translate=Pe}function _(W){return W.rules}function H(W,G,U){const re={};if(G){if(G instanceof Array){let J={};G.some(T=>T.context?(T.context&&T.context.split(" ")||[]).some(se=>W[se]?(J=T.value,!0):!1):(J=T,!0)),G=J}Object.keys(G).forEach(J=>{re[J]=G[J]})}const He=Object.keys(U);let fe;return He.forEach(J=>{Number.isNaN(parseInt(J,10))?fe=U:(fe=U[J],J=Object.keys(fe)[0]),re[J]||(re[J]=fe[J])}),re}function j(W){let G;const U=W.indexOf("\\context");if(U>=0){W=W.slice(U+8);const re=W.indexOf("}");G=W.slice(1,re),W=W.slice(re+1)}return{context:G,template:W}}function Y(W,G){let U;if(G instanceof Array)In(G.length===1),U=Y(W,G[0]);else if(typeof G=="string")U=j(G);else{let re="";const He=Object.keys(G);In(He.length===1);const fe=He[0],J=G[fe];let T;J instanceof Array?(T=[],J.forEach(se=>{se.options?(re+=se.options.RHS?" RHS":"",re+=se.options.EndRoot?" EndRoot":"",re+=se.options.NoParens?" NoParens":"",T.push({context:re,value:ue(W,se.value)})):T.push(ue(W,se))})):T=ue(W,J),U={template:fe,rules:T}}return U}function ue(W,G){const U={};return Object.keys(G).forEach(re=>{const He=JSON.stringify(K.create(W,re)),fe=Y(W,G[re]);U[He]?U[He].push(fe):U[He]=[fe]}),U}function Se(W,G,U){const re=new L(e),He=ue(W,U);return re.translate(W,G,He)}function ge(W){let G=0,U="";for(;G<W.length;G++)switch(W.charAt(G)){case" ":case"	":case`
`:if(U.length===0||U.charAt(U.length-1)===" ")continue;U+=" ";break;default:U+=W.charAt(G);break}for(;U.charAt(U.length-1)===" ";)U=U.substring(0,U.length-1);for(;U.lastIndexOf("baseline")!==-1&&U.lastIndexOf(" baseline")===U.length-9;)U=U.substring(0,U.length-9);return U}K.fn.translate=function(W,G){const U=K.option(G,"rules");let re=Se(G,W,U);return(!re||re.op!==K.VAR)&&(re=t(K.VAR,[""])),ge(re.args[0])},K.option=function(W,G,U){In(W);let re=W&&W[G];if(U!==void 0&&(K.options=W=W||{},W[G]=U),re===void 0)switch(G){case"field":re="integer";break;case"decimalPlaces":re=10;break;case"toleranceAbsolute":case"tolerancePercent":case"toleranceRange":case"setThousandsSeparator":case"setDecimalSeparator":case"dontExpandPowers":case"dontFactorDenominators":case"dontFactorTerms":case"dontConvertDecimalToFraction":case"strict":case"antiderivative":re=void 0;break;case"types":re={};break;default:re=!1;break}return re}})(new OB);const aM=function(){Tn.reserveCodeRange(4e3,4999,"core");const e=Tn.messages,t=Tn.message,n=Tn.assert;e[4001]="No Math Core spec provided.",e[4002]="No Math Core solution provided.",e[4003]="No Math Core spec value provided.",e[4004]="Invalid Math Core spec method '%1'.",e[4005]="Operation taking too long.",e[4006]="Invalid option name '%1'.",e[4007]="Invalid option value '%2' for option '%1'.",e[4008]="Internal error: %1";const r=10**-6,o={ROUND:{},SUM:{},MUL:{},matrix:{},pmatrix:{},bmatrix:{},Bmatrix:{},vmatrix:{},Vmatrix:{},array:{},"\\alpha":{type:"var"},"\\beta":{type:"var"},"\\gamma":{type:"var"},"\\delta":{type:"var"},"\\epsilon":{type:"var"},"\\zeta":{type:"var"},"\\eta":{type:"var"},"\\theta":{type:"var"},"\\iota":{type:"var"},"\\kappa":{type:"var"},"\\lambda":{type:"var"},"\\mu":{type:"const",value:r},"\\nu":{type:"var"},"\\xi":{type:"var"},"\\pi":{type:"const",value:Math.PI},"\\rho":{type:"var"},"\\sigma":{type:"var"},"\\tau":{type:"var"},"\\upsilon":{type:"var"},"\\phi":{type:"var"},"\\chi":{type:"var"},"\\psi":{type:"var"},"\\omega":{type:"var"},"\\sin":{type:"var"},"\\cos":{type:"var"},"\\tan":{type:"var"},"\\sec":{type:"var"},"\\csc":{type:"var"},"\\cot":{type:"var"},"\\arcsin":{type:"var"},"\\arccos":{type:"var"},"\\arctan":{type:"var"},"\\arcsec":{type:"var"},"\\arccsc":{type:"var"},"\\arccot":{type:"var"},"\\sinh":{type:"var"},"\\cosh":{type:"var"},"\\tanh":{type:"var"},"\\sech":{type:"var"},"\\csch":{type:"var"},"\\coth":{type:"var"},"\\log":{type:"var"},"\\ln":{type:"var"},"\\lg":{type:"var"}};function i(p,d){switch(p){case"field":switch(d){case void 0:case"integer":case"real":case"complex":break;default:n(!1,t(4007,[p,d]));break}break;case"decimalPlaces":if(d===void 0||+d>=0&&+d<=20)break;n(!1,t(4007,[p,d]));break;case"toleranceAbsolute":if(d===void 0||+d>=0||typeof d=="string")break;n(!1,t(4007,[p,d]));break;case"tolerancePercent":if(d===void 0||+d>=0)break;n(!1,t(4007,[p,d]));break;case"toleranceRange":if(d===void 0||d instanceof Array&&d.length===2)break;n(!1,t(4007,[p,d]));break;case"antiderivative":if(typeof d>"u"||typeof d=="string")break;n(!1,t(4007,[p,d]));break;case"RHS":case"NoParens":case"EndRoot":case"allowDecimal":case"allowInterval":case"dontExpandPowers":case"dontFactorDenominators":case"dontFactorTerms":case"dontConvertDecimalToFraction":case"dontSimplifyImaginary":case"ignoreOrder":case"inverseResult":case"requireThousandsSeparator":case"ignoreText":case"ignoreTrailingZeros":case"allowThousandsSeparator":case"compareSides":case"ignoreCoefficientOne":case"strict":case"integrationConstant":case"absoluteValue":case"parsingIntegralExpr":case"keepTextWhitespace":if(typeof d>"u"||typeof d=="boolean")break;n(!1,t(4007,[p,d]));break;case"setThousandsSeparator":if(typeof d>"u"||typeof d=="string"&&d.length===1||d instanceof Array)break;n(!1,t(4007,[p,d]));break;case"setDecimalSeparator":if(typeof d>"u"||typeof d=="string"&&d.length===1||d instanceof Array&&d.length>0&&d[0].length===1)break;n(!1,t(4007,[p,JSON.stringify(d)]));break;case"words":case"rules":case"types":case"data":case"env":if(typeof d>"u"||typeof d=="object")break;n(!1,t(4007,[p,d]));break;default:n(!1,t(4006,[p]));break}}function s(p){p&&Object.keys(p).forEach(d=>{i(d,p[d])})}function l(p,d,m){p||(p={}),p.rules||(p.words=w0.words,p.rules=w0.rules,p.types=w0.types);const g={method:"translate",options:p};p.allowInterval=!0,f(g,m).evaluate(d,(y,b)=>{m(y,b)})}let u;function f(p,d){let m;const g=p.method,y=p.value,b=K.options=p.options;let E;try{Tn.setLocation("spec"),s(b),K.pushEnv({...o,...b.env}),m=y!==void 0?K.create(b,y,"spec"):void 0,K.popEnv()}catch(k){E=k,d([{result:null,errorCode:S(k.message),message:x(k.message),stack:k.stack,location:k.location,model:null,toString(){return`${this.errorCode}: (${this.location}) ${this.message}
${this.stack}`}}],"")}return{evaluate:function(k,I){try{if(E)throw E;Tn.setLocation("user"),n(k!==void 0,t(4002)),K.pushEnv({...o,...b.env});const L=K.create(b,k,"user");n(L,t(4008,["invalid input"])),Tn.setLocation("spec");let _;switch(g){case"translate":_=L.translate(b);break;default:n(!1,t(4004,[g]));break}K.popEnv(),I([],_)}catch(L){console.log(`ERROR evaluate() ${L.stack}`);const _=L.message;u=u||typeof process<"u"&&typeof v0<"u"&&typeof v0.readFileSync=="function"&&JSON.parse(v0.readFileSync("package.json","utf8"))||{};const H=u.dependencies;console.error(`DEBUG ${JSON.stringify({dependencies:H,solution:k,spec:p},null,2)}`),I([{result:null,errorCode:S(_),message:x(_),stack:L.stack,location:L.location,toString(){return`${this.errorCode}: (${this.location}) ${this.message}
${this.stack}`}}],"")}},model:m};function S(k){k=typeof k=="string"&&k||"";const I=+k.slice(0,k.indexOf(":"));return Number.isNaN(I)?0:I}function x(k){return S(k)?k.slice(k.indexOf(":")+2):k}}return{translate:l}}();typeof window<"u"&&(window.Core=aM);const Qm=aM,yC={types:{args:["\\type{cellName}:\\type{cellName}","?,?"],cellName:["\\type{variable}\\type{integer}"],cellRange:["\\type{cellName}:\\type{cellName}"],fn:["SUM","MUL","ROUND","IF"]},rules:{"=\\type{cellName}":["$cell"],"=?":[{"%2":{"\\type{fn}(\\type{args})":"$fn","\\type{fn}(?,?)":"$fn","\\type{fn}(?)":"$fn","?+?":"$add","?-?":"$minus","?*?":"$multiply","?/?":"$divide","?%":"$percent","-?":"$minus"}}],"-?":["-%1"],"\\type{cellRange}":["$range"],"\\type{args}":["%1,%2"],"\\type{cellName}":["%1%2"],"\\type{fn}(\\type{cellRange})":["%1(%2)"],"??":["%1%2"],"{{var:\\type{cellName}}}":["{{var:%2}}"],"?":["%1"]}},DB={types:{cellName:["\\type{variable}\\type{integer}"],cellRange:["\\type{cellName}:\\type{cellName}"],fn:["SUM","MUL","ROUND","IF"]},rules:{"\\type{cellName}":["%1%2"],"=?":[{"%2":{"\\type{fn}(\\type{cellRange})":"%2","?+?":"%1,%2","?-?":"%1,%2","?*?":"%1,%2","?/?":"%1,%2","\\type{cellName}":"%1%2"}}],"\\type{cellRange}":["$range"],"??":["%1%2"],"?":["%1"]}},IB={rules:{"??":["%1%2"],"-\\type{number}":[{"%1":{"\\type{number}":"$fmt{isNegative:true}"}}],"\\type{number}":["$fmt{isNegative:false}"],"?":["%1"]}},_B={types:{cellName:["\\type{variable}\\type{integer}"],cellRange:["\\type{cellName}:\\type{cellName}"],fn:["SUM","MUL","ROUND","IF"]},rules:{"=\\type{cellName}":["$cell"],"=?":[{"%2":{"\\type{cellRange}":"%1:%2","\\type{fn}(\\type{cellRange})":"$normalize","?+?":'$normalize {"acc": ["SUM"]}',"?-?":'$normalize {"acc": ["SUB"]}',"?*?":'$normalize {"acc": ["MUL"]}',"?/?":'$normalize {"acc": ["DIV"]}',"?%":"$percent","-?":"$minus"}}],"\\type{cellRange}":["$range"],"\\type{cellName}":["%1%2"],"\\type{fn}(\\type{cellRange})":["%1(%2)"],"??":["%1%2"],"?":["%1"]}},PB=e=>['"',"'","`"].includes(e),uM=e=>(typeof e!="string"&&(e=e==null?"":String(e)),e&&e.split("").reduce((t,n)=>({inString:PB(n)?!t.inString:t.inString,text:t.text+(t.inString&&n||n.toUpperCase())}),{inString:!1,text:""}).text||e),$B=e=>{if(!e||typeof e!="string")return!1;const t=e.trim();return!isNaN(Number(t))&&!isNaN(parseFloat(t))},LB=e=>{if(!e||typeof e!="string")return!1;const t=e.trim();return[/^\d{1,2}\/\d{1,2}\/\d{2,4}$/,/^\d{1,2}-\d{1,2}-\d{2,4}$/,/^\d{4}-\d{1,2}-\d{1,2}$/,/^\d{1,2}\/\d{1,2}$/,/^\d{1,2}-\d{1,2}$/].some(n=>n.test(t))&&!isNaN(Date.parse(t))},vC=e=>{let t=0;for(let n=0;n<e.length;n++)t=t*26+(e.charCodeAt(n)-65+1);return t},FB=e=>{let t="";for(;e>0;)e--,t=String.fromCharCode(65+e%26)+t,e=Math.floor(e/26);return t},cM=(e,t)=>{const n=vC(e),r=vC(t),o=Math.min(n,r),i=Math.max(n,r),s=[];for(let l=o;l<=i;l++)s.push(FB(l));return s},fM=(e,t)=>{const n=parseInt(e),r=parseInt(t),o=Math.min(n,r),i=Math.max(n,r),s=[];for(let l=o;l<=i;l++)s.push(String(l));return s},pM=(e,t)=>{const n=u=>{const f=u.match(/^([A-Z]+)(\d+)$/);return f?{col:f[1],row:f[2]}:null},r=n(e),o=n(t);if(!r||!o)return[];const i=cM(r.col,o.col),s=fM(r.row,o.row),l=[];for(const u of s)for(const f of i)l.push(f+u);return l},dM=e=>{if(typeof e!="string"&&(e=e==null?"":String(e)),!e||e.length===0||e.indexOf("=")===0||e.trim().startsWith("\\text{")&&e.trim().endsWith("}")||e.includes("\\"))return e;const t=e.trim();return/%\s+\S/.test(t)?`\\text{${e}}`:/^[\d,.$-]+\s+[a-zA-Z]{4,}/.test(t)?`\\text{${e}}`:/^(\d{1,4}[-\/]\d{1,2}[-\/]\d{1,4}|\d{1,2}[-\/]\d{1,2}[-\/]\d{2,4})\s+\S/.test(t)?`\\text{${e}}`:$B(e)||LB(e)?e:`\\text{${e}}`},hM=e=>{if(!e||typeof e!="string")return null;let t=e.trim();if(!t||/%\s+\S/.test(t)||/^[\d,.$-]+\s+[a-zA-Z]{4,}/.test(t))return null;const n=t;["$","","","","","","R$","C$","A$","NZ$","HK$","S$"].forEach(g=>{const y=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp(y,"g"),"")});const r=t.includes("%");t=t.replace(/%/g,"");const o=/^\s*\([^)]+\)\s*$/.test(n)&&/\d/.test(n);o&&(t=t.replace(/[()]/g,"")),t=t.replace(/\s/g,"");const i=t.startsWith("-");i&&(t=t.substring(1));const s=(t.match(/,/g)||[]).length,l=(t.match(/\./g)||[]).length,u=t.lastIndexOf(","),f=t.lastIndexOf(".");let p;s===0&&l===0||s===0&&l===1?p=t:s===1&&l===0?t.substring(u+1).length===3&&t.length>4?p=t.replace(/,/g,""):p=t.replace(",","."):u>f?p=t.replace(/\./g,"").replace(",","."):p=t.replace(/,/g,"");const d=parseFloat(p);if(isNaN(d))return null;let m=d;return(i||o)&&(m=-Math.abs(m)),r&&(m=m/100),m},nl=e=>{const t=new Date(1904,0,1),n=24*60*60*1e3;return Math.floor((e.getTime()-t.getTime())/n)+1},mM=e=>{if(!e||typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=new Date,r=t.toLowerCase();if(r==="today")return nl(new Date(n.getFullYear(),n.getMonth(),n.getDate()));if(r==="tomorrow"){const g=new Date(n);return g.setDate(n.getDate()+1),nl(new Date(g.getFullYear(),g.getMonth(),g.getDate()))}if(r==="yesterday"){const g=new Date(n);return g.setDate(n.getDate()-1),nl(new Date(g.getFullYear(),g.getMonth(),g.getDate()))}if(/^-?\d+(\.\d+)?$/.test(t)||/^[$]?\s*-?\d{1,3}([,.]?\d{3})*([,.]\d+)?$|^-?\d{1,3}([,.]?\d{3})*([,.]\d+)?\s*[$%]?$/.test(t))return null;const o=Date.parse(t);if(!isNaN(o))return nl(new Date(o));const i=/^(\d{1,2})[\/\-\.](\d{1,2})[\/\-\.](\d{4})$/,s=t.match(i);if(s){const g=parseInt(s[1],10),y=parseInt(s[2],10),b=parseInt(s[3],10);if(g>=1&&g<=12&&y>=1&&y<=31)return nl(new Date(b,g-1,y))}const l=/^(\d{1,2})[\/\-\.](\d{1,2})[\/\-\.](\d{4})$/,u=t.match(l);if(u){const g=parseInt(u[1],10),y=parseInt(u[2],10),b=parseInt(u[3],10);if(y>=1&&y<=12&&g>=1&&g<=31&&g>12)return nl(new Date(b,y-1,g))}const f=/^(\d{1,2})[\/\-](\d{1,2})$/,p=t.match(f);if(p){const g=parseInt(p[1],10),y=parseInt(p[2],10);if(g>=1&&g<=12&&y>=1&&y<=31)return nl(new Date(n.getFullYear(),g-1,y))}const d=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,m=t.match(d);if(m){const g=parseInt(m[1],10),y=parseInt(m[2],10),b=parseInt(m[3],10);if(y>=1&&y<=12&&b>=1&&b<=31)return nl(new Date(g,y-1,b))}return null},wC=e=>{if(typeof e=="number")return[e];if(e==null)return[e];const t=String(e);let n=[t];try{const r={keepTextWhitespace:!0,..._B};if(t&&t.length>0){const o=t.indexOf("=")===0?uM(t):dM(t);Qm.translate(r,o,(i,s)=>{i&&i.length&&console.error(i),n=t.indexOf("=")===0?s.split(","):[s]})}}catch(r){console.log("parse error: "+r.stack)}return n},zB=(e,t)=>{const n=wC(e),r=wC(t);return n.length!==r.length?!1:n.every((o,i)=>{const s=r[i];return o===s})},jB=(e,t,n,r)=>n&&r&&n!==r?!1:e!==void 0&&e===t,BB=({method:e,expected:t,points:n=1},{val:r,formula:o,type:i}={val:void 0,formula:void 0,type:void 0})=>{if(e==="value"){let s="text",l=t;if(t!=null){const u=String(t),f=mM(u);if(f)s="date",l=String(f);else{const p=hM(u);p!==null&&(s="number",l=String(p))}}if(jB(r,l,i,s))return{points:n,isValid:!0}}else if(e==="formula"&&zB(o,t))return{points:n,isValid:!0};return{points:0,isValid:!1}},UB=e=>{var t;let n=((t=e.data.interaction)==null?void 0:t.hideMenu)||!1;return new Ul({view(r){const o=document.createElement("div"),i=Mf.createRoot(o);return r.dom.parentNode.insertBefore(o,r.dom),(()=>{var s;const l=((s=e.data.interaction)==null?void 0:s.hideMenu)||!1;i.render(qt.jsx(P1,{className:"",editorView:r,hideMenu:l}))})(),{update(){var s;const l=((s=e.data.interaction)==null?void 0:s.hideMenu)||!1;l!==n&&(n=l,i.render(qt.jsx(P1,{className:"",editorView:r,hideMenu:l})))},destroy(){i.unmount()}}}})},VB=({doc:e,cells:t})=>{const n=[];return t.forEach(({from:r,to:o,color:i,textColor:s,fontWeight:l,border:u,borderClass:f})=>{n.push(Ur.node(r,o,{style:`
        background-color: ${i};
        ${s?`color: ${s};`:""}
        ${l?`font-weight: ${l};`:""}
        ${u};
      `,class:f||""}))}),$n.create(e,n)},HB=e=>{const{row:t,col:n,name:r,background:o,"background-color":i,backgroundColor:s,lastFocusedCell:l,score:u}=e,f=i||s;return t<=1||n<=1?null:u!==void 0&&r!==l&&(u.isValid===!0&&"#efe"||"#fee")||f||o||null},qB=e=>e.text||e.val,WB=e=>{var t,n;return(e==null?void 0:e.text)||((n=(t=e==null?void 0:e.attrs)==null?void 0:t.assess)==null?void 0:n.expected)},KB=({cells:e,primaryColumn:t})=>{const n=Object.keys(e).sort((o,i)=>+o.slice(1)-+i.slice(1)).map(o=>o.slice(0,1)===t&&o||null).filter(o=>o!==null).map(o=>qB(e[o])||null),r=new Set;return n.map(o=>r.has(o)?null:(r.add(o),o)).filter(o=>o!==null)},GB=({cells:e,region:t})=>{const{primaryColumn:n,rows:r}=t,o=KB({cells:e,primaryColumn:n}),i=new Map(r.map(s=>[WB(s[n]),s]));return o.map(s=>s!==null&&i.get(s)||null)},JB=({cells:e,region:t})=>{const n=(t==null?void 0:t.order)==="actual"&&GB({cells:e,region:t})||(t==null?void 0:t.rows)||[];return F9(t,"getCellsValidationFromRegionValidation() missing region value"),n.reduce((r,o,i)=>(i=(o==null?void 0:o.id)||i+1,o&&Object.keys(o).forEach(s=>{var l;return((l=o[s])==null?void 0:l.assess)&&(r[s+i]=o[s])}),r),{})||{}},QB=({cells:e,validation:t})=>{const n=t.regions||t.ranges,r=Object.keys(n).find(o=>o);return[{region:n[r]||{},cells:e}]},YB=(e,t)=>{if(t===null)return!1;const n=e.doc.resolve(t);for(let r=n.depth;r>0;r--)if(n.node(r).type.name==="table_header")return!0;return!1},ZB=(e,t)=>{const{doc:n,selection:r}=e,o=r.$anchor,i=rS(o);if(!i)return null;const s=n.nodeAt(i.pos),l=An.get(s),u=l.width,f=l.height,p=o.pos-i.pos-1;let d=-1;for(let y=0;y<l.map.length;y++)if(l.map[y]<=p&&(y===l.map.length-1||l.map[y+1]>p)){d=y;break}if(d===-1)return l.map[u+1]+i.pos+1;const m=Math.floor(d/u),g=d%u;if(t>0){for(let y=g+1;y<u;y++){const b=m*u+y;if(m>0&&y>0&&b<l.map.length)return l.map[b]+i.pos+1}for(let y=m+1;y<f;y++)for(let b=1;b<u;b++){const E=y*u+b;if(y>0&&b>0&&E<l.map.length)return l.map[E]+i.pos+1}return l.map[u+1]+i.pos+1}else{for(let y=g-1;y>0;y--){const b=m*u+y;if(m>0&&y>0&&b<l.map.length)return l.map[b]+i.pos+1}for(let y=m-1;y>0;y--)for(let b=u-1;b>0;b--){const E=y*u+b;if(y>0&&b>0&&E<l.map.length)return l.map[E]+i.pos+1}for(let y=f-1;y>0;y--)for(let b=u-1;b>0;b--){const E=y*u+b;if(E<l.map.length)return l.map[E]+i.pos+1}return l.map[l.map.length-1]+i.pos+1}},xh=e=>(t,n)=>{const r=ZB(t,e);if(r!==null&&n){const o=t.tr,i=o.doc.resolve(r),s=Rt.near(i);return n(o.setSelection(s)),!0}return!1},XB=({cells:e,validation:t})=>QB({cells:e,validation:t}).map(n=>JB(n))[0],e7=({cells:e,validation:t})=>{const n=XB({cells:e,validation:t});return Object.keys(n).reduce((r,o)=>({...r,[o]:r[o]&&{...r[o],score:BB(n[o].assess,r[o])}||void 0}),e)},S0=(e,t,n,r,o)=>{var i;const s=Oh(e,t),l=e7({cells:n.cells,validation:r}),{doc:u,selection:f}=t,{lastFocusedCell:p}=n,d=(i=o==null?void 0:o.data)==null?void 0:i.focus;let m=[],g=[],y=[];s.forEach(S=>{var x,k,I,L,_;let H=HB({...S,lastFocusedCell:p,score:(x=l[S.name])==null?void 0:x.score}),j=null,Y=null;if((S.row===1||S.col===1)&&(j="#5f6368",Y="400"),d){if(S.row===1&&S.col>1){const ge=(k=S.name.match(/^([A-Z]+)/))==null?void 0:k[1],W=(d==null?void 0:d.columns)||(d!=null&&d.name?[d==null?void 0:d.name]:[]);(d==null?void 0:d.type)==="column"&&(ge===(d==null?void 0:d.name)||W.includes(ge))||d.type==="sheet"?(H="#1a73e8",j="#ffffff",Y="600"):(j="#5f6368",Y="400")}else if(S.row>1&&S.col===1){const ge=(I=S.name.match(/(\d+)$/))==null?void 0:I[1],W=(d==null?void 0:d.rows)||(d!=null&&d.name?[d==null?void 0:d.name]:[]);d.type==="row"&&(ge===d.name||W.includes(ge))||d.type==="sheet"?(H="#1a73e8",j="#ffffff",Y="600"):(j="#5f6368",Y="400")}else if(S.row===1&&S.col===1)d.type==="sheet"?(H="#1a73e8",j="#ffffff",Y="600"):(j="#5f6368",Y="400");else if(S.row>0&&S.col>0&&!(f.anchor>S.from&&f.anchor<S.to))if(d.type==="sheet")H="#e6f3ff";else if(d.type==="column"){const ge=(L=S.name.match(/^([A-Z]+)/))==null?void 0:L[1],W=(d==null?void 0:d.columns)||(d!=null&&d.name?[d==null?void 0:d.name]:[]);(ge===(d==null?void 0:d.name)||W.includes(ge))&&(H="#e6f3ff")}else if(d.type==="row"){const ge=(_=S.name.match(/(\d+)$/))==null?void 0:_[1],W=(d==null?void 0:d.rows)||(d!=null&&d.name?[d==null?void 0:d.name]:[]);(ge===d.name||W.includes(ge))&&(H="#e6f3ff")}else d.type==="cell"&&(d.cells&&d.cells.includes(S.name)?H="#e6f3ff":d.name&&d.name.includes(",")?d.name.split(",").map(ge=>ge.trim()).includes(S.name)&&(H="#e6f3ff"):d.name===S.name&&(H="#e6f3ff"))}const{row:ue,col:Se}=S;m[ue]===void 0&&(m[ue]=[]),m[ue][Se]=H,g[ue]===void 0&&(g[ue]=[]),g[ue][Se]=j,y[ue]===void 0&&(y[ue]=[]),y[ue][Se]=Y});const b=(S,x)=>{let k=!1,I="";if(S.border&&typeof S.border=="string")if(k=!0,S.border.includes("px")||S.border.includes("solid")||S.border.includes("dashed")||S.border.includes("dotted")||S.border.includes("#")||S.border.includes("rgb")||S.border.includes("blue")||S.border.includes("red")||S.border.includes("green")||S.border.includes("black")||S.border.includes("gray")||S.border.includes("grey")){const j=S.border.match(/(\d+(?:\.\d+)?px)\s+\w+\s+(.+)/);if(j){const[,Y,ue]=j;I=`box-shadow: inset 0 0 0 ${Y} ${ue}; `}else I="box-shadow: inset 0 0 0 2px #666; "}else{const j=S.border.split(",").map(ue=>ue.trim().toLowerCase()),Y=[];j.includes("all")?I="box-shadow: inset 0 0 0 2px #666; ":(j.includes("top")&&Y.push("inset 0 2px 0 0 #666"),j.includes("bottom")&&Y.push("inset 0 -2px 0 0 #666"),j.includes("left")&&Y.push("inset 2px 0 0 0 #666"),j.includes("right")&&Y.push("inset -2px 0 0 0 #666"),Y.length>0&&(I=`box-shadow: ${Y.join(", ")}; `))}let L="",_={top:"1px solid #e0e0e0",right:"1px solid #e0e0e0",bottom:"1px solid #e0e0e0",left:"1px solid #e0e0e0"};S.col===1&&S.row===1||S.col===1?(_.right="1px solid #e0e0e0",_.bottom=S.underline?"2px solid #333":"1px solid #e0e0e0"):(S.row,_.bottom=S.underline?"2px solid #333":"1px solid #e0e0e0");let H="";return H+=`border-top: ${_.top}; `,H+=`border-right: ${_.right}; `,H+=`border-bottom: ${_.bottom}; `,H+=`border-left: ${_.left}; `,x?H+="box-shadow: inset 0 0 0 2px #1a73e8 !important; z-index: 10; ":k&&(H+=I),S.col===1||S.row===1?H+="text-align: center; ":H+=`font-weight: ${S.fontWeight||"normal"}; text-align: ${S.align||"right"}; `,{styleStr:H,borderClass:L}},E=s.map(S=>{const x=f.anchor>S.from&&f.anchor<S.to,{styleStr:k,borderClass:I}=b(S,x),L=m[S.row]&&m[S.row][S.col],_=g[S.row]&&g[S.row][S.col],H=y[S.row]&&y[S.row][S.col];return{...S,readonly:S.readonly,border:k,borderClass:I,color:L||(S.col===1||S.row===1)&&"#f8f8f8"||"#fff",textColor:_,fontWeight:H}});return VB({doc:u,cells:E})},nS=e=>e.type.name==="table_cell"||e.type.name==="table_header",Oh=(e,t)=>{const{doc:n}=t,r=[];let o=0,i=0;return n.descendants((s,l)=>{var u,f,p,d;if(s.type.name==="table_row"&&(o++,i=0),nS(s)){i++;const m=s.attrs.name,g=e&&m&&((u=e.cells[m])==null?void 0:u.text)||s.textContent,y=e&&m&&((f=e.cells[m])==null?void 0:f.val),b=e&&m&&((p=e.cells[m])==null?void 0:p.formula),E=e&&m&&((d=e.cells[m])==null?void 0:d.type)||"text";r.push({row:o,col:i,name:m,text:g,val:y,formula:b,type:E,from:l,to:l+s.nodeSize,align:s.attrs.align||s.attrs.justify,background:s.attrs.background,"background-color":s.attrs["background-color"]||s.attrs.backgroundColor,backgroundColor:s.attrs.backgroundColor||s.attrs["background-color"],"font-weight":s.attrs["font-weight"]||s.attrs.fontWeight,fontWeight:s.attrs.fontWeight||s.attrs["font-weight"],format:s.attrs.format,numberFormat:s.attrs.numberFormat,assess:s.attrs.assess,underline:s.attrs.underline,border:s.attrs.border,protected:s.attrs.protected})}}),r},wf=new eT({nodes:sm.spec.nodes.append(H9({tableGroup:"block",cellContent:"paragraph",cellAttributes:{name:{default:null,getFromDOM(e){return e.dataset.name||null},setDOMAttr(e,t){e&&(t.dataset=`data-name: ${e};`)}},format:{default:null,getFromDOM(e){return e.dataset.format||null},setDOMAttr(e,t){e&&(t.dataset=`data-format: ${e};`)}},assess:{default:null,getFromDOM(e){return JSON.parse(e.dataset.format)||null},setDOMAttr(e,t){e&&(t.dataset=`data-format: ${JSON.stringify(e)};`)}},align:{default:null,getFromDOM(e){return e.style.textAlign||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`text-align: ${e};`)}},justify:{default:null,getFromDOM(e){return e.style.textAlign||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`text-align: ${e};`)}},readonly:{default:null,getFromDOM(e){return e.dataset.readonly||null},setDOMAttr(e,t){e&&(t["data-readonly"]=e,t.class=(t.class||"")+" readonly-cell")}},background:{default:null,getFromDOM(e){return e.style.backgroundColor||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`background-color: ${e};`)}},"background-color":{default:null,getFromDOM(e){return e.style.backgroundColor||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`background-color: ${e};`)}},backgroundColor:{default:null,getFromDOM(e){return e.style.backgroundColor||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`background-color: ${e};`)}},"font-weight":{default:null,getFromDOM(e){return e.style.fontWeight||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-weight: ${e};`)}},fontWeight:{default:null,getFromDOM(e){return e.style.fontWeight||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-weight: ${e};`)}},"font-size":{default:null,getFromDOM(e){return e.style.fontSize||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-size: ${e};`)}},fontSize:{default:null,getFromDOM(e){return e.style.fontSize||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-size: ${e};`)}},"font-family":{default:null,getFromDOM(e){return e.style.fontFamily||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-family: ${e};`)}},fontFamily:{default:null,getFromDOM(e){return e.style.fontFamily||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-family: ${e};`)}},"font-style":{default:null,getFromDOM(e){return e.style.fontStyle||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-style: ${e};`)}},fontStyle:{default:null,getFromDOM(e){return e.style.fontStyle||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`font-style: ${e};`)}},color:{default:null,getFromDOM(e){return e.style.color||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`color: ${e};`)}},"text-decoration":{default:null,getFromDOM(e){return e.style.textDecoration||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`text-decoration: ${e};`)}},textDecoration:{default:null,getFromDOM(e){return e.style.textDecoration||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`text-decoration: ${e};`)}},"vertical-align":{default:null,getFromDOM(e){return e.style.verticalAlign||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`vertical-align: ${e};`)}},verticalAlign:{default:null,getFromDOM(e){return e.style.verticalAlign||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+`vertical-align: ${e};`)}},height:{default:null,getFromDOM(e){return e.style.height||null},setDOMAttr(e,t){if(e){const n=e==="auto"?"auto":e;t.style=(t.style||"")+`height: ${n}; min-height: 24px;`}else t.style=(t.style||"")+"height: auto; min-height: 24px;"}},underline:{default:null,getFromDOM(e){return e.style.borderBottom||null},setDOMAttr(e,t){e&&(t.style=(t.style||"")+"border-bottom: 1px solid black;")}},border:{default:null,getFromDOM(e){return e.dataset.border||null},setDOMAttr(e,t){e&&typeof e=="string"&&(t["data-border"]=e)}},protected:{default:!1,getFromDOM(e){return e.dataset.protected==="true"},setDOMAttr(e,t){e&&(t["data-protected"]="true",t.class=(t.class||"")+" protected-cell",t.style=(t.style||"")+"caret-color: transparent;")}}}})),marks:sm.spec.marks}),rS=e=>{for(let t=e.depth;t>0;t--){const n=e.node(t);if(n.type.name==="table")return{pos:e.before(t),node:n}}return null},t7=e=>{const{$from:t}=e.selection,n=rS(t);return n?n.pos:null},vm="_ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),gM=e=>{const t=e.slice(0,1),n=e.slice(1),r=vm.indexOf(t);return{row:+n,col:r}},bc=({state:e,name:t})=>{const n=t7(e),r=e.doc.nodeAt(n),o=An.get(r),{row:i,col:s}=gM(t),l=i*o.width+s,u=o.map[l]+n+1;return{node:e.doc.nodeAt(u),pos:u}},n7=({state:e,name:t})=>{const{row:n,col:r}=gM(t),o=n===0&&n+1||n,i=r===0&&r+1||r,s=`${vm[i]}${o}`;return bc({state:e,name:s})},SC=(e,t,n,r=!1)=>{const{state:o,dispatch:i}=e,{pos:s,node:l}=bc({state:o,name:t});if(!l||!nS(l)){console.error("Invalid cell position or node type: "+JSON.stringify(l,null,2));return}const u=s+1,f=s+l.nodeSize-1,p=n&&o.schema.node("paragraph",null,o.schema.text(n))||o.schema.node("paragraph"),d=o.tr;if(d.setMeta("systemFormatting",!0),d.replaceWith(u,f,p),r){let m=u+1;d.setSelection(Rt.create(d.doc,m+n.length))}i(d)},va=({env:e,name:t})=>{var n;const r=e.cells[t],o=(r==null?void 0:r.text)||"",i=(r==null?void 0:r.format)||"";let s={formula:o,val:o,format:i,type:"text"};if(o&&o.length>0&&o.indexOf("=")===0){const l=yC.types.fn,u=/([A-Za-z][A-Za-z0-9_]*)/g,f=/^[A-Za-z]+[0-9]+$/;let p;const d=[];for(;(p=u.exec(o))!==null;){const g=p[1],y=g.toUpperCase();f.test(g)||l.includes(y)||d.push(g)}if(d.length>0){const g=[...new Set(d)];return{formula:o,val:"#NAME!",format:i,type:"error",error:`Undefined name${g.length>1?"s":""}: ${g.join(", ")}`}}const m=vM({env:e,startCell:t});if(m.hasCycle)return{formula:o,val:"#CYCLE!",format:i,type:"error",error:`Circular dependency: ${(n=m.cyclePath)==null?void 0:n.join("  ")}`}}if(o&&!o.startsWith("=")){const l=mM(o);if(l)s.val=String(l),s.type="date";else{const u=hM(o);u!==null&&(s.val=String(u),s.type="number")}}try{if(o&&o.length>0&&o.indexOf("=")===0){const l={keepTextWhitespace:!0,env:e.cells,...yC},u=uM(o);Qm.translate(l,u,(f,p)=>{f&&f.length&&console.error(f);const d=m=>{if(typeof m=="number")return!0;if(typeof m=="string"){const g=m.trim();if(g==="")return!1;const y=Number(g);return!isNaN(y)&&isFinite(y)}return!1};yM(i)&&d(p)?s={...s,val:String(p),type:"date"}:d(p)?s={...s,val:String(p),type:"number"}:s={...s,val:String(p),type:"text"}})}}catch(l){console.log("parse error: "+l.stack)}return s},bC=e=>(typeof e=="string"?e:String(e||"")).replace(new RegExp("\\{\\{","g"),"[[").replace(new RegExp("\\}\\}","g"),"]]"),yM=e=>e&&["MM/DD/YYYY","DD/MM/YYYY","YYYY-MM-DD","MM-DD-YYYY","DD-MM-YYYY","M/D/YY","D/M/YY","MMM DD, YYYY","DD MMM YYYY","date"].some(t=>e.toLowerCase().includes(t.toLowerCase())),r7=({env:e,name:t})=>{const n=e.cells[t]||{},r=n.val,o=n.type||"text",i=n.format||"";let s=r;const l=yM(i);if((o==="date"||l)&&r){const u=typeof r=="string"?parseFloat(r):r;if(!isNaN(u)){const f=new Date(1904,0,1),p=24*60*60*1e3,d=new Date(f.getTime()+(u-1)*p),m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=d.getMonth()+1,y=d.getDate(),b=d.getFullYear(),E=b.toString().slice(-2);i.includes("DD/MM/YYYY")?s=`${y.toString().padStart(2,"0")}/${g.toString().padStart(2,"0")}/${b}`:i.includes("DD-MM-YYYY")?s=`${y.toString().padStart(2,"0")}-${g.toString().padStart(2,"0")}-${b}`:i.includes("YYYY-MM-DD")?s=`${b}-${g.toString().padStart(2,"0")}-${y.toString().padStart(2,"0")}`:i.includes("MM-DD-YYYY")?s=`${g.toString().padStart(2,"0")}-${y.toString().padStart(2,"0")}-${b}`:i.includes("M/D/YY")?s=`${g}/${y}/${E}`:i.includes("D/M/YY")?s=`${y}/${g}/${E}`:i.includes("MMM DD, YYYY")?s=`${m[d.getMonth()]} ${y.toString().padStart(2,"0")}, ${b}`:i.includes("DD MMM YYYY")?s=`${y.toString().padStart(2,"0")} ${m[d.getMonth()]} ${b}`:s=`${g.toString().padStart(2,"0")}/${y.toString().padStart(2,"0")}/${b}`}}try{if(typeof s=="number"&&i&&!l&&(s=s.toString()),i&&s&&typeof s=="string"&&s.length>0&&!l){const u={allowInterval:!0,keepTextWhitespace:!0,RHS:!1,env:{format:i},...IB},f=dM(s);Qm.translate(u,f,(p,d)=>{p&&p.length&&console.error(p),s=d})}}catch(u){console.log("parse error: "+u.stack)}return s},o7=({env:e,name:t})=>{var n;const r=((n=e.cells[t])==null?void 0:n.text)||"";let o=r;try{const i={env:e.cells,...DB};r&&r.length>0&&r.indexOf("=")===0?Qm.translate(i,r,(s,l)=>{s&&s.length&&console.error(s),o=l.split(",").map(u=>u.toUpperCase())}):o=[]}catch(i){console.log("parse error: "+i.stack)}return o},vM=({env:e,startCell:t})=>{const n=new Map,r=new Set;let o=[],i=!1;const s=(l,u)=>{if(n.get(l)===1){const p=u.indexOf(l);return o=u.slice(p).concat([l]),!0}if(n.get(l)===2)return!1;n.set(l,1);const f=o7({env:e,name:l});for(const p of f)if(r.add(p),s(p,[...u,l]))return!0;return n.set(l,2),!1};return i=s(t,[]),{hasCycle:i,cyclePath:i?o:void 0,dependencies:Array.from(r)}},kC=({env:e,names:t})=>{var n;const r=new Set;for(const o of t){const i=vM({env:e,startCell:o});if(i.hasCycle){console.error(`Circular dependency detected in cell ${o}: ${(n=i.cyclePath)==null?void 0:n.join("  ")}`);continue}i.dependencies.forEach(s=>r.add(s))}return Array.from(r)},i7=e=>new Ul({view(t){const n=r=>{var o,i,s,l;const u=r.shiftKey,f=r.metaKey||r.ctrlKey;if(!u&&!f)return;let p=r.target;for(;p&&p!==t.dom;){if(p.nodeName==="TH"||(o=p.classList)!=null&&o.contains("ProseMirror-tableheader")||p.nodeName==="TD"||(i=p.classList)!=null&&i.contains("ProseMirror-tablecell")){const d=t.posAtDOM(p,0),m=t.state.doc.resolve(d);for(let g=m.depth;g>0;g--){const y=m.node(g);if(y.type.name==="table_cell"){const b=y.attrs.name,E=e.data.focus;if(f){let S=[];E&&E.type==="cell"&&(E.cells&&E.cells.length>0?S=[...E.cells]:E.name&&(S=E.name.split(",").map(I=>I.trim())));const x=S.indexOf(b);x>-1?S.splice(x,1):S.push(b),S.length>0?e.apply({type:"focus",args:{type:"cell",name:S.join(","),cells:S,isRange:!1,isMultiple:!0}}):e.apply({type:"focus",args:null});const k=t.state.tr;k.setMeta("focusChanged",!0),t.dispatch(k),r.preventDefault(),r.stopPropagation();return}else if(u&&E&&E.type==="cell"){let S=null;if(E.isRange&&E.cells&&E.cells.length>0?S=E.cells[0]:E.name&&!E.name.includes(",")&&(S=E.name),S&&S!==b){const x=pM(S,b);if(x.length>0){e.apply({type:"focus",args:{type:"cell",name:x.join(","),cells:x,isRange:!0}});const k=t.state.tr;k.setMeta("focusChanged",!0),t.dispatch(k),r.preventDefault(),r.stopPropagation();return}}}break}else if(y.type.name==="table_header"){const b=y.attrs.name,E=(s=b==null?void 0:b.match(/^([_A-Z]+)/))==null?void 0:s[1],S=(l=b==null?void 0:b.match(/(\d+)$/))==null?void 0:l[1];if(E&&E!=="_"&&S==="0"){const x=e.data.focus;if(f){let k=[];x&&x.type==="column"&&(x.columns&&x.columns.length>0?k=[...x.columns]:x.name&&(k=[x.name]));const I=k.indexOf(E);I>-1?k.splice(I,1):k.push(E),k.length>0?e.apply({type:"focus",args:{type:"column",name:k[0],columns:k,isMultiple:!0}}):e.apply({type:"focus",args:null});const L=t.state.tr;L.setMeta("focusChanged",!0),L.setMeta("headerClick",!0),t.dispatch(L),r.preventDefault(),r.stopPropagation();return}else if(u&&x&&x.type==="column"&&x.name){const k=cM(x.name,E);e.apply({type:"focus",args:{type:"column",name:x.name,columns:k}});const I=t.state.tr;I.setMeta("focusChanged",!0),I.setMeta("headerClick",!0),t.dispatch(I),r.preventDefault(),r.stopPropagation();return}}else if(E==="_"&&S&&S!=="0"){const x=e.data.focus;if(f){let k=[];x&&x.type==="row"&&(x.rows&&x.rows.length>0?k=[...x.rows]:x.name&&(k=[x.name]));const I=k.indexOf(S);I>-1?k.splice(I,1):k.push(S),k.length>0?e.apply({type:"focus",args:{type:"row",name:k[0],rows:k,isMultiple:!0}}):e.apply({type:"focus",args:null});const L=t.state.tr;L.setMeta("focusChanged",!0),L.setMeta("headerClick",!0),t.dispatch(L),r.preventDefault(),r.stopPropagation();return}else if(u&&x&&x.type==="row"&&x.name){const k=fM(x.name,S);e.apply({type:"focus",args:{type:"row",name:x.name,rows:k}});const I=t.state.tr;I.setMeta("focusChanged",!0),I.setMeta("headerClick",!0),t.dispatch(I),r.preventDefault(),r.stopPropagation();return}}break}}break}p=p.parentElement}};return t.dom.addEventListener("mousedown",n,!0),{destroy(){t.dom.removeEventListener("mousedown",n,!0)}}},props:{handleClickOn(t,n,r,o,i,s){var l,u;const{state:f,dispatch:p}=t;if(r.type.name==="table_header"){if(i&&i.shiftKey)return!1;const d=r.attrs.name||"_0";{const y=(l=d.match(/^([_A-Z]+)/))==null?void 0:l[1],b=(u=d.match(/(\d+)$/))==null?void 0:u[1];if(y==="_"&&b==="0"){e.apply({type:"focus",args:{type:"sheet"}});const E=f.tr;E.setMeta("focusChanged",!0),E.setMeta("headerClick",!0),p(E)}else if(y&&y!=="_"&&b==="0"){e.apply({type:"focus",args:{type:"column",name:y,columns:[y]}});const E=f.tr;E.setMeta("focusChanged",!0),E.setMeta("headerClick",!0),p(E)}else if(y==="_"&&b&&b!=="0"){e.apply({type:"focus",args:{type:"row",name:b,rows:[b]}});const E=f.tr;E.setMeta("focusChanged",!0),E.setMeta("headerClick",!0),p(E)}}const{pos:m,node:g}=n7({state:f,name:d});if(m&&g){const y=m+2,b=g.textContent,E=Rt.create(f.tr.doc,y+b.length),S=f.tr.setSelection(E);S.setMeta("syntheticFocus",!0),p(S)}return!0}return!1},handleDOMEvents:{mousedown(t,n){var r,o;if(!n.shiftKey)return!1;const i=t.posAtCoords({left:n.clientX,top:n.clientY});if(!i)return!1;const s=t.state.doc.resolve(i.pos);let l=null,u=null;for(let f=s.depth;f>0;f--){const p=s.node(f);if(p.type.name==="table_header"){l=p,u=p.attrs.name;break}}if(l&&u){const{state:f,dispatch:p}=t,d=u,m=(r=d.match(/^([_A-Z]+)/))==null?void 0:r[1],g=(o=d.match(/(\d+)$/))==null?void 0:o[1];if(m&&m!=="_"&&g==="0"){const y=e.data.focus;if(n.shiftKey&&y&&y.type==="column"){const b=(y==null?void 0:y.columns)||(y!=null&&y.name?[y==null?void 0:y.name]:[]),E=b.includes(m)?b.filter(x=>x!==m):[...b,m];e.apply({type:"focus",args:{type:"column",columns:E}});const S=f.tr;return S.setMeta("focusChanged",!0),S.setMeta("headerClick",!0),p(S),n.preventDefault(),!0}}}return!1},beforeinput(t,n){return Sf(t.state)?(n.preventDefault(),!0):!1},keydown(t,n){const{state:r,dispatch:o}=t;if(Sf(r)){if(n.preventDefault(),n.key==="Tab"){const s=n.shiftKey?-1:1;return xh(s)(r,o),!0}const{pos:i}=bc({state:r,name:"B2"});if(i){const s=r.tr,l=r.doc.resolve(i);s.setMeta("_headerRedirect",!0),s.setSelection(new Rt(l)),o(s)}return!0}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key)){const i=r.selection.$anchor,s=rS(i);if(s){const l=r.doc.nodeAt(s.pos),u=An.get(l),f=u.width,p=i.pos-s.pos-1;let d=-1;for(let m=0;m<u.map.length;m++)if(u.map[m]<=p&&(m===u.map.length-1||u.map[m+1]>p)){d=m;break}if(d!==-1){const m=Math.floor(d/f),g=d%f,y=u.height;if(n.key==="ArrowUp"&&m===1||n.key==="ArrowLeft"&&g===1||n.key==="ArrowRight"&&g===f-1||n.key==="ArrowDown"&&m===y-1)return n.preventDefault(),!0}}}return!1},copy(t,n){return!1},paste(t,n){return Sf(t.state)?(n.preventDefault(),!0):!1},cut(t,n){return Sf(t.state)?(n.preventDefault(),!0):!1}}},filterTransaction(t,n){if(t.getMeta("_headerRedirect"))return!0;if(t.steps.length>0&&Sf(n))return t.steps.every(r=>r.toJSON().stepType==="setSelection");if(t.selectionSet){const r=t.selection.$anchor;if(r){for(let o=r.depth;o>0;o--){const i=r.node(o);if(i&&i.type.name==="table_header")return!1}if(r.pos===1)return!1}}return!0}});function Sf(e){const{selection:t}=e;return YB(e,t.$anchor.pos)}function rl(e){const{selection:t}=e,n=e.doc.resolve(t.$anchor.pos);for(let r=n.depth;r>0;r--){const o=n.node(r);if(o.type.name==="table_cell"&&o.attrs.protected===!0)return!0}return!1}const s7=e=>new Ul({props:{handleDOMEvents:{beforeinput(t,n){return rl(t.state)?(n.preventDefault(),e==null||e.showTooltip(n),!0):!1},input(t,n){return rl(t.state)?(n.preventDefault(),!0):!1},keypress(t,n){return rl(t.state)?(n.preventDefault(),e==null||e.showTooltip(n),!0):!1},keydown(t,n){if(rl(t.state)){const r=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Tab","Enter","Escape","Home","End","PageUp","PageDown"].includes(n.key),o=n.metaKey||n.ctrlKey||n.altKey;if(!r&&!o||o&&["c","C","v","V","x","X","a","A","z","Z","y","Y"].includes(n.key)&&["v","V","x","X","z","Z","y","Y"].includes(n.key))return n.preventDefault(),e==null||e.showTooltip(n),!0}return!1},paste(t,n){return rl(t.state)?(n.preventDefault(),e==null||e.showTooltip(n),!0):!1},cut(t,n){return rl(t.state)?(n.preventDefault(),e==null||e.showTooltip(n),!0):!1},drop(t,n){return rl(t.state)?(n.preventDefault(),e==null||e.showTooltip(n),!0):!1}}},filterTransaction(t,n){if(t.getMeta("systemFormatting"))return!0;if(t.steps.length>0)for(let r of t.steps){const o=r.toJSON();if(o.stepType!=="setSelection"&&rl(n))return!1;if(o.stepType==="replace"&&o.from!==void 0){const i=n.doc.resolve(o.from);for(let s=i.depth;s>0;s--){const l=i.node(s);if(l.type.name==="table_cell"&&l.attrs.protected===!0)return!1}}}return!0}}),l7=e=>Object.keys(e).reduce((t,n)=>{const{text:r,val:o,formula:i,assess:s}=e[n];return s&&{...t,[n]:{text:r,val:o,formula:i}}||t},{}),a7=e=>{const t=new Ul({view(n){return{update(r){var o;const{state:i,dispatch:s}=r,l=t.getState(i);if(l.dirtyCells.length>0){const m=i.tr;m.setMeta("updated",!0),s(m)}const u={...l.cells},{columns:f,cells:p,rows:d}=e.data.interaction;if(p&&Object.keys(u).forEach(m=>{var g;const y=p[m],b=(g=y==null?void 0:y.attrs)==null?void 0:g.format;b&&(u[m]={...u[m],format:b})}),Object.keys(u).forEach(m=>{const g=m.slice(0,1);if(parseInt(m.slice(1))<=1)return;const y=f&&f[g];y&&Object.keys(y).forEach(b=>{var E;y[b]!==void 0&&!((E=u[m])!=null&&E[b])&&(u[m]={...u[m],[b]:y[b]})})}),Object.keys(u).forEach(m=>{const g=parseInt(m.slice(1));if(!g||g<=0)return;const y=d&&d[g];y&&Object.keys(y).forEach(b=>{var E;y[b]!==void 0&&!((E=u[m])!=null&&E[b])&&(u[m]={...u[m],[b]:y[b]})})}),l.dirtyCells.forEach(m=>{u[m]={...u[m],...va({env:{cells:u},name:m})};const g=bC(r7({env:{cells:u},name:m})),{node:y}=bc({state:r.state,name:m});m!==l.focusedCell&&g!==y.textContent&&SC(r,m,g)}),l.focusedCell){const m=l.focusedCell,g=bC(((o=l.cells[m])==null?void 0:o.text)||""),{node:y}=bc({state:r.state,name:m});y.type.name==="table_cell"&&g!==y.textContent&&SC(r,m,g,!0)}}}},state:{init(n,r){var o;const i=t.getState(r),s=Oh(i,r).reduce((g,y)=>y.row>1&&y.col>1&&{...g,[y.name]:{...y,deps:[]}}||g,{}),l=Oh(i,r).reduce((g,y)=>y.row>1&&y.col>1&&y.text&&[...g,y.name]||g,[]),u=Oh(i,r).reduce((g,y)=>{if(y.row>1&&y.col>1){const b=kC({env:{cells:g},names:[y.name]}),E=y.name;return b.reduce((S,x)=>{const{formula:k,val:I}=va({env:{cells:S},name:x}),L=S[x];return L&&{...S,[x]:{...L,formula:k,val:I,deps:[...L==null?void 0:L.deps,E],format:L.format}}||S},g)}else return g},s),f=l.reduce((g,y)=>{const b=g[y];return b&&{...g,[y]:{...b,...va({env:{cells:g},name:y}),deps:[...b==null?void 0:b.deps]}}||g},u),p={lastFocusedCell:null,blurredCell:null,focusedCell:null,lastHeaderClick:0,dirtyCells:l,cells:f},d=((o=e.data)==null?void 0:o.validation)||null,m=S0(i,r,p,d,e);return{...p,decorations:m}},apply(n,r,o,i){var s,l,u,f;if(n.getMeta("updated")&&(r={...r,focusedCell:null,dirtyCells:[]}),n.getMeta("headerClick")&&(r={...r,lastHeaderClick:Date.now()}),n.getMeta("focusChanged")||n.getMeta("focusCleared")||n.getMeta("headerClick")){const S=t.getState(i),{validation:x}=e.data,k=S0(S,i,r,x,e);return{...r,decorations:k}}const{selection:p}=i,d=p.$anchor.node(-1),m=(s=d.attrs)==null?void 0:s.name,g=r.lastFocusedCell;if(g!==m){if(g&&r.cells[g]){const x=r.cells[g];r={...r,blurredCell:g,cells:{...r.cells,[g]:{...x,...va({env:r,name:g})}},dirtyCells:[...r==null?void 0:r.dirtyCells,g,...(x==null?void 0:x.deps)||[]]},r=kC({env:r,names:[g]}).reduce((k,I)=>{const L=k.cells[I];return L&&{...k,cells:{...k.cells,[I]:{...L,...va({env:k,name:I}),deps:[...L==null?void 0:L.deps,...!L.deps.includes(g)&&[g]||[]]}}}||k},r),r=((l=x.deps)==null?void 0:l.reduce((k,I)=>{const L=k.cells[I];return L&&{...k,cells:{...k.cells,[I]:{...L,...va({env:k,name:I})}}}||k},r))||r}r={...r,lastFocusedCell:d.attrs.name,focusedCell:d.attrs.name};const S=l7(r.cells);e.apply({type:"response",args:{cells:S}}),d.attrs.name&&!n.getMeta("syntheticFocus")&&e.apply({type:"focus",args:{type:"cell",name:d.attrs.name}})}else if(nS(d)&&(u=d.attrs)!=null&&u.name){const S=d.attrs.name,x=d.textContent.trim();r={...r,blurredCell:null,focusedCell:null,dirtyCells:[],cells:{...r.cells,[S]:{...r.cells[S],...va({env:r,name:S}),text:x,formula:x}}}}const y=t.getState(i),b=((f=e.data)==null?void 0:f.validation)||null,E=S0(y,i,r,b,e);return{...r,decorations:E}}},props:{decorations(n){return this.getState(n).decorations},handleDOMEvents:{mousedown(n,r){var o,i;const s=n.posAtCoords({left:r.clientX,top:r.clientY});if(!s)return!1;const l=n.state.doc.resolve(s.pos);let u=null,f=null;for(let p=l.depth;p>0;p--){const d=l.node(p);if(d.type.name==="table_cell"){u=d,f=d.attrs.name;break}}if(u&&f){const p=e.data.focus;if(r.shiftKey&&p){let d=null;if(p.type==="cell"&&(p.isRange&&p.cells&&p.cells.length>0?d=p.cells[0]:p.name&&!p.name.includes(",")&&(d=p.name)),d){const m=pM(d,f);if(m.length>0){e.apply({type:"focus",args:{type:"cell",name:m.join(","),cells:m,isRange:!0}});const g=n.state.tr;return g.setMeta("focusChanged",!0),n.dispatch(g),r.preventDefault(),!0}}}if(p&&(p.type==="row"||p.type==="column"||p.type==="sheet"||p.type==="cell"&&p.isRange)){const d=(o=f.match(/^([A-Z]+)/))==null?void 0:o[1],m=(i=f.match(/(\d+)$/))==null?void 0:i[1];let g=!1;if(p.type==="sheet")g=!0;else if(p.type==="column"){const y=(p==null?void 0:p.columns)||(p!=null&&p.name?[p==null?void 0:p.name]:[]);(d===(p==null?void 0:p.name)||y.includes(d))&&(g=!0)}else if(p.type==="row"){const y=(p==null?void 0:p.rows)||(p!=null&&p.name?[p==null?void 0:p.name]:[]);(m===(p==null?void 0:p.name)||y.includes(m))&&(g=!0)}else p.type==="cell"&&p.isRange&&p.cells&&p.cells.includes(f)&&(g=!0);if(g){e.apply({type:"focus",args:{type:"cell",name:f}});const y=n.state.tr;y.setMeta("focusCleared",!0),n.dispatch(y)}}}return!1}}}});return t};class u7{constructor(t,n){hf(this,"dom"),hf(this,"contentDOM"),hf(this,"value",""),hf(this,"textContent",""),hf(this,"hasFocus",!1),this.dom=document.createElement("div"),this.dom.className="custom-paragraph",this.contentDOM=document.createElement("p"),this.dom.appendChild(this.contentDOM),t.content.size==0&&this.dom.classList.add("empty")}update(t){return t.type.name!=="paragraph"?!1:(this.dom.classList.remove("empty"),this.hasFocus?t.content.size>0?(this.textContent=t.textContent,this.value=this.hasFocus&&this.textContent.indexOf("sum")>0&&"300"||this.textContent,this.contentDOM.textContent=this.textContent):this.contentDOM.textContent=this.value||this.contentDOM.textContent:this.dom.classList.add("empty"),!0)}}const c7=({col:e,row:t,attrs:n,colsAttrs:r})=>{var o,i,s,l,u,f;r=r||{};const p=t[e];let d,m=1,g=1;const y=e==="_"&&[40]||((o=r[e])!=null&&o.width?[r[e].width]:null);let b=((i=p==null?void 0:p.attrs)==null?void 0:i["background-color"])||((s=p==null?void 0:p.attrs)==null?void 0:s.backgroundColor)||((l=r[e])==null?void 0:l["background-color"])||((u=r[e])==null?void 0:u.backgroundColor)||(n==null?void 0:n["background-color"])||(n==null?void 0:n.backgroundColor);const{text:E}=p||{};d=[{type:"paragraph",content:E?[{type:"text",text:String(E)}]:[]}];const S=p.type==="th";let x="auto";const k=(n==null?void 0:n["font-size"])||((f=r[e])==null?void 0:f["font-size"])||(p==null?void 0:p["font-size"]);if(k&&!S){const T=k.match(/(\d+(?:\.\d+)?)/);if(T){const se=parseFloat(T[1]);x=`${Math.max(se*1.2+4,24)}px`}}const{backgroundColor:I,...L}=n||{},_=S?{...L}:L,{"background-color":H,backgroundColor:j,...Y}=r[e]||{},ue=S?{...Y}:Y,{text:Se,type:ge,attrs:W,...G}=p||{},{"background-color":U,backgroundColor:re,background:He,...fe}=W||{},J=S?{...p||{}}:{...G,...fe};return S&&(_==null||delete _["font-size"],_==null||delete _.fontSize,ue==null||delete ue["font-size"],ue==null||delete ue.fontSize,J==null||delete J["font-size"],J==null||delete J.fontSize,_==null||delete _.border,ue==null||delete ue.border),{type:S&&"table_header"||"table_cell",attrs:{name:`${e}${t._.text||0}`,colspan:m,rowspan:g,colwidth:y,width:"50px",height:x,background:b,readonly:S?"true":null,..._,...ue,...J},content:d}},f7=({cols:e,row:t,attrs:n,colsAttrs:r})=>({type:"table_row",content:e.map(o=>c7({col:o,row:t,attrs:n,colsAttrs:r}))}),p7=({cols:e,rows:t,attrs:n,colsAttrs:r})=>({type:"table",content:t.map((o,i)=>f7({cols:e,row:o,colsAttrs:r,attrs:n[i]}))}),d7=({cols:e,rows:t,colsAttrs:n,rowsAttrs:r})=>{const o=h7({cols:e,rows:t,rowsAttrs:r});return{type:"doc",content:[{...p7({cols:e,rows:t,attrs:o,colsAttrs:n})}]}},h7=({cols:e,rows:t,rowsAttrs:n})=>{const r=e.slice(0,e.length-1),o=[];return t.forEach((i,s)=>{let l=0;r.forEach(u=>{l+=+i[u]}),o[s]===void 0&&(o[s]={}),n&&n[s]&&(o[s]={...n[s]})}),o},xC=(e,t)=>{if(!e)return t;if(!t)return e;if(e.includes("px")||t.includes("px"))return t;const n=s=>s==="all"?["top","bottom","left","right"]:s.split(",").map(l=>l.trim().toLowerCase()),r=n(e),o=n(t),i=[...new Set([...r,...o])];return i.includes("top")&&i.includes("bottom")&&i.includes("left")&&i.includes("right")?"all":i.join(",")},m7=(e,t,n,r,o)=>{var i;if(e===0&&t==="_")return{type:"th",text:"",attrs:{readonly:"true"}};if(t==="_"&&e!==0)return{type:"th",text:e,attrs:{readonly:"true"}};if(e===0&&t!=="_")return{type:"th",text:t,attrs:{readonly:"true"}};if(e!==0&&t!=="_"){const s=`${t}${e}`,l=n[s]||{},u=r&&r[t]||{},f=o&&o[e]||{},{text:p,...d}=l,m=f==null?void 0:f.border,g=u==null?void 0:u.border,y=(d==null?void 0:d.border)||((i=l.attrs)==null?void 0:i.border),b=xC(xC(m,g),y),{border:E,...S}=f,{border:x,...k}=u,{border:I,...L}=d,{border:_,...H}=l.attrs||{},j={...S,...k,...L,...H,...b?{border:b}:{}};return{type:"td",text:p||"",attrs:{underline:j==null?void 0:j.underline,border:j==null?void 0:j.border,"font-weight":(j==null?void 0:j["font-weight"])||(j==null?void 0:j.fontWeight),fontWeight:(j==null?void 0:j.fontWeight)||(j==null?void 0:j["font-weight"]),"font-size":(j==null?void 0:j["font-size"])||(j==null?void 0:j.fontSize),fontSize:(j==null?void 0:j.fontSize)||(j==null?void 0:j["font-size"]),"font-family":(j==null?void 0:j["font-family"])||(j==null?void 0:j.fontFamily),fontFamily:(j==null?void 0:j.fontFamily)||(j==null?void 0:j["font-family"]),"font-style":(j==null?void 0:j["font-style"])||(j==null?void 0:j.fontStyle),fontStyle:(j==null?void 0:j.fontStyle)||(j==null?void 0:j["font-style"]),color:j==null?void 0:j.color,"text-decoration":(j==null?void 0:j["text-decoration"])||(j==null?void 0:j.textDecoration),textDecoration:(j==null?void 0:j.textDecoration)||(j==null?void 0:j["text-decoration"]),"vertical-align":(j==null?void 0:j["vertical-align"])||(j==null?void 0:j.verticalAlign),verticalAlign:(j==null?void 0:j.verticalAlign)||(j==null?void 0:j["vertical-align"]),background:j==null?void 0:j.background,"background-color":(j==null?void 0:j["background-color"])||(j==null?void 0:j.backgroundColor),backgroundColor:(j==null?void 0:j.backgroundColor)||(j==null?void 0:j["background-color"]),align:(j==null?void 0:j.align)||(j==null?void 0:j.justify),format:j==null?void 0:j.format,assess:j==null?void 0:j.assess,protected:j==null?void 0:j.protected}}}return{}},OC=({type:e,columns:t,cells:n,rows:r})=>{if(!n||Object.keys(n).length===0)return null;const{x:o,y:i}=Object.keys(n).reduce((s,l)=>{const u=vm.indexOf(l.slice(0,1)),f=+l.slice(1);return{x:u>s.x&&u||s.x,y:f>s.y&&f||s.y}},{x:0,y:0});switch(e){case"table":{const s=Array.apply(null,Array(o+1)).map((u,f)=>vm[f]),l=Array.apply(null,Array(i+1)).map((u,f)=>s.reduce((p,d)=>({...p,[d]:m7(f,d,n||{},t,r)}),{}));return{doc:d7({cols:s,rows:l,colsAttrs:t,rowsAttrs:r}),selection:{type:"text",anchor:1,head:1}}}default:return null}},g7=({state:e,onEditorViewChange:t})=>{const{type:n,columns:r,cells:o,rows:i}=e.data.interaction,[s,l]=Gt.useState(null),[u,f]=Gt.useState({visible:!1,x:0,y:0}),p={showTooltip:b=>{var E,S;let x=0,k=0;if(b.clientX&&b.clientY)x=b.clientX,k=b.clientY;else{const I=((S=(E=b.target)==null?void 0:E.getBoundingClientRect)==null?void 0:S.call(E))||{left:0,top:0,width:0};x=I.left+I.width/2,k=I.top}f({visible:!0,x,y:k}),setTimeout(()=>{f(I=>({...I,visible:!1}))},4e3)}},d=a7(e),m=UB(e),g=[u5(),w5(),lA(),um({"Mod-z":jw,"Mod-y":Bw}),um({...CT,Tab:xh(1),"Shift-Tab":xh(-1),Enter:xh(1)}),m,i7(e),s7(p),d],y=Gt.useRef(null);return Gt.useEffect(()=>{if(!y.current)return;let b;if(o&&Object.keys(o).length>0){const x=OC({type:n,columns:r,cells:o,rows:i});x?b=Ho.fromJSON({schema:wf,plugins:g},x):b=Ho.create({schema:wf,plugins:g})}else b=Ho.create({schema:wf,plugins:g});const E=qA(b);E&&(b=b.apply(E.setMeta("addToHistory",!1)));const S=new iA(y.current,{state:b,dispatchTransaction(x){const k=S.state.apply(x);S.updateState(k)},nodeViews:{paragraph(x,k){return new u7(x,k)}}});return l(S),t==null||t(S),()=>{S&&S.destroy()}},[]),Gt.useEffect(()=>{if(s&&o){const b=OC({type:n,columns:r,cells:o,rows:i});if(!b){const k=Ho.create({schema:wf,plugins:g});s.updateState(k);return}const E=Ho.fromJSON({schema:wf,plugins:g},b);s.updateState(E);const{pos:S}=bc({state:E,name:"A1"});if(!S)return;const x=E.doc.resolve(S+1);s.dispatch(s.state.tr.setSelection(new Rt(x)))}},[s,r,o]),qt.jsxs(qt.Fragment,{children:[qt.jsx("div",{ref:y,className:"border border-gray-300 p-2 bg-white text-xs font-sans"}),qt.jsx(b5,{visible:u.visible,x:u.x,y:u.y})]})},y7=({state:e})=>{var t;const[n,r]=Gt.useState(null),o=(t=e.data.interaction)==null?void 0:t.type;return qt.jsxs("div",{children:[qt.jsx(P1,{className:"hidden",editorView:n}),o==="table"&&qt.jsx(g7,{state:e,onEditorViewChange:r})||o==="text"&&qt.jsx(lz,{state:e})||qt.jsx("div",{})]})};function v7(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const w7=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,S7=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,b7={};function CC(e,t){return(b7.jsx?S7:w7).test(e)}const k7=/[ \t\n\f\r]/g;function x7(e){return typeof e=="object"?e.type==="text"?EC(e.value):!1:EC(e)}function EC(e){return e.replace(k7,"")===""}class _p{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}_p.prototype.normal={};_p.prototype.property={};_p.prototype.space=void 0;function wM(e,t){const n={},r={};for(const o of e)Object.assign(n,o.property),Object.assign(r,o.normal);return new _p(n,r,t)}function fv(e){return e.toLowerCase()}class po{constructor(t,n){this.attribute=n,this.property=t}}po.prototype.attribute="";po.prototype.booleanish=!1;po.prototype.boolean=!1;po.prototype.commaOrSpaceSeparated=!1;po.prototype.commaSeparated=!1;po.prototype.defined=!1;po.prototype.mustUseProperty=!1;po.prototype.number=!1;po.prototype.overloadedBoolean=!1;po.prototype.property="";po.prototype.spaceSeparated=!1;po.prototype.space=void 0;let O7=0;const Et=Ga(),Kn=Ga(),pv=Ga(),_e=Ga(),hn=Ga(),oc=Ga(),So=Ga();function Ga(){return 2**++O7}const dv=Object.freeze(Object.defineProperty({__proto__:null,boolean:Et,booleanish:Kn,commaOrSpaceSeparated:So,commaSeparated:oc,number:_e,overloadedBoolean:pv,spaceSeparated:hn},Symbol.toStringTag,{value:"Module"})),b0=Object.keys(dv);class oS extends po{constructor(t,n,r,o){let i=-1;if(super(t,n),NC(this,"space",o),typeof r=="number")for(;++i<b0.length;){const s=b0[i];NC(this,b0[i],(r&dv[s])===dv[s])}}}oS.prototype.defined=!0;function NC(e,t,n){n&&(e[t]=n)}function Tc(e){const t={},n={};for(const[r,o]of Object.entries(e.properties)){const i=new oS(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[fv(r)]=r,n[fv(i.attribute)]=r}return new _p(t,n,e.space)}const SM=Tc({properties:{ariaActiveDescendant:null,ariaAtomic:Kn,ariaAutoComplete:null,ariaBusy:Kn,ariaChecked:Kn,ariaColCount:_e,ariaColIndex:_e,ariaColSpan:_e,ariaControls:hn,ariaCurrent:null,ariaDescribedBy:hn,ariaDetails:null,ariaDisabled:Kn,ariaDropEffect:hn,ariaErrorMessage:null,ariaExpanded:Kn,ariaFlowTo:hn,ariaGrabbed:Kn,ariaHasPopup:null,ariaHidden:Kn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:hn,ariaLevel:_e,ariaLive:null,ariaModal:Kn,ariaMultiLine:Kn,ariaMultiSelectable:Kn,ariaOrientation:null,ariaOwns:hn,ariaPlaceholder:null,ariaPosInSet:_e,ariaPressed:Kn,ariaReadOnly:Kn,ariaRelevant:null,ariaRequired:Kn,ariaRoleDescription:hn,ariaRowCount:_e,ariaRowIndex:_e,ariaRowSpan:_e,ariaSelected:Kn,ariaSetSize:_e,ariaSort:null,ariaValueMax:_e,ariaValueMin:_e,ariaValueNow:_e,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function bM(e,t){return t in e?e[t]:t}function kM(e,t){return bM(e,t.toLowerCase())}const C7=Tc({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:oc,acceptCharset:hn,accessKey:hn,action:null,allow:null,allowFullScreen:Et,allowPaymentRequest:Et,allowUserMedia:Et,alt:null,as:null,async:Et,autoCapitalize:null,autoComplete:hn,autoFocus:Et,autoPlay:Et,blocking:hn,capture:null,charSet:null,checked:Et,cite:null,className:hn,cols:_e,colSpan:null,content:null,contentEditable:Kn,controls:Et,controlsList:hn,coords:_e|oc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Et,defer:Et,dir:null,dirName:null,disabled:Et,download:pv,draggable:Kn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Et,formTarget:null,headers:hn,height:_e,hidden:pv,high:_e,href:null,hrefLang:null,htmlFor:hn,httpEquiv:hn,id:null,imageSizes:null,imageSrcSet:null,inert:Et,inputMode:null,integrity:null,is:null,isMap:Et,itemId:null,itemProp:hn,itemRef:hn,itemScope:Et,itemType:hn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Et,low:_e,manifest:null,max:null,maxLength:_e,media:null,method:null,min:null,minLength:_e,multiple:Et,muted:Et,name:null,nonce:null,noModule:Et,noValidate:Et,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Et,optimum:_e,pattern:null,ping:hn,placeholder:null,playsInline:Et,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Et,referrerPolicy:null,rel:hn,required:Et,reversed:Et,rows:_e,rowSpan:_e,sandbox:hn,scope:null,scoped:Et,seamless:Et,selected:Et,shadowRootClonable:Et,shadowRootDelegatesFocus:Et,shadowRootMode:null,shape:null,size:_e,sizes:null,slot:null,span:_e,spellCheck:Kn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_e,step:null,style:null,tabIndex:_e,target:null,title:null,translate:null,type:null,typeMustMatch:Et,useMap:null,value:Kn,width:_e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:hn,axis:null,background:null,bgColor:null,border:_e,borderColor:null,bottomMargin:_e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Et,declare:Et,event:null,face:null,frame:null,frameBorder:null,hSpace:_e,leftMargin:_e,link:null,longDesc:null,lowSrc:null,marginHeight:_e,marginWidth:_e,noResize:Et,noHref:Et,noShade:Et,noWrap:Et,object:null,profile:null,prompt:null,rev:null,rightMargin:_e,rules:null,scheme:null,scrolling:Kn,standby:null,summary:null,text:null,topMargin:_e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Et,disableRemotePlayback:Et,prefix:null,property:null,results:_e,security:null,unselectable:null},space:"html",transform:kM}),E7=Tc({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:So,accentHeight:_e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_e,amplitude:_e,arabicForm:null,ascent:_e,attributeName:null,attributeType:null,azimuth:_e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_e,by:null,calcMode:null,capHeight:_e,className:hn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_e,diffuseConstant:_e,direction:null,display:null,dur:null,divisor:_e,dominantBaseline:null,download:Et,dx:null,dy:null,edgeMode:null,editable:null,elevation:_e,enableBackground:null,end:null,event:null,exponent:_e,externalResourcesRequired:null,fill:null,fillOpacity:_e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:oc,g2:oc,glyphName:oc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_e,horizOriginX:_e,horizOriginY:_e,id:null,ideographic:_e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_e,k:_e,k1:_e,k2:_e,k3:_e,k4:_e,kernelMatrix:So,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_e,overlineThickness:_e,paintOrder:null,panose1:null,path:null,pathLength:_e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:hn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_e,pointsAtY:_e,pointsAtZ:_e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:So,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:So,rev:So,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:So,requiredFeatures:So,requiredFonts:So,requiredFormats:So,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_e,specularExponent:_e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_e,strikethroughThickness:_e,string:null,stroke:null,strokeDashArray:So,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_e,strokeOpacity:_e,strokeWidth:null,style:null,surfaceScale:_e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:So,tabIndex:_e,tableValues:null,target:null,targetX:_e,targetY:_e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:So,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_e,underlineThickness:_e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_e,values:null,vAlphabetic:_e,vMathematical:_e,vectorEffect:null,vHanging:_e,vIdeographic:_e,version:null,vertAdvY:_e,vertOriginX:_e,vertOriginY:_e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:bM}),xM=Tc({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),OM=Tc({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:kM}),CM=Tc({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),N7={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},T7=/[A-Z]/g,TC=/-[a-z]/g,A7=/^data[-\w.:]+$/i;function M7(e,t){const n=fv(t);let r=t,o=po;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&A7.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(TC,D7);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!TC.test(i)){let s=i.replace(T7,R7);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}o=oS}return new o(r,t)}function R7(e){return"-"+e.toLowerCase()}function D7(e){return e.charAt(1).toUpperCase()}const I7=wM([SM,C7,xM,OM,CM],"html"),iS=wM([SM,E7,xM,OM,CM],"svg");function _7(e){return e.join(" ").trim()}var sS={},AC=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,P7=/\n/g,$7=/^\s*/,L7=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,F7=/^:\s*/,z7=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,j7=/^[;\s]*/,B7=/^\s+|\s+$/g,U7=`
`,MC="/",RC="*",ka="",V7="comment",H7="declaration",q7=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function o(y){var b=y.match(P7);b&&(n+=b.length);var E=y.lastIndexOf(U7);r=~E?y.length-E:r+y.length}function i(){var y={line:n,column:r};return function(b){return b.position=new s(y),f(),b}}function s(y){this.start=y,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function l(y){var b=new Error(t.source+":"+n+":"+r+": "+y);if(b.reason=y,b.filename=t.source,b.line=n,b.column=r,b.source=e,!t.silent)throw b}function u(y){var b=y.exec(e);if(b){var E=b[0];return o(E),e=e.slice(E.length),b}}function f(){u($7)}function p(y){var b;for(y=y||[];b=d();)b!==!1&&y.push(b);return y}function d(){var y=i();if(!(MC!=e.charAt(0)||RC!=e.charAt(1))){for(var b=2;ka!=e.charAt(b)&&(RC!=e.charAt(b)||MC!=e.charAt(b+1));)++b;if(b+=2,ka===e.charAt(b-1))return l("End of comment missing");var E=e.slice(2,b-2);return r+=2,o(E),e=e.slice(b),r+=2,y({type:V7,comment:E})}}function m(){var y=i(),b=u(L7);if(b){if(d(),!u(F7))return l("property missing ':'");var E=u(z7),S=y({type:H7,property:DC(b[0].replace(AC,ka)),value:E?DC(E[0].replace(AC,ka)):ka});return u(j7),S}}function g(){var y=[];p(y);for(var b;b=m();)b!==!1&&(y.push(b),p(y));return y}return f(),g()};function DC(e){return e?e.replace(B7,ka):ka}var W7=ui&&ui.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sS,"__esModule",{value:!0});sS.default=G7;var K7=W7(q7);function G7(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,K7.default)(e),o=typeof t=="function";return r.forEach(function(i){if(i.type==="declaration"){var s=i.property,l=i.value;o?t(s,l,i):l&&(n=n||{},n[s]=l)}}),n}var Ym={};Object.defineProperty(Ym,"__esModule",{value:!0});Ym.camelCase=void 0;var J7=/^--[a-zA-Z0-9_-]+$/,Q7=/-([a-z])/g,Y7=/^[^-]+$/,Z7=/^-(webkit|moz|ms|o|khtml)-/,X7=/^-(ms)-/,eU=function(e){return!e||Y7.test(e)||J7.test(e)},tU=function(e,t){return t.toUpperCase()},IC=function(e,t){return"".concat(t,"-")},nU=function(e,t){return t===void 0&&(t={}),eU(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(X7,IC):e=e.replace(Z7,IC),e.replace(Q7,tU))};Ym.camelCase=nU;var rU=ui&&ui.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},oU=rU(sS),iU=Ym;function hv(e,t){var n={};return!e||typeof e!="string"||(0,oU.default)(e,function(r,o){r&&o&&(n[(0,iU.camelCase)(r,t)]=o)}),n}hv.default=hv;var sU=hv;const lU=xw(sU),EM=NM("end"),lS=NM("start");function NM(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function aU(e){const t=lS(e),n=EM(e);if(t&&n)return{start:t,end:n}}function Vf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?_C(e.position):"start"in e||"end"in e?_C(e):"line"in e||"column"in e?mv(e):""}function mv(e){return PC(e&&e.line)+":"+PC(e&&e.column)}function _C(e){return mv(e&&e.start)+"-"+mv(e&&e.end)}function PC(e){return e&&typeof e=="number"?e:1}class $r extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",i={},s=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?o=t:!i.cause&&t&&(s=!0,o=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const u=r.indexOf(":");u===-1?i.ruleId=r:(i.source=r.slice(0,u),i.ruleId=r.slice(u+1))}if(!i.place&&i.ancestors&&i.ancestors){const u=i.ancestors[i.ancestors.length-1];u&&(i.place=u.position)}const l=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file,this.message=o,this.line=l?l.line:void 0,this.name=Vf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=s&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}$r.prototype.file="";$r.prototype.name="";$r.prototype.reason="";$r.prototype.message="";$r.prototype.stack="";$r.prototype.column=void 0;$r.prototype.line=void 0;$r.prototype.ancestors=void 0;$r.prototype.cause=void 0;$r.prototype.fatal=void 0;$r.prototype.place=void 0;$r.prototype.ruleId=void 0;$r.prototype.source=void 0;const aS={}.hasOwnProperty,uU=new Map,cU=/[A-Z]/g,fU=new Set(["table","tbody","thead","tfoot","tr"]),pU=new Set(["td","th"]),TM="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dU(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=bU(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=SU(n,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?iS:I7,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=AM(o,e,void 0);return i&&typeof i!="string"?i:o.create(e,o.Fragment,{children:i||void 0},void 0)}function AM(e,t,n){if(t.type==="element")return hU(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return mU(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return yU(e,t,n);if(t.type==="mdxjsEsm")return gU(e,t);if(t.type==="root")return vU(e,t,n);if(t.type==="text")return wU(e,t)}function hU(e,t,n){const r=e.schema;let o=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(o=iS,e.schema=o),e.ancestors.push(t);const i=RM(e,t.tagName,!1),s=kU(e,t);let l=cS(e,t);return fU.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!x7(u):!0})),MM(e,s,i,t),uS(s,l),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function mU(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}wp(e,t.position)}function gU(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);wp(e,t.position)}function yU(e,t,n){const r=e.schema;let o=r;t.name==="svg"&&r.space==="html"&&(o=iS,e.schema=o),e.ancestors.push(t);const i=t.name===null?e.Fragment:RM(e,t.name,!0),s=xU(e,t),l=cS(e,t);return MM(e,s,i,t),uS(s,l),e.ancestors.pop(),e.schema=r,e.create(t,i,s,n)}function vU(e,t,n){const r={};return uS(r,cS(e,t)),e.create(t,e.Fragment,r,n)}function wU(e,t){return t.value}function MM(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function uS(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function SU(e,t,n){return r;function r(o,i,s,l){const u=Array.isArray(s.children)?n:t;return l?u(i,s,l):u(i,s)}}function bU(e,t){return n;function n(r,o,i,s){const l=Array.isArray(i.children),u=lS(r);return t(o,i,s,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function kU(e,t){const n={};let r,o;for(o in t.properties)if(o!=="children"&&aS.call(t.properties,o)){const i=OU(e,o,t.properties[o]);if(i){const[s,l]=i;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&pU.has(t.tagName)?r=l:n[s]=l}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function xU(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const i=o.expression;i.type;const s=i.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else wp(e,t.position);else{const o=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,i=e.evaluater.evaluateExpression(s.expression)}else wp(e,t.position);else i=r.value===null?!0:r.value;n[o]=i}return n}function cS(e,t){const n=[];let r=-1;const o=e.passKeys?new Map:uU;for(;++r<t.children.length;){const i=t.children[r];let s;if(e.passKeys){const u=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(u){const f=o.get(u)||0;s=u+"-"+f,o.set(u,f+1)}}const l=AM(e,i,s);l!==void 0&&n.push(l)}return n}function OU(e,t,n){const r=M7(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?v7(n):_7(n)),r.property==="style"){let o=typeof n=="object"?n:CU(e,String(n));return e.stylePropertyNameCase==="css"&&(o=EU(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&r.space?N7[r.property]||r.property:r.attribute,n]}}function CU(e,t){try{return lU(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,o=new $r("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=TM+"#cannot-parse-style-attribute",o}}function RM(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let i=-1,s;for(;++i<o.length;){const l=CC(o[i])?{type:"Identifier",name:o[i]}:{type:"Literal",value:o[i]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(i&&l.type==="Literal"),optional:!1}:l}r=s}else r=CC(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const o=r.value;return aS.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(r);wp(e)}function wp(e,t){const n=new $r("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=TM+"#cannot-handle-mdx-estrees-without-createevaluater",n}function EU(e){const t={};let n;for(n in e)aS.call(e,n)&&(t[NU(n)]=e[n]);return t}function NU(e){let t=e.replace(cU,TU);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function TU(e){return"-"+e.toLowerCase()}const k0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},AU={};function MU(e,t){const n=AU,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return DM(e,r,o)}function DM(e,t,n){if(RU(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return $C(e.children,t,n)}return Array.isArray(e)?$C(e,t,n):""}function $C(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=DM(e[o],t,n);return r.join("")}function RU(e){return!!(e&&typeof e=="object")}const LC=document.createElement("i");function fS(e){const t="&"+e+";";LC.innerHTML=t;const n=LC.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ki(e,t,n,r){const o=e.length;let i=0,s;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);i<r.length;)s=r.slice(i,i+1e4),s.unshift(t,0),e.splice(...s),i+=1e4,t+=1e4}function Uo(e,t){return e.length>0?(Ki(e,e.length,0,t),e):t}const FC={}.hasOwnProperty;function DU(e){const t={};let n=-1;for(;++n<e.length;)IU(t,e[n]);return t}function IU(e,t){let n;for(n in t){const r=(FC.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){FC.call(r,i)||(r[i]=[]);const s=o[i];_U(r[i],Array.isArray(s)?s:s?[s]:[])}}}function _U(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ki(e,0,0,r)}function IM(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ic(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Li=ql(/[A-Za-z]/),Co=ql(/[\dA-Za-z]/),PU=ql(/[#-'*+\--9=?A-Z^-~]/);function gv(e){return e!==null&&(e<32||e===127)}const yv=ql(/\d/),$U=ql(/[\dA-Fa-f]/),LU=ql(/[!-/:-@[-`{-~]/);function ht(e){return e!==null&&e<-2}function co(e){return e!==null&&(e<0||e===32)}function Yt(e){return e===-2||e===-1||e===32}const FU=ql(new RegExp("\\p{P}|\\p{S}","u")),zU=ql(/\s/);function ql(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ac(e){const t=[];let n=-1,r=0,o=0;for(;++n<e.length;){const i=e.charCodeAt(n);let s="";if(i===37&&Co(e.charCodeAt(n+1))&&Co(e.charCodeAt(n+2)))o=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(s=String.fromCharCode(i));else if(i>55295&&i<57344){const l=e.charCodeAt(n+1);i<56320&&l>56319&&l<57344?(s=String.fromCharCode(i,l),o=1):s=""}else s=String.fromCharCode(i);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+o+1,s=""),o&&(n+=o,o=0)}return t.join("")+e.slice(r)}function gn(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return s;function s(u){return Yt(u)?(e.enter(n),l(u)):t(u)}function l(u){return Yt(u)&&i++<o?(e.consume(u),l):(e.exit(n),t(u))}}const jU={tokenize:BU};function BU(e){const t=e.attempt(this.parser.constructs.contentInitial,r,o);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),gn(e,t,"linePrefix")}function o(l){return e.enter("paragraph"),i(l)}function i(l){const u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return ht(l)?(e.consume(l),e.exit("chunkText"),i):(e.consume(l),s)}}const UU={tokenize:VU},zC={tokenize:HU};function VU(e){const t=this,n=[];let r=0,o,i,s;return l;function l(k){if(r<n.length){const I=n[r];return t.containerState=I[1],e.attempt(I[0].continuation,u,f)(k)}return f(k)}function u(k){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&x();const I=t.events.length;let L=I,_;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){_=t.events[L][1].end;break}S(r);let H=I;for(;H<t.events.length;)t.events[H][1].end={..._},H++;return Ki(t.events,L+1,0,t.events.slice(I)),t.events.length=H,f(k)}return l(k)}function f(k){if(r===n.length){if(!o)return m(k);if(o.currentConstruct&&o.currentConstruct.concrete)return y(k);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(zC,p,d)(k)}function p(k){return o&&x(),S(r),m(k)}function d(k){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,y(k)}function m(k){return t.containerState={},e.attempt(zC,g,y)(k)}function g(k){return r++,n.push([t.currentConstruct,t.containerState]),m(k)}function y(k){if(k===null){o&&x(),S(0),e.consume(k);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:i}),b(k)}function b(k){if(k===null){E(e.exit("chunkFlow"),!0),S(0),e.consume(k);return}return ht(k)?(e.consume(k),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(k),b)}function E(k,I){const L=t.sliceStream(k);if(I&&L.push(null),k.previous=i,i&&(i.next=k),i=k,o.defineSkip(k.start),o.write(L),t.parser.lazy[k.start.line]){let _=o.events.length;for(;_--;)if(o.events[_][1].start.offset<s&&(!o.events[_][1].end||o.events[_][1].end.offset>s))return;const H=t.events.length;let j=H,Y,ue;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){if(Y){ue=t.events[j][1].end;break}Y=!0}for(S(r),_=H;_<t.events.length;)t.events[_][1].end={...ue},_++;Ki(t.events,j+1,0,t.events.slice(H)),t.events.length=_}}function S(k){let I=n.length;for(;I-- >k;){const L=n[I];t.containerState=L[1],L[0].exit.call(t,e)}n.length=k}function x(){o.write([null]),i=void 0,o=void 0,t.containerState._closeFlow=void 0}}function HU(e,t,n){return gn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function jC(e){if(e===null||co(e)||zU(e))return 1;if(FU(e))return 2}function pS(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const vv={name:"attention",resolveAll:qU,tokenize:WU};function qU(e,t){let n=-1,r,o,i,s,l,u,f,p;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},m={...e[n][1].start};BC(d,-u),BC(m,u),s={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},i={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:u>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},e[r][1].end={...s.start},e[n][1].start={...l.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=Uo(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=Uo(f,[["enter",o,t],["enter",s,t],["exit",s,t],["enter",i,t]]),f=Uo(f,pS(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=Uo(f,[["exit",i,t],["enter",l,t],["exit",l,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(p=2,f=Uo(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):p=0,Ki(e,r-1,n-r+3,f),n=r+f.length-p-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function WU(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=jC(r);let i;return s;function s(u){return i=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===i)return e.consume(u),l;const f=e.exit("attentionSequence"),p=jC(u),d=!p||p===2&&o||n.includes(u),m=!o||o===2&&p||n.includes(r);return f._open=!!(i===42?d:d&&(o||!m)),f._close=!!(i===42?m:m&&(p||!d)),t(u)}}function BC(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const KU={name:"autolink",tokenize:GU};function GU(e,t,n){let r=0;return o;function o(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(g){return Li(g)?(e.consume(g),s):g===64?n(g):f(g)}function s(g){return g===43||g===45||g===46||Co(g)?(r=1,l(g)):f(g)}function l(g){return g===58?(e.consume(g),r=0,u):(g===43||g===45||g===46||Co(g))&&r++<32?(e.consume(g),l):(r=0,f(g))}function u(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):g===null||g===32||g===60||gv(g)?n(g):(e.consume(g),u)}function f(g){return g===64?(e.consume(g),p):PU(g)?(e.consume(g),f):n(g)}function p(g){return Co(g)?d(g):n(g)}function d(g){return g===46?(e.consume(g),r=0,p):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t):m(g)}function m(g){if((g===45||Co(g))&&r++<63){const y=g===45?m:d;return e.consume(g),y}return n(g)}}const Zm={partial:!0,tokenize:JU};function JU(e,t,n){return r;function r(i){return Yt(i)?gn(e,o,"linePrefix")(i):o(i)}function o(i){return i===null||ht(i)?t(i):n(i)}}const _M={continuation:{tokenize:YU},exit:ZU,name:"blockQuote",tokenize:QU};function QU(e,t,n){const r=this;return o;function o(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),i}return n(s)}function i(s){return Yt(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function YU(e,t,n){const r=this;return o;function o(s){return Yt(s)?gn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):i(s)}function i(s){return e.attempt(_M,t,n)(s)}}function ZU(e){e.exit("blockQuote")}const PM={name:"characterEscape",tokenize:XU};function XU(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),o}function o(i){return LU(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const $M={name:"characterReference",tokenize:eV};function eV(e,t,n){const r=this;let o=0,i,s;return l;function l(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),u}function u(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),i=31,s=Co,p(d))}function f(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,s=$U,p):(e.enter("characterReferenceValue"),i=7,s=yv,p(d))}function p(d){if(d===59&&o){const m=e.exit("characterReferenceValue");return s===Co&&!fS(r.sliceSerialize(m))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(d)&&o++<i?(e.consume(d),p):n(d)}}const UC={partial:!0,tokenize:nV},VC={concrete:!0,name:"codeFenced",tokenize:tV};function tV(e,t,n){const r=this,o={partial:!0,tokenize:L};let i=0,s=0,l;return u;function u(_){return f(_)}function f(_){const H=r.events[r.events.length-1];return i=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,l=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(_)}function p(_){return _===l?(s++,e.consume(_),p):s<3?n(_):(e.exit("codeFencedFenceSequence"),Yt(_)?gn(e,d,"whitespace")(_):d(_))}function d(_){return _===null||ht(_)?(e.exit("codeFencedFence"),r.interrupt?t(_):e.check(UC,b,I)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||ht(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(_)):Yt(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),gn(e,g,"whitespace")(_)):_===96&&_===l?n(_):(e.consume(_),m)}function g(_){return _===null||ht(_)?d(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(_))}function y(_){return _===null||ht(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(_)):_===96&&_===l?n(_):(e.consume(_),y)}function b(_){return e.attempt(o,I,E)(_)}function E(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),S}function S(_){return i>0&&Yt(_)?gn(e,x,"linePrefix",i+1)(_):x(_)}function x(_){return _===null||ht(_)?e.check(UC,b,I)(_):(e.enter("codeFlowValue"),k(_))}function k(_){return _===null||ht(_)?(e.exit("codeFlowValue"),x(_)):(e.consume(_),k)}function I(_){return e.exit("codeFenced"),t(_)}function L(_,H,j){let Y=0;return ue;function ue(U){return _.enter("lineEnding"),_.consume(U),_.exit("lineEnding"),Se}function Se(U){return _.enter("codeFencedFence"),Yt(U)?gn(_,ge,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):ge(U)}function ge(U){return U===l?(_.enter("codeFencedFenceSequence"),W(U)):j(U)}function W(U){return U===l?(Y++,_.consume(U),W):Y>=s?(_.exit("codeFencedFenceSequence"),Yt(U)?gn(_,G,"whitespace")(U):G(U)):j(U)}function G(U){return U===null||ht(U)?(_.exit("codeFencedFence"),H(U)):j(U)}}}function nV(e,t,n){const r=this;return o;function o(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const x0={name:"codeIndented",tokenize:oV},rV={partial:!0,tokenize:iV};function oV(e,t,n){const r=this;return o;function o(f){return e.enter("codeIndented"),gn(e,i,"linePrefix",5)(f)}function i(f){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?s(f):n(f)}function s(f){return f===null?u(f):ht(f)?e.attempt(rV,s,u)(f):(e.enter("codeFlowValue"),l(f))}function l(f){return f===null||ht(f)?(e.exit("codeFlowValue"),s(f)):(e.consume(f),l)}function u(f){return e.exit("codeIndented"),t(f)}}function iV(e,t,n){const r=this;return o;function o(s){return r.parser.lazy[r.now().line]?n(s):ht(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):gn(e,i,"linePrefix",5)(s)}function i(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):ht(s)?o(s):n(s)}}const sV={name:"codeText",previous:aV,resolve:lV,tokenize:uV};function lV(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}function aV(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function uV(e,t,n){let r=0,o,i;return s;function s(d){return e.enter("codeText"),e.enter("codeTextSequence"),l(d)}function l(d){return d===96?(e.consume(d),r++,l):(e.exit("codeTextSequence"),u(d))}function u(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),u):d===96?(i=e.enter("codeTextSequence"),o=0,p(d)):ht(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),u):(e.enter("codeTextData"),f(d))}function f(d){return d===null||d===32||d===96||ht(d)?(e.exit("codeTextData"),u(d)):(e.consume(d),f)}function p(d){return d===96?(e.consume(d),o++,p):o===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(i.type="codeTextData",f(d))}}class cV{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const o=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&bf(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),bf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),bf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);bf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);bf(this.left,n.reverse())}}}function bf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function LM(e){const t={};let n=-1,r,o,i,s,l,u,f;const p=new cV(e);for(;++n<p.length;){for(;n in t;)n=t[n];if(r=p.get(n),n&&r[1].type==="chunkFlow"&&p.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,i=0,i<u.length&&u[i][1].type==="lineEndingBlank"&&(i+=2),i<u.length&&u[i][1].type==="content"))for(;++i<u.length&&u[i][1].type!=="content";)u[i][1].type==="chunkText"&&(u[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,fV(p,n)),n=t[n],f=!0);else if(r[1]._container){for(i=n,o=void 0;i--;)if(s=p.get(i),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(o&&(p.get(o)[1].type="lineEndingBlank"),s[1].type="lineEnding",o=i);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;o&&(r[1].end={...p.get(o)[1].start},l=p.slice(o,n),l.unshift(r),p.splice(o,n-o+1,l))}}return Ki(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function fV(e,t){const n=e.get(t)[1],r=e.get(t)[2];let o=t-1;const i=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,u=[],f={};let p,d,m=-1,g=n,y=0,b=0;const E=[b];for(;g;){for(;e.get(++o)[1]!==g;);i.push(o),g._tokenizer||(p=r.sliceStream(g),g.next||p.push(null),d&&s.defineSkip(g.start),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(p),g._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=g,g=g.next}for(g=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(b=m+1,E.push(b),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(s.events=[],g?(g._tokenizer=void 0,g.previous=void 0):E.pop(),m=E.length;m--;){const S=l.slice(E[m],E[m+1]),x=i.pop();u.push([x,x+S.length-1]),e.splice(x,2,S)}for(u.reverse(),m=-1;++m<u.length;)f[y+u[m][0]]=y+u[m][1],y+=u[m][1]-u[m][0]-1;return f}const pV={resolve:hV,tokenize:mV},dV={partial:!0,tokenize:gV};function hV(e){return LM(e),e}function mV(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(l)}function o(l){return l===null?i(l):ht(l)?e.check(dV,s,i)(l):(e.consume(l),o)}function i(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function s(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function gV(e,t,n){const r=this;return o;function o(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),gn(e,i,"linePrefix")}function i(s){if(s===null||ht(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function FM(e,t,n,r,o,i,s,l,u){const f=u||Number.POSITIVE_INFINITY;let p=0;return d;function d(S){return S===60?(e.enter(r),e.enter(o),e.enter(i),e.consume(S),e.exit(i),m):S===null||S===32||S===41||gv(S)?n(S):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),b(S))}function m(S){return S===62?(e.enter(i),e.consume(S),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===62?(e.exit("chunkString"),e.exit(l),m(S)):S===null||S===60||ht(S)?n(S):(e.consume(S),S===92?y:g)}function y(S){return S===60||S===62||S===92?(e.consume(S),g):g(S)}function b(S){return!p&&(S===null||S===41||co(S))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),t(S)):p<f&&S===40?(e.consume(S),p++,b):S===41?(e.consume(S),p--,b):S===null||S===32||S===40||gv(S)?n(S):(e.consume(S),S===92?E:b)}function E(S){return S===40||S===41||S===92?(e.consume(S),b):b(S)}}function zM(e,t,n,r,o,i){const s=this;let l=0,u;return f;function f(g){return e.enter(r),e.enter(o),e.consume(g),e.exit(o),e.enter(i),p}function p(g){return l>999||g===null||g===91||g===93&&!u||g===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(g):g===93?(e.exit(i),e.enter(o),e.consume(g),e.exit(o),e.exit(r),t):ht(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===null||g===91||g===93||ht(g)||l++>999?(e.exit("chunkString"),p(g)):(e.consume(g),u||(u=!Yt(g)),g===92?m:d)}function m(g){return g===91||g===92||g===93?(e.consume(g),l++,d):d(g)}}function jM(e,t,n,r,o,i){let s;return l;function l(m){return m===34||m===39||m===40?(e.enter(r),e.enter(o),e.consume(m),e.exit(o),s=m===40?41:m,u):n(m)}function u(m){return m===s?(e.enter(o),e.consume(m),e.exit(o),e.exit(r),t):(e.enter(i),f(m))}function f(m){return m===s?(e.exit(i),u(s)):m===null?n(m):ht(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),gn(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===s||m===null||ht(m)?(e.exit("chunkString"),f(m)):(e.consume(m),m===92?d:p)}function d(m){return m===s||m===92?(e.consume(m),p):p(m)}}function Hf(e,t){let n;return r;function r(o){return ht(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):Yt(o)?gn(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}const yV={name:"definition",tokenize:wV},vV={partial:!0,tokenize:SV};function wV(e,t,n){const r=this;let o;return i;function i(g){return e.enter("definition"),s(g)}function s(g){return zM.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function l(g){return o=ic(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),u):n(g)}function u(g){return co(g)?Hf(e,f)(g):f(g)}function f(g){return FM(e,p,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function p(g){return e.attempt(vV,d,d)(g)}function d(g){return Yt(g)?gn(e,m,"whitespace")(g):m(g)}function m(g){return g===null||ht(g)?(e.exit("definition"),r.parser.defined.push(o),t(g)):n(g)}}function SV(e,t,n){return r;function r(l){return co(l)?Hf(e,o)(l):n(l)}function o(l){return jM(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function i(l){return Yt(l)?gn(e,s,"whitespace")(l):s(l)}function s(l){return l===null||ht(l)?t(l):n(l)}}const bV={name:"hardBreakEscape",tokenize:kV};function kV(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),o}function o(i){return ht(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const xV={name:"headingAtx",resolve:OV,tokenize:CV};function OV(e,t){let n=e.length-2,r=3,o,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ki(e,r,n-r+1,[["enter",o,t],["enter",i,t],["exit",i,t],["exit",o,t]])),e}function CV(e,t,n){let r=0;return o;function o(p){return e.enter("atxHeading"),i(p)}function i(p){return e.enter("atxHeadingSequence"),s(p)}function s(p){return p===35&&r++<6?(e.consume(p),s):p===null||co(p)?(e.exit("atxHeadingSequence"),l(p)):n(p)}function l(p){return p===35?(e.enter("atxHeadingSequence"),u(p)):p===null||ht(p)?(e.exit("atxHeading"),t(p)):Yt(p)?gn(e,l,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function u(p){return p===35?(e.consume(p),u):(e.exit("atxHeadingSequence"),l(p))}function f(p){return p===null||p===35||co(p)?(e.exit("atxHeadingText"),l(p)):(e.consume(p),f)}}const EV=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],HC=["pre","script","style","textarea"],NV={concrete:!0,name:"htmlFlow",resolveTo:MV,tokenize:RV},TV={partial:!0,tokenize:IV},AV={partial:!0,tokenize:DV};function MV(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function RV(e,t,n){const r=this;let o,i,s,l,u;return f;function f(N){return p(N)}function p(N){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(N),d}function d(N){return N===33?(e.consume(N),m):N===47?(e.consume(N),i=!0,b):N===63?(e.consume(N),o=3,r.interrupt?t:T):Li(N)?(e.consume(N),s=String.fromCharCode(N),E):n(N)}function m(N){return N===45?(e.consume(N),o=2,g):N===91?(e.consume(N),o=5,l=0,y):Li(N)?(e.consume(N),o=4,r.interrupt?t:T):n(N)}function g(N){return N===45?(e.consume(N),r.interrupt?t:T):n(N)}function y(N){const R="CDATA[";return N===R.charCodeAt(l++)?(e.consume(N),l===R.length?r.interrupt?t:ge:y):n(N)}function b(N){return Li(N)?(e.consume(N),s=String.fromCharCode(N),E):n(N)}function E(N){if(N===null||N===47||N===62||co(N)){const R=N===47,P=s.toLowerCase();return!R&&!i&&HC.includes(P)?(o=1,r.interrupt?t(N):ge(N)):EV.includes(s.toLowerCase())?(o=6,R?(e.consume(N),S):r.interrupt?t(N):ge(N)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):i?x(N):k(N))}return N===45||Co(N)?(e.consume(N),s+=String.fromCharCode(N),E):n(N)}function S(N){return N===62?(e.consume(N),r.interrupt?t:ge):n(N)}function x(N){return Yt(N)?(e.consume(N),x):ue(N)}function k(N){return N===47?(e.consume(N),ue):N===58||N===95||Li(N)?(e.consume(N),I):Yt(N)?(e.consume(N),k):ue(N)}function I(N){return N===45||N===46||N===58||N===95||Co(N)?(e.consume(N),I):L(N)}function L(N){return N===61?(e.consume(N),_):Yt(N)?(e.consume(N),L):k(N)}function _(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),u=N,H):Yt(N)?(e.consume(N),_):j(N)}function H(N){return N===u?(e.consume(N),u=null,Y):N===null||ht(N)?n(N):(e.consume(N),H)}function j(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||co(N)?L(N):(e.consume(N),j)}function Y(N){return N===47||N===62||Yt(N)?k(N):n(N)}function ue(N){return N===62?(e.consume(N),Se):n(N)}function Se(N){return N===null||ht(N)?ge(N):Yt(N)?(e.consume(N),Se):n(N)}function ge(N){return N===45&&o===2?(e.consume(N),re):N===60&&o===1?(e.consume(N),He):N===62&&o===4?(e.consume(N),se):N===63&&o===3?(e.consume(N),T):N===93&&o===5?(e.consume(N),J):ht(N)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(TV,xe,W)(N)):N===null||ht(N)?(e.exit("htmlFlowData"),W(N)):(e.consume(N),ge)}function W(N){return e.check(AV,G,xe)(N)}function G(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),U}function U(N){return N===null||ht(N)?W(N):(e.enter("htmlFlowData"),ge(N))}function re(N){return N===45?(e.consume(N),T):ge(N)}function He(N){return N===47?(e.consume(N),s="",fe):ge(N)}function fe(N){if(N===62){const R=s.toLowerCase();return HC.includes(R)?(e.consume(N),se):ge(N)}return Li(N)&&s.length<8?(e.consume(N),s+=String.fromCharCode(N),fe):ge(N)}function J(N){return N===93?(e.consume(N),T):ge(N)}function T(N){return N===62?(e.consume(N),se):N===45&&o===2?(e.consume(N),T):ge(N)}function se(N){return N===null||ht(N)?(e.exit("htmlFlowData"),xe(N)):(e.consume(N),se)}function xe(N){return e.exit("htmlFlow"),t(N)}}function DV(e,t,n){const r=this;return o;function o(s){return ht(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):n(s)}function i(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function IV(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Zm,t,n)}}const _V={name:"htmlText",tokenize:PV};function PV(e,t,n){const r=this;let o,i,s;return l;function l(T){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(T),u}function u(T){return T===33?(e.consume(T),f):T===47?(e.consume(T),L):T===63?(e.consume(T),k):Li(T)?(e.consume(T),j):n(T)}function f(T){return T===45?(e.consume(T),p):T===91?(e.consume(T),i=0,y):Li(T)?(e.consume(T),x):n(T)}function p(T){return T===45?(e.consume(T),g):n(T)}function d(T){return T===null?n(T):T===45?(e.consume(T),m):ht(T)?(s=d,He(T)):(e.consume(T),d)}function m(T){return T===45?(e.consume(T),g):d(T)}function g(T){return T===62?re(T):T===45?m(T):d(T)}function y(T){const se="CDATA[";return T===se.charCodeAt(i++)?(e.consume(T),i===se.length?b:y):n(T)}function b(T){return T===null?n(T):T===93?(e.consume(T),E):ht(T)?(s=b,He(T)):(e.consume(T),b)}function E(T){return T===93?(e.consume(T),S):b(T)}function S(T){return T===62?re(T):T===93?(e.consume(T),S):b(T)}function x(T){return T===null||T===62?re(T):ht(T)?(s=x,He(T)):(e.consume(T),x)}function k(T){return T===null?n(T):T===63?(e.consume(T),I):ht(T)?(s=k,He(T)):(e.consume(T),k)}function I(T){return T===62?re(T):k(T)}function L(T){return Li(T)?(e.consume(T),_):n(T)}function _(T){return T===45||Co(T)?(e.consume(T),_):H(T)}function H(T){return ht(T)?(s=H,He(T)):Yt(T)?(e.consume(T),H):re(T)}function j(T){return T===45||Co(T)?(e.consume(T),j):T===47||T===62||co(T)?Y(T):n(T)}function Y(T){return T===47?(e.consume(T),re):T===58||T===95||Li(T)?(e.consume(T),ue):ht(T)?(s=Y,He(T)):Yt(T)?(e.consume(T),Y):re(T)}function ue(T){return T===45||T===46||T===58||T===95||Co(T)?(e.consume(T),ue):Se(T)}function Se(T){return T===61?(e.consume(T),ge):ht(T)?(s=Se,He(T)):Yt(T)?(e.consume(T),Se):Y(T)}function ge(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(e.consume(T),o=T,W):ht(T)?(s=ge,He(T)):Yt(T)?(e.consume(T),ge):(e.consume(T),G)}function W(T){return T===o?(e.consume(T),o=void 0,U):T===null?n(T):ht(T)?(s=W,He(T)):(e.consume(T),W)}function G(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||co(T)?Y(T):(e.consume(T),G)}function U(T){return T===47||T===62||co(T)?Y(T):n(T)}function re(T){return T===62?(e.consume(T),e.exit("htmlTextData"),e.exit("htmlText"),t):n(T)}function He(T){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),fe}function fe(T){return Yt(T)?gn(e,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):J(T)}function J(T){return e.enter("htmlTextData"),s(T)}}const dS={name:"labelEnd",resolveAll:zV,resolveTo:jV,tokenize:BV},$V={tokenize:UV},LV={tokenize:VV},FV={tokenize:HV};function zV(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&Ki(e,0,e.length,n),e}function jV(e,t){let n=e.length,r=0,o,i,s,l;for(;n--;)if(o=e[n][1],i){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(i=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(s=n);const u={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[i][1].start},end:{...e[s][1].end}},p={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[s-2][1].start}};return l=[["enter",u,t],["enter",f,t]],l=Uo(l,e.slice(i+1,i+r+3)),l=Uo(l,[["enter",p,t]]),l=Uo(l,pS(t.parser.constructs.insideSpan.null,e.slice(i+r+4,s-3),t)),l=Uo(l,[["exit",p,t],e[s-2],e[s-1],["exit",f,t]]),l=Uo(l,e.slice(s+1)),l=Uo(l,[["exit",u,t]]),Ki(e,i,e.length,l),e}function BV(e,t,n){const r=this;let o=r.events.length,i,s;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){i=r.events[o][1];break}return l;function l(m){return i?i._inactive?d(m):(s=r.parser.defined.includes(ic(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),u):n(m)}function u(m){return m===40?e.attempt($V,p,s?p:d)(m):m===91?e.attempt(LV,p,s?f:d)(m):s?p(m):d(m)}function f(m){return e.attempt(FV,p,d)(m)}function p(m){return t(m)}function d(m){return i._balanced=!0,n(m)}}function UV(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),o}function o(d){return co(d)?Hf(e,i)(d):i(d)}function i(d){return d===41?p(d):FM(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function s(d){return co(d)?Hf(e,u)(d):p(d)}function l(d){return n(d)}function u(d){return d===34||d===39||d===40?jM(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):p(d)}function f(d){return co(d)?Hf(e,p)(d):p(d)}function p(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function VV(e,t,n){const r=this;return o;function o(l){return zM.call(r,e,i,s,"reference","referenceMarker","referenceString")(l)}function i(l){return r.parser.defined.includes(ic(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function s(l){return n(l)}}function HV(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),o}function o(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const qV={name:"labelStartImage",resolveAll:dS.resolveAll,tokenize:WV};function WV(e,t,n){const r=this;return o;function o(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),i}function i(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const KV={name:"labelStartLink",resolveAll:dS.resolveAll,tokenize:GV};function GV(e,t,n){const r=this;return o;function o(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),i}function i(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const O0={name:"lineEnding",tokenize:JV};function JV(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),gn(e,t,"linePrefix")}}const Ch={name:"thematicBreak",tokenize:QV};function QV(e,t,n){let r=0,o;return i;function i(f){return e.enter("thematicBreak"),s(f)}function s(f){return o=f,l(f)}function l(f){return f===o?(e.enter("thematicBreakSequence"),u(f)):r>=3&&(f===null||ht(f))?(e.exit("thematicBreak"),t(f)):n(f)}function u(f){return f===o?(e.consume(f),r++,u):(e.exit("thematicBreakSequence"),Yt(f)?gn(e,l,"whitespace")(f):l(f))}}const ro={continuation:{tokenize:eH},exit:nH,name:"list",tokenize:XV},YV={partial:!0,tokenize:rH},ZV={partial:!0,tokenize:tH};function XV(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,s=0;return l;function l(g){const y=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:yv(g)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(Ch,n,f)(g):f(g);if(!r.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(g)}return n(g)}function u(g){return yv(g)&&++s<10?(e.consume(g),u):(!r.interrupt||s<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),f(g)):n(g)}function f(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,e.check(Zm,r.interrupt?n:p,e.attempt(YV,m,d))}function p(g){return r.containerState.initialBlankLine=!0,i++,m(g)}function d(g){return Yt(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),m):n(g)}function m(g){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(g)}}function eH(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Zm,o,i);function o(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,gn(e,t,"listItemIndent",r.containerState.size+1)(l)}function i(l){return r.containerState.furtherBlankLines||!Yt(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(ZV,t,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,gn(e,e.attempt(ro,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function tH(e,t,n){const r=this;return gn(e,o,"listItemIndent",r.containerState.size+1);function o(i){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(i):n(i)}}function nH(e){e.exit(this.containerState.type)}function rH(e,t,n){const r=this;return gn(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(i){const s=r.events[r.events.length-1];return!Yt(i)&&s&&s[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const qC={name:"setextUnderline",resolveTo:oH,tokenize:iH};function oH(e,t){let n=e.length,r,o,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",i?(e.splice(o,0,["enter",s,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function iH(e,t,n){const r=this;let o;return i;function i(f){let p=r.events.length,d;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){d=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),o=f,s(f)):n(f)}function s(f){return e.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===o?(e.consume(f),l):(e.exit("setextHeadingLineSequence"),Yt(f)?gn(e,u,"lineSuffix")(f):u(f))}function u(f){return f===null||ht(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const sH={tokenize:lH};function lH(e){const t=this,n=e.attempt(Zm,r,e.attempt(this.parser.constructs.flowInitial,o,gn(e,e.attempt(this.parser.constructs.flow,o,e.attempt(pV,o)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const aH={resolveAll:UM()},uH=BM("string"),cH=BM("text");function BM(e){return{resolveAll:UM(e==="text"?fH:void 0),tokenize:t};function t(n){const r=this,o=this.parser.constructs[e],i=n.attempt(o,s,l);return s;function s(p){return f(p)?i(p):l(p)}function l(p){if(p===null){n.consume(p);return}return n.enter("data"),n.consume(p),u}function u(p){return f(p)?(n.exit("data"),i(p)):(n.consume(p),u)}function f(p){if(p===null)return!0;const d=o[p];let m=-1;if(d)for(;++m<d.length;){const g=d[m];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function UM(e){return t;function t(n,r){let o=-1,i;for(;++o<=n.length;)i===void 0?n[o]&&n[o][1].type==="data"&&(i=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==i+2&&(n[i][1].end=n[o-1][1].end,n.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(n,r):n}}function fH(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],o=t.sliceStream(r);let i=o.length,s=-1,l=0,u;for(;i--;){const f=o[i];if(typeof f=="string"){for(s=f.length;f.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(f===-2)u=!0,l++;else if(f!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const f={type:n===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?s:r.start._bufferIndex+s,_index:r.start._index+i,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const pH={42:ro,43:ro,45:ro,48:ro,49:ro,50:ro,51:ro,52:ro,53:ro,54:ro,55:ro,56:ro,57:ro,62:_M},dH={91:yV},hH={[-2]:x0,[-1]:x0,32:x0},mH={35:xV,42:Ch,45:[qC,Ch],60:NV,61:qC,95:Ch,96:VC,126:VC},gH={38:$M,92:PM},yH={[-5]:O0,[-4]:O0,[-3]:O0,33:qV,38:$M,42:vv,60:[KU,_V],91:KV,92:[bV,PM],93:dS,95:vv,96:sV},vH={null:[vv,aH]},wH={null:[42,95]},SH={null:[]},bH=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:wH,contentInitial:dH,disable:SH,document:pH,flow:mH,flowInitial:hH,insideSpan:vH,string:gH,text:yH},Symbol.toStringTag,{value:"Module"}));function kH(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},i=[];let s=[],l=[];const u={attempt:H(L),check:H(_),consume:x,enter:k,exit:I,interrupt:H(_,{interrupt:!0})},f={code:null,containerState:{},defineSkip:b,events:[],now:y,parser:e,previous:null,sliceSerialize:m,sliceStream:g,write:d};let p=t.tokenize.call(f,u);return t.resolveAll&&i.push(t),f;function d(Se){return s=Uo(s,Se),E(),s[s.length-1]!==null?[]:(j(t,0),f.events=pS(i,f.events,f),f.events)}function m(Se,ge){return OH(g(Se),ge)}function g(Se){return xH(s,Se)}function y(){const{_bufferIndex:Se,_index:ge,line:W,column:G,offset:U}=r;return{_bufferIndex:Se,_index:ge,line:W,column:G,offset:U}}function b(Se){o[Se.line]=Se.column,ue()}function E(){let Se;for(;r._index<s.length;){const ge=s[r._index];if(typeof ge=="string")for(Se=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Se&&r._bufferIndex<ge.length;)S(ge.charCodeAt(r._bufferIndex));else S(ge)}}function S(Se){p=p(Se)}function x(Se){ht(Se)?(r.line++,r.column=1,r.offset+=Se===-3?2:1,ue()):Se!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=Se}function k(Se,ge){const W=ge||{};return W.type=Se,W.start=y(),f.events.push(["enter",W,f]),l.push(W),W}function I(Se){const ge=l.pop();return ge.end=y(),f.events.push(["exit",ge,f]),ge}function L(Se,ge){j(Se,ge.from)}function _(Se,ge){ge.restore()}function H(Se,ge){return W;function W(G,U,re){let He,fe,J,T;return Array.isArray(G)?xe(G):"tokenize"in G?xe([G]):se(G);function se(F){return pe;function pe(oe){const ce=oe!==null&&F[oe],Ee=oe!==null&&F.null,Pe=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(Ee)?Ee:Ee?[Ee]:[]];return xe(Pe)(oe)}}function xe(F){return He=F,fe=0,F.length===0?re:N(F[fe])}function N(F){return pe;function pe(oe){return T=Y(),J=F,F.partial||(f.currentConstruct=F),F.name&&f.parser.constructs.disable.null.includes(F.name)?P():F.tokenize.call(ge?Object.assign(Object.create(f),ge):f,u,R,P)(oe)}}function R(F){return Se(J,T),U}function P(F){return T.restore(),++fe<He.length?N(He[fe]):re}}}function j(Se,ge){Se.resolveAll&&!i.includes(Se)&&i.push(Se),Se.resolve&&Ki(f.events,ge,f.events.length-ge,Se.resolve(f.events.slice(ge),f)),Se.resolveTo&&(f.events=Se.resolveTo(f.events,f))}function Y(){const Se=y(),ge=f.previous,W=f.currentConstruct,G=f.events.length,U=Array.from(l);return{from:G,restore:re};function re(){r=Se,f.previous=ge,f.currentConstruct=W,f.events.length=G,l=U,ue()}}function ue(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function xH(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex;let s;if(n===o)s=[e[n].slice(r,i)];else{if(s=e.slice(n,o),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}i>0&&s.push(e[o].slice(0,i))}return s}function OH(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const i=e[n];let s;if(typeof i=="string")s=i;else switch(i){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&o)continue;s=" ";break}default:s=String.fromCharCode(i)}o=i===-2,r.push(s)}return r.join("")}function CH(e){const t={constructs:DU([bH,...(e||{}).extensions||[]]),content:n(jU),defined:[],document:n(UU),flow:n(sH),lazy:{},string:n(uH),text:n(cH)};return t;function n(r){return o;function o(i){return kH(t,r,i)}}}function EH(e){for(;!LM(e););return e}const WC=/[\0\t\n\r]/g;function NH(){let e=1,t="",n=!0,r;return o;function o(i,s,l){const u=[];let f,p,d,m,g;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(s||void 0).decode(i)),d=0,t="",n&&(i.charCodeAt(0)===65279&&d++,n=void 0);d<i.length;){if(WC.lastIndex=d,f=WC.exec(i),m=f&&f.index!==void 0?f.index:i.length,g=i.charCodeAt(m),!f){t=i.slice(d);break}if(g===10&&d===m&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<m&&(u.push(i.slice(d,m)),e+=m-d),g){case 0:{u.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,u.push(-2);e++<p;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}d=m+1}return l&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}const TH=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function AH(e){return e.replace(TH,MH)}function MH(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return IM(n.slice(o?2:1),o?16:10)}return fS(n)||e}const VM={}.hasOwnProperty;function RH(e,t,n){return typeof t!="string"&&(n=t,t=void 0),DH(n)(EH(CH(n).document().write(NH()(e,t,!0))))}function DH(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(te),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:i(de),blockQuote:i(Ee),characterEscape:Y,characterReference:Y,codeFenced:i(Pe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:i(Pe,s),codeText:i(ie,s),codeTextData:Y,data:Y,codeFlowValue:Y,definition:i(Z),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:i(me),hardBreakEscape:i(Qe),hardBreakTrailing:i(Qe),htmlFlow:i(Ze,s),htmlFlowData:Y,htmlText:i(Ze,s),htmlTextData:Y,image:i(ye),label:s,link:i(te),listItem:i(Ke),listItemValue:m,listOrdered:i($e,d),listUnordered:i($e),paragraph:i(kt),reference:N,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:i(de),strong:i(Xe),thematicBreak:i(X)},exit:{atxHeading:u(),atxHeadingSequence:L,autolink:u(),autolinkEmail:ce,autolinkProtocol:oe,blockQuote:u(),characterEscapeValue:ue,characterReferenceMarkerHexadecimal:P,characterReferenceMarkerNumeric:P,characterReferenceValue:F,characterReference:pe,codeFenced:u(E),codeFencedFence:b,codeFencedFenceInfo:g,codeFencedFenceMeta:y,codeFlowValue:ue,codeIndented:u(S),codeText:u(U),codeTextData:ue,data:ue,definition:u(),definitionDestinationString:I,definitionLabelString:x,definitionTitleString:k,emphasis:u(),hardBreakEscape:u(ge),hardBreakTrailing:u(ge),htmlFlow:u(W),htmlFlowData:ue,htmlText:u(G),htmlTextData:ue,image:u(He),label:J,labelText:fe,lineEnding:Se,link:u(re),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:R,resourceDestinationString:T,resourceTitleString:se,resource:xe,setextHeading:u(j),setextHeadingLineSequence:H,setextHeadingText:_,strong:u(),thematicBreak:u()}};HM(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(B){let ne={type:"root",children:[]};const be={stack:[ne],tokenStack:[],config:t,enter:l,exit:f,buffer:s,resume:p,data:n},Le=[];let Fe=-1;for(;++Fe<B.length;)if(B[Fe][1].type==="listOrdered"||B[Fe][1].type==="listUnordered")if(B[Fe][0]==="enter")Le.push(Fe);else{const et=Le.pop();Fe=o(B,et,Fe)}for(Fe=-1;++Fe<B.length;){const et=t[B[Fe][0]];VM.call(et,B[Fe][1].type)&&et[B[Fe][1].type].call(Object.assign({sliceSerialize:B[Fe][2].sliceSerialize},be),B[Fe][1])}if(be.tokenStack.length>0){const et=be.tokenStack[be.tokenStack.length-1];(et[1]||KC).call(be,void 0,et[0])}for(ne.position={start:ol(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:ol(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},Fe=-1;++Fe<t.transforms.length;)ne=t.transforms[Fe](ne)||ne;return ne}function o(B,ne,be){let Le=ne-1,Fe=-1,et=!1,pt,gt,nn,kn;for(;++Le<=be;){const rn=B[Le];switch(rn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rn[0]==="enter"?Fe++:Fe--,kn=void 0;break}case"lineEndingBlank":{rn[0]==="enter"&&(pt&&!kn&&!Fe&&!nn&&(nn=Le),kn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:kn=void 0}if(!Fe&&rn[0]==="enter"&&rn[1].type==="listItemPrefix"||Fe===-1&&rn[0]==="exit"&&(rn[1].type==="listUnordered"||rn[1].type==="listOrdered")){if(pt){let Bn=Le;for(gt=void 0;Bn--;){const pn=B[Bn];if(pn[1].type==="lineEnding"||pn[1].type==="lineEndingBlank"){if(pn[0]==="exit")continue;gt&&(B[gt][1].type="lineEndingBlank",et=!0),pn[1].type="lineEnding",gt=Bn}else if(!(pn[1].type==="linePrefix"||pn[1].type==="blockQuotePrefix"||pn[1].type==="blockQuotePrefixWhitespace"||pn[1].type==="blockQuoteMarker"||pn[1].type==="listItemIndent"))break}nn&&(!gt||nn<gt)&&(pt._spread=!0),pt.end=Object.assign({},gt?B[gt][1].start:rn[1].end),B.splice(gt||Le,0,["exit",pt,rn[2]]),Le++,be++}if(rn[1].type==="listItemPrefix"){const Bn={type:"listItem",_spread:!1,start:Object.assign({},rn[1].start),end:void 0};pt=Bn,B.splice(Le,0,["enter",Bn,rn[2]]),Le++,be++,nn=void 0,kn=!0}}}return B[ne][1]._spread=et,be}function i(B,ne){return be;function be(Le){l.call(this,B(Le),Le),ne&&ne.call(this,Le)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(B,ne,be){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([ne,be||void 0]),B.position={start:ol(ne.start),end:void 0}}function u(B){return ne;function ne(be){B&&B.call(this,be),f.call(this,be)}}function f(B,ne){const be=this.stack.pop(),Le=this.tokenStack.pop();if(Le)Le[0].type!==B.type&&(ne?ne.call(this,B,Le[0]):(Le[1]||KC).call(this,B,Le[0]));else throw new Error("Cannot close `"+B.type+"` ("+Vf({start:B.start,end:B.end})+"): its not open");be.position.end=ol(B.end)}function p(){return MU(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function m(B){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function g(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=B}function y(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=B}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.value=B.replace(/(\r?\n|\r)$/g,"")}function x(B){const ne=this.resume(),be=this.stack[this.stack.length-1];be.label=ne,be.identifier=ic(this.sliceSerialize(B)).toLowerCase()}function k(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.title=B}function I(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.url=B}function L(B){const ne=this.stack[this.stack.length-1];if(!ne.depth){const be=this.sliceSerialize(B).length;ne.depth=be}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function H(B){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(B){const ne=this.stack[this.stack.length-1].children;let be=ne[ne.length-1];(!be||be.type!=="text")&&(be=q(),be.position={start:ol(B.start),end:void 0},ne.push(be)),this.stack.push(be)}function ue(B){const ne=this.stack.pop();ne.value+=this.sliceSerialize(B),ne.position.end=ol(B.end)}function Se(B){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=ne.children[ne.children.length-1];be.position.end=ol(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ne.type)&&(Y.call(this,B),ue.call(this,B))}function ge(){this.data.atHardBreak=!0}function W(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.value=B}function G(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.value=B}function U(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.value=B}function re(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=ne,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function He(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=ne,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function fe(B){const ne=this.sliceSerialize(B),be=this.stack[this.stack.length-2];be.label=AH(ne),be.identifier=ic(ne).toLowerCase()}function J(){const B=this.stack[this.stack.length-1],ne=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const Le=B.children;be.children=Le}else be.alt=ne}function T(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.url=B}function se(){const B=this.resume(),ne=this.stack[this.stack.length-1];ne.title=B}function xe(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function R(B){const ne=this.resume(),be=this.stack[this.stack.length-1];be.label=ne,be.identifier=ic(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function P(B){this.data.characterReferenceType=B.type}function F(B){const ne=this.sliceSerialize(B),be=this.data.characterReferenceType;let Le;be?(Le=IM(ne,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Le=fS(ne);const Fe=this.stack[this.stack.length-1];Fe.value+=Le}function pe(B){const ne=this.stack.pop();ne.position.end=ol(B.end)}function oe(B){ue.call(this,B);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(B)}function ce(B){ue.call(this,B);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(B)}function Ee(){return{type:"blockquote",children:[]}}function Pe(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function Z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function me(){return{type:"emphasis",children:[]}}function de(){return{type:"heading",depth:0,children:[]}}function Qe(){return{type:"break"}}function Ze(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function $e(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function Ke(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function kt(){return{type:"paragraph",children:[]}}function Xe(){return{type:"strong",children:[]}}function q(){return{type:"text",value:""}}function X(){return{type:"thematicBreak"}}}function ol(e){return{line:e.line,column:e.column,offset:e.offset}}function HM(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?HM(e,r):IH(e,r)}}function IH(e,t){let n;for(n in t)if(VM.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function KC(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Vf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Vf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Vf({start:t.start,end:t.end})+") is still open")}function _H(e){const t=this;t.parser=n;function n(r){return RH(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function PH(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function $H(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function LH(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function FH(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zH(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function jH(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),o=Ac(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let s,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=i+1,l+=1,e.footnoteCounts.set(r,l);const u={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,u);const f={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,f),e.applyData(t,f)}function BH(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function UH(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function qM(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const o=e.all(t),i=o[0];i&&i.type==="text"?i.value="["+i.value:o.unshift({type:"text",value:"["});const s=o[o.length-1];return s&&s.type==="text"?s.value+=r:o.push({type:"text",value:r}),o}function VH(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qM(e,t);const o={src:Ac(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,i),e.applyData(t,i)}function HH(e,t){const n={src:Ac(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function qH(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function WH(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return qM(e,t);const o={href:Ac(r.url||"")};r.title!==null&&r.title!==void 0&&(o.title=r.title);const i={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function KH(e,t){const n={href:Ac(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function GH(e,t,n){const r=e.all(t),o=n?JH(n):WM(t),i={},s=[];if(typeof t.checked=="boolean"){const p=r[0];let d;p&&p.type==="element"&&p.tagName==="p"?d=p:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const p=r[l];(o||l!==0||p.type!=="element"||p.tagName!=="p")&&s.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!o?s.push(...p.children):s.push(p)}const u=r[r.length-1];u&&(o||u.type!=="element"||u.tagName!=="p")&&s.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:i,children:s};return e.patch(t,f),e.applyData(t,f)}function JH(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=WM(n[r])}return t}function WM(e){return e.spread??e.children.length>1}function QH(e,t){const n={},r=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++o<r.length;){const s=r[o];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function YH(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ZH(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function XH(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function eq(e,t){const n=e.all(t),r=n.shift(),o=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),o.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=lS(t.children[1]),u=EM(t.children[t.children.length-1]);l&&u&&(s.position={start:l,end:u}),o.push(s)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,i),e.applyData(t,i)}function tq(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,s=i?i.length:t.children.length;let l=-1;const u=[];for(;++l<s;){const p=t.children[l],d={},m=i?i[l]:void 0;m&&(d.align=m);let g={type:"element",tagName:o,properties:d,children:[]};p&&(g.children=e.all(p),e.patch(p,g),g=e.applyData(p,g)),u.push(g)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function nq(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const GC=9,JC=32;function rq(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),o=0;const i=[];for(;r;)i.push(QC(t.slice(o,r.index),o>0,!0),r[0]),o=r.index+r[0].length,r=n.exec(t);return i.push(QC(t.slice(o),o>0,!1)),i.join("")}function QC(e,t,n){let r=0,o=e.length;if(t){let i=e.codePointAt(r);for(;i===GC||i===JC;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(o-1);for(;i===GC||i===JC;)o--,i=e.codePointAt(o-1)}return o>r?e.slice(r,o):""}function oq(e,t){const n={type:"text",value:rq(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function iq(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const sq={blockquote:PH,break:$H,code:LH,delete:FH,emphasis:zH,footnoteReference:jH,heading:BH,html:UH,imageReference:VH,image:HH,inlineCode:qH,linkReference:WH,link:KH,listItem:GH,list:QH,paragraph:YH,root:ZH,strong:XH,table:eq,tableCell:nq,tableRow:tq,text:oq,thematicBreak:iq,toml:Hd,yaml:Hd,definition:Hd,footnoteDefinition:Hd};function Hd(){}const KM=-1,Xm=0,qf=1,wm=2,hS=3,mS=4,gS=5,yS=6,GM=7,JM=8,YC=typeof self=="object"?self:globalThis,lq=(e,t)=>{const n=(o,i)=>(e.set(i,o),o),r=o=>{if(e.has(o))return e.get(o);const[i,s]=t[o];switch(i){case Xm:case KM:return n(s,o);case qf:{const l=n([],o);for(const u of s)l.push(r(u));return l}case wm:{const l=n({},o);for(const[u,f]of s)l[r(u)]=r(f);return l}case hS:return n(new Date(s),o);case mS:{const{source:l,flags:u}=s;return n(new RegExp(l,u),o)}case gS:{const l=n(new Map,o);for(const[u,f]of s)l.set(r(u),r(f));return l}case yS:{const l=n(new Set,o);for(const u of s)l.add(r(u));return l}case GM:{const{name:l,message:u}=s;return n(new YC[l](u),o)}case JM:return n(BigInt(s),o);case"BigInt":return n(Object(BigInt(s)),o);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new YC[i](s),o)};return r},ZC=e=>lq(new Map,e)(0),Du="",{toString:aq}={},{keys:uq}=Object,kf=e=>{const t=typeof e;if(t!=="object"||!e)return[Xm,t];const n=aq.call(e).slice(8,-1);switch(n){case"Array":return[qf,Du];case"Object":return[wm,Du];case"Date":return[hS,Du];case"RegExp":return[mS,Du];case"Map":return[gS,Du];case"Set":return[yS,Du];case"DataView":return[qf,n]}return n.includes("Array")?[qf,n]:n.includes("Error")?[GM,n]:[wm,n]},qd=([e,t])=>e===Xm&&(t==="function"||t==="symbol"),cq=(e,t,n,r)=>{const o=(s,l)=>{const u=r.push(s)-1;return n.set(l,u),u},i=s=>{if(n.has(s))return n.get(s);let[l,u]=kf(s);switch(l){case Xm:{let p=s;switch(u){case"bigint":l=JM,p=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return o([KM],s)}return o([l,p],s)}case qf:{if(u){let m=s;return u==="DataView"?m=new Uint8Array(s.buffer):u==="ArrayBuffer"&&(m=new Uint8Array(s)),o([u,[...m]],s)}const p=[],d=o([l,p],s);for(const m of s)p.push(i(m));return d}case wm:{if(u)switch(u){case"BigInt":return o([u,s.toString()],s);case"Boolean":case"Number":case"String":return o([u,s.valueOf()],s)}if(t&&"toJSON"in s)return i(s.toJSON());const p=[],d=o([l,p],s);for(const m of uq(s))(e||!qd(kf(s[m])))&&p.push([i(m),i(s[m])]);return d}case hS:return o([l,s.toISOString()],s);case mS:{const{source:p,flags:d}=s;return o([l,{source:p,flags:d}],s)}case gS:{const p=[],d=o([l,p],s);for(const[m,g]of s)(e||!(qd(kf(m))||qd(kf(g))))&&p.push([i(m),i(g)]);return d}case yS:{const p=[],d=o([l,p],s);for(const m of s)(e||!qd(kf(m)))&&p.push(i(m));return d}}const{message:f}=s;return o([l,{name:u,message:f}],s)};return i},XC=(e,{json:t,lossy:n}={})=>{const r=[];return cq(!(t||n),!!t,new Map,r)(e),r},Sm=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ZC(XC(e,t)):structuredClone(e):(e,t)=>ZC(XC(e,t));function fq(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function pq(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function dq(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||fq,r=e.options.footnoteBackLabel||pq,o=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[u]);if(!f)continue;const p=e.all(f),d=String(f.identifier).toUpperCase(),m=Ac(d.toLowerCase());let g=0;const y=[],b=e.footnoteCounts.get(d);for(;b!==void 0&&++g<=b;){y.length>0&&y.push({type:"text",value:" "});let x=typeof n=="string"?n:n(u,g);typeof x=="string"&&(x={type:"text",value:x}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(u,g),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const E=p[p.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const x=E.children[E.children.length-1];x&&x.type==="text"?x.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...y)}else p.push(...y);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(p,!0)};e.patch(f,S),l.push(S)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Sm(s),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const QM=function(e){if(e==null)return yq;if(typeof e=="function")return eg(e);if(typeof e=="object")return Array.isArray(e)?hq(e):mq(e);if(typeof e=="string")return gq(e);throw new Error("Expected function, string, or object as test")};function hq(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=QM(e[n]);return eg(r);function r(...o){let i=-1;for(;++i<t.length;)if(t[i].apply(this,o))return!0;return!1}}function mq(e){const t=e;return eg(n);function n(r){const o=r;let i;for(i in e)if(o[i]!==t[i])return!1;return!0}}function gq(e){return eg(t);function t(n){return n&&n.type===e}}function eg(e){return t;function t(n,r,o){return!!(vq(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function yq(){return!0}function vq(e){return e!==null&&typeof e=="object"&&"type"in e}const YM=[],wq=!0,eE=!1,Sq="skip";function bq(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;const i=QM(o),s=r?-1:1;l(e,void 0,[])();function l(u,f,p){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const g=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(u.type+(g?"<"+g+">":""))+")"})}return m;function m(){let g=YM,y,b,E;if((!t||i(u,f,p[p.length-1]||void 0))&&(g=kq(n(u,p)),g[0]===eE))return g;if("children"in u&&u.children){const S=u;if(S.children&&g[0]!==Sq)for(b=(r?S.children.length:-1)+s,E=p.concat(S);b>-1&&b<S.children.length;){const x=S.children[b];if(y=l(x,b,E)(),y[0]===eE)return y;b=typeof y[1]=="number"?y[1]:b+s}}return g}}}function kq(e){return Array.isArray(e)?e:typeof e=="number"?[wq,e]:e==null?YM:[e]}function ZM(e,t,n,r){let o,i,s;typeof t=="function"?(i=void 0,s=t,o=n):(i=t,s=n,o=r),bq(e,i,l,o);function l(u,f){const p=f[f.length-1],d=p?p.children.indexOf(u):void 0;return s(u,d,p)}}const wv={}.hasOwnProperty,xq={};function Oq(e,t){const n=t||xq,r=new Map,o=new Map,i=new Map,s={...sq,...n.handlers},l={all:f,applyData:Eq,definitionById:r,footnoteById:o,footnoteCounts:i,footnoteOrder:[],handlers:s,one:u,options:n,patch:Cq,wrap:Tq};return ZM(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const d=p.type==="definition"?r:o,m=String(p.identifier).toUpperCase();d.has(m)||d.set(m,p)}}),l;function u(p,d){const m=p.type,g=l.handlers[m];if(wv.call(l.handlers,m)&&g)return g(l,p,d);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in p){const{children:y,...b}=p,E=Sm(b);return E.children=l.all(p),E}return Sm(p)}return(l.options.unknownHandler||Nq)(l,p,d)}function f(p){const d=[];if("children"in p){const m=p.children;let g=-1;for(;++g<m.length;){const y=l.one(m[g],p);if(y){if(g&&m[g-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=tE(y.value)),!Array.isArray(y)&&y.type==="element")){const b=y.children[0];b&&b.type==="text"&&(b.value=tE(b.value))}Array.isArray(y)?d.push(...y):d.push(y)}}}return d}}function Cq(e,t){e.position&&(t.position=aU(e))}function Eq(e,t){let n=t;if(e&&e.data){const r=e.data.hName,o=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&i&&Object.assign(n.properties,Sm(i)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function Nq(e,t){const n=t.data||{},r="value"in t&&!(wv.call(n,"hProperties")||wv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Tq(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function tE(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function nE(e,t){const n=Oq(e,t),r=n.one(e,void 0),o=dq(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return o&&i.children.push({type:"text",value:`
`},o),i}function Aq(e,t){return e&&"run"in e?async function(n,r){const o=nE(n,{file:r,...t});await e.run(o,r)}:function(n,r){return nE(n,{file:r,...e||t})}}function rE(e){if(e)throw e}var Eh=Object.prototype.hasOwnProperty,XM=Object.prototype.toString,oE=Object.defineProperty,iE=Object.getOwnPropertyDescriptor,sE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):XM.call(e)==="[object Array]"},lE=function(e){if(!e||XM.call(e)!=="[object Object]")return!1;var t=Eh.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&Eh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||Eh.call(e,r)},aE=function(e,t){oE&&t.name==="__proto__"?oE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},uE=function(e,t){if(t==="__proto__")if(Eh.call(e,t)){if(iE)return iE(e,t).value}else return;return e[t]},Mq=function e(){var t,n,r,o,i,s,l=arguments[0],u=1,f=arguments.length,p=!1;for(typeof l=="boolean"&&(p=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<f;++u)if(t=arguments[u],t!=null)for(n in t)r=uE(l,n),o=uE(t,n),l!==o&&(p&&o&&(lE(o)||(i=sE(o)))?(i?(i=!1,s=r&&sE(r)?r:[]):s=r&&lE(r)?r:{},aE(l,{name:n,newValue:e(p,s,o)})):typeof o<"u"&&aE(l,{name:n,newValue:o}));return l};const C0=xw(Mq);function Sv(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Rq(){const e=[],t={run:n,use:r};return t;function n(...o){let i=-1;const s=o.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...o);function l(u,...f){const p=e[++i];let d=-1;if(u){s(u);return}for(;++d<o.length;)(f[d]===null||f[d]===void 0)&&(f[d]=o[d]);o=f,p?Dq(p,l)(...f):s(null,...f)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function Dq(e,t){let n;return r;function r(...s){const l=e.length>s.length;let u;l&&s.push(o);try{u=e.apply(this,s)}catch(f){const p=f;if(l&&n)throw p;return o(p)}l||(u&&u.then&&typeof u.then=="function"?u.then(i,o):u instanceof Error?o(u):i(u))}function o(s,...l){n||(n=!0,t(s,...l))}function i(s){o(null,s)}}const Pi={basename:Iq,dirname:_q,extname:Pq,join:$q,sep:"/"};function Iq(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Pp(e);let n=0,r=-1,o=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else r<0&&(i=!0,r=o+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,l=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(i){n=o+1;break}}else s<0&&(i=!0,s=o+1),l>-1&&(e.codePointAt(o)===t.codePointAt(l--)?l<0&&(r=o):(l=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function _q(e){if(Pp(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Pq(e){Pp(e);let t=e.length,n=-1,r=0,o=-1,i=0,s;for(;t--;){const l=e.codePointAt(t);if(l===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),l===46?o<0?o=t:i!==1&&(i=1):o>-1&&(i=-1)}return o<0||n<0||i===0||i===1&&o===n-1&&o===r+1?"":e.slice(o,n)}function $q(...e){let t=-1,n;for(;++t<e.length;)Pp(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Lq(n)}function Lq(e){Pp(e);const t=e.codePointAt(0)===47;let n=Fq(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Fq(e,t){let n="",r=0,o=-1,i=0,s=-1,l,u;for(;++s<=e.length;){if(s<e.length)l=e.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(o===s-1||i===1))if(o!==s-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(u=n.lastIndexOf("/"),u!==n.length-1){u<0?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),o=s,i=0;continue}}else if(n.length>0){n="",r=0,o=s,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(o+1,s):n=e.slice(o+1,s),r=s-o-1;o=s,i=0}else l===46&&i>-1?i++:i=-1}return n}function Pp(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const zq={cwd:jq};function jq(){return"/"}function bv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Bq(e){if(typeof e=="string")e=new URL(e);else if(!bv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Uq(e)}function Uq(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const E0=["history","path","basename","stem","extname","dirname"];class eR{constructor(t){let n;t?bv(t)?n={path:t}:typeof t=="string"||Vq(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":zq.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<E0.length;){const i=E0[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let o;for(o in n)E0.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Pi.basename(this.path):void 0}set basename(t){T0(t,"basename"),N0(t,"basename"),this.path=Pi.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Pi.dirname(this.path):void 0}set dirname(t){cE(this.basename,"dirname"),this.path=Pi.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Pi.extname(this.path):void 0}set extname(t){if(N0(t,"extname"),cE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Pi.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){bv(t)&&(t=Bq(t)),T0(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Pi.basename(this.path,this.extname):void 0}set stem(t){T0(t,"stem"),N0(t,"stem"),this.path=Pi.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){const o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){const o=new $r(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function N0(e,t){if(e&&e.includes(Pi.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Pi.sep+"`")}function T0(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function cE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Vq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Hq=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},qq={}.hasOwnProperty;class vS extends Hq{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Rq()}copy(){const t=new vS;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(C0(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(R0("data",this.frozen),this.namespace[t]=n,this):qq.call(this.namespace,t)&&this.namespace[t]||void 0:t?(R0("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Wd(t),r=this.parser||this.Parser;return A0("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),A0("process",this.parser||this.Parser),M0("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(i,s){const l=Wd(t),u=r.parse(l);r.run(u,l,function(p,d,m){if(p||!d||!m)return f(p);const g=d,y=r.stringify(g,m);Gq(y)?m.value=y:m.result=y,f(p,m)});function f(p,d){p||!d?s(p):i?i(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),A0("processSync",this.parser||this.Parser),M0("processSync",this.compiler||this.Compiler),this.process(t,o),pE("processSync","process",n),r;function o(i,s){n=!0,rE(i),r=s}}run(t,n,r){fE(t),this.freeze();const o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(s,l){const u=Wd(n);o.run(t,u,f);function f(p,d,m){const g=d||t;p?l(p):s?s(g):r(void 0,g,m)}}}runSync(t,n){let r=!1,o;return this.run(t,n,i),pE("runSync","run",r),o;function i(s,l){rE(s),o=l,r=!0}}stringify(t,n){this.freeze();const r=Wd(n),o=this.compiler||this.Compiler;return M0("stringify",o),fE(t),o(t,r)}use(t,...n){const r=this.attachers,o=this.namespace;if(R0("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(f){if(typeof f=="function")u(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...d]=f;u(p,d)}else s(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function s(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(f.plugins),f.settings&&(o.settings=C0(!0,o.settings,f.settings))}function l(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const d=f[p];i(d)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function u(f,p){let d=-1,m=-1;for(;++d<r.length;)if(r[d][0]===f){m=d;break}if(m===-1)r.push([f,...p]);else if(p.length>0){let[g,...y]=p;const b=r[m][1];Sv(b)&&Sv(g)&&(g=C0(!0,b,g)),r[m]=[f,g,...y]}}}}const Wq=new vS().freeze();function A0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function M0(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function R0(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function fE(e){if(!Sv(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function pE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Wd(e){return Kq(e)?e:new eR(e)}function Kq(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Gq(e){return typeof e=="string"||Jq(e)}function Jq(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Qq="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",dE=[],hE={allowDangerousHtml:!0},Yq=/^(https?|ircs?|mailto|xmpp)$/i,Zq=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function mE(e){const t=Xq(e),n=eW(e);return tW(t.runSync(t.parse(n),n),e)}function Xq(e){const t=e.rehypePlugins||dE,n=e.remarkPlugins||dE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...hE}:hE;return Wq().use(_H).use(n).use(Aq,r).use(t)}function eW(e){const t=e.children||"",n=new eR;return typeof t=="string"&&(n.value=t),n}function tW(e,t){const n=t.allowedElements,r=t.allowElement,o=t.components,i=t.disallowedElements,s=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||nW;for(const p of Zq)Object.hasOwn(t,p.from)&&""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+Qq+p.id;return ZM(e,f),dU(e,{Fragment:qt.Fragment,components:o,ignoreInvalidStyle:!0,jsx:qt.jsx,jsxs:qt.jsxs,passKeys:!0,passNode:!0});function f(p,d,m){if(p.type==="raw"&&m&&typeof d=="number")return s?m.children.splice(d,1):m.children[d]={type:"text",value:p.value},d;if(p.type==="element"){let g;for(g in k0)if(Object.hasOwn(k0,g)&&Object.hasOwn(p.properties,g)){const y=p.properties[g],b=k0[g];(b===null||b.includes(p.tagName))&&(p.properties[g]=u(String(y||""),g,p))}}if(p.type==="element"){let g=n?!n.includes(p.tagName):i?i.includes(p.tagName):!1;if(!g&&r&&typeof d=="number"&&(g=!r(p,d,m)),g&&m&&typeof d=="number")return l&&p.children?m.children.splice(d,1,...p.children):m.children.splice(d,1),d}}}function nW(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||n!==-1&&t>n||r!==-1&&t>r||Yq.test(e.slice(0,t))?e:""}function rW(...e){return e.filter(Boolean).join(" ")}const oW=({state:e})=>{var t,n,r,o;return qt.jsxs("div",{className:rW("rounded-md font-mono flex flex-col gap-4 p-4"),children:[(((t=e.data)==null?void 0:t.title)||((n=e.data)==null?void 0:n.instructions))&&qt.jsxs("div",{className:"instruction-panel mb-4 p-4 border border-gray-200 rounded-none font-sans",style:{fontFamily:"Arial, sans-serif"},children:[((r=e.data)==null?void 0:r.title)&&qt.jsx("h1",{className:"text-xl font-bold mb-2",children:qt.jsx(mE,{children:e.data.title})}),((o=e.data)==null?void 0:o.instructions)&&qt.jsx("div",{className:"text-gray-700 prose max-w-none",children:qt.jsx(mE,{components:{ul:({node:i,...s})=>qt.jsx("ul",{className:"list-disc pl-5 mb-4",...s}),ol:({node:i,...s})=>qt.jsx("ol",{className:"list-decimal pl-5 mb-4",...s}),li:({node:i,...s})=>qt.jsx("li",{className:"mb-1",...s})},children:e.data.instructions})})]}),qt.jsx(y7,{state:e})]})};var D0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function iW(){if(gE)return D0;gE=1;var e=Fl;function t(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function l(d,m){var g=m(),y=r({inst:{value:g,getSnapshot:m}}),b=y[0].inst,E=y[1];return i(function(){b.value=g,b.getSnapshot=m,u(b)&&E({inst:b})},[d,g,m]),o(function(){return u(b)&&E({inst:b}),d(function(){u(b)&&E({inst:b})})},[d]),s(g),g}function u(d){var m=d.getSnapshot;d=d.value;try{var g=m();return!n(d,g)}catch{return!0}}function f(d,m){return m()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:l;return D0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,D0}var I0={},yE;function sW(){if(yE)return I0;yE=1;var e={};/**
 * @license React
 * use-sync-external-store-shim.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return e.NODE_ENV!=="production"&&function(){function t(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}function n(y,b){d||i.startTransition===void 0||(d=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var E=b();if(!m){var S=b();s(E,S)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),m=!0)}S=l({inst:{value:E,getSnapshot:b}});var x=S[0].inst,k=S[1];return f(function(){x.value=E,x.getSnapshot=b,r(x)&&k({inst:x})},[y,E,b]),u(function(){return r(x)&&k({inst:x}),y(function(){r(x)&&k({inst:x})})},[y]),p(E),E}function r(y){var b=y.getSnapshot;y=y.value;try{var E=b();return!s(y,E)}catch{return!0}}function o(y,b){return b()}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var i=Fl,s=typeof Object.is=="function"?Object.is:t,l=i.useState,u=i.useEffect,f=i.useLayoutEffect,p=i.useDebugValue,d=!1,m=!1,g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o:n;I0.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:g,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}(),I0}var lW={};lW.NODE_ENV==="production"?iW():sW();const aW=0,uW=1,cW=2;var vE=Object.prototype.hasOwnProperty;function kv(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&kv(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(vE.call(e,n)&&++r&&!vE.call(t,n)||!(n in t)||!kv(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const ml=new WeakMap,kl=()=>{},Vo=kl(),xv=Object,fi=e=>e===Vo,xa=e=>typeof e=="function",tg=(e,t)=>({...e,...t}),fW=e=>xa(e.then),_0={},Kd={},tR="undefined",ng=typeof window!=tR,Ov=typeof document!=tR,pW=ng&&"Deno"in window,dW=(e,t)=>{const n=ml.get(e);return[()=>!fi(t)&&e.get(t)||_0,r=>{if(!fi(t)){const o=e.get(t);t in Kd||(Kd[t]=o),n[5](t,tg(o,r),o||_0)}},n[6],()=>!fi(t)&&t in Kd?Kd[t]:!fi(t)&&e.get(t)||_0]};let Cv=!0;const hW=()=>Cv,[Ev,Nv]=ng&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[kl,kl],mW=()=>{const e=Ov&&document.visibilityState;return fi(e)||e!=="hidden"},gW=e=>(Ov&&document.addEventListener("visibilitychange",e),Ev("focus",e),()=>{Ov&&document.removeEventListener("visibilitychange",e),Nv("focus",e)}),yW=e=>{const t=()=>{Cv=!0,e()},n=()=>{Cv=!1};return Ev("online",t),Ev("offline",n),()=>{Nv("online",t),Nv("offline",n)}},vW={isOnline:hW,isVisible:mW},wW={initFocus:gW,initReconnect:yW};Fl.useId;const nR=!ng||pW,P0=typeof navigator<"u"&&navigator.connection,wE=!nR&&P0&&(["slow-2g","2g"].includes(P0.effectiveType)||P0.saveData),Gd=new WeakMap,$0=(e,t)=>xv.prototype.toString.call(e)===`[object ${t}]`;let SW=0;const Tv=e=>{const t=typeof e,n=$0(e,"Date"),r=$0(e,"RegExp"),o=$0(e,"Object");let i,s;if(xv(e)===e&&!n&&!r){if(i=Gd.get(e),i)return i;if(i=++SW+"~",Gd.set(e,i),Array.isArray(e)){for(i="@",s=0;s<e.length;s++)i+=Tv(e[s])+",";Gd.set(e,i)}if(o){i="#";const l=xv.keys(e).sort();for(;!fi(s=l.pop());)fi(e[s])||(i+=s+":"+Tv(e[s])+",");Gd.set(e,i)}}else i=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},rR=e=>{if(xa(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Tv(e):"",[e,t]};let bW=0;const SE=()=>++bW;async function kW(...e){const[t,n,r,o]=e,i=tg({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let s=i.populateCache;const l=i.rollbackOnError;let u=i.optimisticData;const f=m=>typeof l=="function"?l(m):l!==!1,p=i.throwOnError;if(xa(n)){const m=n,g=[],y=t.keys();for(const b of y)!/^\$(inf|sub)\$/.test(b)&&m(t.get(b)._k)&&g.push(b);return Promise.all(g.map(d))}return d(n);async function d(m){const[g]=rR(m);if(!g)return;const[y,b]=dW(t,g),[E,S,x,k]=ml.get(t),I=()=>{const W=E[g];return(xa(i.revalidate)?i.revalidate(y().data,m):i.revalidate!==!1)&&(delete x[g],delete k[g],W&&W[0])?W[0](cW).then(()=>y().data):y().data};if(e.length<3)return I();let L=r,_;const H=SE();S[g]=[H,0];const j=!fi(u),Y=y(),ue=Y.data,Se=Y._c,ge=fi(Se)?ue:Se;if(j&&(u=xa(u)?u(ge,ue):u,b({data:u,_c:ge})),xa(L))try{L=L(ge)}catch(W){_=W}if(L&&fW(L))if(L=await L.catch(W=>{_=W}),H!==S[g][0]){if(_)throw _;return L}else _&&j&&f(_)&&(s=!0,b({data:ge,_c:Vo}));if(s&&!_)if(xa(s)){const W=s(L,ge);b({data:W,error:Vo,_c:Vo})}else b({data:L,error:Vo,_c:Vo});if(S[g][1]=SE(),Promise.resolve(I()).then(()=>{b({_c:Vo})}),_){if(p)throw _;return}return L}}const bE=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},xW=(e,t)=>{if(!ml.has(e)){const n=tg(wW,t),r=Object.create(null),o=kW.bind(Vo,e);let i=kl;const s=Object.create(null),l=(p,d)=>{const m=s[p]||[];return s[p]=m,m.push(d),()=>m.splice(m.indexOf(d),1)},u=(p,d,m)=>{e.set(p,d);const g=s[p];if(g)for(const y of g)y(d,m)},f=()=>{if(!ml.has(e)&&(ml.set(e,[r,Object.create(null),Object.create(null),Object.create(null),o,u,l]),!nR)){const p=n.initFocus(setTimeout.bind(Vo,bE.bind(Vo,r,aW))),d=n.initReconnect(setTimeout.bind(Vo,bE.bind(Vo,r,uW)));i=()=>{p&&p(),d&&d(),ml.delete(e)}}};return f(),[e,o,f,i]}return[e,ml.get(e)[4]]},OW=(e,t,n,r,o)=>{const i=n.errorRetryCount,s=o.retryCount,l=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!fi(i)&&s>i||setTimeout(r,l,o)},CW=kv,[oR,EW]=xW(new Map);tg({onLoadingSlow:kl,onSuccess:kl,onError:kl,onErrorRetry:OW,onDiscarded:kl,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:wE?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:wE?5e3:3e3,compare:CW,isPaused:()=>!1,cache:oR,mutate:EW,fallback:{}},vW);Gt.createContext({});const NW="$inf$",iR=ng&&window.__SWR_DEVTOOLS_USE__,TW=iR?window.__SWR_DEVTOOLS_USE__:[],AW=()=>{iR&&(window.__SWR_DEVTOOLS_REACT__=Fl)},MW=e=>(t,n,r)=>e(t,n&&((...o)=>{const[i]=rR(t),[,,,s]=ml.get(oR);if(i.startsWith(NW))return n(...o);const l=s[i];return fi(l)?n(...o):(delete s[i],l)}),r);TW.concat(MW);AW();Fl.use;const RW=(e,t)=>{let n=e;const r=[];return{get data(){return n},apply(o){const i=t(n,o);i!==void 0&&(n=i,r.forEach(s=>s()))},subscribe(o){return r.push(o),()=>{const i=r.indexOf(o);i>-1&&r.splice(i,1)}}}},DW={title:"",instructions:"",validation:{points:0,regions:{"*":{primaryColumn:null,order:"expected",rows:[{id:1,A:{text:"Name"},B:{text:"Email"},C:{text:"Status"}},{id:2,A:{text:"John Doe"},B:{text:"john@example.com"},C:{text:"Active"}},{id:3,A:{text:"Jane Smith"},B:{text:"jane@example.com"},C:{text:"Pending"}},{id:4,A:{text:"Bob Johnson"},B:{text:"bob@example.com"},C:{text:"Active"}}]}},cells:{}},interaction:{type:"table",v:"0.0.1",cells:{A1:{text:"Name"},B1:{text:"Email"},C1:{text:"Status"},A2:{text:"John Doe"},B2:{text:"john@example.com"},C2:{text:"Active"},A3:{text:"Jane Smith"},B3:{text:"jane@example.com"},C3:{text:"Pending"},A4:{text:"Bob Johnson"},B4:{text:"bob@example.com"},C4:{text:"Active"}},columns:{A:{align:"center",width:150},B:{align:"center",width:200},C:{align:"center",width:100}}}},IW=({onFormChange:e})=>{const{context:t,Front:n,isReady:r}=FN(),[,o]=Gt.useState(0),[i,s]=Gt.useState(null),[l,u]=Gt.useState(null),f=Gt.useRef(null),p="0166",[d]=Gt.useState(()=>RW(DW,(b,E)=>{switch(console.log("L0166 state.apply()","type="+E.type,"args="+JSON.stringify(E.args,null,2),"data="+JSON.stringify(b,null,2)),E.type){case"init":return{...E.args};case"update":case"response":return o(x=>x+1),e&&e({...b,...E.args}),{...b,...E.args};case"focus":const S={};if(b.interaction&&E.args.type){const{type:x,name:k}=E.args;x==="cell"&&k&&b.interaction.cells&&b.interaction.cells[k]&&Object.assign(S,b.interaction.cells[k])}return{...b,focus:E.args};default:return console.error(`Unimplemented action type: ${E.type}`),b}}));Gt.useEffect(()=>d.subscribe(()=>{o(E=>E+1)}),[d]),Gt.useEffect(()=>{t&&(t.draft&&t.draft.id&&(console.log("Composer context detected, draft ID:",t.draft.id),u(t.draft.id)),t.formData&&d.apply({type:"update",args:t.formData}))},[t]),Gt.useEffect(()=>{const b=E=>{if(console.log("handleGraffiticodeMessage()","origin="+E.origin,"event type="+(E.data?E.data.type:"unknown")),E.origin==="https://graffiticode.com"){if(E.data.type==="graffiticode-ready")console.log("Graffiticode editor is ready");else if(E.data.type==="item-created"){console.log("Item created:",E.data.itemId),s(E.data.itemId);const S={...d.data,gcItemId:E.data.itemId};d.apply({type:"update",args:S})}else if(E.data.type==="data-updated"){if(console.log("Data updated:",E.data.data),E.data.data){const S={...d.data,...E.data.data};E.data.itemId&&(S.gcItemId=E.data.itemId,s(E.data.itemId)),d.apply({type:"update",args:S})}}else if(E.data.type==="item-updated"&&(console.log("Item updated:",E.data),E.data.data||E.data.itemId)){const S={...d.data};E.data.data&&Object.assign(S,E.data.data),E.data.itemId&&(S.gcItemId=E.data.itemId,s(E.data.itemId)),d.apply({type:"update",args:S})}}};return window.addEventListener("message",b),()=>{window.removeEventListener("message",b)}},[d]);const m=()=>{let b="";if(d.data&&d.data.interaction&&d.data.interaction.cells){const E=d.data.interaction.cells,S=Object.keys(E),x=new Set,k=new Set;S.forEach(_=>{var Y,ue;const H=((Y=_.match(/^[A-Z]+/))==null?void 0:Y[0])||"",j=((ue=_.match(/\d+$/))==null?void 0:ue[0])||"";H&&k.add(H),j&&x.add(j)});const I=Array.from(k).sort(),L=Array.from(x).sort((_,H)=>parseInt(_)-parseInt(H));b=`<table border="1" cellpadding="4" cellspacing="0" style="border-collapse: collapse;">
`,I.length>0&&(b+=`  <tr>
`,b+=`    <th></th>
`,I.forEach(_=>{b+=`    <th>${_}</th>
`}),b+=`  </tr>
`),L.forEach(_=>{b+=`  <tr>
`,b+=`    <th>${_}</th>
`,I.forEach(H=>{const j=`${H}${_}`,Y=E[j];let ue="";if(Y)if(typeof Y=="object"&&Y!==null){if(Y.value!==void 0)ue=String(Y.value);else if(Y.text!==void 0)ue=String(Y.text);else if(Object.keys(Y).length>0){const Se=Object.keys(Y)[0];ue=Y[Se]?String(Y[Se]):JSON.stringify(Y)}}else Y!=null&&(ue=String(Y));b+=`    <td>${ue}</td>
`}),b+=`  </tr>
`}),b+="</table>"}else b='[No table data available. Click "Create Spreadsheet" to define a table.]';return b},g=async()=>{console.log("Inserting table data into composer...");const b=m();if(n&&l)try{console.log("Attempting to insert table with Front.updateDraft..."),console.log("Draft ID:",l),console.log("Table content preview:",b.substring(0,100)+"..."),await n.updateDraft(l,{updateMode:"insert",content:{body:b,type:"html"}}),console.log("Table data inserted successfully using Front.updateDraft");const E=document.querySelector(".insert-table-btn");if(E){const S=E.textContent;E.textContent="Inserted! ",E.style.backgroundColor="#28a745",setTimeout(()=>{E.textContent=S,E.style.backgroundColor=""},2e3)}return}catch(E){console.error("Error using Front.updateDraft:",E),n&&(console.log("Available Front SDK methods:",Object.getOwnPropertyNames(n)),console.log("Front SDK object:",n),console.log("Draft ID:",l),console.log("Context:",t),typeof n.updateDraft=="function"?console.log("updateDraft method exists"):(console.log("updateDraft method NOT found"),console.log("Type of Front.updateDraft:",typeof n.updateDraft))),console.error("Failed to insert table. See error details above.")}else n&&!l?(console.warn("Front SDK available but no draft ID. This plugin may not be in a composer context."),console.log("Current context:",t),console.error("No draft ID found. Plugin must be opened in a composer context.")):n||(console.warn("Front SDK not available. This may be running in development mode."),console.error("Front SDK not available."))},y=()=>{console.log("Opening Graffiticode editor...");const b=new URLSearchParams({lang:p,mode:"editor",origin:window.location.origin,editorMode:"true",editorOrigin:window.location.origin});i?(b.append("itemId",i),console.log("Editing existing item:",i)):console.log("Creating new item");const S=`https://graffiticode.com/editor?${b.toString()}`;if(console.log("Opening URL:",S),f.current&&!f.current.closed)f.current.location.href=S,f.current.focus();else try{f.current=window.open(S,"graffiticode-editor","width=1200,height=800")}catch(k){console.error("Error opening window:",k),f.current=window.open(S,"graffiticode-editor")}if(!f.current){alert("Unable to open Graffiticode. Please check your popup blocker settings.");return}const x=setInterval(()=>{try{f.current&&!f.current.closed?f.current.postMessage({type:"establish-communication",origin:window.location.origin},"https://graffiticode.com"):clearInterval(x)}catch{}},1e3);setTimeout(()=>clearInterval(x),1e4)};return r?cn.jsxs("div",{className:"l0166-form-container",children:[cn.jsxs("div",{className:"form-toolbar",children:[cn.jsx("button",{type:"button",onClick:y,className:"edit-spreadsheet-btn",children:i?"Edit Spreadsheet ":"Create Spreadsheet "}),cn.jsx("button",{type:"button",onClick:g,className:`insert-table-btn ${l?"":"no-draft"}`,title:l?"Insert table data into composer message":"Insert table (requires composer context)",children:"Insert Table "})]}),cn.jsx(oW,{state:d})]}):cn.jsx("div",{className:"loading",children:"Loading form..."})},_W=({formData:e})=>{const{context:t,Front:n,isReady:r}=FN();return cn.jsxs("div",{className:"debug-panel",children:[cn.jsx("h3",{children:"Debug Panel"}),cn.jsxs("div",{className:"debug-section",children:[cn.jsx("h4",{children:"Front SDK Status"}),cn.jsxs("div",{className:"debug-item",children:[cn.jsx("strong",{children:"SDK Available:"})," ",n?"Yes":"No"]}),cn.jsxs("div",{className:"debug-item",children:[cn.jsx("strong",{children:"Context Ready:"})," ",r?"Yes":"No"]})]}),cn.jsxs("div",{className:"debug-section",children:[cn.jsx("h4",{children:"Front Context"}),cn.jsx("pre",{className:"debug-code",children:t?JSON.stringify(t,null,2):"No context available"})]}),cn.jsxs("div",{className:"debug-section",children:[cn.jsx("h4",{children:"Form Data"}),cn.jsx("pre",{className:"debug-code",children:e?JSON.stringify(e,null,2):"No form data"})]})]})};function PW(){const[e,t]=Gt.useState(!1),[n,r]=Gt.useState(null);Gt.useEffect(()=>{const i=new URLSearchParams(window.location.search);t(i.get("debug")==="true")},[]);const o=i=>{r(i)};return cn.jsx(M$,{children:cn.jsxs("div",{className:"app",children:[cn.jsx(IW,{onFormChange:o}),e&&cn.jsx(_W,{formData:n})]})})}L0.createRoot(document.getElementById("root")).render(cn.jsx(Fl.StrictMode,{children:cn.jsx(PW,{})}));
