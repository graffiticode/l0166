<!DOCTYPE html>
<!-- Built with spec-md https://spec-md.com -->
<html>
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"><title>Graffiticode Core Language Specification</title>
<style>@media (prefers-color-scheme: light){:root{--color-foreground: #333333;--color-background: #ffffff;--color-light-grey: #ccc;--color-grey: #666666;--color-white: #fff;--color-link: #3b5998;--color-subsection-link: var(--color-foreground);--color-toc-link: var(--color-foreground);--color-toc-id: var(--color-link);--color-toggle-border: #bbc;--color-sidebar-background: #f0f0f0;--color-sidebar-viewing-link: #8b9;--color-sidebar-toggle-button: rgba(0, 0, 0, .7);--color-sidebar-shadow-inset: rgba(0, 0, 0, .05);--color-sidebar-shadow: rgba(0, 0, 0, .04);--color-sidebar-large-shadow: rgba(0, 0, 0, .08);--color-pre-background: #fafafa;--color-pre-border: #e9e9e9;--color-code-background: rgba(0, 0, 0, .03);--color-spec-todo: var(--color-grey);--color-spec-example: #fafaff;--color-spec-example-border: #bbbbff;--color-spec-counter-example: #fffafa;--color-spec-counter-border: #ffbbbb;--color-spec-counter-example-link: #98593b;--color-spec-added-border: #396;--color-spec-removed-border: #933;--color-spec-prose: var(--color-grey);--color-spec-quantifier-list: var(--color-link);--color-spec-quantifier-optional: #83238e;--color-spec-condition: #1c7758;--color-spec-param: var(--color-grey);--color-spec-rx: var(--color-foreground);--color-spec-note-border: #f4e925;--color-spec-note-background: #fefef3;--color-spec-note-first-link: #6c6613;--color-source-link: var(--color-light-grey);--color-table-header: #f9f9f9;--color-table-header-border: #d0d0d0;--color-token-inserted: hsla(241, 71%, 34%, .69);--color-token-deleted: hsla(324, 92%, 33%, .74);--color-inserts-background: rgba(0, 200, 30, .08);--color-deletions-background: rgba(200, 0, 0, .08);--selection-background-color: #cacee0;--selection-background-color-link: #f0babe}.selection-link:hover{--selection-background-color: #3b5998}}@media (prefers-color-scheme: dark){:root{--color-foreground: #b6b6b6;--color-background: #262626;--color-light-grey: #373737;--color-grey: #828282;--color-white: rgb(29, 29, 29);--color-link: #89b7da;--color-subsection-link: var(--color-foreground);--color-toc-link: var(--color-foreground);--color-toc-id: var(--color-link);--color-toggle-border: #bbc;--color-sidebar-background: #323232;--color-sidebar-viewing-link: #8b9;--color-sidebar-toggle-button: rgba(220, 220, 220, .7);--color-sidebar-shadow-inset: rgba(0, 0, 0, .05);--color-sidebar-shadow: rgba(0, 0, 0, .04);--color-sidebar-large-shadow: rgba(0, 0, 0, .08);--color-pre-background: #2e2e2e;--color-pre-border: #3a3a3a;--color-code-background: rgba(41, 41, 41, .03);--color-spec-todo: var(--color-grey);--color-spec-example: #2b2b35;--color-spec-example-border: #4d4d6d;--color-spec-counter-example: #322828;--color-spec-counter-border: #664040;--color-spec-counter-example-link: #ff702d;--color-spec-added-border: #396;--color-spec-removed-border: #933;--color-spec-prose: var(--color-grey);--color-spec-quantifier-list: var(--color-link);--color-spec-quantifier-optional: #c689ce;--color-spec-condition: #6fa889;--color-spec-param: var(--color-grey);--color-spec-rx: var(--color-foreground);--color-spec-note-border: #605e39;--color-spec-note-background: #303028;--color-spec-note-first-link: #f0e330;--color-source-link: var(--color-grey);--color-table-header: #373737;--color-table-header-border: #525252;--color-token-inserted: hsla(241, 63%, 70%, .69);--color-token-deleted: hsla(325, 64%, 67%, .74);--color-inserts-background: rgba(0, 200, 30, .08);--color-deletions-background: rgba(200, 0, 0, .08);--selection-background-color: #656565;--selection-background-color-link: #f0babe}.selection-link:hover{--selection-background-color: #829edb}}:root{color:var(--color-foreground);background-color:var(--color-background);font-family:var(--font-family);font-size:15px;line-height:1.5;--mono-font-size: 13px;--indent: 1rem;--list-indent: 1.5rem;--dfn-indent: 0rem;--font-family: Cambria, "Palatino Linotype", Palatino, "Liberation Serif", serif;--font-family-monospace: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace}@media (min-width: 720px){:root{font-size:17px;--mono-font-size: 15px;--indent: 2rem;--list-indent: 2rem;--dfn-indent: 2rem}}body{margin:3rem 0 3rem}article{margin:0 1rem}@media (min-width: 720px){body{margin:6rem auto 3rem;max-width:800px;padding-left:75px;padding-right:clamp(0px,calc((100vw - 800px) * .25),75px)}}.source-link{display:none}@media screen and (min-width: 720px){.source-link{display:block;position:absolute;width:18px;fill:var(--color-source-link);opacity:.3}.source-link:hover{opacity:1}}.outdated-selection-link,.selection-link{position:absolute;display:block;color:var(--color-white);background:var(--selection-background-color);border-radius:4px;font-size:36px;height:23px;line-height:48px;text-align:center;text-decoration:none;width:25px;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.outdated-selection-link:hover,.selection-link:hover{text-decoration:none}.outdated-selection-link:before,.selection-link:before{border:5px solid transparent;content:"";height:0;margin-top:-5px;margin-right:-5px;position:absolute;right:1px;top:50%;width:0}@media (max-width: 719px){.outdated-selection-link:before,.selection-link:before{border-bottom-color:var(--selection-background-color);border-top:0;right:50%;top:1px}}@media (min-width: 720px){.outdated-selection-link:before,.selection-link:before{border-left-color:var(--selection-background-color);border-right:0;right:1px;top:50%}}.outdated-selection-link{background:var(--selection-background-color-link);font-size:21px;font-weight:800;line-height:27px}.outdated-selection-link:hover:after{content:"This selection content has changed since this link was created.";font:9pt/11pt var(--font-family);position:absolute;display:block;white-space:nowrap;padding:2px 5px 1px;top:-20px;background:black;color:var(--color-white)}a{color:var(--color-link);text-decoration:none}a:hover{text-decoration:underline}img{max-width:100%}dl{margin:1rem 0 1rem var(--dfn-indent)}dd{margin:.25em 0 .5em var(--indent)}dd+dd{margin-top:1rem}dfn,.spec-ref{font-style:italic}dfn>a,.spec-ref>a{color:inherit}h1,h2,h3,h4,h5,h6{font-weight:bold;margin:3em 0 1em;position:relative}@media (min-width: 720px){header>h1{margin:6em 0 3em}}h1{font-size:1.5em;margin-top:5em}h2,h3{font-size:1.25em}h4,h5,h6{font-size:1em}section{padding-top:1rem;margin-top:-1rem}section.subsec>h6{margin-top:2em}section.subsec>h6>a{color:var(--color-subsection-link)}section .spec-secid{margin-right:1ex}@media (min-width: 720px){section .spec-secid{position:absolute;right:100%;text-align:right;white-space:nowrap}}footer{font-size:75%;opacity:.5;text-align:center;margin-top:12rem}.spec-toc{margin:1rem 0 3rem}.spec-toc .title{content:"Contents";display:block;font-weight:bold;margin:5em 0 1em}.spec-toc .spec-secid{margin-right:1ex}.spec-toc ol{list-style:none;padding-left:0;margin-top:0;margin-bottom:0}.spec-toc ol ol{list-style:none;padding-left:2ex;margin-bottom:.25em}.spec-toc li{position:relative;padding:5px 0 0 30px;margin:-5px 0 0 -30px}.spec-toc a{color:var(--color-toc-link)}.spec-toc a:hover{text-decoration:none}.spec-toc a .spec-secid{color:var(--color-toc-id)}.spec-toc a:hover .spec-secid{text-decoration:underline}.spec-toc .toggle{display:none}.spec-toc .toggle+label{cursor:pointer;left:6px;opacity:1;padding:5px 6px 5px 7px;position:absolute;top:6px;transform:rotate(0deg);transition:all .18s ease-in-out}.spec-toc .toggle+label:after{border-color:transparent transparent transparent var(--color-toggle-border);border-style:solid;border-width:6px 0 6px 7px;content:" ";display:block;height:0;width:0}@media (pointer: fine){.spec-toc .toggle+label{left:10px;padding:3px 5px 3px 6px;top:8px}}.spec-toc .toggle:checked+label{transform:rotate(90deg)}@media (hover: hover){.spec-toc li:not(:hover)>.toggle:checked+label{opacity:0}}.spec-toc .toggle:not(:checked)~ol{max-height:0;overflow:hidden;margin:0}.spec-sidebar-toggle{display:none}.spec-sidebar-toggle+label>.spec-sidebar-button{position:fixed;right:0;top:0;padding:10px 15px;font-size:30px;color:var(--color-sidebar-toggle-button);z-index:2;cursor:pointer;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.spec-sidebar-toggle:checked+label:after{content:"";position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:0}.spec-sidebar{display:none;position:fixed;right:0;top:0;width:min(320px,calc(100vw - 48px));font-size:14px;line-height:1.75;overflow-y:scroll;height:100%;padding:0 0 5rem 30px;box-sizing:border-box;background:var(--color-sidebar-background);box-shadow:inset 1px 0 var(--color-sidebar-shadow-inset),-4px 0 8px -2px var(--color-sidebar-shadow);overscroll-behavior:contain}.spec-sidebar{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.spec-sidebar-toggle:checked~.spec-sidebar{display:block}.spec-sidebar .viewing>a:after{color:var(--color-sidebar-viewing-link);content:"\2022";margin-left:1ex}@media (min-width: 1220px){.spec-sidebar-toggle+label{display:none}.spec-sidebar{display:block;box-shadow:inset 1px 0 var(--color-sidebar-shadow-inset),inset 4px 0 8px -2px var(--color-sidebar-large-shadow)!important}body{padding-right:345px}}.spec-note{background:var(--color-spec-note-background);border-left:solid 4px var(--color-spec-note-border);margin:1rem -1rem;min-width:70vw;padding:8px 1rem 12px calc(1rem - 4px);width:-moz-fit-content;width:-webkit-fit-content;width:fit-content}@media (min-width: 720px){.spec-note{min-width:416px}}.spec-note>a:first-child{color:var(--color-spec-note-first-link);display:block;font:italic 11pt/18pt var(--font-family);opacity:.6;user-select:none}.spec-todo{color:var(--color-spec-todo);margin:1em 0 1em 5em;min-height:1em}.spec-todo::before{content:"todo";display:block;float:left;margin-left:-5em;text-transform:uppercase}.spec-index ol{list-style-type:none;margin:0 0 0 var(--indent);padding:0;column-width:210px;column-gap:var(--indent)}.spec-index ol li{width:min-content;white-space:nowrap}pre,code{font-family:var(--font-family-monospace);font-size:var(--mono-font-size);font-weight:inherit}code{background:var(--color-code-background);margin:-2px -1px;padding:3px 3px;white-space:pre-wrap}pre>code{background:none;font-weight:inherit;margin:0;padding:0;white-space:pre}pre{background:var(--color-pre-background);border-left:solid 4px var(--color-pre-border);margin:1rem -1rem;min-width:70vw;padding:12px 1rem 12px calc(1rem - 4px);width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;max-width:calc(100vw - 2rem);overflow-y:auto}@media (min-width: 720px){pre{min-width:40ch}}.spec-example{background:var(--color-spec-example);border-left:solid 4px var(--color-spec-example-border);padding-top:8px}.spec-counter-example{background:var(--color-spec-counter-example);border-left:solid 4px var(--color-spec-counter-border);padding-top:8px}.spec-example>a,.spec-counter-example>a{display:block;font:italic 11pt/18pt var(--font-family);opacity:.6;user-select:none}.spec-counter-example>a{color:var(--color-spec-counter-example-link)}table{border-collapse:collapse}th{background-color:var(--color-table-header)}td,th{border:1px solid var(--color-table-header-border);padding:.4em;vertical-align:baseline}ol,ul{padding-left:var(--list-indent)}li>ol,li>ul{margin-top:.25em;margin-bottom:.5em}li+li{margin-top:.25em}li.task{list-style-type:none;position:relative}li.task>input:first-child{margin-left:0;position:absolute;transform:translateX(calc(-100% - 1ch))}ins{background-color:var(--color-inserts-background);text-decoration:none}del{background-color:var(--color-deletions-background)}.spec-added,.spec-removed{border-left:4px solid;margin-left:-18px;padding-left:14px}.spec-added{border-color:var(--color-spec-added-border)}.spec-removed{border-color:var(--color-spec-removed-border);text-decoration:line-through}.spec-keyword{font-weight:bold}.spec-string{font-family:var(--font-family-monospace);font-size:85%;white-space:pre}var{font-style:italic}*[data-name]{transition:.15s background ease-out;border-radius:2px;padding:0 3px;margin:0 -3px}.spec-semantic,.spec-algo{margin:1rem 0 1rem var(--dfn-indent)}.spec-semantic>.spec-nt::after,.spec-algo>.spec-call:first-child::after{content:":";font-style:normal;font-weight:bold;margin-left:1ex}.spec-semantic ol,.spec-semantic ol ol ol ol,.spec-algo ol,.spec-algo ol ol ol ol{list-style-type:decimal}.spec-semantic ol ol,.spec-semantic ol ol ol ol ol,.spec-algo ol ol,.spec-algo ol ol ol ol ol{list-style-type:lower-alpha}.spec-semantic ol ol ol,.spec-semantic ol ol ol ol ol ol,.spec-algo ol ol ol,.spec-algo ol ol ol ol ol ol{list-style-type:lower-roman}.spec-call>a{color:inherit}.spec-production{margin:1rem 0 1rem var(--dfn-indent)}.spec-production>.spec-nt::after{content:":";font-style:normal;font-weight:bold;margin:0 1ex}.spec-semantic.d2>.spec-nt::after,.spec-production.d2>.spec-nt::after{content:"::"}.spec-semantic.d3>.spec-nt::after,.spec-production.d3>.spec-nt::after{content:":::"}.spec-production>.spec-rhs{line-height:1.1;margin:.25em 0 .5em calc(2 * var(--indent));text-indent:calc(-1 * var(--indent))}.spec-semantic>.spec-rhs{display:inline-block;text-indent:calc(-1 * var(--indent));margin-left:calc(1ex + var(--indent))}.spec-rhs>*{text-indent:0}.spec-oneof{display:inline}.spec-oneof::before{content:"one of";font-style:normal;font-weight:bold}.spec-oneof-grid{max-width:calc(100vw - 2rem);overflow:auto;margin:-1ex -1rem;padding:1ex 1rem}.spec-oneof-grid>table{margin-left:var(--indent)}.spec-oneof .spec-rhs{border:none;margin:0;padding:0 0 0 1rem;vertical-align:baseline;white-space:pre}.spec-oneof .spec-rhs:first-child{padding:0}.spec-rhs .spec-constrained:not(:first-child),.spec-rhs .spec-quantified:not(:first-child),.spec-rhs .spec-nt:not(:first-child),.spec-rhs .spec-t:not(:first-child),.spec-rhs .spec-rx:not(:first-child),.spec-rhs .spec-prose:not(:first-child),.spec-rhs .spec-empty:not(:first-child),.spec-rhs .spec-lookahead:not(:first-child){margin-left:1ex;display:inline-block}.spec-condition{font-size:85%}.spec-condition::before{content:"[if "}.spec-condition.not::before{content:"[if not "}.spec-condition::after{content:"]"}.spec-empty,.spec-prose{color:var(--color-spec-prose)}.spec-nt{font-style:italic}.spec-nt>a{color:inherit}.spec-quantifiers,.spec-params{font-size:65%;font-style:normal;vertical-align:sub}.spec-quantifier.list{color:var(--color-spec-quantifier-list)}.spec-quantifier.optional{color:var(--color-spec-quantifier-optional)}.spec-params,.spec-condition{color:var(--color-spec-condition)}.spec-params::before{content:"["}.spec-params::after{content:"]"}.spec-quantifier:not(:last-child)::after,.spec-param:not(:last-child)::after{color:var(--color-spec-param);content:", "}.spec-param.conditional::before{content:"?"}.spec-param.negated::before{content:"!"}.spec-t,.spec-rx{color:var(--color-spec-rx);font-family:var(--font-family-monospace);font-weight:bold}.spec-butnot::before{color:var(--color-grey);content:"but not";font-family:var(--font-family);font-weight:normal;margin-right:1ex}.spec-butnot>*:not(:first-child)::before{color:var(--color-grey);content:"or";font-family:var(--font-family);font-weight:normal;margin-right:1ex}.spec-rhs .spec-oneof::before,.spec-rhs .spec-butnot::before{margin-left:1ex}.spec-lookahead>*{margin:0!important}.spec-lookahead>*:not(:first-child)::before{color:var(--color-grey);content:", ";font-family:var(--font-family);font-style:normal;font-weight:normal}.spec-lookahead::before{color:var(--color-grey);content:"[lookahead = ";font-family:var(--font-family);font-style:normal;font-weight:normal}.spec-lookahead.not::before{content:"[lookahead \2260  "}.spec-lookahead.set::before{content:"[lookahead \2208  {";margin-right:0}.spec-lookahead.set.not::before{content:"[lookahead \2209  {"}.spec-lookahead.ntset::before{content:"[lookahead \2208  ";margin-right:0}.spec-lookahead.ntset.not::before{content:"[lookahead \2209  "}.spec-lookahead::after{color:var(--color-grey);content:"]"}.spec-lookahead.set::after{content:"}]"}code[class*=language-],pre[class*=language-]{color:var(--color-prism-foreground);background:none;text-shadow:0 1px var(--color-prism-text-shadow);font-family:var(--font-family-monospace);font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:var(--color-prism-background)}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:var(--color-prism-background)}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:var(--color-prism-block-background)}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.atrule,.token.attr-value,.token.keyword,.token.property,.token.selector,.token.attr-name,.token.builtin,.token.entity,.token.url,.token.inserted{color:var(--color-token-inserted);background:none}.token.tag,.token.boolean,.token.number,.token.string,.token.char,.token.constant,.token.symbol,.token.regex,.token.important,.token.variable,.token.function,.token.class-name,.token.deleted{color:var(--color-token-deleted)}.token.comment,.token.prolog,.token.doctype,.token.cdata,.token.description{color:inherit;opacity:.3}.token.punctuation{color:inherit;opacity:.5}.token.operator,.token.namespace{color:inherit;opacity:.7}</style>
<script>(function(){var r,a=[];document.addEventListener("readystatechange",function(){document.readyState==="interactive"&&u()});function u(){var n=document.querySelector('label[for="spec-sidebar-toggle"]');n.addEventListener("scroll",o),n.addEventListener("touchmove",o);function o(d){d.preventDefault()}for(var t=document.getElementsByTagName("section"),e=0;e<t.length;e++)t[e].getAttribute("secid")&&a.push(t[e]);var i=window.scrollY,c=!1;window.addEventListener("scroll",function(d){i=window.scrollY,c||(c=!0,window.requestAnimationFrame(function(){s(i),c=!1}))})}function s(n){for(var o=n+document.documentElement.clientHeight/4,t,e=a.length-1;e>=0;e--)if(a[e].offsetTop<o){t=a[e];break}var i=t&&t.getAttribute("secid");i!==r&&(r&&l(r,!1),i&&l(i,!0),r=i)}function l(n,o){document.getElementById("_sidebar_"+n).className=o?"viewing":"";for(var t=n.split(".");t.length;){var e=document.getElementById("_toggle_"+t.join("."));e&&(e.checked=o),t.pop()}}s(window.scrollY);})();</script>
<script>(function(){var n=document.getElementsByTagName("style")[0].sheet,e;function u(){e&&(n.deleteRule(e),e=void 0)}function d(t){u(),e=n.insertRule('*[data-name="'+t+'"] { background: rgba(230,215,0,0.12); }',n.cssRules.length)}document.documentElement.addEventListener("mouseover",function(t){var a=t.target.attributes["data-name"];a&&d(a.value)});document.documentElement.addEventListener("mouseout",u);})();</script>
<script>(function(){var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",o,p,r,g;document.addEventListener("selectionchange",E);window.addEventListener("resize",C);window.addEventListener("hashchange",x);window.addEventListener("load",x);function S(n){y(new URL(n.target.href))}function x(){y(window.location)}function y(n){var e=n.hash.match(/^#sel-([A-Za-z0-9-_]+)$/);if(!!e){g=e[1],r=k(g);var t=r.getBoundingClientRect(),d=Math.max(20,Math.floor((window.innerHeight-t.height)*.4));window.scrollTo(0,window.scrollY+t.y-d);var c=document.getSelection();c.empty(),c.addRange(r),C()}}function E(n){var e=document.getSelection();if(e.isCollapsed)o&&(o.parentNode.removeChild(o),o=null);else{var t=e.getRangeAt(0);(!r||t.compareBoundaryPoints(Range.START_TO_START,r)!==0||t.compareBoundaryPoints(Range.END_TO_END,r)!==0)&&(r=t,g=B(r),C())}}function C(){if(!!r){p||(p=document.getElementsByTagName("article")[0]),o||(o=document.createElement("a"),document.body.appendChild(o)),o.href="#sel-"+g,o.onclick=S,o.className=r.isOutdated?"outdated-selection-link":"selection-link",o.innerText=r.isOutdated?"!":"\u201F";var n=window.innerWidth<720,e=r.getBoundingClientRect();if(n)o.style.left=Math.floor(e.x+e.width/2+window.scrollX-13)+"px",o.style.top=Math.floor(e.bottom+window.scrollY+10)+"px";else{var t=p.getBoundingClientRect().x;o.style.left=Math.floor(t+window.scrollX-37)+"px",o.style.top=Math.floor(e.y+window.scrollY-3)+"px"}}}function B(n){var e="",t=N(n.startContainer),d=N(n.endContainer),c=M(t,d);return l(c),l(t.slice(c.length).concat(n.startOffset)),l(d.slice(c.length).concat(n.endOffset)),i(L(n.toString())),e;function i(a){do e+=R[a&31|(a>31?32:0)],a>>=5;while(a>0)}function l(a){i(a.length);for(var h=0;h<a.length;h++)i(a[h])}}function k(n){for(var e=new Array(64),t=0;t<64;t++)e[R.charCodeAt(t)]=t;var d=0,c=m(),i=m(),l=m(),a=w(),h=i.pop(),P=O(c.concat(i)),T=l.pop(),A=O(c.concat(l)),u=document.createRange();return u.setStart(P,h),u.setEnd(A,T),u.isOutdated=a!==void 0&&a!==L(u.toString()),u;function w(){for(var s=0,v=0;d<n.length;){var f=e[n.charCodeAt(d++)];if(s|=(f&31)<<v,v+=5,f<32)return s}}function m(){var s=w();if(s!=null){for(var v=new Array(s),f=0;f<s;f++)v[f]=w();return v}}}function N(n){for(var e=[];n!=document.body;){var t=n.parentNode;e.push(Array.prototype.indexOf.call(t.childNodes,n)),n=t}return e.reverse()}function O(n){for(var e=document.body,t=0;t<n.length&&e;t++)e=e.childNodes[n[t]];return e}function M(n,e){for(var t=0;t<n.length&&t<e.length&&n[t]===e[t];)t++;return n.slice(0,t)}function L(n){for(var e=2166136261,t=0;t<n.length;++t)e^=n.charCodeAt(t),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return(e>>15^e)&32767}})();</script>
</head>
<body><article>
<header>
<h1>Graffiticode Core Language Specification</h1>
<section id="intro">
<pre><code>Version: 0.1.2
Date: 2026-01-26
</code></pre>
</section>
<nav class="spec-toc">
<div class="title">Contents</div>
<ol>
<li><a href="#sec-Introduction"><span class="spec-secid">1</span>Introduction</a></li>
<li><a href="#sec-Lexical-Structure"><span class="spec-secid">2</span>Lexical Structure</a><ol>
<li><a href="#sec-Tokens"><span class="spec-secid">2.1</span>Tokens</a></li>
<li><a href="#sec-Comments"><span class="spec-secid">2.2</span>Comments</a></li>
</ol>
</li>
<li><a href="#sec-Syntax"><span class="spec-secid">3</span>Syntax</a><ol>
<li><a href="#sec-Programs"><span class="spec-secid">3.1</span>Programs</a></li>
<li><a href="#sec-Expressions"><span class="spec-secid">3.2</span>Expressions</a><ol>
<li><a href="#sec-Function-Application"><span class="spec-secid">3.2.1</span>Function Application</a></li>
<li><a href="#sec-Lists"><span class="spec-secid">3.2.2</span>Lists</a></li>
<li><a href="#sec-Records"><span class="spec-secid">3.2.3</span>Records</a></li>
<li><a href="#sec-Tags"><span class="spec-secid">3.2.4</span>Tags</a></li>
<li><a href="#sec-Lambdas"><span class="spec-secid">3.2.5</span>Lambdas</a></li>
<li><a href="#sec-Let-Bindings"><span class="spec-secid">3.2.6</span>Let Bindings</a></li>
</ol>
</li>
<li><a href="#sec-Pattern-Matching"><span class="spec-secid">3.3</span>Pattern Matching</a></li>
</ol>
</li>
<li><a href="#sec-Type-System"><span class="spec-secid">4</span>Type System</a><ol>
<li><a href="#sec-Primitive-Types"><span class="spec-secid">4.1</span>Primitive Types</a></li>
<li><a href="#sec-Composite-Types"><span class="spec-secid">4.2</span>Composite Types</a></li>
<li><a href="#sec-Function-Types"><span class="spec-secid">4.3</span>Function Types</a></li>
<li><a href="#sec-Tag-Sets-and-Tag-Value-Type"><span class="spec-secid">4.4</span>Tag Sets and Tag Value Type</a><ol>
<li><a href="#sec-Tag-Identity-and-Type"><span class="spec-secid">4.4.1</span>Tag Identity and Type</a></li>
<li><a href="#sec-Tag-Sets-as-Structural-Types"><span class="spec-secid">4.4.2</span>Tag Sets as Structural Types</a></li>
<li><a href="#sec-Default-Type-tag-"><span class="spec-secid">4.4.3</span>Default Type: `tag`</a></li>
<li><a href="#sec-Example"><span class="spec-secid">4.4.4</span>Example</a></li>
</ol>
</li>
<li><a href="#sec-Example-Annotated-Definitions"><span class="spec-secid">4.5</span>Example: Annotated Definitions</a></li>
</ol>
</li>
<li><a href="#sec-Semantics"><span class="spec-secid">5</span>Semantics</a><ol>
<li><a href="#sec-Evaluation-Model"><span class="spec-secid">5.1</span>Evaluation Model</a></li>
<li><a href="#sec-Functions"><span class="spec-secid">5.2</span>Functions</a></li>
<li><a href="#sec-Scoping"><span class="spec-secid">5.3</span>Scoping</a></li>
<li><a href="#sec-Errors"><span class="spec-secid">5.4</span>Errors</a></li>
</ol>
</li>
<li><a href="#sec-Base-Library"><span class="spec-secid">6</span>Base Library</a><ol>
<li><a href="#sec-Types"><span class="spec-secid">6.1</span>Types</a></li>
<li><a href="#sec-Built-in-Functions"><span class="spec-secid">6.2</span>Built-in Functions</a><ol>
<li><a href="#sec-add"><span class="spec-secid">6.2.1</span>add</a></li>
<li><a href="#sec-and"><span class="spec-secid">6.2.2</span>and</a></li>
<li><a href="#sec-apply"><span class="spec-secid">6.2.3</span>apply</a></li>
<li><a href="#sec-div"><span class="spec-secid">6.2.4</span>div</a></li>
<li><a href="#sec-equiv"><span class="spec-secid">6.2.5</span>equiv</a></li>
<li><a href="#sec-filter"><span class="spec-secid">6.2.6</span>filter</a></li>
<li><a href="#sec-get"><span class="spec-secid">6.2.7</span>get</a></li>
<li><a href="#sec-hd"><span class="spec-secid">6.2.8</span>hd</a></li>
<li><a href="#sec-isEmpty"><span class="spec-secid">6.2.9</span>isEmpty</a></li>
<li><a href="#sec-log"><span class="spec-secid">6.2.10</span>log</a></li>
<li><a href="#sec-map"><span class="spec-secid">6.2.11</span>map</a></li>
<li><a href="#sec-max"><span class="spec-secid">6.2.12</span>max</a></li>
<li><a href="#sec-min"><span class="spec-secid">6.2.13</span>min</a></li>
<li><a href="#sec-mod"><span class="spec-secid">6.2.14</span>mod</a></li>
<li><a href="#sec-mul"><span class="spec-secid">6.2.15</span>mul</a></li>
<li><a href="#sec-not"><span class="spec-secid">6.2.16</span>not</a></li>
<li><a href="#sec-nth"><span class="spec-secid">6.2.17</span>nth</a></li>
<li><a href="#sec-or"><span class="spec-secid">6.2.18</span>or</a></li>
<li><a href="#sec-range"><span class="spec-secid">6.2.19</span>range</a></li>
<li><a href="#sec-reduce"><span class="spec-secid">6.2.20</span>reduce</a></li>
<li><a href="#sec-set"><span class="spec-secid">6.2.21</span>set</a></li>
<li><a href="#sec-sub"><span class="spec-secid">6.2.22</span>sub</a></li>
<li><a href="#sec-tl"><span class="spec-secid">6.2.23</span>tl</a></li>
</ol>
</li>
</ol>
</li>
<li><a href="#sec-Program-Examples"><span class="spec-secid">7</span>Program Examples</a></li>
<li><a href="#index"><span class="spec-secid">ยง</span>Index</a></li>
</ol>
</nav>
</header>
<section id="sec-Introduction" secid="1">
<h1><span class="spec-secid" title="link to this section"><a href="#sec-Introduction">1</a></span>Introduction</h1>
<p>This document defines the <strong>Graffiticode Core Language Specification</strong>, covering syntax, semantics, and the base library. It excludes dialect-specific constructs, runtime behavior, and extended libraries.</p>
</section>
<section id="sec-Lexical-Structure" secid="2">
<h1><span class="spec-secid" title="link to this section"><a href="#sec-Lexical-Structure">2</a></span>Lexical Structure</h1>
<section id="sec-Tokens" secid="2.1">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Tokens">2.1</a></span>Tokens</h2>
<ul>
<li><strong>Identifiers</strong>: Alphanumeric symbols beginning with a letter.</li>
<li><strong>Numbers</strong>: Integers and floats. Negative numbers start with <code>-</code>.</li>
<li><strong>Strings</strong>: Double-quoted UTF-8 strings.</li>
<li><strong>Symbols</strong>: <code>(</code>, <code>)</code>, <code>[</code>, <code>]</code>, <code>{</code>, <code>}</code>, <code>:</code>, <code>..</code>, <code>&lt;</code>, <code>&gt;</code>, <code>,</code></li>
</ul>
</section>
<section id="sec-Comments" secid="2.2">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Comments">2.2</a></span>Comments</h2>
<ul>
<li><strong>Line Comments</strong>: Begin with <code>|</code> and continue to end of line.</li>
</ul>
</section>
</section>
<section id="sec-Syntax" secid="3">
<h1><span class="spec-secid" title="link to this section"><a href="#sec-Syntax">3</a></span>Syntax</h1>
<section id="sec-Programs" secid="3.1">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Programs">3.1</a></span>Programs</h2>
<p>A <strong>Graffiticode program</strong> is a sequence of one or more <code>let</code> declarations, followed by a single top-level expression, and terminated with <code>..</code>.</p>
<pre><code>let double = &lt;x: mul 2 x&gt;..
map (double) [1 2 3]..
</code></pre>
<p>The top-level expression must always be followed by <code>..</code>.</p>
</section>
<section id="sec-Expressions" secid="3.2">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Expressions">3.2</a></span>Expressions</h2>
<section id="sec-Function-Application" secid="3.2.1">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-Function-Application">3.2.1</a></span>Function Application</h3>
<p>Function application is written in prefix style: <code>add 1 2</code></p>
<p>Functions have fixed arity, so applications can be parsed unambiguously without grouping syntax. For example, <code>add 1 mul 2 3</code> parses as <code>add(1, mul(2, 3))</code> because the parser knows <code>add</code> takes 2 arguments and <code>mul</code> takes 2 arguments.</p>
<p>Parentheses are used to defer application: <code>map (double) [1 2 3]</code></p>
</section>
<section id="sec-Lists" secid="3.2.2">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-Lists">3.2.2</a></span>Lists</h3>
<pre><code>[1 2 3]
</code></pre>
</section>
<section id="sec-Records" secid="3.2.3">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-Records">3.2.3</a></span>Records</h3>
<p>Records may use <strong>shorthand syntax</strong> for fields where the value is a reference to a variable of the same name.</p>
<pre data-language="gc"><code>let foo = 10..
{foo}         | equivalent to {foo: 10}
</code></pre>
<p>This provides a concise way to construct records using in-scope variable names as field keys and values.</p>
<p>You can also mix shorthand and explicit fields:</p>
<pre data-language="gc"><code>let x = 1..
let y = 2..
{x y z: 3}    | equivalent to {x: 1, y: 2, z: 3}
</code></pre>
<pre data-language="gc"><code>{ name: "Alice", age: 30 }
</code></pre>
</section>
<section id="sec-Tags" secid="3.2.4">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-Tags">3.2.4</a></span>Tags</h3>
<p>A <strong>tag value</strong> is an arity-0 symbolic value used to represent symbolic variants in pattern matching or other symbolic forms.</p>
<p>Tag values are <strong>only defined</strong> by using record shorthand syntax. For example:</p>
<pre data-language="gc"><code>{red blue green}   | defines the tag values red, blue, and green
</code></pre>
<p>Tag values:</p>
<ul>
<li>Must be introduced via record shorthand notation</li>
<li>Are resolved as symbolic constants with identity semantics</li>
<li>Match directly in <code>case</code> expressions:</li>
</ul>
<pre><code>let color = get "red" {red blue green}
case color of
  red: "warm"
  blue: "cool"
  _: "other"
end
</code></pre>
</section>
<section id="sec-Lambdas" secid="3.2.5">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-Lambdas">3.2.5</a></span>Lambdas</h3>
<pre><code>&lt;x: add x 1&gt;
</code></pre>
<p>Multiple parameters: <code>&lt;x y: add x y&gt;</code></p>
</section>
<section id="sec-Let-Bindings" secid="3.2.6">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-Let-Bindings">3.2.6</a></span>Let Bindings</h3>
<pre><code>let double = &lt;x: mul 2 x&gt;..
</code></pre>
</section>
</section>
<section id="sec-Pattern-Matching" secid="3.3">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Pattern-Matching">3.3</a></span>Pattern Matching</h2>
<p>Pattern matching is done using <code>case</code>:</p>
<pre><code>case x of
  0: "zero"
  1: "one"
  _: "other"
end
</code></pre>
<div class="spec-production" id="Supports">
<span class="spec-nt"><a href="#Supports" data-name="Supports">Supports</a></span><div class="spec-rhs"><span class="spec-nt"><span data-name="Literal">Literal</span></span><span class="spec-t">values</span></div>
<div class="spec-rhs"><span class="spec-nt"><span data-name="Tuple">Tuple</span></span><span class="spec-t">destructuring:</span><span class="spec-t">(a, b)</span></div>
<div class="spec-rhs"><span class="spec-nt"><span data-name="Record">Record</span></span><span class="spec-t">destructuring:</span><span class="spec-t">{ name, age }</span></div>
<div class="spec-rhs"><span class="spec-nt"><span data-name="Wildcard">Wildcard</span></span><span class="spec-t">_</span></div>
</div>
<p>Pattern matching on function arguments is disallowed.</p>
</section>
</section>
<section id="sec-Type-System" secid="4">
<h1><span class="spec-secid" title="link to this section"><a href="#sec-Type-System">4</a></span>Type System</h1>
<p>Graffiticode includes a implicit structural type system. Every expression has a statically inferred type, and type errors are detected at compile time. Explicit type annotations are not included in the grammar.</p>
<section id="sec-Primitive-Types" secid="4.1">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Primitive-Types">4.1</a></span>Primitive Types</h2>
<ul>
<li><code>number</code> &ndash; Represents integers or floating-point numbers.</li>
<li><code>string</code> &ndash; Represents UTF-8 strings.</li>
<li><code>bool</code> &ndash; Represents Boolean values: <code>true</code> and <code>false</code>.</li>
<li><code>json</code> &ndash; Represents any JSON-compatible value (opaque, untyped).</li>
<li><code>any</code> &ndash; Used internally to denote an unconstrained type (e.g., during inference).</li>
</ul>
</section>
<section id="sec-Composite-Types" secid="4.2">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Composite-Types">4.2</a></span>Composite Types</h2>
<ul>
<li><strong>Lists</strong> &ndash; Written as <code>[T]</code> where <code>T</code> is any type. <code>  [string]       | list of strings   [number]       | list of numbers   [[bool]]       | list of lists of booleans  </code></li>
<li><strong>Records</strong> &ndash; Key-value maps with known keys and types. <code>  { name: string, age: number }  </code></li>
<li><strong>Tuples</strong> &ndash; Ordered, fixed-length collections with heterogeneous types. <code>  (number, string, bool)  </code></li>
</ul>
</section>
<section id="sec-Function-Types" secid="4.3">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Function-Types">4.3</a></span>Function Types</h2>
<p>Functions are written using Graffiticode lambda signature syntax: <code>&lt;number number: number&gt;   | function taking two numbers and returning a number &lt;string: [string]&gt;        | function taking a string and returning a list of strings &lt;list record: record&gt;     | common signature for structural transformation</code></p>
<p>Function types are curried by default. That means: <code>&lt;number number: number&gt;</code> is equivalent to a function that returns another function: <code>&lt;number: &lt;number: number&gt;&gt;</code></p>
</section>
<section id="sec-Tag-Sets-and-Tag-Value-Type" secid="4.4">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Tag-Sets-and-Tag-Value-Type">4.4</a></span>Tag Sets and Tag Value Type</h2>
<p>Tag values are symbolic constants introduced using record shorthand syntax. They have a default type of <code>tag</code>, and their identity is preserved across bindings.</p>
<section id="sec-Tag-Identity-and-Type" secid="4.4.1">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-Tag-Identity-and-Type">4.4.1</a></span>Tag Identity and Type</h3>
<p>Tag values are symbolic constants identified <strong>solely by their name</strong>. The same tag name (e.g., <code>A</code>) refers to the same symbolic value, regardless of where it is defined.</p>
<p>Tag values compare equal by name. For example, <code>A</code> in <code>{A B}</code> and <code>A</code> in <code>{A C}</code> are equal.</p>
</section>
<section id="sec-Tag-Sets-as-Structural-Types" secid="4.4.2">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-Tag-Sets-as-Structural-Types">4.4.2</a></span>Tag Sets as Structural Types</h3>
<p>Although tag values are globally identified by name, the <strong>type system tracks which tags are expected to co-occur</strong>.</p>
<p>For example, <code>{A B}</code> and <code>{A C}</code> are different types:</p>
<pre><code>{A B}    | type: { A: tag, B: tag }
{A C}    | type: { A: tag, C: tag }
</code></pre>
<p>This allows the type system to constrain the expected context for pattern matching, record shapes, or enum-style uses of tags.</p>
<p>Using tags not part of the expected set results in a type error.</p>
</section>
<section id="sec-Default-Type-tag-" secid="4.4.3">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-Default-Type-tag-">4.4.3</a></span>Default Type: `tag`</h3>
<p>By default, a tag value has the type:</p>
<pre data-language="gc"><code>tag
</code></pre>
<p>When tags are introduced with:</p>
<pre><code>{A B C}
</code></pre>
<p>the resulting type is:</p>
<pre><code>{ A: tag, B: tag, C: tag }
</code></pre>
<p>This allows for composition and safe comparison.</p>
</section>
<section id="sec-Example" secid="4.4.4">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-Example">4.4.4</a></span>Example</h3>
<pre data-language="gc"><code>let colors = {red blue green}..
case red of
  red: "warm"
  blue: "cool"
  _: "other"
end
</code></pre>
<p>In this case, <code>red</code>, <code>blue</code>, and <code>green</code> are all of type <code>tag</code>, and <code>case</code> matches by identity.</p>
</section>
</section>
<section id="sec-Example-Annotated-Definitions" secid="4.5">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Example-Annotated-Definitions">4.5</a></span>Example: Annotated Definitions</h2>
<pre data-language="gc"><code>let inc = &lt;x: add x 1&gt;  | type: &lt;number: number&gt;
let greet = &lt;name: concat ["Hello, " name]&gt;  | type: &lt;string: string&gt;
let zip = &lt;xs ys: zipLists xs ys&gt;  | type: &lt;[T] [U]: [(T, U)]&gt;
</code></pre>
<p>(Note: actual Graffiticode does not use type annotations in <code>let</code> bindings; types are inferred.)</p>
</section>
</section>
<section id="sec-Semantics" secid="5">
<h1><span class="spec-secid" title="link to this section"><a href="#sec-Semantics">5</a></span>Semantics</h1>
<section id="sec-Evaluation-Model" secid="5.1">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Evaluation-Model">5.1</a></span>Evaluation Model</h2>
<ul>
<li><strong>Purely functional</strong>: no side effects</li>
<li><strong>Strict evaluation</strong>: arguments evaluated before function application</li>
<li><strong>Immutable data</strong>: all values are immutable</li>
</ul>
<p>Many built-in functions in Graffiticode follow a model-threading pattern. In this pattern, functions are defined to take one or more arguments followed by a model, which represents the current state of the program or view. The function uses the earlier arguments to compute an update to the model and returns a new model as its result.</p>
<p>This style enables a declarative and order-independent composition of functions. Since each function call returns a new model, multiple calls can be reordered without changing the final result, provided the functional dependencies are preserved.</p>
<p>This approach draws inspiration from <strong>Model-View-Update</strong> (MVU) architectures, in which the model represents the application state and functions describe pure, deterministic transformations of that state.</p>
</section>
<section id="sec-Functions" secid="5.2">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Functions">5.2</a></span>Functions</h2>
<ul>
<li><strong>Fixed arity</strong>: every function has a known number of parameters</li>
<li><strong>Curried by default</strong>: partial application supported</li>
</ul>
</section>
<section id="sec-Scoping" secid="5.3">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Scoping">5.3</a></span>Scoping</h2>
<ul>
<li><strong>Lexical scoping</strong></li>
<li><strong>Shadowing</strong> allowed within nested scopes</li>
</ul>
</section>
<section id="sec-Errors" secid="5.4">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Errors">5.4</a></span>Errors</h2>
<ul>
<li><strong>Syntax errors</strong>: raised during parsing</li>
<li><strong>Type errors</strong>: raised during compilation</li>
<li><strong>Runtime errors</strong>: e.g., out-of-bounds access</li>
</ul>
</section>
</section>
<section id="sec-Base-Library" secid="6">
<h1><span class="spec-secid" title="link to this section"><a href="#sec-Base-Library">6</a></span>Base Library</h1>
<section id="sec-Types" secid="6.1">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Types">6.1</a></span>Types</h2>
<ul>
<li><code>number</code></li>
<li><code>string</code></li>
<li><code>bool</code></li>
<li><code>list</code></li>
<li><code>record</code></li>
<li><code>tuple</code></li>
<li><code>json</code></li>
</ul>
</section>
<section id="sec-Built-in-Functions" secid="6.2">
<h2><span class="spec-secid" title="link to this section"><a href="#sec-Built-in-Functions">6.2</a></span>Built-in Functions</h2>
<table>
<thead>
<tr>
<th align="left">Function</th>
<th align="left">Signature</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>add</code></td>
<td align="left"><code>&lt;number number: number&gt;</code></td>
<td align="left">Adds two numbers</td>
</tr>
<tr>
<td align="left"><code>and</code></td>
<td align="left"><code>&lt;bool bool: bool&gt;</code></td>
<td align="left">Logical AND operation</td>
</tr>
<tr>
<td align="left"><code>apply</code></td>
<td align="left"><code>&lt;function list: any&gt;</code></td>
<td align="left">Applies a function to a list of arguments</td>
</tr>
<tr>
<td align="left"><code>div</code></td>
<td align="left"><code>&lt;number number: number&gt;</code></td>
<td align="left">Divides numbers</td>
</tr>
<tr>
<td align="left"><code>equiv</code></td>
<td align="left"><code>&lt;any any: bool&gt;</code></td>
<td align="left">Tests if two values are strictly equivalent</td>
</tr>
<tr>
<td align="left"><code>filter</code></td>
<td align="left"><code>&lt;function list: list&gt;</code></td>
<td align="left">Keeps items matching predicate</td>
</tr>
<tr>
<td align="left"><code>get</code></td>
<td align="left"><code>&lt;string record: any&gt;</code></td>
<td align="left">Retrieves a value from a record by key</td>
</tr>
<tr>
<td align="left"><code>hd</code></td>
<td align="left"><code>&lt;list: any&gt;</code></td>
<td align="left">First item of list</td>
</tr>
<tr>
<td align="left"><code>isEmpty</code></td>
<td align="left"><code>&lt;list: bool&gt;</code></td>
<td align="left">Returns true if the list is empty</td>
</tr>
<tr>
<td align="left"><code>log</code></td>
<td align="left"><code>&lt;any: any&gt;</code></td>
<td align="left">Logs the value to console and returns it (identity function)</td>
</tr>
<tr>
<td align="left"><code>map</code></td>
<td align="left"><code>&lt;function list: list&gt;</code></td>
<td align="left">Applies function to each item</td>
</tr>
<tr>
<td align="left"><code>max</code></td>
<td align="left"><code>&lt;number number: number&gt;</code></td>
<td align="left">Returns the larger of two numbers</td>
</tr>
<tr>
<td align="left"><code>min</code></td>
<td align="left"><code>&lt;number number: number&gt;</code></td>
<td align="left">Returns the smaller of two numbers</td>
</tr>
<tr>
<td align="left"><code>mod</code></td>
<td align="left"><code>&lt;number number: number&gt;</code></td>
<td align="left">Remainder of division</td>
</tr>
<tr>
<td align="left"><code>mul</code></td>
<td align="left"><code>&lt;number number: number&gt;</code></td>
<td align="left">Multiplies numbers</td>
</tr>
<tr>
<td align="left"><code>not</code></td>
<td align="left"><code>&lt;bool: bool&gt;</code></td>
<td align="left">Logical NOT operation, inverts a boolean value</td>
</tr>
<tr>
<td align="left"><code>nth</code></td>
<td align="left"><code>&lt;number list: any&gt;</code></td>
<td align="left">Nth element of list</td>
</tr>
<tr>
<td align="left"><code>or</code></td>
<td align="left"><code>&lt;bool bool: bool&gt;</code></td>
<td align="left">Logical OR operation</td>
</tr>
<tr>
<td align="left"><code>range</code></td>
<td align="left"><code>&lt;number number number: list&gt;</code></td>
<td align="left">Generates a range list</td>
</tr>
<tr>
<td align="left"><code>reduce</code></td>
<td align="left"><code>&lt;function any list: any&gt;</code></td>
<td align="left">Combines list using a reducer with initial value</td>
</tr>
<tr>
<td align="left"><code>set</code></td>
<td align="left"><code>&lt;string any record: record&gt;</code></td>
<td align="left">Returns a new record with a key set to a value</td>
</tr>
<tr>
<td align="left"><code>sub</code></td>
<td align="left"><code>&lt;number number: number&gt;</code></td>
<td align="left">Subtracts numbers</td>
</tr>
<tr>
<td align="left"><code>tl</code></td>
<td align="left"><code>&lt;list: list&gt;</code></td>
<td align="left">All items except first</td>
</tr>
</tbody>
</table>
<section id="sec-add" secid="6.2.1">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-add">6.2.1</a></span>add</h3>
<p>Add two numbers.</p>
<pre><code>add 2 3  | returns 5
</code></pre>
</section>
<section id="sec-and" secid="6.2.2">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-and">6.2.2</a></span>and</h3>
<p>Logical AND operation</p>
<pre><code>and false false  | returns false
and false true   | returns false
and true false   | returns false
and true true    | returns true
</code></pre>
</section>
<section id="sec-apply" secid="6.2.3">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-apply">6.2.3</a></span>apply</h3>
<p>Apply a function to an argument list</p>
<pre><code>apply add [1 2]  | returns 3
</code></pre>
</section>
<section id="sec-div" secid="6.2.4">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-div">6.2.4</a></span>div</h3>
<p>Divide the first number by the second</p>
<pre><code>div 10 2  | returns 5
</code></pre>
</section>
<section id="sec-equiv" secid="6.2.5">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-equiv">6.2.5</a></span>equiv</h3>
<p>Tests if two values are strictly equivalent</p>
<pre><code>equiv 1 1        | returns true
equiv "a" "a"    | returns true
equiv true true  | returns true
equiv 1 2        | returns false
equiv "a" "b"    | returns false
</code></pre>
</section>
<section id="sec-filter" secid="6.2.6">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-filter">6.2.6</a></span>filter</h3>
<p>Filter elements matching predicate</p>
<pre><code>filter (&lt;x: mod x 2&gt;) [1 2 3 4]  | returns [1 3]
</code></pre>
</section>
<section id="sec-get" secid="6.2.7">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-get">6.2.7</a></span>get</h3>
<p>Retrieve a record field</p>
<pre><code>get "b" {a: 1, b: 2}  | returns 2
</code></pre>
</section>
<section id="sec-hd" secid="6.2.8">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-hd">6.2.8</a></span>hd</h3>
<p>Return the first item</p>
<pre><code>hd [10 20 30]  | returns 10
</code></pre>
</section>
<section id="sec-isEmpty" secid="6.2.9">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-isEmpty">6.2.9</a></span>isEmpty</h3>
<p>Return true if list is empty, otherwise return false</p>
<pre><code>isEmpty []  | returns true
</code></pre>
</section>
<section id="sec-log" secid="6.2.10">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-log">6.2.10</a></span>log</h3>
<p>Log a value to the console and return the value unchanged</p>
<pre><code>log "Hello"  | prints "Hello" to console and returns "Hello"
log (add 1 2)  | prints 3 to console and returns 3
</code></pre>
</section>
<section id="sec-map" secid="6.2.11">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-map">6.2.11</a></span>map</h3>
<p>Apply a function to each element</p>
<pre><code>map (&lt;x: add x 1&gt;) [1 2 3]  | returns [2 3 4]
</code></pre>
</section>
<section id="sec-max" secid="6.2.12">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-max">6.2.12</a></span>max</h3>
<p>Return the larger of two numbers</p>
<pre><code>max 5 10  | returns 10
</code></pre>
</section>
<section id="sec-min" secid="6.2.13">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-min">6.2.13</a></span>min</h3>
<p>Return the smaller of two numbers</p>
<pre><code>min 5 10  | returns 5
</code></pre>
</section>
<section id="sec-mod" secid="6.2.14">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-mod">6.2.14</a></span>mod</h3>
<p>Compute the remainder</p>
<pre><code>mod 10 3  | returns 1
</code></pre>
</section>
<section id="sec-mul" secid="6.2.15">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-mul">6.2.15</a></span>mul</h3>
<p>Multiply two numbers</p>
<pre><code>mul 4 3  | returns 12
</code></pre>
</section>
<section id="sec-not" secid="6.2.16">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-not">6.2.16</a></span>not</h3>
<p>Logical NOT that inverts a boolean value</p>
<pre><code>not true   | returns false
not false  | returns true
</code></pre>
</section>
<section id="sec-nth" secid="6.2.17">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-nth">6.2.17</a></span>nth</h3>
<p>Get the nth item (0-based)</p>
<pre><code>nth 1 [10 20 30]  | returns 20
</code></pre>
</section>
<section id="sec-or" secid="6.2.18">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-or">6.2.18</a></span>or</h3>
<p>Logical OR operation</p>
<pre><code>or false false  | returns false
or false true   | returns true
or true false   | returns true
or true true    | returns true
</code></pre>
</section>
<section id="sec-range" secid="6.2.19">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-range">6.2.19</a></span>range</h3>
<p>Produce a range list from start to end (exclusive) with step</p>
<pre><code>range 1 10 2  | returns [1 3 5 7 9]
</code></pre>
</section>
<section id="sec-reduce" secid="6.2.20">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-reduce">6.2.20</a></span>reduce</h3>
<p>Reduce a list to a single value, starting with an initial value</p>
<pre><code>reduce (&lt;a b: add a b&gt;) 0 [1 2 3 4]  | returns 10
</code></pre>
</section>
<section id="sec-set" secid="6.2.21">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-set">6.2.21</a></span>set</h3>
<p>Return a new record with an updated field</p>
<pre><code>set "a" 2 {a: 1}  | returns {a: 2}
</code></pre>
</section>
<section id="sec-sub" secid="6.2.22">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-sub">6.2.22</a></span>sub</h3>
<p>Subtract the second number from the first</p>
<pre><code>sub 5 2  | returns 3
</code></pre>
</section>
<section id="sec-tl" secid="6.2.23">
<h3><span class="spec-secid" title="link to this section"><a href="#sec-tl">6.2.23</a></span>tl</h3>
<p>Return all but the first item</p>
<pre><code>tl [10 20 30]  | returns [20 30]
</code></pre>
</section>
</section>
</section>
<section id="sec-Program-Examples" secid="7">
<h1><span class="spec-secid" title="link to this section"><a href="#sec-Program-Examples">7</a></span>Program Examples</h1>
<pre><code>let double = &lt;x: mul 2 x&gt;..
map (double) [1 2 3]..
</code></pre>
<pre><code>case age of
  18: "adult"
  _: "other"
end..
</code></pre>
<p>---</p>
</section>
<section id="index" secid="index" class="spec-index">
<h1>
<span class="spec-secid" title="link to the index"><a href="#index">ยง</a></span>Index</h1>
<ol>
<li><a href="#Supports">Supports</a></li>
</ol>
</section>
</article>
<footer>
Written in <a href="https://spec-md.com" target="_blank">Spec Markdown</a>.</footer>
<input hidden class="spec-sidebar-toggle" type="checkbox" id="spec-sidebar-toggle" aria-hidden /><label for="spec-sidebar-toggle" aria-hidden><div class="spec-sidebar-button">&#x2630;</div></label>
<div class="spec-sidebar" aria-hidden>
<div class="spec-toc">
<div class="title"><a href="#">Graffiticode Core Language Specification</a></div>
<ol><li id="_sidebar_1"><a href="#sec-Introduction"><span class="spec-secid">1</span>Introduction</a></li>
<li id="_sidebar_2"><a href="#sec-Lexical-Structure"><span class="spec-secid">2</span>Lexical Structure</a>
<input hidden class="toggle" type="checkbox" id="_toggle_2" /><label for="_toggle_2"></label>
<ol>
<li id="_sidebar_2.1"><a href="#sec-Tokens"><span class="spec-secid">2.1</span>Tokens</a></li>
<li id="_sidebar_2.2"><a href="#sec-Comments"><span class="spec-secid">2.2</span>Comments</a></li>
</ol>
</li>
<li id="_sidebar_3"><a href="#sec-Syntax"><span class="spec-secid">3</span>Syntax</a>
<input hidden class="toggle" type="checkbox" id="_toggle_3" /><label for="_toggle_3"></label>
<ol>
<li id="_sidebar_3.1"><a href="#sec-Programs"><span class="spec-secid">3.1</span>Programs</a></li>
<li id="_sidebar_3.2"><a href="#sec-Expressions"><span class="spec-secid">3.2</span>Expressions</a>
<input hidden class="toggle" type="checkbox" id="_toggle_3.2" /><label for="_toggle_3.2"></label>
<ol>
<li id="_sidebar_3.2.1"><a href="#sec-Function-Application"><span class="spec-secid">3.2.1</span>Function Application</a></li>
<li id="_sidebar_3.2.2"><a href="#sec-Lists"><span class="spec-secid">3.2.2</span>Lists</a></li>
<li id="_sidebar_3.2.3"><a href="#sec-Records"><span class="spec-secid">3.2.3</span>Records</a></li>
<li id="_sidebar_3.2.4"><a href="#sec-Tags"><span class="spec-secid">3.2.4</span>Tags</a></li>
<li id="_sidebar_3.2.5"><a href="#sec-Lambdas"><span class="spec-secid">3.2.5</span>Lambdas</a></li>
<li id="_sidebar_3.2.6"><a href="#sec-Let-Bindings"><span class="spec-secid">3.2.6</span>Let Bindings</a></li>
</ol>
</li>
<li id="_sidebar_3.3"><a href="#sec-Pattern-Matching"><span class="spec-secid">3.3</span>Pattern Matching</a></li>
</ol>
</li>
<li id="_sidebar_4"><a href="#sec-Type-System"><span class="spec-secid">4</span>Type System</a>
<input hidden class="toggle" type="checkbox" id="_toggle_4" /><label for="_toggle_4"></label>
<ol>
<li id="_sidebar_4.1"><a href="#sec-Primitive-Types"><span class="spec-secid">4.1</span>Primitive Types</a></li>
<li id="_sidebar_4.2"><a href="#sec-Composite-Types"><span class="spec-secid">4.2</span>Composite Types</a></li>
<li id="_sidebar_4.3"><a href="#sec-Function-Types"><span class="spec-secid">4.3</span>Function Types</a></li>
<li id="_sidebar_4.4"><a href="#sec-Tag-Sets-and-Tag-Value-Type"><span class="spec-secid">4.4</span>Tag Sets and Tag Value Type</a>
<input hidden class="toggle" type="checkbox" id="_toggle_4.4" /><label for="_toggle_4.4"></label>
<ol>
<li id="_sidebar_4.4.1"><a href="#sec-Tag-Identity-and-Type"><span class="spec-secid">4.4.1</span>Tag Identity and Type</a></li>
<li id="_sidebar_4.4.2"><a href="#sec-Tag-Sets-as-Structural-Types"><span class="spec-secid">4.4.2</span>Tag Sets as Structural Types</a></li>
<li id="_sidebar_4.4.3"><a href="#sec-Default-Type-tag-"><span class="spec-secid">4.4.3</span>Default Type: `tag`</a></li>
<li id="_sidebar_4.4.4"><a href="#sec-Example"><span class="spec-secid">4.4.4</span>Example</a></li>
</ol>
</li>
<li id="_sidebar_4.5"><a href="#sec-Example-Annotated-Definitions"><span class="spec-secid">4.5</span>Example: Annotated Definitions</a></li>
</ol>
</li>
<li id="_sidebar_5"><a href="#sec-Semantics"><span class="spec-secid">5</span>Semantics</a>
<input hidden class="toggle" type="checkbox" id="_toggle_5" /><label for="_toggle_5"></label>
<ol>
<li id="_sidebar_5.1"><a href="#sec-Evaluation-Model"><span class="spec-secid">5.1</span>Evaluation Model</a></li>
<li id="_sidebar_5.2"><a href="#sec-Functions"><span class="spec-secid">5.2</span>Functions</a></li>
<li id="_sidebar_5.3"><a href="#sec-Scoping"><span class="spec-secid">5.3</span>Scoping</a></li>
<li id="_sidebar_5.4"><a href="#sec-Errors"><span class="spec-secid">5.4</span>Errors</a></li>
</ol>
</li>
<li id="_sidebar_6"><a href="#sec-Base-Library"><span class="spec-secid">6</span>Base Library</a>
<input hidden class="toggle" type="checkbox" id="_toggle_6" /><label for="_toggle_6"></label>
<ol>
<li id="_sidebar_6.1"><a href="#sec-Types"><span class="spec-secid">6.1</span>Types</a></li>
<li id="_sidebar_6.2"><a href="#sec-Built-in-Functions"><span class="spec-secid">6.2</span>Built-in Functions</a>
<input hidden class="toggle" type="checkbox" id="_toggle_6.2" /><label for="_toggle_6.2"></label>
<ol>
<li id="_sidebar_6.2.1"><a href="#sec-add"><span class="spec-secid">6.2.1</span>add</a></li>
<li id="_sidebar_6.2.2"><a href="#sec-and"><span class="spec-secid">6.2.2</span>and</a></li>
<li id="_sidebar_6.2.3"><a href="#sec-apply"><span class="spec-secid">6.2.3</span>apply</a></li>
<li id="_sidebar_6.2.4"><a href="#sec-div"><span class="spec-secid">6.2.4</span>div</a></li>
<li id="_sidebar_6.2.5"><a href="#sec-equiv"><span class="spec-secid">6.2.5</span>equiv</a></li>
<li id="_sidebar_6.2.6"><a href="#sec-filter"><span class="spec-secid">6.2.6</span>filter</a></li>
<li id="_sidebar_6.2.7"><a href="#sec-get"><span class="spec-secid">6.2.7</span>get</a></li>
<li id="_sidebar_6.2.8"><a href="#sec-hd"><span class="spec-secid">6.2.8</span>hd</a></li>
<li id="_sidebar_6.2.9"><a href="#sec-isEmpty"><span class="spec-secid">6.2.9</span>isEmpty</a></li>
<li id="_sidebar_6.2.10"><a href="#sec-log"><span class="spec-secid">6.2.10</span>log</a></li>
<li id="_sidebar_6.2.11"><a href="#sec-map"><span class="spec-secid">6.2.11</span>map</a></li>
<li id="_sidebar_6.2.12"><a href="#sec-max"><span class="spec-secid">6.2.12</span>max</a></li>
<li id="_sidebar_6.2.13"><a href="#sec-min"><span class="spec-secid">6.2.13</span>min</a></li>
<li id="_sidebar_6.2.14"><a href="#sec-mod"><span class="spec-secid">6.2.14</span>mod</a></li>
<li id="_sidebar_6.2.15"><a href="#sec-mul"><span class="spec-secid">6.2.15</span>mul</a></li>
<li id="_sidebar_6.2.16"><a href="#sec-not"><span class="spec-secid">6.2.16</span>not</a></li>
<li id="_sidebar_6.2.17"><a href="#sec-nth"><span class="spec-secid">6.2.17</span>nth</a></li>
<li id="_sidebar_6.2.18"><a href="#sec-or"><span class="spec-secid">6.2.18</span>or</a></li>
<li id="_sidebar_6.2.19"><a href="#sec-range"><span class="spec-secid">6.2.19</span>range</a></li>
<li id="_sidebar_6.2.20"><a href="#sec-reduce"><span class="spec-secid">6.2.20</span>reduce</a></li>
<li id="_sidebar_6.2.21"><a href="#sec-set"><span class="spec-secid">6.2.21</span>set</a></li>
<li id="_sidebar_6.2.22"><a href="#sec-sub"><span class="spec-secid">6.2.22</span>sub</a></li>
<li id="_sidebar_6.2.23"><a href="#sec-tl"><span class="spec-secid">6.2.23</span>tl</a></li>
</ol>
</li>
</ol>
</li>
<li id="_sidebar_7"><a href="#sec-Program-Examples"><span class="spec-secid">7</span>Program Examples</a></li>
<li id="_sidebar_index"><a href="#index"><span class="spec-secid">ยง</span>Index</a></li>
</ol>
</div>
</div>
</body>
</html>
